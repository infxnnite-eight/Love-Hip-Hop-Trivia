"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_jump-to_ts"],{65674:(e,t,n)=>{let o;n.r(t),n.d(t,{clearSuggestionsCache:()=>G,getSuggestions:()=>B});var a=n(3626);function r(e){let t=new FormData;for(let n of Object.keys((0,a.jW)()).slice(0,e))t.append("variables[pageViews][]",n);return t}function i(e){if("errors"in e.data)return[];let t=1,n=[];for(let o of e.data.suggestions.nodes)null!=o&&(o.rank=t++,o.pageKey=l(o),"Team"===o.type&&(o.name=`@${o.name}`),n.push(o));return n}function s(e,t){let n=new URL(e,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.set("q",t);let a=new URLSearchParams(window.location.search).get("type");return a&&o.set("type",a),n.search=o.toString(),n.toString()}function c(e,t){let n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));return o.get("q")&&o.set("q",e),n.search=o.toString(),n.toString()}function l(e){let t;let[n,o]=e.name.split("/")||[];switch(e.type){case"Project":t=(0,a.vt)(e.owner.name,`${e.number}`);break;case"Repository":t=(0,a.WF)(n,o);break;case"Team":t=(0,a.DV)(n,o);break;default:throw Error(`Invalid Suggestion type: ${e.type}`)}return t}var u=n(87738),f=n(95253);let d={};function g(e){let t=e.getAttribute("data-target-type");if("Search"===t){let t=document.querySelector(".js-site-search-form"),n=t.getAttribute("data-scope-type"),o=e.getAttribute("data-item-type");n&&p({scope_id:parseInt(t.getAttribute("data-scope-id")||"").toString(),scope_type:n,target_scope:o||""}),m("search")}else("Project"===t||"Repository"===t||"Team"===t)&&(p({target_id:parseInt(e.getAttribute("data-target-id")||"").toString(),target_type:t,target_scope:"",client_rank:parseInt(e.getAttribute("data-client-rank")||"").toString(),server_rank:parseInt(e.getAttribute("data-server-rank")||"").toString()}),m("click"))}function m(e){let t=parseInt(document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content||"");if(!t)return!1;let n=d.session_id;return("menu-activation"!==e||!n)&&("menu-activation"===e||!!n)&&("menu-activation"===e&&p({session_id:n=v()}),!!n&&((0,f.q)(`jump-to-${e}`,d),("menu-deactivation"===e||"click"===e||"search"===e)&&j(),!0))}function p(e){Object.assign(d,e)}function j(){d={}}function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function h(e){e.classList.add("js-navigation-enable"),e.classList.add("jump-to-field-active"),e.parentElement?.classList.add("search-wrapper-suggestions-active")}function y(e){e.classList.remove("js-navigation-enable"),e.classList.remove("jump-to-field-active"),e.parentElement?.classList.remove("search-wrapper-suggestions-active")}function w(e){document.querySelector(".js-jump-to-suggestions-container")?.classList.remove("d-none"),e.classList.add("jump-to-dropdown-visible"),document.querySelector(".js-jump-to-field")?.setAttribute("aria-expanded","true")}function b(){document.querySelector(".js-jump-to-suggestions-container")?.classList.add("d-none");let e=document.querySelector(".js-jump-to-field");e?.classList.remove("jump-to-dropdown-visible"),e?.setAttribute("aria-expanded","false"),m("menu-deactivation")}function L(e){let t=e.form,n=document.querySelector(".js-jump-to-suggestions-results-container"),o=e.value.trim(),a=!!(e.form&&e.form.getAttribute("data-scope-type")),r="Repository"===(e.form&&e.form.getAttribute("data-scope-type")),i=n?.querySelector(".js-jump-to-scoped-search"),c=n?.querySelector(".js-jump-to-owner-scoped-search"),l=n?.querySelector(".js-jump-to-global-search");if(i?.classList.toggle("d-none",!o||!a),c&&c.classList.toggle("d-none",!o||!r),l?.classList.toggle("d-none",!o),o&&a){let e=t?.getAttribute("action"),a=T(i||new HTMLElement,o,s(e||"",o),!0,!1);n?.replaceChild(a,i||new HTMLElement)}if(c&&o&&a){let e=t?.getAttribute("data-owner-scoped-search-url"),a=T(c,o,s(e||"",o),!0,!0);n?.replaceChild(a,c)}if(o){let e=t?.getAttribute("data-unscoped-search-url"),a=T(l||new HTMLElement,o,s(e||"",o),!1,!1);n?.replaceChild(a,l||new HTMLElement)}}function S(e,t,n){let o=e.form;if(!o)return;let a=C(".js-jump-to-suggestions-template-container"),r=document.createDocumentFragment();if(n.length<1&&!t)q();else{for(let[e,o]of n.entries())r.appendChild(A(a,o,t,e));k(r)}}function E(){return Boolean(document.head?.querySelector('meta[name="user-login"]')?.content)}function q(){if(!E())return;let e=C(".js-jump-to-no-results-template-container"),t=e.cloneNode(!0);t instanceof HTMLElement&&t.classList.remove("d-none"),k(t)}function k(e){let t=document.querySelector(".js-jump-to-suggestions-results-container");if(t){for(let e of t.querySelectorAll(".js-jump-to-suggestion"))e.parentNode?.removeChild(e);t.appendChild(e)}}function x(e,t){let n=e.querySelector(".js-jump-to-octicon"),o=n?.querySelector(t);n?.classList.remove("d-none"),o?.classList.remove("d-none")}function T(e,t,n,o,a){let r=e.cloneNode(!0);o?r.id=`jump-to-suggestion-search-${a?"scoped-owner":"scoped"}`:r.id="jump-to-suggestion-search-global";let i=r.querySelector(".js-jump-to-suggestion-path");i&&(i.href=n,i.setAttribute("data-target-type","Search"));let s=r.querySelector(".js-jump-to-suggestion-name");s&&(s.textContent=t,s.setAttribute("aria-label",t)),x(r,".js-jump-to-octicon-search");let c=r.querySelector(".js-jump-to-badge-search");return c&&(c.classList.remove("d-none"),o?c.querySelector(".js-jump-to-badge-search-text-default")?.classList.remove("d-none"):c.querySelector(".js-jump-to-badge-search-text-global")?.classList.remove("d-none")),r}function A(e,t,n,o){let a=e.cloneNode(!0);a.id=`jump-to-suggestion-${t.type.toLowerCase()}-${t.databaseId}`;let r=a.querySelector(".js-jump-to-suggestion-path");r&&(r.href=t.path,r.setAttribute("data-target-type",t.type),r.setAttribute("data-target-id",`${t.databaseId}`),r.setAttribute("data-client-rank",`${o}`),r.setAttribute("data-server-rank",`${t.rank}`));let i=a.querySelector(".js-jump-to-suggestion-name");switch(i&&(i.textContent=t.name,i.setAttribute("aria-label",t.name)),(0,u.Qw)(i||new Element,n.replace(/\s/g,"")),t.type){case"Team":{let e=a.querySelector(".js-jump-to-suggestion-avatar");e&&(e.alt=t.name,e.src=t.avatarUrl?t.avatarUrl:"",e.classList.remove("d-none"));break}case"Project":x(a,".js-jump-to-octicon-project");break;case"Repository":x(a,".js-jump-to-octicon-repo")}let s=a.querySelector(".js-jump-to-badge-jump");return s?.classList.remove("d-none"),a}function C(e){let t=document.querySelector(".js-jump-to-suggestions-container");return t?.querySelector(e)?.firstElementChild}var _=n(41982);function M(e,t,n){let o=t.replace(/\s/g,"").toLowerCase(),a=e.filter(e=>e.path!==n);if(!o)return a;let r=e=>{let t=e.name,n=(0,u.EW)(t,o);return n>0?{score:n,text:t}:null};return(0,_.W)(a,r,u.qu)}function R(){return!!document.querySelector(".js-jump-to-field")}function H(e,t){let n=e.value.trim(),o=D(M(t,n,window.location.pathname),(0,a.jW)()),r=o.slice(0,7);p({result_count:o.length.toString(),display_count:r.length.toString(),filter_count:(t.length-o.length).toString(),query:n,display_set:JSON.stringify(r.map(e=>[e.type,e.databaseId]))}),S(e,n,r),m("menu-activation")||m("query")}function D(e,t){let n=(0,a.$t)(t);return e.sort((e,t)=>n(t.pageKey)-n(e.pageKey))}var V=n(4738),K=n(46263);function U(e,t){let n=e.nextElementSibling;return n instanceof HTMLElement?n.classList.contains(t)?n:U(n,t):null}var I=n(36071),O=n(59753),P=n(254),$=n(58700),Z=n(15205),N=n(15754);(0,I.N7)(".js-jump-to-field",{constructor:HTMLInputElement,add(e){e.addEventListener("input",(0,K.D)(async function(){L(e),z(e),H(e,await o)},100)),document.activeElement&&document.activeElement===e&&J(e)}});let X=new Map;function G(){X.clear()}async function W(e,t){let n=r(10);n.set("_method","GET");let o=[],a=new URL(e,window.location.origin);location.search.match(/_tracing=true/)&&a.searchParams.set("graphql_query_trace","true");let s=await fetch(a.href,{method:"POST",mode:"same-origin",body:n,headers:{Accept:"application/json","Scoped-CSRF-Token":t,"X-Requested-With":"XMLHttpRequest"}});if(s.ok){let e=await s.json();(0,N.d5)(e),o=i(e)}let c=document.querySelector(".js-search-commands");if(c instanceof HTMLInputElement){let e=c.value,t=[];try{t=JSON.parse(e).commands}catch(e){}o=o.concat(t)}return o}let F=0,Q=(0,Z.Z)(W,{cache:X});async function B(e){let t=e.getAttribute("data-jump-to-suggestions-path");if(!t)throw Error("could not get jump to suggestions path");let n=U(e,"js-data-jump-to-suggestions-path-csrf");return n?(Date.now()-F>5e3&&G(),F=Date.now(),Q(t,n.value)):[]}async function J(e){h(e),w(e),o||(o=B(e)),L(e),z(e),H(e,await o)}(0,P.ZG)(".js-jump-to-field",J),(0,O.on)("navigation:keydown",".js-site-search-form",function(e){let t=e.currentTarget.querySelector(".js-navigation-item.navigation-focus");switch(e.detail.hotkey){case"Enter":if(t)g(t.querySelector(".js-jump-to-suggestion-path"));else{let t=e.currentTarget;(0,$.Bt)(t)}break;case"Escape":e.currentTarget.querySelector(".js-jump-to-field").blur(),b()}}),(0,O.on)("navigation:focus",".js-site-search-form",function(e){let t=document.querySelector(".js-jump-to-field"),n=e.target.id,o=e.target.closest(".js-jump-to-suggestions-results-container");for(let t of o.querySelectorAll(".js-navigation-item"))t.setAttribute("aria-selected",(e.target===t).toString());t.setAttribute("aria-activedescendant",n)});let Y=null;function z(e){let t=e.value.trim(),n=document.querySelector(".js-jump-to-suggestions-results-container");t?(0,V.T_)(n):(0,V.QZ)(n)}(0,O.on)("focusout",".js-jump-to",function(){let e=document.querySelector(".js-jump-to-field");Y=window.setTimeout(()=>{y(e),b()},200)}),(0,O.on)("focusin",".js-jump-to",function(){Y&&window.clearTimeout(Y);let e=document.querySelector(".js-jump-to-field");w(e)}),(0,O.on)("click",".js-jump-to-suggestion-path",function(e){let t=e.currentTarget;if("Search"===t.getAttribute("data-target-type")){let e=document.querySelector(".js-jump-to-field");t.href=c(e.value.trim(),t.href)}g(t)}),(0,O.on)("submit",".js-site-search-form",function(e){if(!R())return;let t=e.target;t.getAttribute("data-scoped-search-url")&&p({}),m("search")})},4738:(e,t,n)=>{n.d(t,{QZ:()=>b,ZH:()=>x,jK:()=>L,T_:()=>k,Sw:()=>q,VF:()=>E,VH:()=>T});var o=n(56959),a=n(59753),r=n(98105),i=n(67044),s=n(76134),c=n(36071);function l(e,t){let n=e,o=e.ownerDocument;(n===o||n===o.defaultView||n===o.documentElement||n===o.body)&&(n=o);let a=o.defaultView.Document;if(n instanceof a){let e=null!=t.top?t.top:o.defaultView.pageYOffset,n=null!=t.left?t.left:o.defaultView.pageXOffset;o.defaultView.scrollTo(n,e);return}let r=o.defaultView.HTMLElement;if(!(n instanceof r))throw Error("invariant");n.scrollTop=t.top,null!=t.left&&(n.scrollLeft=t.left)}var u=n(97629);let f=navigator.userAgent.match(/Macintosh/),d=f?"metaKey":"ctrlKey",g=f?"Meta":"Control",m=!1,p={x:0,y:0};function j(e){e instanceof MouseEvent&&((p.x!==e.clientX||p.y!==e.clientY)&&(m=!1),p={x:e.clientX,y:e.clientY})}function v(e){if(m)return;let t=e.currentTarget,{target:n}=e;if(!(n instanceof Element)||!(t instanceof HTMLElement)||!t.closest(".js-active-navigation-container"))return;let o=n.closest(".js-navigation-item");o&&H(o,t)}(0,c.N7)(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>(0,o.qC)((0,o.RB)(e,"mouseover",j),(0,o.RB)(e,"mouseover",v))});let h=0;function y(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;m=!0;let t=D(),n=!1;if(t){let o=t.querySelector(".js-navigation-item.navigation-focus")||t;n=(0,a.f)(o,"navigation:keydown",{hotkey:(0,i.EL)(e),originalEvent:e,originalTarget:e.target})}n||e.preventDefault()}function w(e){let t=e.modifierKey||e.altKey||e.ctrlKey||e.metaKey,n=(0,a.f)(e.currentTarget,"navigation:open",{modifierKey:t,shiftKey:e.shiftKey});n||e.preventDefault()}function b(e){let t=D();e!==t&&(null!==t&&L(t),e?.classList.add("js-active-navigation-container"))}function L(e){e.classList.remove("js-active-navigation-container")}(0,c.N7)(".js-active-navigation-container",{add(){1==++h&&document.addEventListener("keydown",y)},remove(){0==--h&&document.removeEventListener("keydown",y)}}),(0,a.on)("navigation:keydown",".js-active-navigation-container",function(e){let t=e.currentTarget,n=e.detail.originalTarget.matches("input, textarea"),o=e.target;if((0,s.Zf)(e.detail.originalEvent)){if(o.classList.contains("js-navigation-item")){if(n){if(f)switch((0,i.EL)(e.detail.originalEvent)){case"Control+n":C(o,t);break;case"Control+p":A(o,t)}switch((0,i.EL)(e.detail.originalEvent)){case"ArrowUp":A(o,t);break;case"ArrowDown":C(o,t);break;case"Enter":case`${g}+Enter`:R(o,e.detail.originalEvent[d])}}else{if(f)switch((0,i.EL)(e.detail.originalEvent)){case"Control+n":C(o,t);break;case"Control+p":A(o,t);break;case"Alt+v":_(o,t);break;case"Control+v":M(o,t)}switch((0,i.EL)(e.detail.originalEvent)){case"j":case"J":C(o,t);break;case"k":case"K":A(o,t);break;case"o":case"Enter":case`${g}+Enter`:R(o,e.detail[d])}}}else{let o=V(t)[0];if(o){if(n)f&&"Control+n"===(0,i.EL)(e.detail.originalEvent)&&H(o,t),"ArrowDown"===(0,i.EL)(e.detail.originalEvent)&&H(o,t);else{if(f)switch((0,i.EL)(e.detail.originalEvent)){case"Control+n":case"Control+v":H(o,t)}"j"===(0,i.EL)(e.detail.originalEvent)&&H(o,t)}}}if(n){if(f)switch((0,i.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch((0,i.EL)(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":case"Enter":e.preventDefault()}}else{if(f)switch((0,i.EL)(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch((0,i.EL)(e.detail.originalEvent)){case"j":case"k":case"o":case"Enter":case`${d}+Enter`:e.preventDefault()}}}}),(0,a.on)("click",".js-active-navigation-container .js-navigation-item",function(e){w(e)}),(0,a.on)("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(e){let t=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");if(t instanceof HTMLAnchorElement){if(e.detail.modifierKey)window.open(t.href,"_blank"),window.focus();else{let e=t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}));e&&t.click()}e.preventDefault()}else w(e)});let S=[];function E(e){let t=D();t&&S.push(t),b(e)}function q(e){L(e),x(e);let t=S.pop();t&&b(t)}function k(e,t){let n=V(e)[0],o=(t||e).closest(".js-navigation-item")||n;if(b(e),o instanceof HTMLElement){let t=H(o,e);if(t)return;let n=(0,r.VZ)(o);I(n,o)}}function x(e){let t=e.querySelectorAll(".js-navigation-item.navigation-focus");for(let e of t)e.classList.remove("navigation-focus")}function T(e,t){x(e),k(e,t)}function A(e,t){let n=V(t),o=n.indexOf(e),a=n[o-1];if(a){let e=H(a,t);if(e)return;let n=(0,r.VZ)(a);"page"===K(t)?U(n,a):I(n,a)}}function C(e,t){let n=V(t),o=n.indexOf(e),a=n[o+1];if(a){let e=H(a,t);if(e)return;let n=(0,r.VZ)(a);"page"===K(t)?U(n,a):I(n,a)}}function _(e,t){let n,o;let a=V(t),i=a.indexOf(e),s=(0,r.VZ)(e);if(null!=s){for(;(n=a[i-1])&&(o=(0,r._C)(n,s))&&o.top>=0;)i--;if(n){let e=H(n,t);if(e)return;U(s,n)}}}function M(e,t){let n,o;let a=V(t),i=a.indexOf(e),s=(0,r.VZ)(e);if(null!=s){for(;(n=a[i+1])&&(o=(0,r._C)(n,s))&&o.bottom>=0;)i++;if(n){let e=H(n,t);if(e)return;U(s,n)}}}function R(e,t=!1){(0,a.f)(e,"navigation:keyopen",{modifierKey:t})}function H(e,t){return!(0,a.f)(e,"navigation:focus")||(x(t),e.classList.add("navigation-focus"),!1)}function D(){return document.querySelector(".js-active-navigation-container")}function V(e){let t=[];for(let n of e.querySelectorAll(".js-navigation-item"))n instanceof HTMLElement&&(0,u.Z)(n)&&t.push(n);return t}function K(e){return e.getAttribute("data-navigation-scroll")||"item"}function U(e,t,n="smooth"){let o=(0,r._C)(t,e);o&&(o.bottom<=0?t.scrollIntoView({behavior:n,block:"start"}):o.top<=0&&t.scrollIntoView({behavior:n,block:"end"}))}function I(e,t){let n=(0,r.oE)(t,e),o=(0,r._C)(t,e);if(null!=n&&null!=o){if(o.bottom<=0&&document.body){let t=null!=e.offsetParent?e.scrollHeight:document.body.scrollHeight,a=t-(n.bottom+o.height);l(e,{top:a})}else o.top<=0&&l(e,{top:n.top})}}},15754:(e,t,n)=>{n.d(t,{O1:()=>u,ZU:()=>r,d5:()=>s,eN:()=>a,lm:()=>d,th:()=>g});var o=n(86283);let a="GraphQLTraces",r="GraphQLTracingRefresh",i=f();function s(e){if(!o.iG||!c()||!e)return;let t=o.iG;t[a]||(t[a]=[]),e.trace&&(t[a].push(e.trace),"function"==typeof t[r]&&t[r]())}function c(){let e=o.iG;return"true"===new URLSearchParams(o.jX.search).get("_tracing")||void 0!==e[a]}function l(){return i.length>0}function u(e){if(!c()&&!l())return e;let t=new URL(e,o.jX.origin);return c()&&t.searchParams.set("_tracing","true"),l()&&t.searchParams.set("disable_clusters",i.join(",")),t.pathname+t.search}function f(){return decodeURIComponent(new URLSearchParams(o.jX.search).get("disable_clusters")||"").split(",").filter(e=>""!==e)}function d(e){return i.indexOf(e)>-1}function g(e){let t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e);let n=new URLSearchParams(o.jX.search);n.set("disable_clusters",i.join(","));let a=o.jX;a.search=n.toString()}}}]);
//# sourceMappingURL=app_assets_modules_github_jump-to_ts-682b967434fc.js.map