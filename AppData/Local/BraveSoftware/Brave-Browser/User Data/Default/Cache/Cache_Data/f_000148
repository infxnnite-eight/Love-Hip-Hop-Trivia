(globalThis["webpackChunkcanvas_lms"]=globalThis["webpackChunkcanvas_lms"]||[]).push([[47575],{47575:function(e,t){(function(){"use strict"
var t=function(e){if(null===e)return"null"
if(void 0===e)return"undefined"
var t=typeof e
if("object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name))return"array"
if("object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name))return"string"
return t}
var r=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}
var n=function(e,t){var r=Array.prototype.slice.call(e)
return r.sort(t)}
var a=function(e,t){return o((function(r,n){return e.eq(t(r),t(n))}))}
var o=function(e){return{eq:e}}
var i=o((function(e,t){return e===t}))
var u=i
var f=function(e){return o((function(t,r){if(t.length!==r.length)return false
var n=t.length
for(var a=0;a<n;a++)if(!e.eq(t[a],r[a]))return false
return true}))}
var c=function(e,t){return a(f(e),(function(e){return n(e,t)}))}
var s=function(e){return o((function(t,r){var n=Object.keys(t)
var a=Object.keys(r)
if(!c(u).eq(n,a))return false
var o=n.length
for(var i=0;i<o;i++){var f=n[i]
if(!e.eq(t[f],r[f]))return false}return true}))}
var l=o((function(e,n){if(e===n)return true
var a=t(e)
var o=t(n)
if(a!==o)return false
if(r(a))return e===n
if("array"===a)return f(l).eq(e,n)
if("object"===a)return s(l).eq(e,n)
return false}))
var v=function(e){var t=typeof e
return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}
var d=function(e){return function(t){return v(t)===e}}
var m=function(e){return function(t){return typeof t===e}}
var g=function(e){return function(t){return e===t}}
var p=d("string")
var h=d("object")
var y=d("array")
var b=g(null)
var C=m("boolean")
var w=g(void 0)
var x=function(e){return null===e||void 0===e}
var S=function(e){return!x(e)}
var k=m("function")
var N=m("number")
var E=function(){}
var _=function(e,t){return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
return e(t.apply(null,r))}}
var A=function(e,t){return function(r){return e(t(r))}}
var R=function(e){return function(){return e}}
var T=function(e){return e}
function D(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
var a=t.concat(r)
return e.apply(null,a)}}var O=function(e){return function(t){return!e(t)}}
var B=function(e){return function(){throw new Error(e)}}
var P=function(e){return e()}
var L=function(e){e()}
var I=R(false)
var M=R(true)
var F=function(){return U}
var U=function(){var e=function(e){return e.isNone()}
var t=function(e){return e()}
var r=function(e){return e}
var n={fold:function(e,t){return e()},is:I,isSome:I,isNone:M,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:r,orThunk:t,map:F,each:E,bind:F,exists:I,forall:M,filter:F,equals:e,equals_:e,toArray:function(){return[]},toString:R("none()")}
return n}()
var z=function(e){var t=R(e)
var r=function(){return a}
var n=function(t){return t(e)}
var a={fold:function(t,r){return r(e)},is:function(t){return e===t},isSome:M,isNone:I,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return z(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?a:U},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(I,(function(t){return r(e,t)}))}}
return a}
var j=function(e){return null===e||void 0===e?U:z(e)}
var H={some:z,none:F,from:j}
var V=Array.prototype.slice
var q=Array.prototype.indexOf
var $=Array.prototype.push
var W=function(e,t){return q.call(e,t)}
var K=function(e,t){var r=W(e,t)
return-1===r?H.none():H.some(r)}
var X=function(e,t){return W(e,t)>-1}
var Y=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
if(t(a,r))return true}return false}
var G=function(e,t){var r=e.length
var n=new Array(r)
for(var a=0;a<r;a++){var o=e[a]
n[a]=t(o,a)}return n}
var J=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
t(a,r)}}
var Q=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r]
t(n,r)}}
var Z=function(e,t){var r=[]
var n=[]
for(var a=0,o=e.length;a<o;a++){var i=e[a]
var u=t(i,a)?r:n
u.push(i)}return{pass:r,fail:n}}
var ee=function(e,t){var r=[]
for(var n=0,a=e.length;n<a;n++){var o=e[n]
t(o,n)&&r.push(o)}return r}
var te=function(e,t,r){Q(e,(function(e){r=t(r,e)}))
return r}
var re=function(e,t,r){J(e,(function(e){r=t(r,e)}))
return r}
var ne=function(e,t,r){for(var n=0,a=e.length;n<a;n++){var o=e[n]
if(t(o,n))return H.some(o)
if(r(o,n))break}return H.none()}
var ae=function(e,t){return ne(e,t,I)}
var oe=function(e,t){for(var r=0,n=e.length;r<n;r++){var a=e[r]
if(t(a,r))return H.some(r)}return H.none()}
var ie=function(e){var t=[]
for(var r=0,n=e.length;r<n;++r){if(!y(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e)
$.apply(t,e[r])}return t}
var ue=function(e,t){return ie(G(e,t))}
var fe=function(e,t){for(var r=0,n=e.length;r<n;++r){var a=e[r]
if(true!==t(a,r))return false}return true}
var ce=function(e){var t=V.call(e,0)
t.reverse()
return t}
var se=function(e,t){return ee(e,(function(e){return!X(t,e)}))}
var le=function(e,t){var r={}
for(var n=0,a=e.length;n<a;n++){var o=e[n]
r[String(o)]=t(o,n)}return r}
var ve=function(e,t){var r=V.call(e,0)
r.sort(t)
return r}
var de=function(e,t){return t>=0&&t<e.length?H.some(e[t]):H.none()}
var me=function(e){return de(e,0)}
var ge=function(e){return de(e,e.length-1)}
var pe=k(Array.from)?Array.from:function(e){return V.call(e)}
var he=function(e,t){for(var r=0;r<e.length;r++){var n=t(e[r],r)
if(n.isSome())return n}return H.none()}
var ye=Object.keys
var be=Object.hasOwnProperty
var Ce=function(e,t){var r=ye(e)
for(var n=0,a=r.length;n<a;n++){var o=r[n]
var i=e[o]
t(i,o)}}
var we=function(e,t){return xe(e,(function(e,r){return{k:r,v:t(e,r)}}))}
var xe=function(e,t){var r={}
Ce(e,(function(e,n){var a=t(e,n)
r[a.k]=a.v}))
return r}
var Se=function(e){return function(t,r){e[r]=t}}
var ke=function(e,t,r,n){var a={}
Ce(e,(function(e,a){(t(e,a)?r:n)(e,a)}))
return a}
var Ne=function(e,t){var r={}
var n={}
ke(e,t,Se(r),Se(n))
return{t:r,f:n}}
var Ee=function(e,t){var r={}
ke(e,t,Se(r),E)
return r}
var _e=function(e,t){var r=[]
Ce(e,(function(e,n){r.push(t(e,n))}))
return r}
var Ae=function(e){return _e(e,(function(e){return e}))}
var Re=function(e,t){return Te(e,t)?H.from(e[t]):H.none()}
var Te=function(e,t){return be.call(e,t)}
var De=function(e,t){return Te(e,t)&&void 0!==e[t]&&null!==e[t]}
var Oe=function(e,t,r){void 0===r&&(r=l)
return s(r).eq(e,t)}
var Be=Array.isArray
var Pe=function(e){if(Be(e))return e
var t=[]
for(var r=0,n=e.length;r<n;r++)t[r]=e[r]
return t}
var Le=function(e,t,r){var n,a
if(!e)return false
r=r||e
if(void 0!==e.length){for(n=0,a=e.length;n<a;n++)if(false===t.call(r,e[n],n,e))return false}else for(n in e)if(e.hasOwnProperty(n)&&false===t.call(r,e[n],n,e))return false
return true}
var Ie=function(e,t){var r=[]
Le(e,(function(n,a){r.push(t(n,a,e))}))
return r}
var Me=function(e,t){var r=[]
Le(e,(function(n,a){t&&!t(n,a,e)||r.push(n)}))
return r}
var Fe=function(e,t){if(e)for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r
return-1}
var Ue=function(e,t,r,n){var a=w(r)?e[0]:r
for(var o=0;o<e.length;o++)a=t.call(n,a,e[o],o)
return a}
var ze=function(e,t,r){var n,a
for(n=0,a=e.length;n<a;n++)if(t.call(r,e[n],n,e))return n
return-1}
var je=function(e){return e[e.length-1]}
var He=function(){He=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r]
for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}
return He.apply(this,arguments)}
function Ve(e,t){var r={}
for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n])
if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0
for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function qe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length
var n=Array(e),a=0
for(t=0;t<r;t++)for(var o=arguments[t],i=0,u=o.length;i<u;i++,a++)n[a]=o[i]
return n}var $e=function(e){var t=false
var r
return function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
if(!t){t=true
r=e.apply(null,n)}return r}}
var We=function(e,t,r,n){var a=e.isiOS()&&true===/ipad/i.test(r)
var o=e.isiOS()&&!a
var i=e.isiOS()||e.isAndroid()
var u=i||n("(pointer:coarse)")
var f=a||!o&&i&&n("(min-device-width:768px)")
var c=o||i&&!f
var s=t.isSafari()&&e.isiOS()&&false===/safari/i.test(r)
var l=!c&&!f&&!s
return{isiPad:R(a),isiPhone:R(o),isTablet:R(f),isPhone:R(c),isTouch:R(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:R(s),isDesktop:R(l)}}
var Ke=function(e,t){for(var r=0;r<e.length;r++){var n=e[r]
if(n.test(t))return n}return}
var Xe=function(e,t){var r=Ke(e,t)
if(!r)return{major:0,minor:0}
var n=function(e){return Number(t.replace(r,"$"+e))}
return Je(n(1),n(2))}
var Ye=function(e,t){var r=String(t).toLowerCase()
if(0===e.length)return Ge()
return Xe(e,r)}
var Ge=function(){return Je(0,0)}
var Je=function(e,t){return{major:e,minor:t}}
var Qe={nu:Je,detect:Ye,unknown:Ge}
var Ze=function(e,t){var r=String(t).toLowerCase()
return ae(e,(function(e){return e.search(r)}))}
var et=function(e,t){return Ze(e,t).map((function(e){var r=Qe.detect(e.versionRegexes,t)
return{current:e.name,version:r}}))}
var tt=function(e,t){return Ze(e,t).map((function(e){var r=Qe.detect(e.versionRegexes,t)
return{current:e.name,version:r}}))}
var rt={detectBrowser:et,detectOs:tt}
var nt=function(e,t){return e.substring(t)}
var at=function(e,t,r){return""===t||e.length>=t.length&&e.substr(r,r+t.length)===t}
var ot=function(e,t){return ut(e,t)?nt(e,t.length):e}
var it=function(e,t){return-1!==e.indexOf(t)}
var ut=function(e,t){return at(e,t,0)}
var ft=function(e){return function(t){return t.replace(e,"")}}
var ct=ft(/^\s+|\s+$/g)
var st=ft(/^\s+/g)
var lt=ft(/\s+$/g)
var vt=function(e){return e.length>0}
var dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var mt=function(e){return function(t){return it(t,e)}}
var gt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return it(e,"edge/")&&it(e,"chrome")&&it(e,"safari")&&it(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,dt],search:function(e){return it(e,"chrome")&&!it(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return it(e,"msie")||it(e,"trident")}},{name:"Opera",versionRegexes:[dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:mt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:mt("firefox")},{name:"Safari",versionRegexes:[dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(it(e,"safari")||it(e,"mobile/"))&&it(e,"applewebkit")}}]
var pt=[{name:"Windows",search:mt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return it(e,"iphone")||it(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:mt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:mt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:mt("linux"),versionRegexes:[]},{name:"Solaris",search:mt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:mt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:mt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var ht={browsers:R(gt),oses:R(pt)}
var yt="Edge"
var bt="Chrome"
var Ct="IE"
var wt="Opera"
var xt="Firefox"
var St="Safari"
var kt=function(){return Nt({current:void 0,version:Qe.unknown()})}
var Nt=function(e){var t=e.current
var r=e.version
var n=function(e){return function(){return t===e}}
return{current:t,version:r,isEdge:n(yt),isChrome:n(bt),isIE:n(Ct),isOpera:n(wt),isFirefox:n(xt),isSafari:n(St)}}
var Et={unknown:kt,nu:Nt,edge:R(yt),chrome:R(bt),ie:R(Ct),opera:R(wt),firefox:R(xt),safari:R(St)}
var _t="Windows"
var At="iOS"
var Rt="Android"
var Tt="Linux"
var Dt="OSX"
var Ot="Solaris"
var Bt="FreeBSD"
var Pt="ChromeOS"
var Lt=function(){return It({current:void 0,version:Qe.unknown()})}
var It=function(e){var t=e.current
var r=e.version
var n=function(e){return function(){return t===e}}
return{current:t,version:r,isWindows:n(_t),isiOS:n(At),isAndroid:n(Rt),isOSX:n(Dt),isLinux:n(Tt),isSolaris:n(Ot),isFreeBSD:n(Bt),isChromeOS:n(Pt)}}
var Mt={unknown:Lt,nu:It,windows:R(_t),ios:R(At),android:R(Rt),linux:R(Tt),osx:R(Dt),solaris:R(Ot),freebsd:R(Bt),chromeos:R(Pt)}
var Ft=function(e,t){var r=ht.browsers()
var n=ht.oses()
var a=rt.detectBrowser(r,e).fold(Et.unknown,Et.nu)
var o=rt.detectOs(n,e).fold(Mt.unknown,Mt.nu)
var i=We(o,a,e,t)
return{browser:a,os:o,deviceType:i}}
var Ut={detect:Ft}
var zt=function(e){return window.matchMedia(e).matches}
var jt=$e((function(){return Ut.detect(navigator.userAgent,zt)}))
var Ht=function(){return jt()}
var Vt=navigator.userAgent
var qt=Ht()
var $t=qt.browser
var Wt=qt.os
var Kt=qt.deviceType
var Xt=/WebKit/.test(Vt)&&!$t.isEdge()
var Yt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL
var Gt=-1!==Vt.indexOf("Windows Phone")
var Jt={opera:$t.isOpera(),webkit:Xt,ie:!(!$t.isIE()&&!$t.isEdge())&&$t.version.major,gecko:$t.isFirefox(),mac:Wt.isOSX()||Wt.isiOS(),iOS:Kt.isiPad()||Kt.isiPhone(),android:Wt.isAndroid(),contentEditable:true,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:true,range:window.getSelection&&"Range"in window,documentMode:$t.isIE()?document.documentMode||7:10,fileApi:Yt,ceFalse:true,cacheSuffix:null,container:null,experimentalShadowDom:false,canHaveCSP:!$t.isIE(),desktop:Kt.isDesktop(),windowsPhone:Gt,browser:{current:$t.current,version:$t.version,isChrome:$t.isChrome,isEdge:$t.isEdge,isFirefox:$t.isFirefox,isIE:$t.isIE,isOpera:$t.isOpera,isSafari:$t.isSafari},os:{current:Wt.current,version:Wt.version,isAndroid:Wt.isAndroid,isChromeOS:Wt.isChromeOS,isFreeBSD:Wt.isFreeBSD,isiOS:Wt.isiOS,isLinux:Wt.isLinux,isOSX:Wt.isOSX,isSolaris:Wt.isSolaris,isWindows:Wt.isWindows},deviceType:{isDesktop:Kt.isDesktop,isiPad:Kt.isiPad,isiPhone:Kt.isiPhone,isPhone:Kt.isPhone,isTablet:Kt.isTablet,isTouch:Kt.isTouch,isWebView:Kt.isWebView}}
var Qt=/^\s*|\s*$/g
var Zt=function(e){return null===e||void 0===e?"":(""+e).replace(Qt,"")}
var er=function(e,t){if(!t)return void 0!==e
if("array"===t&&Be(e))return true
return typeof e===t}
var tr=function(e,t,r){var n
e=e||[]
t=t||","
"string"===typeof e&&(e=e.split(t))
r=r||{}
n=e.length
while(n--)r[e[n]]={}
return r}
var rr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
var nr=function(e,t,r){var n=this
var a,o,i,u=0
e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e)
var f=e[3].match(/(^|\.)(\w+)$/i)[2]
var c=n.createNS(e[3].replace(/\.\w+$/,""),r)
if(c[f])return
if("static"===e[2]){c[f]=t
this.onCreate&&this.onCreate(e[2],e[3],c[f])
return}if(!t[f]){t[f]=function(){}
u=1}c[f]=t[f]
n.extend(c[f].prototype,t)
if(e[5]){a=n.resolve(e[5]).prototype
o=e[5].match(/\.(\w+)$/i)[1]
i=c[f]
c[f]=u?function(){return a[o].apply(this,arguments)}:function(){this.parent=a[o]
return i.apply(this,arguments)}
c[f].prototype[f]=c[f]
n.each(a,(function(e,t){c[f].prototype[t]=a[t]}))
n.each(t,(function(e,t){a[t]?c[f].prototype[t]=function(){this.parent=a[t]
return e.apply(this,arguments)}:t!==f&&(c[f].prototype[t]=e)}))}n.each(t.static,(function(e,t){c[f][t]=e}))}
var ar=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
for(var n=0;n<t.length;n++){var a=t[n]
for(var o in a)if(a.hasOwnProperty(o)){var i=a[o]
void 0!==i&&(e[o]=i)}}return e}
var or=function(e,t,r,n){n=n||this
if(e){r&&(e=e[r])
Le(e,(function(e,a){if(false===t.call(n,e,a,r))return false
or(e,t,r,n)}))}}
var ir=function(e,t){var r,n
t=t||window
e=e.split(".")
for(r=0;r<e.length;r++){n=e[r]
t[n]||(t[n]={})
t=t[n]}return t}
var ur=function(e,t){var r,n
t=t||window
e=e.split(".")
for(r=0,n=e.length;r<n;r++){t=t[e[r]]
if(!t)break}return t}
var fr=function(e,t){if(!e||er(e,"array"))return e
return Ie(e.split(t||","),Zt)}
var cr=function(e){var t=Jt.cacheSuffix
t&&(e+=(-1===e.indexOf("?")?"?":"&")+t)
return e}
var sr={trim:Zt,isArray:Be,is:er,toArray:Pe,makeMap:tr,each:Le,map:Ie,grep:Me,inArray:Fe,hasOwn:rr,extend:ar,create:nr,walk:or,createNS:ir,resolve:ur,explode:fr,_addCacheSuffix:cr}
var lr=function(e,t){var r=t||document
var n=r.createElement("div")
n.innerHTML=e
if(!n.hasChildNodes()||n.childNodes.length>1){console.error("HTML does not have a single root node",e)
throw new Error("HTML must have a single root node")}return mr(n.childNodes[0])}
var vr=function(e,t){var r=t||document
var n=r.createElement(e)
return mr(n)}
var dr=function(e,t){var r=t||document
var n=r.createTextNode(e)
return mr(n)}
var mr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined")
return{dom:e}}
var gr=function(e,t,r){return H.from(e.dom.elementFromPoint(t,r)).map(mr)}
var pr={fromHtml:lr,fromTag:vr,fromText:dr,fromDom:mr,fromPoint:gr}
var hr=function(e,t){var r=[]
var n=function(e){r.push(e)
return t(e)}
var a=t(e)
do{a=a.bind(n)}while(a.isSome())
return r}
var yr=function(e,t,r){return 0!==(e.compareDocumentPosition(t)&r)}
var br=function(e,t){return yr(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Cr=8
var wr=9
var xr=11
var Sr=1
var kr=3
var Nr=function(e,t){var r=e.dom
if(r.nodeType!==Sr)return false
var n=r
if(void 0!==n.matches)return n.matches(t)
if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t)
if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t)
if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t)
throw new Error("Browser lacks native selectors")}
var Er=function(e){return e.nodeType!==Sr&&e.nodeType!==wr&&e.nodeType!==xr||0===e.childElementCount}
var _r=function(e,t){var r=void 0===t?document:t.dom
return Er(r)?[]:G(r.querySelectorAll(e),pr.fromDom)}
var Ar=function(e,t){var r=void 0===t?document:t.dom
return Er(r)?H.none():H.from(r.querySelector(e)).map(pr.fromDom)}
var Rr=function(e,t){return e.dom===t.dom}
var Tr=function(e,t){var r=e.dom
var n=t.dom
return r!==n&&r.contains(n)}
var Dr=function(e,t){return br(e.dom,t.dom)}
var Or=function(e,t){return Ht().browser.isIE()?Dr(e,t):Tr(e,t)}
"undefined"!==typeof window?window:Function("return this;")()
var Br=function(e){var t=e.dom.nodeName
return t.toLowerCase()}
var Pr=function(e){return e.dom.nodeType}
var Lr=function(e){return function(t){return Pr(t)===e}}
var Ir=function(e){return Pr(e)===Cr||"#comment"===Br(e)}
var Mr=Lr(Sr)
var Fr=Lr(kr)
var Ur=Lr(wr)
var zr=Lr(xr)
var jr=function(e){return pr.fromDom(e.dom.ownerDocument)}
var Hr=function(e){return Ur(e)?e:jr(e)}
var Vr=function(e){return pr.fromDom(Hr(e).dom.documentElement)}
var qr=function(e){return pr.fromDom(Hr(e).dom.defaultView)}
var $r=function(e){return H.from(e.dom.parentNode).map(pr.fromDom)}
var Wr=function(e,t){var r=k(t)?t:I
var n=e.dom
var a=[]
while(null!==n.parentNode&&void 0!==n.parentNode){var o=n.parentNode
var i=pr.fromDom(o)
a.push(i)
if(true===r(i))break
n=o}return a}
var Kr=function(e){var t=function(t){return ee(t,(function(t){return!Rr(e,t)}))}
return $r(e).map(Qr).map(t).getOr([])}
var Xr=function(e){return H.from(e.dom.previousSibling).map(pr.fromDom)}
var Yr=function(e){return H.from(e.dom.nextSibling).map(pr.fromDom)}
var Gr=function(e){return ce(hr(e,Xr))}
var Jr=function(e){return hr(e,Yr)}
var Qr=function(e){return G(e.dom.childNodes,pr.fromDom)}
var Zr=function(e,t){var r=e.dom.childNodes
return H.from(r[t]).map(pr.fromDom)}
var en=function(e){return Zr(e,0)}
var tn=function(e){return Zr(e,e.dom.childNodes.length-1)}
var rn=function(e){return e.dom.childNodes.length}
var nn=function(e){var t=e.dom.head
if(null===t||void 0===t)throw new Error("Head is not available yet")
return pr.fromDom(t)}
var an=function(e){return zr(e)&&S(e.dom.host)}
var on=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode)
var un=R(on)
var fn=on?function(e){return pr.fromDom(e.dom.getRootNode())}:Hr
var cn=function(e){return an(e)?e:nn(Hr(e))}
var sn=function(e){var t=fn(e)
return an(t)?H.some(t):H.none()}
var ln=function(e){return pr.fromDom(e.dom.host)}
var vn=function(e){if(un()&&S(e.target)){var t=pr.fromDom(e.target)
if(Mr(t)&&dn(t)&&e.composed&&e.composedPath){var r=e.composedPath()
if(r)return me(r)}}return H.from(e.target)}
var dn=function(e){return S(e.dom.shadowRoot)}
var mn=function(e,t){var r=$r(e)
r.each((function(r){r.dom.insertBefore(t.dom,e.dom)}))}
var gn=function(e,t){var r=Yr(e)
r.fold((function(){var r=$r(e)
r.each((function(e){hn(e,t)}))}),(function(e){mn(e,t)}))}
var pn=function(e,t){var r=en(e)
r.fold((function(){hn(e,t)}),(function(r){e.dom.insertBefore(t.dom,r.dom)}))}
var hn=function(e,t){e.dom.appendChild(t.dom)}
var yn=function(e,t){mn(e,t)
hn(t,e)}
var bn=function(e,t){J(t,(function(t){mn(e,t)}))}
var Cn=function(e,t){J(t,(function(t){hn(e,t)}))}
var wn=function(e){e.dom.textContent=""
J(Qr(e),(function(e){xn(e)}))}
var xn=function(e){var t=e.dom
null!==t.parentNode&&t.parentNode.removeChild(t)}
var Sn=function(e){var t=Qr(e)
t.length>0&&bn(e,t)
xn(e)}
var kn=function(e){var t=Fr(e)?e.dom.parentNode:e.dom
if(void 0===t||null===t||null===t.ownerDocument)return false
var r=t.ownerDocument
return sn(pr.fromDom(t)).fold((function(){return r.body.contains(t)}),A(kn,ln))}
var Nn=function(e,t){var r=function(r,n){return Nn(e+r,t+n)}
return{left:e,top:t,translate:r}}
var En=Nn
var _n=function(e){var t=e.getBoundingClientRect()
return En(t.left,t.top)}
var An=function(e,t){return void 0!==e?e:void 0!==t?t:0}
var Rn=function(e){var t=e.dom.ownerDocument
var r=t.body
var n=t.defaultView
var a=t.documentElement
if(r===e.dom)return En(r.offsetLeft,r.offsetTop)
var o=An(null===n||void 0===n?void 0:n.pageYOffset,a.scrollTop)
var i=An(null===n||void 0===n?void 0:n.pageXOffset,a.scrollLeft)
var u=An(a.clientTop,r.clientTop)
var f=An(a.clientLeft,r.clientLeft)
return Tn(e).translate(i-f,o-u)}
var Tn=function(e){var t=e.dom
var r=t.ownerDocument
var n=r.body
if(n===t)return En(n.offsetLeft,n.offsetTop)
if(!kn(e))return En(0,0)
return _n(t)}
var Dn=function(e){var t=void 0!==e?e.dom:document
var r=t.body.scrollLeft||t.documentElement.scrollLeft
var n=t.body.scrollTop||t.documentElement.scrollTop
return En(r,n)}
var On=function(e,t,r){var n=void 0!==r?r.dom:document
var a=n.defaultView
a&&a.scrollTo(e,t)}
var Bn=function(e,t){var r=Ht().browser.isSafari()
r&&k(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(false):e.dom.scrollIntoView(t)}
var Pn=function(e){var t=void 0===e?window:e
return H.from(t["visualViewport"])}
var Ln=function(e,t,r,n){return{x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}}
var In=function(e){var t=void 0===e?window:e
var r=t.document
var n=Dn(pr.fromDom(r))
return Pn(t).fold((function(){var e=t.document.documentElement
var r=e.clientWidth
var a=e.clientHeight
return Ln(n.left,n.top,r,a)}),(function(e){return Ln(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height)}))}
var Mn=function(e){return function(t){return!!t&&t.nodeType===e}}
var Fn=function(e){return!!e&&!Object.getPrototypeOf(e)}
var Un=Mn(1)
var zn=function(e){var t=e.map((function(e){return e.toLowerCase()}))
return function(e){if(e&&e.nodeName){var r=e.nodeName.toLowerCase()
return X(t,r)}return false}}
var jn=function(e,t){var r=t.toLowerCase().split(" ")
return function(t){var n,a
if(Un(t))for(n=0;n<r.length;n++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null)
a=o?o.getPropertyValue(e):null
if(a===r[n])return true}return false}}
var Hn=function(e){return function(t){return Un(t)&&t.hasAttribute(e)}}
var Vn=function(e,t){return function(r){return Un(r)&&r.getAttribute(e)===t}}
var qn=function(e){return Un(e)&&e.hasAttribute("data-mce-bogus")}
var $n=function(e){return Un(e)&&"all"===e.getAttribute("data-mce-bogus")}
var Wn=function(e){return Un(e)&&"TABLE"===e.tagName}
var Kn=function(e){return function(t){if(Un(t)){if(t.contentEditable===e)return true
if(t.getAttribute("data-mce-contenteditable")===e)return true}return false}}
var Xn=zn(["textarea","input"])
var Yn=Mn(3)
var Gn=Mn(8)
var Jn=Mn(9)
var Qn=Mn(11)
var Zn=zn(["br"])
var ea=zn(["img"])
var ta=Kn("true")
var ra=Kn("false")
var na=zn(["td","th"])
var aa=zn(["video","audio","object","embed"])
var oa=function(e){return void 0!==e.style&&k(e.style.getPropertyValue)}
var ia=function(e,t,r){if(!(p(r)||C(r)||N(r))){console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e)
throw new Error("Attribute value was not simple")}e.setAttribute(t,r+"")}
var ua=function(e,t,r){ia(e.dom,t,r)}
var fa=function(e,t){var r=e.dom
Ce(t,(function(e,t){ia(r,t,e)}))}
var ca=function(e,t){var r=e.dom.getAttribute(t)
return null===r?void 0:r}
var sa=function(e,t){return H.from(ca(e,t))}
var la=function(e,t){var r=e.dom
return!(!r||!r.hasAttribute)&&r.hasAttribute(t)}
var va=function(e,t){e.dom.removeAttribute(t)}
var da=function(e){return re(e.dom.attributes,(function(e,t){e[t.name]=t.value
return e}),{})}
var ma=function(e,t,r){if(!p(r)){console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e)
throw new Error("CSS value must be a string: "+r)}oa(e)&&e.style.setProperty(t,r)}
var ga=function(e,t){var r=e.dom
Ce(t,(function(e,t){ma(r,t,e)}))}
var pa=function(e,t){var r=e.dom
var n=window.getComputedStyle(r)
var a=n.getPropertyValue(t)
return""!==a||kn(e)?a:ha(r,t)}
var ha=function(e,t){return oa(e)?e.style.getPropertyValue(t):""}
var ya=function(e,t){var r=e.dom
var n=ha(r,t)
return H.from(n).filter((function(e){return e.length>0}))}
var ba=function(e){var t={}
var r=e.dom
if(oa(r))for(var n=0;n<r.style.length;n++){var a=r.style.item(n)
t[a]=r.style[a]}return t}
var Ca=function(e){return e.dom.offsetWidth}
var wa=Ht().browser
var xa=function(e){return ae(e,Mr)}
var Sa=function(e){return wa.isFirefox()&&"table"===Br(e)?xa(Qr(e)).filter((function(e){return"caption"===Br(e)})).bind((function(e){return xa(Jr(e)).map((function(t){var r=t.dom.offsetTop
var n=e.dom.offsetTop
var a=e.dom.offsetHeight
return r<=n?-a:0}))})).getOr(0):0}
var ka=function(e,t){return e.children&&X(e.children,t)}
var Na=function(e,t,r){var n,a=0,o=0
var i=e.ownerDocument
var u
r=r||e
if(t){if(r===e&&t.getBoundingClientRect&&"static"===pa(pr.fromDom(e),"position")){u=t.getBoundingClientRect()
a=u.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft
o=u.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop
return{x:a,y:o}}n=t
while(n&&n!==r&&n.nodeType&&!ka(n,r)){a+=n.offsetLeft||0
o+=n.offsetTop||0
n=n.offsetParent}n=t.parentNode
while(n&&n!==r&&n.nodeType&&!ka(n,r)){a-=n.scrollLeft||0
o-=n.scrollTop||0
n=n.parentNode}o+=Sa(pr.fromDom(t))}return{x:a,y:o}}
var Ea={},_a={exports:Ea};(function(e,t,r,n){(function(n){if("object"===typeof t&&"undefined"!==typeof r)r.exports=n()
else if("function"===typeof e&&e.amd)e([],n)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=n()}})((function(){return function(){function e(t,r,a){function o(u,f){if(!r[u]){if(!t[u]){var c="function"==typeof n&&n
if(!f&&c)return c(u,!0)
if(i)return i(u,!0)
var s=new Error("Cannot find module '"+u+"'")
throw s.code="MODULE_NOT_FOUND",s}var l=r[u]={exports:{}}
t[u][0].call(l.exports,(function(e){var r=t[u][1][e]
return o(r||e)}),l,l.exports,e,t,r,a)}return r[u].exports}for(var i="function"==typeof n&&n,u=0;u<a.length;u++)o(a[u])
return o}return e}()({1:[function(e,t,r){var n=t.exports={}
var a
var o
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{a="function"===typeof setTimeout?setTimeout:i}catch(e){a=i}try{o="function"===typeof clearTimeout?clearTimeout:u}catch(e){o=u}})()
function f(e){if(a===setTimeout)return setTimeout(e,0)
if((a===i||!a)&&setTimeout){a=setTimeout
return setTimeout(e,0)}try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e)
if((o===u||!o)&&clearTimeout){o=clearTimeout
return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var s=[]
var l=false
var v
var d=-1
function m(){if(!l||!v)return
l=false
v.length?s=v.concat(s):d=-1
s.length&&g()}function g(){if(l)return
var e=f(m)
l=true
var t=s.length
while(t){v=s
s=[]
while(++d<t)v&&v[d].run()
d=-1
t=s.length}v=null
l=false
c(e)}n.nextTick=function(e){var t=new Array(arguments.length-1)
if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
s.push(new p(e,t))
1!==s.length||l||f(g)}
function p(e,t){this.fun=e
this.array=t}p.prototype.run=function(){this.fun.apply(null,this.array)}
n.title="browser"
n.browser=true
n.env={}
n.argv=[]
n.version=""
n.versions={}
function h(){}n.on=h
n.addListener=h
n.once=h
n.off=h
n.removeListener=h
n.removeAllListeners=h
n.emit=h
n.prependListener=h
n.prependOnceListener=h
n.listeners=function(e){return[]}
n.binding=function(e){throw new Error("process.binding is not supported")}
n.cwd=function(){return"/"}
n.chdir=function(e){throw new Error("process.chdir is not supported")}
n.umask=function(){return 0}},{}],2:[function(e,t,r){(function(e){(function(r){var n=setTimeout
function a(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof e)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
v(e,this)}function u(e,t){while(3===e._state)e=e._value
if(0===e._state){e._deferreds.push(t)
return}e._handled=true
i._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected
if(null===r){(1===e._state?f:c)(t.promise,e._value)
return}var n
try{n=r(e._value)}catch(e){c(t.promise,e)
return}f(t.promise,n)}))}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var r=t.then
if(t instanceof i){e._state=3
e._value=t
s(e)
return}if("function"===typeof r){v(o(r,t),e)
return}}e._state=1
e._value=t
s(e)}catch(t){c(e,t)}}function c(e,t){e._state=2
e._value=t
s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn((function(){e._handled||i._unhandledRejectionFn(e._value)}))
for(var t=0,r=e._deferreds.length;t<r;t++)u(e,e._deferreds[t])
e._deferreds=null}function l(e,t,r){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.promise=r}function v(e,t){var r=false
try{e((function(e){if(r)return
r=true
f(t,e)}),(function(e){if(r)return
r=true
c(t,e)}))}catch(e){if(r)return
r=true
c(t,e)}}i.prototype["catch"]=function(e){return this.then(null,e)}
i.prototype.then=function(e,t){var r=new this.constructor(a)
u(this,new l(e,t,r))
return r}
i.all=function(e){var t=Array.prototype.slice.call(e)
return new i((function(e,r){if(0===t.length)return e([])
var n=t.length
function a(o,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){a(o,e)}),r)
return}}t[o]=i
0===--n&&e(t)}catch(e){r(e)}}for(var o=0;o<t.length;o++)a(o,t[o])}))}
i.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===i)return e
return new i((function(t){t(e)}))}
i.reject=function(e){return new i((function(t,r){r(e)}))}
i.race=function(e){return new i((function(t,r){for(var n=0,a=e.length;n<a;n++)e[n].then(t,r)}))}
i._immediateFn="function"===typeof e?function(t){e(t)}:function(e){n(e,0)}
i._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)}
i._setImmediateFn=function(e){i._immediateFn=e}
i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e}
"undefined"!==typeof t&&t.exports?t.exports=i:r.Promise||(r.Promise=i)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,r){(function(t,n){var a=e("process/browser.js").nextTick
var o=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var f=0
r.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)}
r.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)}
r.clearTimeout=r.clearInterval=function(e){e.close()}
function c(e,t){this._id=e
this._clearFn=t}c.prototype.unref=c.prototype.ref=function(){}
c.prototype.close=function(){this._clearFn.call(window,this._id)}
r.enroll=function(e,t){clearTimeout(e._idleTimeoutId)
e._idleTimeout=t}
r.unenroll=function(e){clearTimeout(e._idleTimeoutId)
e._idleTimeout=-1}
r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId)
var t=e._idleTimeout
t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))}
r.setImmediate="function"===typeof t?t:function(e){var t=f++
var n=!(arguments.length<2)&&i.call(arguments,1)
u[t]=true
a((function(){if(u[t]){n?e.apply(null,n):e.call(null)
r.clearImmediate(t)}}))
return t}
r.clearImmediate="function"===typeof n?n:function(e){delete u[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,r){var n=e("promise-polyfill")
var a="undefined"!==typeof window?window:Function("return this;")()
t.exports={boltExport:a.Promise||n}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Ea,_a,void 0)
var Aa=_a.exports.boltExport
var Ra=function(e){var t=H.none()
var r=[]
var n=function(e){return Ra((function(t){a((function(r){t(e(r))}))}))}
var a=function(e){i()?f(e):r.push(e)}
var o=function(e){if(!i()){t=H.some(e)
u(r)
r=[]}}
var i=function(){return t.isSome()}
var u=function(e){J(e,f)}
var f=function(e){t.each((function(t){setTimeout((function(){e(t)}),0)}))}
e(o)
return{get:a,map:n,isReady:i}}
var Ta=function(e){return Ra((function(t){t(e)}))}
var Da={nu:Ra,pure:Ta}
var Oa=function(e){setTimeout((function(){throw e}),0)}
var Ba=function(e){var t=function(t){e().then(t,Oa)}
var r=function(t){return Ba((function(){return e().then(t)}))}
var n=function(t){return Ba((function(){return e().then((function(e){return t(e).toPromise()}))}))}
var a=function(t){return Ba((function(){return e().then((function(){return t.toPromise()}))}))}
var o=function(){return Da.nu(t)}
var i=function(){var t=null
return Ba((function(){null===t&&(t=e())
return t}))}
var u=e
return{map:r,bind:n,anonBind:a,toLazy:o,toCached:i,toPromise:u,get:t}}
var Pa=function(e){return Ba((function(){return new Aa(e)}))}
var La=function(e){return Ba((function(){return Aa.resolve(e)}))}
var Ia={nu:Pa,pure:La}
var Ma=function(e,t){return t((function(t){var r=[]
var n=0
var a=function(a){return function(o){r[a]=o
n++
n>=e.length&&t(r)}}
0===e.length?t([]):J(e,(function(e,t){e.get(a(t))}))}))}
var Fa=function(e){return Ma(e,Ia.nu)}
var Ua=function(e){var t=function(t){return e===t}
var r=function(t){return Ua(e)}
var n=function(t){return Ua(e)}
var a=function(t){return Ua(t(e))}
var o=function(t){return Ua(e)}
var i=function(t){t(e)}
var u=function(t){return t(e)}
var f=function(t,r){return r(e)}
var c=function(t){return t(e)}
var s=function(t){return t(e)}
var l=function(){return H.some(e)}
return{is:t,isValue:M,isError:I,getOr:R(e),getOrThunk:R(e),getOrDie:R(e),or:r,orThunk:n,fold:f,map:a,mapError:o,each:i,bind:u,exists:c,forall:s,toOptional:l}}
var za=function(e){var t=function(e){return e()}
var r=function(){return B(String(e))()}
var n=function(e){return e}
var a=function(e){return e()}
var o=function(t){return za(e)}
var i=function(t){return za(t(e))}
var u=function(t){return za(e)}
var f=function(t,r){return t(e)}
return{is:I,isValue:I,isError:M,getOr:T,getOrThunk:t,getOrDie:r,or:n,orThunk:a,fold:f,map:o,mapError:i,each:E,bind:u,exists:I,forall:M,toOptional:H.none}}
var ja=function(e,t){return e.fold((function(){return za(t)}),Ua)}
var Ha={value:Ua,error:za,fromOption:ja}
var Va=function(e){if(!y(e))throw new Error("cases must be an array")
if(0===e.length)throw new Error("there must be at least one case")
var t=[]
var r={}
J(e,(function(n,a){var o=ye(n)
if(1!==o.length)throw new Error("one and only one name per case")
var i=o[0]
var u=n[i]
if(void 0!==r[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!y(u))throw new Error("case arguments must be an array")
t.push(i)
r[i]=function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
var o=r.length
if(o!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+o)
var f=function(e){var n=ye(e)
if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","))
var a=fe(t,(function(e){return X(n,e)}))
if(!a)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "))
return e[i].apply(null,r)}
return{fold:function(){var t=[]
for(var n=0;n<arguments.length;n++)t[n]=arguments[n]
if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length)
var o=t[a]
return o.apply(null,r)},match:f,log:function(e){console.log(e,{constructors:t,constructor:i,params:r})}}}}))
return r}
var qa={generate:Va}
qa.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var $a=function(e){return e.fold(T,T)}
function Wa(e,t,r,n,a){return e(r,n)?H.some(r):k(a)&&a(r)?H.none():t(r,n,a)}var Ka=function(e,t,r){var n=e.dom
var a=k(r)?r:I
while(n.parentNode){n=n.parentNode
var o=pr.fromDom(n)
if(t(o))return H.some(o)
if(a(o))break}return H.none()}
var Xa=function(e,t,r){var n=function(e,t){return t(e)}
return Wa(n,Ka,e,t,r)}
var Ya=function(e,t){var r=e.dom
if(!r.parentNode)return H.none()
return Ga(pr.fromDom(r.parentNode),(function(r){return!Rr(e,r)&&t(r)}))}
var Ga=function(e,t){var r=function(e){return t(pr.fromDom(e))}
var n=ae(e.dom.childNodes,r)
return n.map(pr.fromDom)}
var Ja=function(e,t,r){return Ka(e,(function(e){return Nr(e,t)}),r)}
var Qa=function(e,t){return Ar(t,e)}
var Za=function(e,t,r){var n=function(e,t){return Nr(e,t)}
return Wa(n,Ja,e,t,r)}
var eo=function(){var e=function(e,t){return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
e.apply(t,r)}}
var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
var r=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
c(t,e(o,this),e(i,this))}
var n=r.immediateFn||"function"===typeof setImmediate&&setImmediate||function(e){return setTimeout(e,1)}
function a(e){var t=this
if(null===this._state){this._deferreds.push(e)
return}n((function(){var r=t._state?e.onFulfilled:e.onRejected
if(null===r){(t._state?e.resolve:e.reject)(t._value)
return}var n
try{n=r(t._value)}catch(t){e.reject(t)
return}e.resolve(n)}))}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var r=t.then
if("function"===typeof r){c(e(r,t),e(o,this),e(i,this))
return}}this._state=true
this._value=t
u.call(this)}catch(e){i.call(this,e)}}function i(e){this._state=false
this._value=e
u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e])
this._deferreds=null}function f(e,t,r,n){this.onFulfilled="function"===typeof e?e:null
this.onRejected="function"===typeof t?t:null
this.resolve=r
this.reject=n}var c=function(e,t,r){var n=false
try{e((function(e){if(n)return
n=true
t(e)}),(function(e){if(n)return
n=true
r(e)}))}catch(e){if(n)return
n=true
r(e)}}
r.prototype.catch=function(e){return this.then(null,e)}
r.prototype.then=function(e,t){var n=this
return new r((function(r,o){a.call(n,new f(e,t,r,o))}))}
r.all=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
var a=Array.prototype.slice.call(1===e.length&&t(e[0])?e[0]:e)
return new r((function(e,t){if(0===a.length)return e([])
var r=a.length
var n=function(o,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(e){n(o,e)}),t)
return}}a[o]=i
0===--r&&e(a)}catch(e){t(e)}}
for(var o=0;o<a.length;o++)n(o,a[o])}))}
r.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===r)return e
return new r((function(t){t(e)}))}
r.reject=function(e){return new r((function(t,r){r(e)}))}
r.race=function(e){return new r((function(t,r){for(var n=0,a=e.length;n<a;n++)e[n].then(t,r)}))}
return r}
var to=window.Promise?window.Promise:eo()
var ro
var no=function(e,t){var r=window.requestAnimationFrame
var n=["ms","moz","webkit"]
var a=function(e){window.setTimeout(e,0)}
for(var o=0;o<n.length&&!r;o++)r=window[n[o]+"RequestAnimationFrame"]
r||(r=a)
r(e,t)}
var ao=function(e,t){"number"!==typeof t&&(t=0)
return setTimeout(e,t)}
var oo=function(e,t){"number"!==typeof t&&(t=1)
return setInterval(e,t)}
var io=function(e){return clearTimeout(e)}
var uo=function(e){return clearInterval(e)}
var fo=function(e,t){var r
var n=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
clearTimeout(r)
r=ao((function(){e.apply(this,n)}),t)}
n.stop=function(){clearTimeout(r)}
return n}
var co={requestAnimationFrame:function(e,t){if(ro){ro.then(e)
return}ro=new to((function(e){t||(t=document.body)
no(e,t)})).then(e)},setTimeout:ao,setInterval:oo,setEditorTimeout:function(e,t,r){return ao((function(){e.removed||t()}),r)},setEditorInterval:function(e,t,r){var n=oo((function(){e.removed?clearInterval(n):t()}),r)
return n},debounce:fo,throttle:fo,clearInterval:uo,clearTimeout:io}
var so=function(e,t){void 0===t&&(t={})
var r=0
var n={}
var a=pr.fromDom(e)
var o=Hr(a)
var i=t.maxLoadTime||5e3
var u=function(e){t.referrerPolicy=e}
var f=function(e){hn(cn(a),e)}
var c=function(e){var t=cn(a)
Qa(t,"#"+e).each(xn)}
var s=function(e){return Re(n,e).getOrThunk((function(){return{id:"mce-u"+r++,passed:[],failed:[],count:0}}))}
var l=function(r,a,u){var c
var l=sr._addCacheSuffix(r)
var v=s(l)
n[l]=v
v.count++
var d=function(e,t){var r=e.length
while(r--)e[r]()
v.status=t
v.passed=[]
v.failed=[]
if(c){c.onload=null
c.onerror=null
c=null}}
var m=function(){return d(v.passed,2)}
var g=function(){return d(v.failed,3)}
var p=function(e,t){e()||(Date.now()-b<i?co.setTimeout(t):g())}
var h=function(){p((function(){var t=e.styleSheets
var r=t.length
while(r--){var n=t[r]
var a=n.ownerNode
if(a&&a.id===c.id){m()
return true}}return false}),h)}
a&&v.passed.push(a)
u&&v.failed.push(u)
if(1===v.status)return
if(2===v.status){m()
return}if(3===v.status){g()
return}v.status=1
var y=pr.fromTag("link",o.dom)
fa(y,{rel:"stylesheet",type:"text/css",id:v.id})
var b=Date.now()
t.contentCssCors&&ua(y,"crossOrigin","anonymous")
t.referrerPolicy&&ua(y,"referrerpolicy",t.referrerPolicy)
c=y.dom
c.onload=h
c.onerror=g
f(y)
ua(y,"href",l)}
var v=function(e){return Ia.nu((function(t){l(e,_(t,R(Ha.value(e))),_(t,R(Ha.error(e))))}))}
var d=function(e,t,r){Fa(G(e,v)).get((function(e){var n=Z(e,(function(e){return e.isValue()}))
n.fail.length>0?r(n.fail.map($a)):t(n.pass.map($a))}))}
var m=function(e){var t=sr._addCacheSuffix(e)
Re(n,t).each((function(e){var r=--e.count
if(0===r){delete n[t]
c(e.id)}}))}
var g=function(e){J(e,(function(e){m(e)}))}
return{load:l,loadAll:d,unload:m,unloadAll:g,_setReferrerPolicy:u}}
var lo=function(){var e=new WeakMap
var t=function(t,r){var n=fn(t)
var a=n.dom
return H.from(e.get(a)).getOrThunk((function(){var t=so(a,r)
e.set(a,t)
return t}))}
return{forElement:t}}
var vo=lo()
var mo=function(){function e(e,t){this.node=e
this.rootNode=t
this.current=this.current.bind(this)
this.next=this.next.bind(this)
this.prev=this.prev.bind(this)
this.prev2=this.prev2.bind(this)}e.prototype.current=function(){return this.node}
e.prototype.next=function(e){this.node=this.findSibling(this.node,"firstChild","nextSibling",e)
return this.node}
e.prototype.prev=function(e){this.node=this.findSibling(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.prev2=function(e){this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e)
return this.node}
e.prototype.findSibling=function(e,t,r,n){var a,o
if(e){if(!n&&e[t])return e[t]
if(e!==this.rootNode){a=e[r]
if(a)return a
for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode){a=o[r]
if(a)return a}}}}
e.prototype.findPreviousNode=function(e,t,r,n){var a,o,i
if(e){a=e[r]
if(this.rootNode&&a===this.rootNode)return
if(a){if(!n)for(i=a[t];i;i=i[t])if(!i[t])return i
return a}o=e.parentNode
if(o&&o!==this.rootNode)return o}}
return e}()
var go=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]
var po=["td","th"]
var ho=["thead","tbody","tfoot"]
var yo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]
var bo=["h1","h2","h3","h4","h5","h6"]
var Co=["li","dd","dt"]
var wo=["ul","ol","dl"]
var xo=["pre","script","textarea","style"]
var So=function(e){var t
return function(r){t=t||le(e,M)
return t.hasOwnProperty(Br(r))}}
var ko=So(bo)
var No=So(go)
var Eo=function(e){return"table"===Br(e)}
var _o=function(e){return Mr(e)&&!No(e)}
var Ao=function(e){return Mr(e)&&"br"===Br(e)}
var Ro=So(yo)
var To=So(wo)
var Do=So(Co)
var Oo=So(ho)
var Bo=So(po)
var Po=So(xo)
var Lo=function(e,t,r){return Ja(e,t,r).isSome()}
var Io="\ufeff"
var Mo=" "
var Fo=function(e){return e===Io}
var Uo=function(e){return e.replace(/\uFEFF/g,"")}
var zo=Io
var jo=Fo
var Ho=Uo
var Vo=Un
var qo=Yn
var $o=function(e){qo(e)&&(e=e.parentNode)
return Vo(e)&&e.hasAttribute("data-mce-caret")}
var Wo=function(e){return qo(e)&&jo(e.data)}
var Ko=function(e){return $o(e)||Wo(e)}
var Xo=function(e){return e.firstChild!==e.lastChild||!Zn(e.firstChild)}
var Yo=function(e,t){var r
var n=e.ownerDocument
var a=n.createTextNode(zo)
var o=e.parentNode
if(t){r=e.previousSibling
if(qo(r)){if(Ko(r))return r
if(ti(r))return r.splitText(r.data.length-1)}o.insertBefore(a,e)}else{r=e.nextSibling
if(qo(r)){if(Ko(r))return r
if(ei(r)){r.splitText(1)
return r}}e.nextSibling?o.insertBefore(a,e.nextSibling):o.appendChild(a)}return a}
var Go=function(e){var t=e.container()
if(!Yn(t))return false
return t.data.charAt(e.offset())===zo||e.isAtStart()&&Wo(t.previousSibling)}
var Jo=function(e){var t=e.container()
if(!Yn(t))return false
return t.data.charAt(e.offset()-1)===zo||e.isAtEnd()&&Wo(t.nextSibling)}
var Qo=function(){var e=document.createElement("br")
e.setAttribute("data-mce-bogus","1")
return e}
var Zo=function(e,t,r){var n=t.ownerDocument
var a=n.createElement(e)
a.setAttribute("data-mce-caret",r?"before":"after")
a.setAttribute("data-mce-bogus","all")
a.appendChild(Qo())
var o=t.parentNode
r?o.insertBefore(a,t):t.nextSibling?o.insertBefore(a,t.nextSibling):o.appendChild(a)
return a}
var ei=function(e){return qo(e)&&e.data[0]===zo}
var ti=function(e){return qo(e)&&e.data[e.data.length-1]===zo}
var ri=function(e){var t=e.getElementsByTagName("br")
var r=t[t.length-1]
qn(r)&&r.parentNode.removeChild(r)}
var ni=function(e){if(e&&e.hasAttribute("data-mce-caret")){ri(e)
e.removeAttribute("data-mce-caret")
e.removeAttribute("data-mce-bogus")
e.removeAttribute("style")
e.removeAttribute("_moz_abspos")
return e}return null}
var ai=function(e){return $o(e.startContainer)}
var oi=ta
var ii=ra
var ui=Zn
var fi=Yn
var ci=zn(["script","style","textarea"])
var si=zn(["img","input","textarea","hr","iframe","video","audio","object","embed"])
var li=zn(["table"])
var vi=Ko
var di=function(e){if(vi(e))return false
if(fi(e))return!ci(e.parentNode)
return si(e)||ui(e)||li(e)||gi(e)}
var mi=function(e){return Un(e)&&"true"===e.getAttribute("unselectable")}
var gi=function(e){return false===mi(e)&&ii(e)}
var pi=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(gi(e))return false
if(oi(e))return true}return true}
var hi=function(e){if(!gi(e))return false
return true!==re(pe(e.getElementsByTagName("*")),(function(e,t){return e||oi(t)}),false)}
var yi=function(e){return si(e)||hi(e)}
var bi=function(e,t){return di(e)&&pi(e,t)}
var Ci=/^[ \t\r\n]*$/
var wi=function(e){return Ci.test(e)}
var xi=function(e,t){var r=pr.fromDom(t)
var n=pr.fromDom(e)
return Lo(n,"pre,code",D(Rr,r))}
var Si=function(e,t){return Yn(e)&&wi(e.data)&&false===xi(e,t)}
var ki=function(e){return Un(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))}
var Ni=function(e,t){return di(e)&&false===Si(e,t)||ki(e)||Ei(e)}
var Ei=Hn("data-mce-bookmark")
var _i=Hn("data-mce-bogus")
var Ai=Vn("data-mce-bogus","all")
var Ri=function(e,t){var r,n=0
if(Ni(e,e))return false
r=e.firstChild
if(!r)return true
var a=new mo(r,e)
do{if(t){if(Ai(r)){r=a.next(true)
continue}if(_i(r)){r=a.next()
continue}}if(Zn(r)){n++
r=a.next()
continue}if(Ni(r,e))return false
r=a.next()}while(r)
return n<=1}
var Ti=function(e,t){void 0===t&&(t=true)
return Ri(e.dom,t)}
var Di=function(e){return"span"===e.nodeName.toLowerCase()}
var Oi=function(e,t){return S(e)&&(Ni(e,t)||_o(pr.fromDom(e)))}
var Bi=function(e,t){var r=new mo(e,t).prev(false)
var n=new mo(e,t).next(false)
var a=w(r)||Oi(r,t)
var o=w(n)||Oi(n,t)
return a&&o}
var Pi=function(e){return Di(e)&&"bookmark"===e.getAttribute("data-mce-type")}
var Li=function(e,t){return Yn(e)&&e.data.length>0&&Bi(e,t)}
var Ii=function(e){return!!Un(e)&&e.childNodes.length>0}
var Mi=function(e){return Qn(e)||Jn(e)}
var Fi=function(e,t,r){var n=r||t
if(Un(t)&&Pi(t))return t
var a=t.childNodes
for(var o=a.length-1;o>=0;o--)Fi(e,a[o],n)
if(Un(t)){var i=t.childNodes
1===i.length&&Pi(i[0])&&t.parentNode.insertBefore(i[0],t)}Mi(t)||Ni(t,n)||Ii(t)||Li(t,n)||e.remove(t)
return t}
var Ui=sr.makeMap
var zi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var ji=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
var Hi=/[<>&\"\']/g
var Vi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi
var qi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}
var $i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"}
var Wi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"}
var Ki=function(e){var t=pr.fromTag("div").dom
t.innerHTML=e
return t.textContent||t.innerText||e}
var Xi=function(e,t){var r,n,a
var o={}
if(e){e=e.split(",")
t=t||10
for(r=0;r<e.length;r+=2){n=String.fromCharCode(parseInt(e[r],t))
if(!$i[n]){a="&"+e[r+1]+";"
o[n]=a
o[a]=n}}return o}}
var Yi=Xi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32)
var Gi=function(e,t){return e.replace(t?zi:ji,(function(e){return $i[e]||e}))}
var Ji=function(e){return(""+e).replace(Hi,(function(e){return $i[e]||e}))}
var Qi=function(e,t){return e.replace(t?zi:ji,(function(e){if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return $i[e]||"&#"+e.charCodeAt(0)+";"}))}
var Zi=function(e,t,r){r=r||Yi
return e.replace(t?zi:ji,(function(e){return $i[e]||r[e]||e}))}
var eu=function(e,t){var r=Xi(t)||Yi
var n=function(e,t){return e.replace(t?zi:ji,(function(e){if(void 0!==$i[e])return $i[e]
if(void 0!==r[e])return r[e]
if(e.length>1)return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"
return"&#"+e.charCodeAt(0)+";"}))}
var a=function(e,t){return Zi(e,t,r)}
var o=Ui(e.replace(/\+/g,","))
if(o.named&&o.numeric)return n
if(o.named){if(t)return a
return Zi}if(o.numeric)return Qi
return Gi}
var tu=function(e){return e.replace(Vi,(function(e,t){if(t){t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10)
if(t>65535){t-=65536
return String.fromCharCode(55296+(t>>10),56320+(1023&t))}return qi[t]||String.fromCharCode(t)}return Wi[e]||Yi[e]||Ki(e)}))}
var ru={encodeRaw:Gi,encodeAllRaw:Ji,encodeNumeric:Qi,encodeNamed:Zi,getEncodeFunc:eu,decode:tu}
var nu={},au={}
var ou=sr.makeMap,iu=sr.each,uu=sr.extend,fu=sr.explode,cu=sr.inArray
var su=function(e,t){e=sr.trim(e)
return e?e.split(t||" "):[]}
var lu=function(e){var t={}
var r,n
var a,o,i,u
var f=function(e,n,a){var o,i,u
var f=function(e,t){var r={}
var n,a
for(n=0,a=e.length;n<a;n++)r[e[n]]=t||{}
return r}
a=a||[]
n=n||""
"string"===typeof a&&(a=su(a))
var c=su(e)
o=c.length
while(o--){i=su([r,n].join(" "))
u={attributes:f(i),attributesOrder:i,children:f(a,au)}
t[c[o]]=u}}
var c=function(e,r){var n,a,o,i
var u=su(e)
n=u.length
var f=su(r)
while(n--){a=t[u[n]]
for(o=0,i=f.length;o<i;o++){a.attributes[f[o]]={}
a.attributesOrder.push(f[o])}}}
if(nu[e])return nu[e]
r="id accesskey class dir lang style tabindex title role"
n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"
a="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"
if("html4"!==e){r+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate"
n+=" article aside details dialog figure main header footer hgroup section nav"
a+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"}if("html5-strict"!==e){r+=" xml:lang"
u="acronym applet basefont big font strike tt"
a=[a,u].join(" ")
iu(su(u),(function(e){f(e,"",a)}))
i="center dir isindex noframes"
n=[n,i].join(" ")
o=[n,a].join(" ")
iu(su(i),(function(e){f(e,"",o)}))}o=o||[n,a].join(" ")
f("html","manifest","head body")
f("head","","base command link meta noscript script style title")
f("title hr noscript br")
f("base","href target")
f("link","href rel media hreflang type sizes hreflang")
f("meta","name http-equiv content charset")
f("style","media type scoped")
f("script","src async defer type charset")
f("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o)
f("address dt dd div caption","",o)
f("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",a)
f("blockquote","cite",o)
f("ol","reversed start type","li")
f("ul","","li")
f("li","value",o)
f("dl","","dt dd")
f("a","href target rel media hreflang type",a)
f("q","cite",a)
f("ins del","cite datetime",o)
f("img","src sizes srcset alt usemap ismap width height")
f("iframe","src name width height",o)
f("embed","src type width height")
f("object","data type typemustmatch name usemap form width height",[o,"param"].join(" "))
f("param","name value")
f("map","name",[o,"area"].join(" "))
f("area","alt coords shape href target rel media hreflang type")
f("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":""))
f("colgroup","span","col")
f("col","span")
f("tbody thead tfoot","","tr")
f("tr","","td th")
f("td","colspan rowspan headers",o)
f("th","colspan rowspan headers scope abbr",o)
f("form","accept-charset action autocomplete enctype method name novalidate target",o)
f("fieldset","disabled form name",[o,"legend"].join(" "))
f("label","form for",a)
f("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width")
f("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:a)
f("select","disabled form multiple name required size","option optgroup")
f("optgroup","disabled label","option")
f("option","disabled label selected value")
f("textarea","cols dirname disabled form maxlength name readonly required rows wrap")
f("menu","type label",[o,"li"].join(" "))
f("noscript","",o)
if("html4"!==e){f("wbr")
f("ruby","",[a,"rt rp"].join(" "))
f("figcaption","",o)
f("mark rt rp summary bdi","",a)
f("canvas","width height",o)
f("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" "))
f("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" "))
f("picture","","img source")
f("source","src srcset type media sizes")
f("track","kind src srclang label default")
f("datalist","",[a,"option"].join(" "))
f("article section nav aside main header footer","",o)
f("hgroup","","h1 h2 h3 h4 h5 h6")
f("figure","",[o,"figcaption"].join(" "))
f("time","datetime",a)
f("dialog","open",o)
f("command","type label icon disabled checked radiogroup command")
f("output","for form name",a)
f("progress","value max",a)
f("meter","value min max low high optimum",a)
f("details","open",[o,"summary"].join(" "))
f("keygen","autofocus challenge disabled form keytype name")}if("html5-strict"!==e){c("script","language xml:space")
c("style","xml:space")
c("object","declare classid code codebase codetype archive standby align border hspace vspace")
c("embed","align name hspace vspace")
c("param","valuetype type")
c("a","charset name rev shape coords")
c("br","clear")
c("applet","codebase archive code object alt name width height align hspace vspace")
c("img","name longdesc align border hspace vspace")
c("iframe","longdesc frameborder marginwidth marginheight scrolling align")
c("font basefont","size color face")
c("input","usemap align")
c("select")
c("textarea")
c("h1 h2 h3 h4 h5 h6 div p legend caption","align")
c("ul","type compact")
c("li","type")
c("ol dl menu dir","compact")
c("pre","width xml:space")
c("hr","align noshade size width")
c("isindex","prompt")
c("table","summary width frame rules cellspacing cellpadding align bgcolor")
c("col","width align char charoff valign")
c("colgroup","width align char charoff valign")
c("thead","align char charoff valign")
c("tr","align char charoff valign bgcolor")
c("th","axis align char charoff valign nowrap bgcolor width height")
c("form","accept")
c("td","abbr axis scope align char charoff valign nowrap bgcolor width height")
c("tfoot","align char charoff valign")
c("tbody","align char charoff valign")
c("area","nohref")
c("body","background bgcolor text link vlink alink")}if("html4"!==e){c("input button select textarea","autofocus")
c("input textarea","placeholder")
c("a","download")
c("link script img","crossorigin")
c("img","loading")
c("iframe","sandbox seamless allowfullscreen loading")}iu(su("a form meter progress dfn"),(function(e){t[e]&&delete t[e].children[e]}))
delete t.caption.children.table
delete t.script
nu[e]=t
return t}
var vu=function(e,t){var r
if(e){r={}
"string"===typeof e&&(e={"*":e})
iu(e,(function(e,n){r[n]=r[n.toUpperCase()]="map"===t?ou(e,/[, ]/):fu(e,/[, ]/)}))}return r}
var du=function(e){var t={}
var r={}
var n=[]
var a={},o={}
var i=function(t,r,n){var a=e[t]
if(a)a=ou(a,/[, ]/,ou(a.toUpperCase(),/[, ]/))
else{a=nu[t]
if(!a){a=ou(r," ",ou(r.toUpperCase()," "))
a=uu(a,n)
nu[t]=a}}return a}
e=e||{}
var u=lu(e.schema)
false===e.verify_html&&(e.valid_elements="*[*]")
var f=vu(e.valid_styles)
var c=vu(e.invalid_styles,"map")
var s=vu(e.valid_classes,"map")
var l=i("whitespace_elements","pre script noscript style textarea video audio iframe object code")
var v=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr")
var d=i("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track")
var m=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls")
var g="td th iframe video audio object script code"
var p=i("non_empty_elements",g+" pre",d)
var h=i("move_caret_before_on_enter_elements",g+" table",d)
var y=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")
var b=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y)
var C=i("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp")
iu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")}))
var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}
var x=function(e){var r,a,o,i,u,f,c,s,l,v,d,m,g,p,h,y,b,C
var x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/
if(e){var N=su(e,",")
if(t["@"]){y=t["@"].attributes
b=t["@"].attributesOrder}for(r=0,a=N.length;r<a;r++){u=x.exec(N[r])
if(u){p=u[1]
l=u[2]
h=u[3]
s=u[5]
m={}
g=[]
f={attributes:m,attributesOrder:g}
"#"===p&&(f.paddEmpty=true)
"-"===p&&(f.removeEmpty=true)
"!"===u[4]&&(f.removeEmptyAttrs=true)
if(y){Ce(y,(function(e,t){m[t]=e}))
g.push.apply(g,b)}if(s){s=su(s,"|")
for(o=0,i=s.length;o<i;o++){u=S.exec(s[o])
if(u){c={}
d=u[1]
v=u[2].replace(/[\\:]:/g,":")
p=u[3]
C=u[4]
if("!"===d){f.attributesRequired=f.attributesRequired||[]
f.attributesRequired.push(v)
c.required=true}if("-"===d){delete m[v]
g.splice(cu(g,v),1)
continue}if(p){if("="===p){f.attributesDefault=f.attributesDefault||[]
f.attributesDefault.push({name:v,value:C})
c.defaultValue=C}if(":"===p){f.attributesForced=f.attributesForced||[]
f.attributesForced.push({name:v,value:C})
c.forcedValue=C}"<"===p&&(c.validValues=ou(C,"?"))}if(k.test(v)){f.attributePatterns=f.attributePatterns||[]
c.pattern=w(v)
f.attributePatterns.push(c)}else{m[v]||g.push(v)
m[v]=c}}}}if(!y&&"@"===l){y=m
b=g}if(h){f.outputName=l
t[h]=f}if(k.test(l)){f.pattern=w(l)
n.push(f)}else t[l]=f}}}}
var S=function(e){t={}
n=[]
x(e)
iu(u,(function(e,t){r[t]=e.children}))}
var k=function(e){var n=/^(~)?(.+)$/
if(e){nu.text_block_elements=nu.block_elements=null
iu(su(e,","),(function(e){var o=n.exec(e),i="~"===o[1],u=i?"span":"div",f=o[2]
r[f]=r[u]
a[f]=u
if(!i){b[f.toUpperCase()]={}
b[f]={}}if(!t[f]){var c=t[u]
c=uu({},c)
delete c.removeEmptyAttrs
delete c.removeEmpty
t[f]=c}iu(r,(function(e,t){if(e[u]){r[t]=e=uu({},r[t])
e[f]=e[u]}}))}))}}
var N=function(t){var n=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/
nu[e.schema]=null
t&&iu(su(t,","),(function(e){var t=n.exec(e)
var a,o
if(t){o=t[1]
a=o?r[t[2]]:r[t[2]]={"#comment":{}}
a=r[t[2]]
iu(su(t[3],"|"),(function(e){"-"===o?delete a[e]:a[e]={}}))}}))}
var E=function(e){var r,a=t[e]
if(a)return a
r=n.length
while(r--){a=n[r]
if(a.pattern.test(e))return a}}
if(e.valid_elements)S(e.valid_elements)
else{iu(u,(function(e,n){t[n]={attributes:e.attributes,attributesOrder:e.attributesOrder}
r[n]=e.children}))
"html5"!==e.schema&&iu(su("strong/b em/i"),(function(e){var r=su(e,"/")
t[r[1]].outputName=r[0]}))
iu(su("ol ul sub sup blockquote span font a table tbody strong em b i"),(function(e){t[e]&&(t[e].removeEmpty=true)}))
iu(su("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){t[e].paddEmpty=true}))
iu(su("span"),(function(e){t[e].removeEmptyAttrs=true}))}k(e.custom_elements)
N(e.valid_children)
x(e.extended_valid_elements)
N("+ol[ul|ol],+ul[ul|ol]")
iu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,r){t[r]&&(t[r].parentsRequired=su(e))}))
e.invalid_elements&&iu(fu(e.invalid_elements),(function(e){t[e]&&delete t[e]}))
E("span")||x("span[!data-mce-type|*]")
var _=function(){return f}
var A=function(){return c}
var R=function(){return s}
var T=function(){return m}
var D=function(){return b}
var O=function(){return y}
var B=function(){return C}
var P=function(){return d}
var L=function(){return v}
var I=function(){return p}
var M=function(){return h}
var F=function(){return l}
var U=function(){return o}
var z=function(e,t){var n=r[e.toLowerCase()]
return!!(n&&n[t.toLowerCase()])}
var j=function(e,t){var r,n
var a=E(e)
if(a){if(!t)return true
if(a.attributes[t])return true
r=a.attributePatterns
if(r){n=r.length
while(n--)if(r[n].pattern.test(e))return true}}return false}
var H=function(){return a}
return{children:r,elements:t,getValidStyles:_,getValidClasses:R,getBlockElements:D,getInvalidStyles:A,getShortEndedElements:P,getTextBlockElements:O,getTextInlineElements:B,getBoolAttrs:T,getElementRule:E,getSelfClosingElements:L,getNonEmptyElements:I,getMoveCaretBeforeOnEnterElements:M,getWhiteSpaceElements:F,getSpecialElements:U,isValidChild:z,isValid:j,getCustomElements:H,addValidElements:x,setValidElements:S,addCustomElements:k,addValidChildren:N}}
var mu=function(e,t,r,n){var a=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+a(t)+a(r)+a(n)}
var gu=function(e,t){var r=this
var n=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi
var a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi
var o=/\s*([^:]+):\s*([^;]+);?/g
var i=/\s+$/
var u
var f={}
var c
var s
var l=Io
e=e||{}
if(t){c=t.getValidStyles()
s=t.getInvalidStyles()}var v=("\\\" \\' \\; \\: ; : "+l).split(" ")
for(u=0;u<v.length;u++){f[v[u]]=l+u
f[l+u]=v[u]}return{toHex:function(e){return e.replace(n,mu)},parse:function(t){var c={}
var s,v,d,m
var g=e.url_converter
var p=e.url_converter_scope||r
var h=function(e,t,r){var n=c[e+"-top"+t]
if(!n)return
var a=c[e+"-right"+t]
if(!a)return
var o=c[e+"-bottom"+t]
if(!o)return
var i=c[e+"-left"+t]
if(!i)return
var f=[n,a,o,i]
u=f.length-1
while(u--)if(f[u]!==f[u+1])break
if(u>-1&&r)return
c[e+t]=-1===u?f[0]:f.join(" ")
delete c[e+"-top"+t]
delete c[e+"-right"+t]
delete c[e+"-bottom"+t]
delete c[e+"-left"+t]}
var y=function(e){var t,r=c[e]
if(!r)return
r=r.split(" ")
t=r.length
while(t--)if(r[t]!==r[0])return false
c[e]=r[0]
return true}
var b=function(e,t,r,n){if(!y(t))return
if(!y(r))return
if(!y(n))return
c[e]=c[t]+" "+c[r]+" "+c[n]
delete c[t]
delete c[r]
delete c[n]}
var C=function(e){m=true
return f[e]}
var w=function(e,t){m&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return f[e]})))
t||(e=e.replace(/\\([\'\";:])/g,"$1"))
return e}
var x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))}
var S=function(e){return e.replace(/\\[0-9a-f]+/gi,x)}
var k=function(t,r,n,a,o,i){o=o||i
if(o){o=w(o)
return"'"+o.replace(/\'/g,"\\'")+"'"}r=w(r||n||a)
if(!e.allow_script_urls){var u=r.replace(/[\s\r\n]+/g,"")
if(/(java|vb)script:/i.test(u))return""
if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}g&&(r=g.call(p,r,"style"))
return"url('"+r.replace(/\'/g,"\\'")+"')"}
if(t){t=t.replace(/[\u0000-\u001F]/g,"")
t=t.replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,C)}))
while(s=o.exec(t)){o.lastIndex=s.index+s[0].length
v=s[1].replace(i,"").toLowerCase()
d=s[2].replace(i,"")
if(v&&d){v=S(v)
d=S(d)
if(-1!==v.indexOf(l)||-1!==v.indexOf('"'))continue
if(!e.allow_script_urls&&("behavior"===v||/expression\s*\(|\/\*|\*\//.test(d)))continue
"font-weight"===v&&"700"===d?d="bold":"color"!==v&&"background-color"!==v||(d=d.toLowerCase())
d=d.replace(n,mu)
d=d.replace(a,k)
c[v]=m?w(d,true):d}}h("border","",true)
h("border","-width")
h("border","-color")
h("border","-style")
h("padding","")
h("margin","")
b("border","border-width","border-style","border-color")
"medium none"===c.border&&delete c.border
"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(e,t){var r=""
var n=function(t){var n
var a=c[t]
if(a)for(var o=0,i=a.length;o<i;o++){t=a[o]
n=e[t]
n&&(r+=(r.length>0?" ":"")+t+": "+n+";")}}
var a=function(e,t){var r=s["*"]
if(r&&r[e])return false
r=s[t]
return!(r&&r[e])}
if(t&&c){n("*")
n(t)}else Ce(e,(function(e,n){!e||s&&!a(n,t)||(r+=(r.length>0?" ":"")+n+": "+e+";")}))
return r}}}
var pu="mce-data-"
var hu=/^(?:mouse|contextmenu)|click/
var yu={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1}
var bu=function(e){return e.isDefaultPrevented===wu||e.isDefaultPrevented===Cu}
var Cu=I
var wu=M
var xu=function(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n||false):e.attachEvent&&e.attachEvent("on"+t,r)}
var Su=function(e,t,r,n){e.removeEventListener?e.removeEventListener(t,r,n||false):e.detachEvent&&e.detachEvent("on"+t,r)}
var ku=function(e){return hu.test(e.type)}
var Nu=function(e,t){var r
var n=t||{}
for(r in e)yu[r]||(n[r]=e[r])
n.target||(n.target=n.srcElement||document)
n.composedPath&&(n.composedPath=function(){return e.composedPath()})
if(e&&ku(e)&&void 0===e.pageX&&void 0!==e.clientX){var a=n.target.ownerDocument||document
var o=a.documentElement
var i=a.body
n.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0)
n.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}n.preventDefault=function(){n.defaultPrevented=true
n.isDefaultPrevented=wu
e&&(e.preventDefault?e.preventDefault():e.returnValue=false)}
n.stopPropagation=function(){n.cancelBubble=true
n.isPropagationStopped=wu
e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=true)}
n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=wu
n.stopPropagation()}
if(false===bu(n)){n.isDefaultPrevented=true===n.defaultPrevented?wu:Cu
n.isPropagationStopped=true===n.cancelBubble?wu:Cu
n.isImmediatePropagationStopped=Cu}"undefined"===typeof n.metaKey&&(n.metaKey=false)
return n}
var Eu=function(e,t,r){var n=e.document,a={type:"ready"}
if(r.domLoaded){t(a)
return}var o=function(){return"complete"===n.readyState||"interactive"===n.readyState&&n.body}
var i=function(){Su(e,"DOMContentLoaded",i)
Su(e,"load",i)
if(!r.domLoaded){r.domLoaded=true
t(a)}e=null}
o()?i():xu(e,"DOMContentLoaded",i)
r.domLoaded||xu(e,"load",i)}
var _u=function(){function e(){this.domLoaded=false
this.events={}
this.count=1
this.expando=pu+(+new Date).toString(32)
this.hasMouseEnterLeave="onmouseenter"in document.documentElement
this.hasFocusIn="onfocusin"in document.documentElement
this.count=1}e.prototype.bind=function(e,t,r,n){var a=this
var o,i,u,f,c,s,l
var v=window
var d=function(e){a.executeHandlers(Nu(e||v.event),o)}
if(!e||3===e.nodeType||8===e.nodeType)return
if(e[a.expando])o=e[a.expando]
else{o=a.count++
e[a.expando]=o
a.events[o]={}}n=n||e
var m=t.split(" ")
u=m.length
while(u--){f=m[u]
s=d
c=l=false
"DOMContentLoaded"===f&&(f="ready")
if(a.domLoaded&&"ready"===f&&"complete"===e.readyState){r.call(n,Nu({type:f}))
continue}if(!a.hasMouseEnterLeave){c=a.mouseEnterLeave[f]
c&&(s=function(e){var t=e.currentTarget
var r=e.relatedTarget
if(r&&t.contains)r=t.contains(r)
else while(r&&r!==t)r=r.parentNode
if(!r){e=Nu(e||v.event)
e.type="mouseout"===e.type?"mouseleave":"mouseenter"
e.target=t
a.executeHandlers(e,o)}})}if(!a.hasFocusIn&&("focusin"===f||"focusout"===f)){l=true
c="focusin"===f?"focus":"blur"
s=function(e){e=Nu(e||v.event)
e.type="focus"===e.type?"focusin":"focusout"
a.executeHandlers(e,o)}}i=a.events[o][f]
if(i)"ready"===f&&a.domLoaded?r(Nu({type:f})):i.push({func:r,scope:n})
else{a.events[o][f]=i=[{func:r,scope:n}]
i.fakeName=c
i.capture=l
i.nativeHandler=s
"ready"===f?Eu(e,s,a):xu(e,c||f,s,l)}}e=i=null
return r}
e.prototype.unbind=function(e,t,r){var n,a,o,i,u
if(!e||3===e.nodeType||8===e.nodeType)return this
var f=e[this.expando]
if(f){u=this.events[f]
if(t){var c=t.split(" ")
a=c.length
while(a--){i=c[a]
n=u[i]
if(n){if(r){o=n.length
while(o--)if(n[o].func===r){var s=n.nativeHandler
var l=n.fakeName,v=n.capture
n=n.slice(0,o).concat(n.slice(o+1))
n.nativeHandler=s
n.fakeName=l
n.capture=v
u[i]=n}}if(!r||0===n.length){delete u[i]
Su(e,n.fakeName||i,n.nativeHandler,n.capture)}}}}else{Ce(u,(function(t,r){Su(e,t.fakeName||r,t.nativeHandler,t.capture)}))
u={}}for(i in u)if(Te(u,i))return this
delete this.events[f]
try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}
e.prototype.fire=function(e,t,r){var n
if(!e||3===e.nodeType||8===e.nodeType)return this
var a=Nu(null,r)
a.type=t
a.target=e
do{n=e[this.expando]
n&&this.executeHandlers(a,n)
e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!a.isPropagationStopped())
return this}
e.prototype.clean=function(e){var t,r
if(!e||3===e.nodeType||8===e.nodeType)return this
e[this.expando]&&this.unbind(e)
e.getElementsByTagName||(e=e.document)
if(e&&e.getElementsByTagName){this.unbind(e)
r=e.getElementsByTagName("*")
t=r.length
while(t--){e=r[t]
e[this.expando]&&this.unbind(e)}}return this}
e.prototype.destroy=function(){this.events={}}
e.prototype.cancel=function(e){if(e){e.preventDefault()
e.stopImmediatePropagation()}return false}
e.prototype.executeHandlers=function(e,t){var r=this.events[t]
var n=r&&r[e.type]
if(n)for(var a=0,o=n.length;a<o;a++){var i=n[a]
i&&false===i.func.call(i.scope,e)&&e.preventDefault()
if(e.isImmediatePropagationStopped())return}}
e.Event=new e
return e}()
var Au,Ru,Tu,Du,Ou,Bu,Pu,Lu,Iu,Mu,Fu,Uu,zu,ju,Hu,Vu,qu,$u,Wu="sizzle"+-new Date,Ku=window.document,Xu=0,Yu=0,Gu=Df(),Ju=Df(),Qu=Df(),Zu=function(e,t){e===t&&(Mu=true)
return 0},ef="undefined",tf=1<<31,rf={}.hasOwnProperty,nf=[],af=nf.pop,of=nf.push,uf=nf.push,ff=nf.slice,cf=nf.indexOf||function(e){var t=0,r=this.length
for(;t<r;t++)if(this[t]===e)return t
return-1},sf="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lf="[\\x20\\t\\r\\n\\f]",vf="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",df="\\["+lf+"*("+vf+")(?:"+lf+"*([*^$|!~]?=)"+lf+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+vf+"))|)"+lf+"*\\]",mf=":("+vf+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+df+")*)|.*)\\)|)",gf=new RegExp("^"+lf+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lf+"+$","g"),pf=new RegExp("^"+lf+"*,"+lf+"*"),hf=new RegExp("^"+lf+"*([>+~]|"+lf+")"+lf+"*"),yf=new RegExp("="+lf+"*([^\\]'\"]*?)"+lf+"*\\]","g"),bf=new RegExp(mf),Cf=new RegExp("^"+vf+"$"),wf={ID:new RegExp("^#("+vf+")"),CLASS:new RegExp("^\\.("+vf+")"),TAG:new RegExp("^("+vf+"|[*])"),ATTR:new RegExp("^"+df),PSEUDO:new RegExp("^"+mf),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lf+"*(even|odd|(([+-]|)(\\d*)n|)"+lf+"*(?:([+-]|)"+lf+"*(\\d+)|))"+lf+"*\\)|)","i"),bool:new RegExp("^(?:"+sf+")$","i"),needsContext:new RegExp("^"+lf+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lf+"*((?:-\\d)?\\d*)"+lf+"*\\)|)(?=[^-]|$)","i")},xf=/^(?:input|select|textarea|button)$/i,Sf=/^h\d$/i,kf=/^[^{]+\{\s*\[native \w/,Nf=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ef=/[+~]/,_f=/'|\\/g,Af=new RegExp("\\\\([\\da-f]{1,6}"+lf+"?|("+lf+")|.)","ig"),Rf=function(e,t,r){var n="0x"+t-65536
return n!==n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}
try{uf.apply(nf=ff.call(Ku.childNodes),Ku.childNodes)
nf[Ku.childNodes.length].nodeType}catch(e){uf={apply:nf.length?function(e,t){of.apply(e,ff.call(t))}:function(e,t){var r=e.length,n=0
while(e[r++]=t[n++]);e.length=r-1}}}var Tf=function(e,t,r,n){var a,o,i,u,f,c,s,l,v,d;(t?t.ownerDocument||t:Ku)!==Uu&&Fu(t)
t=t||Uu
r=r||[]
if(!e||"string"!==typeof e)return r
if(1!==(u=t.nodeType)&&9!==u)return[]
if(ju&&!n){if(a=Nf.exec(e))if(i=a[1]){if(9===u){o=t.getElementById(i)
if(!o||!o.parentNode)return r
if(o.id===i){r.push(o)
return r}}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(i))&&$u(t,o)&&o.id===i){r.push(o)
return r}}else{if(a[2]){uf.apply(r,t.getElementsByTagName(e))
return r}if((i=a[3])&&Au.getElementsByClassName){uf.apply(r,t.getElementsByClassName(i))
return r}}if(Au.qsa&&(!Hu||!Hu.test(e))){l=s=Wu
v=t
d=9===u&&e
if(1===u&&"object"!==t.nodeName.toLowerCase()){c=Ou(e);(s=t.getAttribute("id"))?l=s.replace(_f,"\\$&"):t.setAttribute("id",l)
l="[id='"+l+"'] "
f=c.length
while(f--)c[f]=l+Uf(c[f])
v=Ef.test(e)&&Mf(t.parentNode)||t
d=c.join(",")}if(d)try{uf.apply(r,v.querySelectorAll(d))
return r}catch(e){}finally{s||t.removeAttribute("id")}}}return Pu(e.replace(gf,"$1"),t,r,n)}
function Df(){var e=[]
function t(r,n){e.push(r+" ")>Ru.cacheLength&&delete t[e.shift()]
return t[r+" "]=n}return t}function Of(e){e[Wu]=true
return e}function Bf(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||tf)-(~e.sourceIndex||tf)
if(n)return n
if(r)while(r=r.nextSibling)if(r===t)return-1
return e?1:-1}function Pf(e){return function(t){var r=t.nodeName.toLowerCase()
return"input"===r&&t.type===e}}function Lf(e){return function(t){var r=t.nodeName.toLowerCase()
return("input"===r||"button"===r)&&t.type===e}}function If(e){return Of((function(t){t=+t
return Of((function(r,n){var a,o=e([],r.length,t),i=o.length
while(i--)r[a=o[i]]&&(r[a]=!(n[a]=r[a]))}))}))}function Mf(e){return e&&typeof e.getElementsByTagName!==ef&&e}Au=Tf.support={}
Du=Tf.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return!!t&&"HTML"!==t.nodeName}
Fu=Tf.setDocument=function(e){var t,r=e?e.ownerDocument||e:Ku,n=r.defaultView
function a(e){try{return e.top}catch(e){}return null}if(r===Uu||9!==r.nodeType||!r.documentElement)return Uu
Uu=r
zu=r.documentElement
ju=!Du(r)
n&&n!==a(n)&&(n.addEventListener?n.addEventListener("unload",(function(){Fu()}),false):n.attachEvent&&n.attachEvent("onunload",(function(){Fu()})))
Au.attributes=true
Au.getElementsByTagName=true
Au.getElementsByClassName=kf.test(r.getElementsByClassName)
Au.getById=true
Ru.find.ID=function(e,t){if(typeof t.getElementById!==ef&&ju){var r=t.getElementById(e)
return r&&r.parentNode?[r]:[]}}
Ru.filter.ID=function(e){var t=e.replace(Af,Rf)
return function(e){return e.getAttribute("id")===t}}
Ru.find.TAG=Au.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==ef)return t.getElementsByTagName(e)}:function(e,t){var r,n=[],a=0,o=t.getElementsByTagName(e)
if("*"===e){while(r=o[a++])1===r.nodeType&&n.push(r)
return n}return o}
Ru.find.CLASS=Au.getElementsByClassName&&function(e,t){if(ju)return t.getElementsByClassName(e)}
Vu=[]
Hu=[]
Au.disconnectedMatch=true
Hu=Hu.length&&new RegExp(Hu.join("|"))
Vu=Vu.length&&new RegExp(Vu.join("|"))
t=kf.test(zu.compareDocumentPosition)
$u=t||kf.test(zu.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
return e===n||!!(n&&1===n.nodeType&&(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return true
return false}
Zu=t?function(e,t){if(e===t){Mu=true
return 0}var n=!e.compareDocumentPosition-!t.compareDocumentPosition
if(n)return n
n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1
if(1&n||!Au.sortDetached&&t.compareDocumentPosition(e)===n){if(e===r||e.ownerDocument===Ku&&$u(Ku,e))return-1
if(t===r||t.ownerDocument===Ku&&$u(Ku,t))return 1
return Iu?cf.call(Iu,e)-cf.call(Iu,t):0}return 4&n?-1:1}:function(e,t){if(e===t){Mu=true
return 0}var n,a=0,o=e.parentNode,i=t.parentNode,u=[e],f=[t]
if(!o||!i)return e===r?-1:t===r?1:o?-1:i?1:Iu?cf.call(Iu,e)-cf.call(Iu,t):0
if(o===i)return Bf(e,t)
n=e
while(n=n.parentNode)u.unshift(n)
n=t
while(n=n.parentNode)f.unshift(n)
while(u[a]===f[a])a++
return a?Bf(u[a],f[a]):u[a]===Ku?-1:f[a]===Ku?1:0}
return r}
Tf.matches=function(e,t){return Tf(e,null,null,t)}
Tf.matchesSelector=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
t=t.replace(yf,"='$1']")
if(Au.matchesSelector&&ju&&(!Vu||!Vu.test(t))&&(!Hu||!Hu.test(t)))try{var r=qu.call(e,t)
if(r||Au.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return Tf(t,Uu,null,[e]).length>0}
Tf.contains=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
return $u(e,t)}
Tf.attr=function(e,t){(e.ownerDocument||e)!==Uu&&Fu(e)
var r=Ru.attrHandle[t.toLowerCase()],n=r&&rf.call(Ru.attrHandle,t.toLowerCase())?r(e,t,!ju):void 0
return void 0!==n?n:Au.attributes||!ju?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null}
Tf.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)}
Tf.uniqueSort=function(e){var t,r=[],n=0,a=0
Mu=!Au.detectDuplicates
Iu=!Au.sortStable&&e.slice(0)
e.sort(Zu)
if(Mu){while(t=e[a++])t===e[a]&&(n=r.push(a))
while(n--)e.splice(r[n],1)}Iu=null
return e}
Tu=Tf.getText=function(e){var t,r="",n=0,a=e.nodeType
if(a){if(1===a||9===a||11===a){if("string"===typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)r+=Tu(e)}else if(3===a||4===a)return e.nodeValue}else while(t=e[n++])r+=Tu(t)
return r}
Ru=Tf.selectors={cacheLength:50,createPseudo:Of,match:wf,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(Af,Rf)
e[3]=(e[3]||e[4]||e[5]||"").replace(Af,Rf)
"~="===e[2]&&(e[3]=" "+e[3]+" ")
return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase()
if("nth"===e[1].slice(0,3)){e[3]||Tf.error(e[0])
e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3]))
e[5]=+(e[7]+e[8]||"odd"===e[3])}else e[3]&&Tf.error(e[0])
return e},PSEUDO:function(e){var t,r=!e[6]&&e[2]
if(wf.CHILD.test(e[0]))return null
if(e[3])e[2]=e[4]||e[5]||""
else if(r&&bf.test(r)&&(t=Ou(r,true))&&(t=r.indexOf(")",r.length-t)-r.length)){e[0]=e[0].slice(0,t)
e[2]=r.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(Af,Rf).toLowerCase()
return"*"===e?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Gu[e+" "]
return t||(t=new RegExp("(^|"+lf+")"+e+"("+lf+"|$)"))&&Gu(e,(function(e){return t.test("string"===typeof e.className&&e.className||typeof e.getAttribute!==ef&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var a=Tf.attr(n,e)
if(null==a)return"!="===t
if(!t)return true
a+=""
return"="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t&&(a===r||a.slice(0,r.length+1)===r+"-")}},CHILD:function(e,t,r,n,a){var o="nth"!==e.slice(0,3),i="last"!==e.slice(-4),u="of-type"===t
return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,r,f){var c,s,l,v,d,m,g=o!==i?"nextSibling":"previousSibling",p=t.parentNode,h=u&&t.nodeName.toLowerCase(),y=!f&&!u
if(p){if(o){while(g){l=t
while(l=l[g])if(u?l.nodeName.toLowerCase()===h:1===l.nodeType)return false
m=g="only"===e&&!m&&"nextSibling"}return true}m=[i?p.firstChild:p.lastChild]
if(i&&y){s=p[Wu]||(p[Wu]={})
c=s[e]||[]
d=c[0]===Xu&&c[1]
v=c[0]===Xu&&c[2]
l=d&&p.childNodes[d]
while(l=++d&&l&&l[g]||(v=d=0)||m.pop())if(1===l.nodeType&&++v&&l===t){s[e]=[Xu,d,v]
break}}else if(y&&(c=(t[Wu]||(t[Wu]={}))[e])&&c[0]===Xu)v=c[1]
else while(l=++d&&l&&l[g]||(v=d=0)||m.pop())if((u?l.nodeName.toLowerCase()===h:1===l.nodeType)&&++v){y&&((l[Wu]||(l[Wu]={}))[e]=[Xu,v])
if(l===t)break}v-=a
return v===n||v%n===0&&v/n>=0}}},PSEUDO:function(e,t){var r,n=Ru.pseudos[e]||Ru.setFilters[e.toLowerCase()]||Tf.error("unsupported pseudo: "+e)
if(n[Wu])return n(t)
if(n.length>1){r=[e,e,"",t]
return Ru.setFilters.hasOwnProperty(e.toLowerCase())?Of((function(e,r){var a,o=n(e,t),i=o.length
while(i--){a=cf.call(e,o[i])
e[a]=!(r[a]=o[i])}})):function(e){return n(e,0,r)}}return n}},pseudos:{not:Of((function(e){var t=[],r=[],n=Bu(e.replace(gf,"$1"))
return n[Wu]?Of((function(e,t,r,a){var o,i=n(e,null,a,[]),u=e.length
while(u--)(o=i[u])&&(e[u]=!(t[u]=o))})):function(e,a,o){t[0]=e
n(t,null,o,r)
t[0]=null
return!r.pop()}})),has:Of((function(e){return function(t){return Tf(e,t).length>0}})),contains:Of((function(e){e=e.replace(Af,Rf)
return function(t){return(t.textContent||t.innerText||Tu(t)).indexOf(e)>-1}})),lang:Of((function(e){Cf.test(e||"")||Tf.error("unsupported lang: "+e)
e=e.replace(Af,Rf).toLowerCase()
return function(t){var r
do{if(r=ju?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){r=r.toLowerCase()
return r===e||0===r.indexOf(e+"-")}}while((t=t.parentNode)&&1===t.nodeType)
return false}})),target:function(e){var t=window.location&&window.location.hash
return t&&t.slice(1)===e.id},root:function(e){return e===zu},focus:function(e){return e===Uu.activeElement&&(!Uu.hasFocus||Uu.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return false===e.disabled},disabled:function(e){return true===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex
return true===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return false
return true},parent:function(e){return!Ru.pseudos.empty(e)},header:function(e){return Sf.test(e.nodeName)},input:function(e){return xf.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:If((function(){return[0]})),last:If((function(e,t){return[t-1]})),eq:If((function(e,t,r){return[r<0?r+t:r]})),even:If((function(e,t){var r=0
for(;r<t;r+=2)e.push(r)
return e})),odd:If((function(e,t){var r=1
for(;r<t;r+=2)e.push(r)
return e})),lt:If((function(e,t,r){var n=r<0?r+t:r
for(;--n>=0;)e.push(n)
return e})),gt:If((function(e,t,r){var n=r<0?r+t:r
for(;++n<t;)e.push(n)
return e}))}}
Ru.pseudos.nth=Ru.pseudos.eq
J(["radio","checkbox","file","password","image"],(function(e){Ru.pseudos[e]=Pf(e)}))
J(["submit","reset"],(function(e){Ru.pseudos[e]=Lf(e)}))
function Ff(){}Ff.prototype=Ru.filters=Ru.pseudos
Ru.setFilters=new Ff
Ou=Tf.tokenize=function(e,t){var r,n,a,o,i,u,f,c=Ju[e+" "]
if(c)return t?0:c.slice(0)
i=e
u=[]
f=Ru.preFilter
while(i){if(!r||(n=pf.exec(i))){n&&(i=i.slice(n[0].length)||i)
u.push(a=[])}r=false
if(n=hf.exec(i)){r=n.shift()
a.push({value:r,type:n[0].replace(gf," ")})
i=i.slice(r.length)}for(o in Ru.filter){if(!Ru.filter.hasOwnProperty(o))continue
if((n=wf[o].exec(i))&&(!f[o]||(n=f[o](n)))){r=n.shift()
a.push({value:r,type:o,matches:n})
i=i.slice(r.length)}}if(!r)break}return t?i.length:i?Tf.error(e):Ju(e,u).slice(0)}
function Uf(e){var t=0,r=e.length,n=""
for(;t<r;t++)n+=e[t].value
return n}function zf(e,t,r){var n=t.dir,a=r&&"parentNode"===n,o=Yu++
return t.first?function(t,r,o){while(t=t[n])if(1===t.nodeType||a)return e(t,r,o)}:function(t,r,i){var u,f,c=[Xu,o]
if(i){while(t=t[n])if((1===t.nodeType||a)&&e(t,r,i))return true}else while(t=t[n])if(1===t.nodeType||a){f=t[Wu]||(t[Wu]={})
if((u=f[n])&&u[0]===Xu&&u[1]===o)return c[2]=u[2]
f[n]=c
if(c[2]=e(t,r,i))return true}}}function jf(e){return e.length>1?function(t,r,n){var a=e.length
while(a--)if(!e[a](t,r,n))return false
return true}:e[0]}function Hf(e,t,r){var n=0,a=t.length
for(;n<a;n++)Tf(e,t[n],r)
return r}function Vf(e,t,r,n,a){var o,i=[],u=0,f=e.length,c=null!=t
for(;u<f;u++)if((o=e[u])&&(!r||r(o,n,a))){i.push(o)
c&&t.push(u)}return i}function qf(e,t,r,n,a,o){n&&!n[Wu]&&(n=qf(n))
a&&!a[Wu]&&(a=qf(a,o))
return Of((function(o,i,u,f){var c,s,l,v=[],d=[],m=i.length,g=o||Hf(t||"*",u.nodeType?[u]:u,[]),p=!e||!o&&t?g:Vf(g,v,e,u,f),h=r?a||(o?e:m||n)?[]:i:p
r&&r(p,h,u,f)
if(n){c=Vf(h,d)
n(c,[],u,f)
s=c.length
while(s--)(l=c[s])&&(h[d[s]]=!(p[d[s]]=l))}if(o){if(a||e){if(a){c=[]
s=h.length
while(s--)(l=h[s])&&c.push(p[s]=l)
a(null,h=[],c,f)}s=h.length
while(s--)(l=h[s])&&(c=a?cf.call(o,l):v[s])>-1&&(o[c]=!(i[c]=l))}}else{h=Vf(h===i?h.splice(m,h.length):h)
a?a(null,i,h,f):uf.apply(i,h)}}))}function $f(e){var t,r,n,a=e.length,o=Ru.relative[e[0].type],i=o||Ru.relative[" "],u=o?1:0,f=zf((function(e){return e===t}),i,true),c=zf((function(e){return cf.call(t,e)>-1}),i,true),s=[function(e,r,n){var a=!o&&(n||r!==Lu)||((t=r).nodeType?f(e,r,n):c(e,r,n))
t=null
return a}]
for(;u<a;u++)if(r=Ru.relative[e[u].type])s=[zf(jf(s),r)]
else{r=Ru.filter[e[u].type].apply(null,e[u].matches)
if(r[Wu]){n=++u
for(;n<a;n++)if(Ru.relative[e[n].type])break
return qf(u>1&&jf(s),u>1&&Uf(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(gf,"$1"),r,u<n&&$f(e.slice(u,n)),n<a&&$f(e=e.slice(n)),n<a&&Uf(e))}s.push(r)}return jf(s)}function Wf(e,t){var r=t.length>0,n=e.length>0,a=function(a,o,i,u,f){var c,s,l,v=0,d="0",m=a&&[],g=[],p=Lu,h=a||n&&Ru.find.TAG("*",f),y=Xu+=null==p?1:Math.random()||.1,b=h.length
f&&(Lu=o!==Uu&&o)
for(;d!==b&&null!=(c=h[d]);d++){if(n&&c){s=0
while(l=e[s++])if(l(c,o,i)){u.push(c)
break}f&&(Xu=y)}if(r){(c=!l&&c)&&v--
a&&m.push(c)}}v+=d
if(r&&d!==v){s=0
while(l=t[s++])l(m,g,o,i)
if(a){if(v>0)while(d--)m[d]||g[d]||(g[d]=af.call(u))
g=Vf(g)}uf.apply(u,g)
f&&!a&&g.length>0&&v+t.length>1&&Tf.uniqueSort(u)}if(f){Xu=y
Lu=p}return m}
return r?Of(a):a}Bu=Tf.compile=function(e,t){var r,n=[],a=[],o=Qu[e+" "]
if(!o){t||(t=Ou(e))
r=t.length
while(r--){o=$f(t[r])
o[Wu]?n.push(o):a.push(o)}o=Qu(e,Wf(a,n))
o.selector=e}return o}
Pu=Tf.select=function(e,t,r,n){var a,o,i,u,f,c="function"===typeof e&&e,s=!n&&Ou(e=c.selector||e)
r=r||[]
if(1===s.length){o=s[0]=s[0].slice(0)
if(o.length>2&&"ID"===(i=o[0]).type&&Au.getById&&9===t.nodeType&&ju&&Ru.relative[o[1].type]){t=(Ru.find.ID(i.matches[0].replace(Af,Rf),t)||[])[0]
if(!t)return r
c&&(t=t.parentNode)
e=e.slice(o.shift().value.length)}a=wf.needsContext.test(e)?0:o.length
while(a--){i=o[a]
if(Ru.relative[u=i.type])break
if((f=Ru.find[u])&&(n=f(i.matches[0].replace(Af,Rf),Ef.test(o[0].type)&&Mf(t.parentNode)||t))){o.splice(a,1)
e=n.length&&Uf(o)
if(!e){uf.apply(r,n)
return r}break}}}(c||Bu(e,s))(n,t,!ju,r,Ef.test(e)&&Mf(t.parentNode)||t)
return r}
Au.sortStable=Wu.split("").sort(Zu).join("")===Wu
Au.detectDuplicates=!!Mu
Fu()
Au.sortDetached=true
var Kf=document
var Xf=Array.prototype.push
var Yf=Array.prototype.slice
var Gf=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/
var Jf=_u.Event
var Qf=sr.makeMap("children,contents,next,prev")
var Zf=function(e){return"undefined"!==typeof e}
var ec=function(e){return"string"===typeof e}
var tc=function(e){return e&&e===e.window}
var rc=function(e,t){t=t||Kf
var r=t.createElement("div")
var n=t.createDocumentFragment()
r.innerHTML=e
var a
while(a=r.firstChild)n.appendChild(a)
return n}
var nc=function(e,t,r,n){var a
if(ec(t))t=rc(t,yc(e[0]))
else if(t.length&&!t.nodeType){t=xc.makeArray(t)
if(n)for(a=t.length-1;a>=0;a--)nc(e,t[a],r,n)
else for(a=0;a<t.length;a++)nc(e,t[a],r,n)
return e}if(t.nodeType){a=e.length
while(a--)r.call(e[a],t)}return e}
var ac=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}
var oc=function(e,t,r){var n,a
t=xc(t)[0]
e.each((function(){var e=this
if(r&&n===e.parentNode)a.appendChild(e)
else{n=e.parentNode
a=t.cloneNode(false)
e.parentNode.insertBefore(a,e)
a.appendChild(e)}}))
return e}
var ic=sr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ")
var uc=sr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ")
var fc={for:"htmlFor",class:"className",readonly:"readOnly"}
var cc={float:"cssFloat"}
var sc={},lc={}
var vc=function(e,t){return new xc.fn.init(e,t)}
var dc=function(e,t){var r
if(t.indexOf)return t.indexOf(e)
r=t.length
while(r--)if(t[r]===e)return r
return-1}
var mc=/^\s*|\s*$/g
var gc=function(e){return null===e||void 0===e?"":(""+e).replace(mc,"")}
var pc=function(e,t){var r,n,a,o
if(e){r=e.length
if(void 0===r){for(n in e)if(e.hasOwnProperty(n)){o=e[n]
if(false===t.call(o,n,o))break}}else for(a=0;a<r;a++){o=e[a]
if(false===t.call(o,a,o))break}}return e}
var hc=function(e,t){var r=[]
pc(e,(function(e,n){t(n,e)&&r.push(n)}))
return r}
var yc=function(e){if(!e)return Kf
if(9===e.nodeType)return e
return e.ownerDocument}
vc.fn=vc.prototype={constructor:vc,selector:"",context:null,length:0,init:function(e,t){var r=this
var n,a
if(!e)return r
if(e.nodeType){r.context=r[0]=e
r.length=1
return r}if(t&&t.nodeType)r.context=t
else{if(t)return xc(e).attr(t)
r.context=t=document}if(ec(e)){r.selector=e
n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Gf.exec(e)
if(!n)return xc(t).find(e)
if(n[1]){a=rc(e,yc(t)).firstChild
while(a){Xf.call(r,a)
a=a.nextSibling}}else{a=yc(t).getElementById(n[2])
if(!a)return r
if(a.id!==n[2])return r.find(e)
r.length=1
r[0]=a}}else this.add(e,false)
return r},toArray:function(){return sr.toArray(this)},add:function(e,t){var r=this
var n,a
if(ec(e))return r.add(xc(e))
if(false!==t){n=xc.unique(r.toArray().concat(xc.makeArray(e)))
r.length=n.length
for(a=0;a<n.length;a++)r[a]=n[a]}else Xf.apply(r,xc.makeArray(e))
return r},attr:function(e,t){var r=this
var n
if("object"===typeof e)pc(e,(function(e,t){r.attr(e,t)}))
else{if(!Zf(t)){if(r[0]&&1===r[0].nodeType){n=sc[e]
if(n&&n.get)return n.get(r[0],e)
if(uc[e])return r.prop(e)?e:void 0
t=r[0].getAttribute(e,2)
null===t&&(t=void 0)}return t}this.each((function(){var r
if(1===this.nodeType){r=sc[e]
if(r&&r.set){r.set(this,t)
return}null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}}))}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var r=this
e=fc[e]||e
if("object"===typeof e)pc(e,(function(e,t){r.prop(e,t)}))
else{if(!Zf(t)){if(r[0]&&r[0].nodeType&&e in r[0])return r[0][e]
return t}this.each((function(){1===this.nodeType&&(this[e]=t)}))}return r},css:function(e,t){var r=this
var n,a
var o=function(e){return e.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))}
var i=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e}))}
if("object"===typeof e)pc(e,(function(e,t){r.css(e,t)}))
else if(Zf(t)){e=o(e)
"number"!==typeof t||ic[e]||(t=t.toString()+"px")
r.each((function(){var r=this.style
a=lc[e]
if(a&&a.set){a.set(this,t)
return}try{this.style[cc[e]||e]=t}catch(e){}null!==t&&""!==t||(r.removeProperty?r.removeProperty(i(e)):r.removeAttribute(e))}))}else{n=r[0]
a=lc[e]
if(a&&a.get)return a.get(n)
if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:""
try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(i(e))}catch(e){return}}return r},remove:function(){var e=this
var t,r=this.length
while(r--){t=e[r]
Jf.clean(t)
t.parentNode&&t.parentNode.removeChild(t)}return this},empty:function(){var e=this
var t,r=this.length
while(r--){t=e[r]
while(t.firstChild)t.removeChild(t.firstChild)}return this},html:function(e){var t=this
var r
if(Zf(e)){r=t.length
try{while(r--)t[r].innerHTML=e}catch(n){xc(t[r]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this
var r
if(Zf(e)){r=t.length
while(r--)"innerText"in t[r]?t[r].innerText=e:t[0].textContent=e
return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return nc(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)}))},prepend:function(){return nc(this,arguments,(function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)}),true)},before:function(){var e=this
if(e[0]&&e[0].parentNode)return nc(e,arguments,(function(e){this.parentNode.insertBefore(e,this)}))
return e},after:function(){var e=this
if(e[0]&&e[0].parentNode)return nc(e,arguments,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}),true)
return e},appendTo:function(e){xc(e).append(this)
return this},prependTo:function(e){xc(e).prepend(this)
return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return oc(this,e)},wrapAll:function(e){return oc(this,e,true)},wrapInner:function(e){this.each((function(){xc(this).contents().wrapAll(e)}))
return this},unwrap:function(){return this.parent().each((function(){xc(this).replaceWith(this.childNodes)}))},clone:function(){var e=[]
this.each((function(){e.push(this.cloneNode(true))}))
return xc(e)},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var r=this
if("string"!==typeof e)return r;-1!==e.indexOf(" ")?pc(e.split(" "),(function(){r.toggleClass(this,t)})):r.each((function(r,n){var a=ac(n,e)
if(a!==t){var o=n.className
a?n.className=gc((" "+o+" ").replace(" "+e+" "," ")):n.className+=o?" "+e:e}}))
return r},hasClass:function(e){return ac(this[0],e)},each:function(e){return pc(this,e)},on:function(e,t){return this.each((function(){Jf.bind(this,e,t)}))},off:function(e,t){return this.each((function(){Jf.unbind(this,e,t)}))},trigger:function(e){return this.each((function(){"object"===typeof e?Jf.fire(this,e.type,e):Jf.fire(this,e)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return xc(Yf.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,r
var n=[]
for(t=0,r=this.length;t<r;t++)xc.find(e,this[t],n)
return xc(n)},filter:function(e){if("function"===typeof e)return xc(hc(this.toArray(),(function(t,r){return e(r,t)})))
return xc(xc.filter(e,this.toArray()))},closest:function(e){var t=[]
e instanceof xc&&(e=e[0])
this.each((function(r,n){while(n){if("string"===typeof e&&xc(n).is(e)){t.push(n)
break}if(n===e){t.push(n)
break}n=n.parentNode}}))
return xc(t)},offset:function(e){var t,r,n
var a,o=0,i=0
if(!e){t=this[0]
if(t){r=t.ownerDocument
n=r.documentElement
if(t.getBoundingClientRect){a=t.getBoundingClientRect()
o=a.left+(n.scrollLeft||r.body.scrollLeft)-n.clientLeft
i=a.top+(n.scrollTop||r.body.scrollTop)-n.clientTop}}return{left:o,top:i}}return this.css(e)},push:Xf,sort:Array.prototype.sort,splice:Array.prototype.splice}
sr.extend(vc,{extend:sr.extend,makeArray:function(e){if(tc(e)||e.nodeType)return[e]
return sr.toArray(e)},inArray:dc,isArray:sr.isArray,each:pc,trim:gc,grep:hc,find:Tf,expr:Tf.selectors,unique:Tf.uniqueSort,text:Tf.getText,contains:Tf.contains,filter:function(e,t,r){var n=t.length
r&&(e=":not("+e+")")
while(n--)1!==t[n].nodeType&&t.splice(n,1)
t=1===t.length?xc.find.matchesSelector(t[0],e)?[t[0]]:[]:xc.find.matches(e,t)
return t}})
var bc=function(e,t,r){var n=[]
var a=e[t]
"string"!==typeof r&&r instanceof xc&&(r=r[0])
while(a&&9!==a.nodeType){if(void 0!==r){if(a===r)break
if("string"===typeof r&&xc(a).is(r))break}1===a.nodeType&&n.push(a)
a=a[t]}return n}
var Cc=function(e,t,r,n){var a=[]
n instanceof xc&&(n=n[0])
for(;e;e=e[t]){if(r&&e.nodeType!==r)continue
if(void 0!==n){if(e===n)break
if("string"===typeof n&&xc(e).is(n))break}a.push(e)}return a}
var wc=function(e,t,r){for(e=e[t];e;e=e[t])if(e.nodeType===r)return e
return null}
pc({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return bc(e,"parentNode")},next:function(e){return wc(e,"nextSibling",1)},prev:function(e){return wc(e,"previousSibling",1)},children:function(e){return Cc(e.firstChild,"nextSibling",1)},contents:function(e){return sr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},(function(e,t){vc.fn[e]=function(r){var n=this
var a=[]
n.each((function(){var e=t.call(a,this,r,a)
e&&(xc.isArray(e)?a.push.apply(a,e):a.push(e))}))
if(this.length>1){Qf[e]||(a=xc.unique(a))
0===e.indexOf("parents")&&(a=a.reverse())}var o=xc(a)
if(r)return o.filter(r)
return o}}))
pc({parentsUntil:function(e,t){return bc(e,"parentNode",t)},nextUntil:function(e,t){return Cc(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Cc(e,"previousSibling",1,t).slice(1)}},(function(e,t){vc.fn[e]=function(r,n){var a=this
var o=[]
a.each((function(){var e=t.call(o,this,r,o)
e&&(xc.isArray(e)?o.push.apply(o,e):o.push(e))}))
if(this.length>1){o=xc.unique(o)
0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse())}var i=xc(o)
if(n)return i.filter(n)
return i}}))
vc.fn.is=function(e){return!!e&&this.filter(e).length>0}
vc.fn.init.prototype=vc.fn
vc.overrideDefaults=function(e){var t
var r=function(n,a){t=t||e()
0===arguments.length&&(n=t.element)
a||(a=t.context)
return new r.fn.init(n,a)}
xc.extend(r,this)
return r}
vc.attrHooks=sc
vc.cssHooks=lc
var xc=vc
var Sc=sr.each
var kc=sr.grep
var Nc=Jt.ie
var Ec=/^([a-z0-9],?)+$/i
var _c=function(e,t,r){var n=t.keep_values
var a={set:function(e,n,a){t.url_converter&&(n=t.url_converter.call(t.url_converter_scope||r(),n,a,e[0]))
e.attr("data-mce-"+a,n).attr(a,n)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}
var o={style:{set:function(t,r){if(null!==r&&"object"===typeof r){t.css(r)
return}n&&t.attr("data-mce-style",r)
if(null!==r&&"string"===typeof r){t.removeAttr("style")
t.css(e.parse(r))}else t.attr("style",r)},get:function(t){var r=t.attr("data-mce-style")||t.attr("style")
r=e.serialize(e.parse(r),t[0].nodeName)
return r}}}
n&&(o.href=o.src=a)
return o}
var Ac=function(e,t){var r=t.attr("style")
var n=e.serialize(e.parse(r),t[0].nodeName)
n||(n=null)
t.attr("data-mce-style",n)}
var Rc=function(e,t){var r,n,a=0
if(e)for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){n=e.nodeType
if(t&&3===n&&(n===r||!e.nodeValue.length))continue
a++
r=n}return a}
var Tc=function(e,t){void 0===t&&(t={})
var r={}
var n=window
var a={}
var o=0
var i=true
var u=true
var f=vo.forElement(pr.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy})
var c=[]
var s=t.schema?t.schema:du({})
var l=gu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema)
var v=t.ownEvents?new _u:_u.Event
var d=s.getBlockElements()
var m=xc.overrideDefaults((function(){return{context:e,element:Te.getRoot()}}))
var g=function(e){if("string"===typeof e)return!!d[e]
if(e){var t=e.nodeType
if(t)return!!(1===t&&d[e.nodeName])}return false}
var h=function(t){return t&&e&&p(t)?e.getElementById(t):t}
var y=function(e){return m("string"===typeof e?h(e):e)}
var b=function(e,t,r){var n,a
var o=y(e)
if(o.length){n=De[t]
a=n&&n.get?n.get(o,t):o.attr(t)}"undefined"===typeof a&&(a=r||"")
return a}
var C=function(e){var t=h(e)
if(!t)return[]
return t.attributes}
var w=function(e,r,n){""===n&&(n=null)
var a=y(e)
var o=a.attr(r)
if(!a.length)return
var i=De[r]
i&&i.set?i.set(a,n,r):a.attr(r,n)
o!==n&&t.onSetAttrib&&t.onSetAttrib({attrElm:a,attrName:r,attrValue:n})}
var S=function(t,r){if(!Nc||1!==t.nodeType||r)return t.cloneNode(r)
var n=e.createElement(t.nodeName)
Sc(C(t),(function(e){w(n,e.nodeName,b(t,e.nodeName))}))
return n}
var k=function(){return t.root_element||e.body}
var N=function(e){var t=In(e)
return{x:t.x,y:t.y,w:t.width,h:t.height}}
var _=function(t,r){return Na(e.body,h(t),r)}
var A=function(e,r,n){var a=p(r)?y(e).css(r,n):y(e).css(r)
t.update_styles&&Ac(l,a)}
var R=function(e,r){var n=y(e).css(r)
t.update_styles&&Ac(l,n)}
var T=function(e,t,r){var n=y(e)
if(r)return n.css(t)
t=t.replace(/-(\D)/g,(function(e,t){return t.toUpperCase()}))
"float"===t&&(t=Jt.browser.isIE()?"styleFloat":"cssFloat")
return n[0]&&n[0].style?n[0].style[t]:void 0}
var D=function(e){var t,r
e=h(e)
t=T(e,"width")
r=T(e,"height");-1===t.indexOf("px")&&(t=0);-1===r.indexOf("px")&&(r=0)
return{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}}
var O=function(e){e=h(e)
var t=_(e)
var r=D(e)
return{x:t.x,y:t.y,w:r.w,h:r.h}}
var B=function(e,t){var r
if(!e)return false
if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType
if(Ec.test(t)){var n=t.toLowerCase().split(/,/)
var a=e.nodeName.toLowerCase()
for(r=n.length-1;r>=0;r--)if(n[r]===a)return true
return false}if(e.nodeType&&1!==e.nodeType)return false}var o=Array.isArray(e)?e:[e]
return Tf(t,o[0].ownerDocument||o[0],null,o).length>0}
var P=function(e,t,r,n){var a=[]
var o
var i=h(e)
n=void 0===n
r=r||("BODY"!==k().nodeName?k().parentNode:null)
if(sr.is(t,"string")){o=t
t="*"===t?function(e){return 1===e.nodeType}:function(e){return B(e,o)}}while(i){if(i===r||x(i.nodeType)||Jn(i)||Qn(i))break
if(!t||"function"===typeof t&&t(i)){if(!n)return[i]
a.push(i)}i=i.parentNode}return n?a:null}
var L=function(e,t,r){var n=P(e,t,r,false)
return n&&n.length>0?n[0]:null}
var I=function(e,t,r){var n=t
if(e){"string"===typeof t&&(n=function(e){return B(e,t)})
for(e=e[r];e;e=e[r])if("function"===typeof n&&n(e))return e}return null}
var M=function(e,t){return I(e,t,"nextSibling")}
var F=function(e,t){return I(e,t,"previousSibling")}
var U=function(r,n){return Tf(r,h(n)||t.root_element||e,[])}
var z=function(e,t,r){var n
var a="string"===typeof e?h(e):e
if(!a)return false
if(sr.isArray(a)&&(a.length||0===a.length)){n=[]
Sc(a,(function(e,a){e&&n.push(t.call(r,"string"===typeof e?h(e):e,a))}))
return n}var o=r||this
return t.call(o,a)}
var j=function(e,t){y(e).each((function(e,r){Sc(t,(function(e,t){w(r,t,e)}))}))}
var H=function(e,t){var r=y(e)
Nc?r.each((function(e,r){if(false===r.canHaveHTML)return
while(r.firstChild)r.removeChild(r.firstChild)
try{r.innerHTML="<br>"+t
r.removeChild(r.firstChild)}catch(e){xc("<div></div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t})):r.html(t)}
var V=function(t,r,n,a,o){return z(t,(function(t){var i="string"===typeof r?e.createElement(r):r
j(i,n)
a&&("string"!==typeof a&&a.nodeType?i.appendChild(a):"string"===typeof a&&H(i,a))
return o?i:t.appendChild(i)}))}
var q=function(t,r,n){return V(e.createElement(t),t,r,n,true)}
var $=ru.decode
var W=ru.encodeAllRaw
var K=function(e,t,r){var n,a=""
a+="<"+e
for(n in t)t.hasOwnProperty(n)&&null!==t[n]&&"undefined"!==typeof t[n]&&(a+=" "+n+'="'+W(t[n])+'"')
if("undefined"!==typeof r)return a+">"+r+"</"+e+">"
return a+" />"}
var X=function(t){var r
var n=e.createElement("div")
var a=e.createDocumentFragment()
a.appendChild(n)
t&&(n.innerHTML=t)
while(r=n.firstChild)a.appendChild(r)
a.removeChild(n)
return a}
var Y=function(e,t){var r=y(e)
t?r.each((function(){var e
while(e=this.firstChild)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)})).remove():r.remove()
return r.length>1?r.toArray():r[0]}
var G=function(e){return z(e,(function(e){var t
var r=e.attributes
for(t=r.length-1;t>=0;t--)e.removeAttributeNode(r.item(t))}))}
var Q=function(e){return l.parse(e)}
var Z=function(e,t){return l.serialize(e,t)}
var ee=function(t){var n,a
if(Te!==Tc.DOM&&e===document){if(r[t])return
r[t]=true}a=e.getElementById("mceDefaultStyles")
if(!a){a=e.createElement("style")
a.id="mceDefaultStyles"
a.type="text/css"
n=e.getElementsByTagName("head")[0]
n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a)}a.styleSheet?a.styleSheet.cssText+=t:a.appendChild(e.createTextNode(t))}
var te=function(e){e||(e="")
J(e.split(","),(function(e){a[e]=true
f.load(e,E)}))}
var re=function(e,t,r){y(e).toggleClass(t,r).each((function(){""===this.className&&xc(this).attr("class",null)}))}
var ne=function(e,t){y(e).addClass(t)}
var ae=function(e,t){re(e,t,false)}
var oe=function(e,t){return y(e).hasClass(t)}
var ie=function(e){y(e).show()}
var ue=function(e){y(e).hide()}
var fe=function(e){return"none"===y(e).css("display")}
var ce=function(e){return(e||"mce_")+o++}
var se=function(e){var t="string"===typeof e?h(e):e
return Un(t)?t.outerHTML:xc("<div></div>").append(xc(t).clone()).html()}
var le=function(e,t){y(e).each((function(){try{if("outerHTML"in this){this.outerHTML=t
return}}catch(e){}Y(xc(this).html(t),true)}))}
var ve=function(e,t){var r=h(t)
return z(e,(function(e){var t=r.parentNode
var n=r.nextSibling
n?t.insertBefore(e,n):t.appendChild(e)
return e}))}
var de=function(e,t,r){return z(t,(function(t){sr.is(t,"array")&&(e=e.cloneNode(true))
r&&Sc(kc(t.childNodes),(function(t){e.appendChild(t)}))
return t.parentNode.replaceChild(e,t)}))}
var me=function(e,t){var r
if(e.nodeName!==t.toUpperCase()){r=q(t)
Sc(C(e),(function(t){w(r,t.nodeName,b(e,t.nodeName))}))
de(r,e,true)}return r||e}
var ge=function(e,t){var r,n=e
while(n){r=t
while(r&&n!==r)r=r.parentNode
if(n===r)break
n=n.parentNode}if(!n&&e.ownerDocument)return e.ownerDocument.documentElement
return n}
var pe=function(e){return l.toHex(sr.trim(e))}
var he=function(e){if(Un(e)){var t="a"===e.nodeName.toLowerCase()&&!b(e,"href")&&b(e,"id")
if(b(e,"name")||b(e,"data-mce-bookmark")||t)return true}return false}
var ye=function(e,t){var r,n,a=0
if(he(e))return false
e=e.firstChild
if(e){var o=new mo(e,e.parentNode)
var i=s?s.getWhiteSpaceElements():{}
t=t||(s?s.getNonEmptyElements():null)
do{r=e.nodeType
if(Un(e)){var u=e.getAttribute("data-mce-bogus")
if(u){e=o.next("all"===u)
continue}n=e.nodeName.toLowerCase()
if(t&&t[n]){if("br"===n){a++
e=o.next()
continue}return false}if(he(e))return false}if(8===r)return false
if(3===r&&!wi(e.nodeValue))return false
if(3===r&&e.parentNode&&i[e.parentNode.nodeName]&&wi(e.nodeValue))return false
e=o.next()}while(e)}return a<=1}
var be=function(){return e.createRange()}
var we=function(e,t,r){var n=be()
var a
var o
var i
if(e&&t){n.setStart(e.parentNode,Rc(e))
n.setEnd(t.parentNode,Rc(t))
a=n.extractContents()
n=be()
n.setStart(t.parentNode,Rc(t)+1)
n.setEnd(e.parentNode,Rc(e)+1)
o=n.extractContents()
i=e.parentNode
i.insertBefore(Fi(Te,a),e)
r?i.insertBefore(r,e):i.insertBefore(t,e)
i.insertBefore(Fi(Te,o),e)
Y(e)
return r||t}}
var xe=function(r,a,o,i){if(sr.isArray(r)){var u=r.length
var f=[]
while(u--)f[u]=xe(r[u],a,o,i)
return f}!t.collect||r!==e&&r!==n||c.push([r,a,o,i])
var s=v.bind(r,a,o,i||Te)
return s}
var Se=function(t,r,a){if(sr.isArray(t)){var o=t.length
var i=[]
while(o--)i[o]=Se(t[o],r,a)
return i}if(c.length>0&&(t===e||t===n)){o=c.length
while(o--){var u=c[o]
t!==u[0]||r&&r!==u[1]||a&&a!==u[2]||v.unbind(u[0],u[1],u[2])}}return v.unbind(t,r,a)}
var ke=function(e,t,r){return v.fire(e,t,r)}
var Ne=function(e){if(e&&Un(e)){var t=e.getAttribute("data-mce-contenteditable")
if(t&&"inherit"!==t)return t
return"inherit"!==e.contentEditable?e.contentEditable:null}return null}
var Ee=function(e){var t=k()
var r=null
for(;e&&e!==t;e=e.parentNode){r=Ne(e)
if(null!==r)break}return r}
var _e=function(){if(c.length>0){var e=c.length
while(e--){var t=c[e]
v.unbind(t[0],t[1],t[2])}}Ce(a,(function(e,t){f.unload(t)
delete a[t]}))
Tf.setDocument&&Tf.setDocument()}
var Ae=function(e,t){while(e){if(t===e)return true
e=e.parentNode}return false}
var Re=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}
var Te={doc:e,settings:t,win:n,files:a,stdMode:i,boxModel:u,styleSheetLoader:f,boundEvents:c,styles:l,schema:s,events:v,isBlock:g,$:m,$$:y,root:null,clone:S,getRoot:k,getViewPort:N,getRect:O,getSize:D,getParent:L,getParents:P,get:h,getNext:M,getPrev:F,select:U,is:B,add:V,create:q,createHTML:K,createFragment:X,remove:Y,setStyle:A,getStyle:T,setStyles:R,removeAllAttribs:G,setAttrib:w,setAttribs:j,getAttrib:b,getPos:_,parseStyle:Q,serializeStyle:Z,addStyle:ee,loadCSS:te,addClass:ne,removeClass:ae,hasClass:oe,toggleClass:re,show:ie,hide:ue,isHidden:fe,uniqueId:ce,setHTML:H,getOuterHTML:se,setOuterHTML:le,decode:$,encode:W,insertAfter:ve,replace:de,rename:me,findCommonAncestor:ge,toHex:pe,run:z,getAttribs:C,isEmpty:ye,createRng:be,nodeIndex:Rc,split:we,bind:xe,unbind:Se,fire:ke,getContentEditable:Ne,getContentEditableParent:Ee,destroy:_e,isChildOf:Ae,dumpRng:Re}
var De=_c(l,t,(function(){return Te}))
return Te}
Tc.DOM=Tc(document)
Tc.nodeIndex=Rc
var Dc=Tc.DOM
var Oc=sr.each,Bc=sr.grep
var Pc=0
var Lc=1
var Ic=2
var Mc=3
var Fc=function(){function e(e){void 0===e&&(e={})
this.states={}
this.queue=[]
this.scriptLoadedCallbacks={}
this.queueLoadedCallbacks=[]
this.loading=0
this.settings=e}e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e}
e.prototype.loadScript=function(e,t,r){var n=Dc
var a
var o=function(){n.remove(f)
a&&(a.onerror=a.onload=a=null)}
var i=function(){o()
t()}
var u=function(){o()
k(r)?r():"undefined"!==typeof console&&console.log&&console.log("Failed to load script: "+e)}
var f=n.uniqueId()
a=document.createElement("script")
a.id=f
a.type="text/javascript"
a.src=sr._addCacheSuffix(e)
this.settings.referrerPolicy&&n.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy)
a.onload=i
a.onerror=u;(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}
e.prototype.isDone=function(e){return this.states[e]===Ic}
e.prototype.markDone=function(e){this.states[e]=Ic}
e.prototype.add=function(e,t,r,n){var a=this.states[e]
this.queue.push(e)
void 0===a&&(this.states[e]=Pc)
if(t){this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[])
this.scriptLoadedCallbacks[e].push({success:t,failure:n,scope:r||this})}}
e.prototype.load=function(e,t,r,n){return this.add(e,t,r,n)}
e.prototype.remove=function(e){delete this.states[e]
delete this.scriptLoadedCallbacks[e]}
e.prototype.loadQueue=function(e,t,r){this.loadScripts(this.queue,e,t,r)}
e.prototype.loadScripts=function(e,t,r,n){var a=this
var o=[]
var i=function(e,t){Oc(a.scriptLoadedCallbacks[t],(function(t){k(t[e])&&t[e].call(t.scope)}))
a.scriptLoadedCallbacks[t]=void 0}
a.queueLoadedCallbacks.push({success:t,failure:n,scope:r||this})
var u=function(){var t=Bc(e)
e.length=0
Oc(t,(function(e){if(a.states[e]===Ic){i("success",e)
return}if(a.states[e]===Mc){i("failure",e)
return}if(a.states[e]!==Lc){a.states[e]=Lc
a.loading++
a.loadScript(e,(function(){a.states[e]=Ic
a.loading--
i("success",e)
u()}),(function(){a.states[e]=Mc
a.loading--
o.push(e)
i("failure",e)
u()}))}}))
if(!a.loading){var r=a.queueLoadedCallbacks.slice(0)
a.queueLoadedCallbacks.length=0
Oc(r,(function(e){0===o.length?k(e.success)&&e.success.call(e.scope):k(e.failure)&&e.failure.call(e.scope,o)}))}}
u()}
e.ScriptLoader=new e
return e}()
var Uc=function(e){var t=e
var r=function(){return t}
var n=function(e){t=e}
return{get:r,set:n}}
var zc=function(e){return h(e)&&Te(e,"raw")}
var jc=function(e){return y(e)&&e.length>1}
var Hc={}
var Vc=Uc("en")
var qc=function(){return Re(Hc,Vc.get())}
var $c=function(){return we(Hc,(function(e){return He({},e)}))}
var Wc=function(e){e&&Vc.set(e)}
var Kc=function(){return Vc.get()}
var Xc=function(e,t){var r=Hc[e]
r||(Hc[e]=r={})
Ce(t,(function(e,t){r[t.toLowerCase()]=e}))}
var Yc=function(e){var t=qc().getOr({})
var r=function(e){if(k(e))return Object.prototype.toString.call(e)
return n(e)?"":""+e}
var n=function(e){return""===e||null===e||void 0===e}
var a=function(e){var n=r(e)
return Re(t,n.toLowerCase()).map(r).getOr(n)}
var o=function(e){return e.replace(/{context:\w+}$/,"")}
if(n(e))return""
if(zc(e))return r(e.raw)
if(jc(e)){var i=e.slice(1)
var u=a(e[0]).replace(/\{([0-9]+)\}/g,(function(e,t){return Te(i,t)?r(i[t]):e}))
return o(u)}return o(a(e))}
var Gc=function(){return qc().bind((function(e){return Re(e,"_dir")})).exists((function(e){return"rtl"===e}))}
var Jc=function(e){return Te(Hc,e)}
var Qc={getData:$c,setCode:Wc,getCode:Kc,add:Xc,translate:Yc,isRtl:Gc,hasCode:Jc}
var Zc=function(){var e=[]
var t={}
var r={}
var n=[]
var a=function(e,t){var r=ee(n,(function(r){return r.name===e&&r.state===t}))
J(r,(function(e){return e.callback()}))}
var o=function(e){if(r[e])return r[e].instance
return}
var i=function(e){var t
r[e]&&(t=r[e].dependencies)
return t||[]}
var u=function(e,r){false!==Zc.languageLoad&&m(e,(function(){var n=Qc.getCode()
var a=","+(r||"")+","
if(!n||r&&-1===a.indexOf(","+n+","))return
Fc.ScriptLoader.add(t[e]+"/langs/"+n+".js")}),"loaded")}
var f=function(t,n,o){var i=n
e.push(i)
r[t]={instance:i,dependencies:o}
a(t,"added")
return i}
var c=function(e){delete t[e]
delete r[e]}
var s=function(e,t){if("object"===typeof t)return t
return"string"===typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}
var l=function(e,r){var n=t[e]
J(r,(function(e){Fc.ScriptLoader.add(n+"/"+e)}))}
var v=function(e,t,r,n){var a=i(e)
J(a,(function(e){var r=s(t,e)
d(r.resource,r,void 0,void 0)}))
r&&(n?r.call(n):r.call(Fc))}
var d=function(e,n,o,i,u){if(t[e])return
var f="string"===typeof n?n:n.prefix+n.resource+n.suffix
0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=Zc.baseURL+"/"+f)
t[e]=f.substring(0,f.lastIndexOf("/"))
var c=function(){a(e,"loaded")
v(e,n,o,i)}
r[e]?c():Fc.ScriptLoader.add(f,c,i,u)}
var m=function(e,a,o){void 0===o&&(o="added")
Te(r,e)&&"added"===o||Te(t,e)&&"loaded"===o?a():n.push({name:e,state:o,callback:a})}
return{items:e,urls:t,lookup:r,_listeners:n,get:o,dependencies:i,requireLangPack:u,add:f,remove:c,createUrl:s,addComponents:l,load:d,waitFor:m}}
Zc.languageLoad=true
Zc.baseURL=""
Zc.PluginManager=Zc()
Zc.ThemeManager=Zc()
var es=function(e,t){var r=null
var n=function(){if(null!==r){clearTimeout(r)
r=null}}
var a=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
null===r&&(r=setTimeout((function(){e.apply(null,n)
r=null}),t))}
return{cancel:n,throttle:a}}
var ts=function(e,t){var r=null
var n=function(){if(null!==r){clearTimeout(r)
r=null}}
var a=function(){var n=[]
for(var a=0;a<arguments.length;a++)n[a]=arguments[a]
null!==r&&clearTimeout(r)
r=setTimeout((function(){e.apply(null,n)
r=null}),t)}
return{cancel:n,throttle:a}}
var rs=function(e,t){var r=ca(e,t)
return void 0===r||""===r?[]:r.split(" ")}
var ns=function(e,t,r){var n=rs(e,t)
var a=n.concat([r])
ua(e,t,a.join(" "))
return true}
var as=function(e,t,r){var n=ee(rs(e,t),(function(e){return e!==r}))
n.length>0?ua(e,t,n.join(" ")):va(e,t)
return false}
var os=function(e){return void 0!==e.dom.classList}
var is=function(e){return rs(e,"class")}
var us=function(e,t){return ns(e,"class",t)}
var fs=function(e,t){return as(e,"class",t)}
var cs=function(e,t){os(e)?e.dom.classList.add(t):us(e,t)}
var ss=function(e){var t=os(e)?e.dom.classList:is(e)
0===t.length&&va(e,"class")}
var ls=function(e,t){if(os(e)){var r=e.dom.classList
r.remove(t)}else fs(e,t)
ss(e)}
var vs=function(e,t){return os(e)&&e.dom.classList.contains(t)}
var ds=function(e,t){var r=[]
J(Qr(e),(function(e){t(e)&&(r=r.concat([e]))
r=r.concat(ds(e,t))}))
return r}
var ms=function(e,t){return _r(t,e)}
var gs=R("mce-annotation")
var ps=R("data-mce-annotation")
var hs=R("data-mce-annotation-uid")
var ys=function(e,t){var r=e.selection.getRng()
var n=pr.fromDom(r.startContainer)
var a=pr.fromDom(e.getBody())
var o=t.fold((function(){return"."+gs()}),(function(e){return"["+ps()+'="'+e+'"]'}))
var i=Zr(n,r.startOffset).getOr(n)
var u=Za(i,o,(function(e){return Rr(e,a)}))
var f=function(e,t){return la(e,t)?H.some(ca(e,t)):H.none()}
return u.bind((function(t){return f(t,""+hs()).bind((function(r){return f(t,""+ps()).map((function(t){var n=Cs(e,r)
return{uid:r,name:t,elements:n}}))}))}))}
var bs=function(e){return Mr(e)&&vs(e,gs())}
var Cs=function(e,t){var r=pr.fromDom(e.getBody())
return ms(r,"["+hs()+'="'+t+'"]')}
var ws=function(e,t){var r=pr.fromDom(e.getBody())
var n=ms(r,"["+ps()+'="'+t+'"]')
var a={}
J(n,(function(e){var t=ca(e,hs())
var r=a.hasOwnProperty(t)?a[t]:[]
a[t]=r.concat([e])}))
return a}
var xs=function(e,t){var r=Uc({})
var n=function(){return{listeners:[],previous:Uc(H.none())}}
var a=function(e,t){o(e,(function(e){t(e)
return e}))}
var o=function(e,t){var a=r.get()
var o=a.hasOwnProperty(e)?a[e]:n()
var i=t(o)
a[e]=i
r.set(a)}
var i=function(e,t,r){a(e,(function(n){J(n.listeners,(function(n){return n(true,e,{uid:t,nodes:G(r,(function(e){return e.dom}))})}))}))}
var u=function(e){a(e,(function(t){J(t.listeners,(function(t){return t(false,e)}))}))}
var f=ts((function(){var t=r.get()
var n=ve(ye(t))
J(n,(function(t){o(t,(function(r){var n=r.previous.get()
ys(e,H.some(t)).fold((function(){if(n.isSome()){u(t)
r.previous.set(H.none())}}),(function(e){var t=e.uid,a=e.name,o=e.elements
if(!n.is(t)){i(a,t,o)
r.previous.set(H.some(t))}}))
return{previous:r.previous,listeners:r.listeners}}))}))}),30)
e.on("remove",(function(){f.cancel()}))
e.on("NodeChange",(function(){f.throttle()}))
var c=function(e,t){o(e,(function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}}))}
return{addListener:c}}
var Ss=function(e,t){var r=function(e){return H.from(e.attr(ps())).bind(t.lookup)}
e.on("init",(function(){e.serializer.addNodeFilter("span",(function(e){J(e,(function(e){r(e).each((function(t){false===t.persistent&&e.unwrap()}))}))}))}))}
var ks=function(){var e={}
var t=function(t,r){e[t]={name:t,settings:r}}
var r=function(t){return e.hasOwnProperty(t)?H.from(e[t]).map((function(e){return e.settings})):H.none()}
return{register:t,lookup:r}}
var Ns=0
var Es=function(e){var t=new Date
var r=t.getTime()
var n=Math.floor(1e9*Math.random())
Ns++
return e+"_"+n+Ns+String(r)}
var _s=function(e,t){J(t,(function(t){cs(e,t)}))}
var As=function(e,t){var r=t||document
var n=r.createElement("div")
n.innerHTML=e
return Qr(pr.fromDom(n))}
var Rs=function(e){return e.dom.innerHTML}
var Ts=function(e,t){var r=jr(e)
var n=r.dom
var a=pr.fromDom(n.createDocumentFragment())
var o=As(t,n)
Cn(a,o)
wn(e)
hn(e,a)}
var Ds=function(e,t){return pr.fromDom(e.dom.cloneNode(t))}
var Os=function(e){return Ds(e,false)}
var Bs=function(e){return Ds(e,true)}
var Ps=function(e,t,r){void 0===r&&(r=I)
var n=new mo(e,t)
var a=function(e){var t
do{t=n[e]()}while(t&&!Yn(t)&&!r(t))
return H.from(t).filter(Yn)}
return{current:function(){return H.from(n.current()).filter(Yn)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}}
var Ls=function(e,t){var r=t||function(t){return e.isBlock(t)||Zn(t)||ra(t)}
var n=function(e,t,r,a){if(Yn(e)){var o=a(e,t,e.data)
if(-1!==o)return H.some({container:e,offset:o})}return r().bind((function(e){return n(e.container,e.offset,r,a)}))}
var a=function(e,t,a,o){var i=Ps(e,o,r)
return n(e,t,(function(){return i.prev().map((function(e){return{container:e,offset:e.length}}))}),a).getOrNull()}
var o=function(e,t,a,o){var i=Ps(e,o,r)
return n(e,t,(function(){return i.next().map((function(e){return{container:e,offset:0}}))}),a).getOrNull()}
return{backwards:a,forwards:o}}
var Is=function(e){var t=[]
var r=function(e){t.push(e)}
for(var n=0;n<e.length;n++)e[n].each(r)
return t}
var Ms=function(e,t,r){return e.isSome()&&t.isSome()?H.some(r(e.getOrDie(),t.getOrDie())):H.none()}
var Fs=function(e,t,r,n){return e.isSome()&&t.isSome()&&r.isSome()?H.some(n(e.getOrDie(),t.getOrDie(),r.getOrDie())):H.none()}
var Us=function(e,t){return e?H.some(t):H.none()}
var zs=Math.round
var js=function(e){if(!e)return{left:0,top:0,bottom:0,right:0,width:0,height:0}
return{left:zs(e.left),top:zs(e.top),bottom:zs(e.bottom),right:zs(e.right),width:zs(e.width),height:zs(e.height)}}
var Hs=function(e,t){e=js(e)
if(t)e.right=e.left
else{e.left=e.left+e.width
e.right=e.left}e.width=0
return e}
var Vs=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}
var qs=function(e,t,r){return e>=0&&e<=Math.min(t.height,r.height)/2}
var $s=function(e,t){var r=Math.min(t.height/2,e.height/2)
if(e.bottom-r<t.top)return true
if(e.top>t.bottom)return false
return qs(t.top-e.bottom,e,t)}
var Ws=function(e,t){if(e.top>t.bottom)return true
if(e.bottom<t.top)return false
return qs(t.bottom-e.top,e,t)}
var Ks=function(e,t,r){return t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom}
var Xs=function(e){var t=e.startContainer,r=e.startOffset
if(t.hasChildNodes()&&e.endOffset===r+1)return t.childNodes[r]
return null}
var Ys=function(e,t){if(1===e.nodeType&&e.hasChildNodes()){t>=e.childNodes.length&&(t=e.childNodes.length-1)
e=e.childNodes[t]}return e}
var Gs=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]")
var Js=function(e){return"string"===typeof e&&e.charCodeAt(0)>=768&&Gs.test(e)}
var Qs=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var r=0;r<e.length;r++)if(e[r](t))return true
return false}}
var Zs=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
return function(t){for(var r=0;r<e.length;r++)if(!e[r](t))return false
return true}}
var el=Un
var tl=di
var rl=jn("display","block table")
var nl=jn("float","left right")
var al=Zs(el,tl,O(nl))
var ol=O(jn("white-space","pre pre-line pre-wrap"))
var il=Yn
var ul=Zn
var fl=Tc.nodeIndex
var cl=Ys
var sl=function(e){return"createRange"in e?e.createRange():Tc.DOM.createRng()}
var ll=function(e){return e&&/[\r\n\t ]/.test(e)}
var vl=function(e){return!!e.setStart&&!!e.setEnd}
var dl=function(e){var t=e.startContainer
var r=e.startOffset
var n
if(ll(e.toString())&&ol(t.parentNode)&&Yn(t)){n=t.data
if(ll(n[r-1])||ll(n[r+1]))return true}return false}
var ml=function(e){var t=e.ownerDocument
var r=sl(t)
var n=t.createTextNode(Mo)
var a=e.parentNode
a.insertBefore(n,e)
r.setStart(n,0)
r.setEnd(n,1)
var o=js(r.getBoundingClientRect())
a.removeChild(n)
return o}
var gl=function(e){var t=e.startContainer
var r=e.endContainer
var n=e.startOffset
var a=e.endOffset
if(t===r&&Yn(r)&&0===n&&1===a){var o=e.cloneRange()
o.setEndAfter(r)
return hl(o)}return null}
var pl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}
var hl=function(e){var t
var r=e.getClientRects()
t=r.length>0?js(r[0]):js(e.getBoundingClientRect())
if(!vl(e)&&ul(e)&&pl(t))return ml(e)
if(pl(t)&&vl(e))return gl(e)
return t}
var yl=function(e,t){var r=Hs(e,t)
r.width=1
r.right=r.left+1
return r}
var bl=function(e){var t=[]
var r,n
var a=function(e){if(0===e.height)return
if(t.length>0&&Vs(e,t[t.length-1]))return
t.push(e)}
var o=function(e,r){var n=sl(e.ownerDocument)
if(r<e.data.length){if(Js(e.data[r]))return t
if(Js(e.data[r-1])){n.setStart(e,r)
n.setEnd(e,r+1)
if(!dl(n)){a(yl(hl(n),false))
return t}}}if(r>0){n.setStart(e,r-1)
n.setEnd(e,r)
dl(n)||a(yl(hl(n),false))}if(r<e.data.length){n.setStart(e,r)
n.setEnd(e,r+1)
dl(n)||a(yl(hl(n),true))}}
if(il(e.container())){o(e.container(),e.offset())
return t}if(el(e.container()))if(e.isAtEnd()){n=cl(e.container(),e.offset())
il(n)&&o(n,n.data.length)
al(n)&&!ul(n)&&a(yl(hl(n),false))}else{n=cl(e.container(),e.offset())
il(n)&&o(n,0)
if(al(n)&&e.isAtEnd()){a(yl(hl(n),false))
return t}r=cl(e.container(),e.offset()-1)
al(r)&&!ul(r)&&(rl(r)||rl(n)||!al(n))&&a(yl(hl(r),false))
al(n)&&a(yl(hl(n),true))}return t}
var Cl=function(e,t,r){var n=function(){if(il(e))return 0===t
return 0===t}
var a=function(){if(il(e))return t>=e.data.length
return t>=e.childNodes.length}
var o=function(){var r=sl(e.ownerDocument)
r.setStart(e,t)
r.setEnd(e,t)
return r}
var i=function(){r||(r=bl(Cl(e,t)))
return r}
var u=function(){return i().length>0}
var f=function(r){return r&&e===r.container()&&t===r.offset()}
var c=function(r){return cl(e,r?t-1:t)}
return{container:R(e),offset:R(t),toRange:o,getClientRects:i,isVisible:u,isAtStart:n,isAtEnd:a,isEqual:f,getNode:c}}
Cl.fromRangeStart=function(e){return Cl(e.startContainer,e.startOffset)}
Cl.fromRangeEnd=function(e){return Cl(e.endContainer,e.endOffset)}
Cl.after=function(e){return Cl(e.parentNode,fl(e)+1)}
Cl.before=function(e){return Cl(e.parentNode,fl(e))}
Cl.isAbove=function(e,t){return Ms(me(t.getClientRects()),ge(e.getClientRects()),$s).getOr(false)}
Cl.isBelow=function(e,t){return Ms(ge(t.getClientRects()),me(e.getClientRects()),Ws).getOr(false)}
Cl.isAtStart=function(e){return!!e&&e.isAtStart()}
Cl.isAtEnd=function(e){return!!e&&e.isAtEnd()}
Cl.isTextPosition=function(e){return!!e&&Yn(e.container())}
Cl.isElementPosition=function(e){return false===Cl.isTextPosition(e)}
var wl=function(e,t){Yn(t)&&0===t.data.length&&e.remove(t)}
var xl=function(e,t,r){t.insertNode(r)
wl(e,r.previousSibling)
wl(e,r.nextSibling)}
var Sl=function(e,t,r){var n=H.from(r.firstChild)
var a=H.from(r.lastChild)
t.insertNode(r)
n.each((function(t){return wl(e,t.previousSibling)}))
a.each((function(t){return wl(e,t.nextSibling)}))}
var kl=function(e,t,r){Qn(r)?Sl(e,t,r):xl(e,t,r)}
var Nl=Yn
var El=qn
var _l=Tc.nodeIndex
var Al=function(e){var t=e.parentNode
if(El(t))return Al(t)
return t}
var Rl=function(e){if(!e)return[]
return Ue(e.childNodes,(function(e,t){El(t)&&"BR"!==t.nodeName?e=e.concat(Rl(t)):e.push(t)
return e}),[])}
var Tl=function(e,t){while(e=e.previousSibling){if(!Nl(e))break
t+=e.data.length}return t}
var Dl=function(e){return function(t){return e===t}}
var Ol=function(e){var t,r
t=Rl(Al(e))
r=ze(t,Dl(e),e)
t=t.slice(0,r+1)
var n=Ue(t,(function(e,r,n){Nl(r)&&Nl(t[n-1])&&e++
return e}),0)
t=Me(t,zn([e.nodeName]))
r=ze(t,Dl(e),e)
return r-n}
var Bl=function(e){var t
t=Nl(e)?"text()":e.nodeName.toLowerCase()
return t+"["+Ol(e)+"]"}
var Pl=function(e,t,r){var n=[]
for(t=t.parentNode;t!==e;t=t.parentNode){if(r&&r(t))break
n.push(t)}return n}
var Ll=function(e,t){var r,n,a,o,i,u=[]
r=t.container()
n=t.offset()
if(Nl(r))a=Tl(r,n)
else{o=r.childNodes
if(n>=o.length){a="after"
n=o.length-1}else a="before"
r=o[n]}u.push(Bl(r))
i=Pl(e,r)
i=Me(i,O(qn))
u=u.concat(Ie(i,(function(e){return Bl(e)})))
return u.reverse().join("/")+","+a}
var Il=function(e,t,r){var n=Rl(e)
n=Me(n,(function(e,t){return!Nl(e)||!Nl(n[t-1])}))
n=Me(n,zn([t]))
return n[r]}
var Ml=function(e,t){var r,n=e,a=0
while(Nl(n)){r=n.data.length
if(t>=a&&t<=a+r){e=n
t-=a
break}if(!Nl(n.nextSibling)){e=n
t=r
break}a+=r
n=n.nextSibling}Nl(e)&&t>e.data.length&&(t=e.data.length)
return Cl(e,t)}
var Fl=function(e,t){var r
if(!t)return null
var n=t.split(",")
var a=n[0].split("/")
r=n.length>1?n[1]:"before"
var o=Ue(a,(function(e,t){var r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t)
if(!r)return null
"text()"===r[1]&&(r[1]="#text")
return Il(e,r[1],parseInt(r[2],10))}),e)
if(!o)return null
if(!Nl(o)){r="after"===r?_l(o)+1:_l(o)
return Cl(o.parentNode,r)}return Ml(o,parseInt(r,10))}
var Ul=ra
var zl=function(e,t,r){var n,a
a=e(t.data.slice(0,r)).length
for(n=t.previousSibling;n&&Yn(n);n=n.previousSibling)a+=e(n.data).length
return a}
var jl=function(e,t,r,n,a){var o=n[a?"startContainer":"endContainer"]
var i=n[a?"startOffset":"endOffset"]
var u=[]
var f,c=0
var s=e.getRoot()
if(Yn(o))u.push(r?zl(t,o,i):i)
else{f=o.childNodes
if(i>=f.length&&f.length){c=1
i=Math.max(0,f.length-1)}u.push(e.nodeIndex(f[i],r)+c)}for(;o&&o!==s;o=o.parentNode)u.push(e.nodeIndex(o,r))
return u}
var Hl=function(e,t,r,n){var a=t.dom,o={}
o.start=jl(a,e,r,n,true)
t.isCollapsed()||(o.end=jl(a,e,r,n,false))
return o}
var Vl=function(e,t,r){var n=0
sr.each(e.select(t),(function(e){if("all"===e.getAttribute("data-mce-bogus"))return
if(e===r)return false
n++}))
return n}
var ql=function(e,t){var r,n,a
var o=t?"start":"end"
r=e[o+"Container"]
n=e[o+"Offset"]
if(Un(r)&&"TR"===r.nodeName){a=r.childNodes
r=a[Math.min(t?n:n-1,a.length-1)]
if(r){n=t?0:r.childNodes.length
e["set"+(t?"Start":"End")](r,n)}}}
var $l=function(e){ql(e,true)
ql(e,false)
return e}
var Wl=function(e,t){var r
if(Un(e)){e=Ys(e,t)
if(Ul(e))return e}if(Ko(e)){Yn(e)&&$o(e)&&(e=e.parentNode)
r=e.previousSibling
if(Ul(r))return r
r=e.nextSibling
if(Ul(r))return r}}
var Kl=function(e){return Wl(e.startContainer,e.startOffset)||Wl(e.endContainer,e.endOffset)}
var Xl=function(e,t,r){var n=r.getNode()
var a=n?n.nodeName:null
var o=r.getRng()
if(Ul(n)||"IMG"===a)return{name:a,index:Vl(r.dom,a,n)}
var i=Kl(o)
if(i){a=i.tagName
return{name:a,index:Vl(r.dom,a,i)}}return Hl(e,r,t,o)}
var Yl=function(e){var t=e.getRng()
return{start:Ll(e.dom.getRoot(),Cl.fromRangeStart(t)),end:Ll(e.dom.getRoot(),Cl.fromRangeEnd(t))}}
var Gl=function(e){return{rng:e.getRng()}}
var Jl=function(e,t,r){var n={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"}
return r?e.create("span",n,"&#xFEFF;"):e.create("span",n)}
var Ql=function(e,t){var r=e.dom
var n=e.getRng()
var a=r.uniqueId()
var o=e.isCollapsed()
var i=e.getNode()
var u=i.nodeName
if("IMG"===u)return{name:u,index:Vl(r,u,i)}
var f=$l(n.cloneRange())
if(!o){f.collapse(false)
var c=Jl(r,a+"_end",t)
kl(r,f,c)}n=$l(n)
n.collapse(true)
var s=Jl(r,a+"_start",t)
kl(r,n,s)
e.moveToBookmark({id:a,keep:true})
return{id:a}}
var Zl=function(e,t,r){return 2===t?Xl(Ho,r,e):3===t?Yl(e):t?Gl(e):Ql(e,false)}
var ev=D(Xl,T,true)
var tv=Tc.DOM
var rv="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"
var nv=function(e,t,r){var n=e.getParam(t,r)
if(-1!==n.indexOf("=")){var a=e.getParam(t,"","hash")
return a.hasOwnProperty(e.id)?a[e.id]:r}return n}
var av=function(e){return e.getParam("iframe_attrs",{})}
var ov=function(e){return e.getParam("doctype","<!DOCTYPE html>")}
var iv=function(e){return e.getParam("document_base_url","")}
var uv=function(e){return nv(e,"body_id","tinymce")}
var fv=function(e){return nv(e,"body_class","")}
var cv=function(e){return e.getParam("content_security_policy","")}
var sv=function(e){return e.getParam("br_in_pre",true)}
var lv=function(e){if(e.getParam("force_p_newlines",false))return"p"
var t=e.getParam("forced_root_block","p")
return false===t?"":true===t?"p":t}
var vv=function(e){return e.getParam("forced_root_block_attrs",{})}
var dv=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}
var mv=function(e){return e.getParam("no_newline_selector","")}
var gv=function(e){return e.getParam("keep_styles",true)}
var pv=function(e){return e.getParam("end_container_on_empty_block",false)}
var hv=function(e){return sr.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}
var yv=function(e){return sr.explode(e.getParam("font_size_classes",""))}
var bv=function(e){return e.getParam("images_dataimg_filter",M,"function")}
var Cv=function(e){return e.getParam("automatic_uploads",true,"boolean")}
var wv=function(e){return e.getParam("images_reuse_filename",false,"boolean")}
var xv=function(e){return e.getParam("images_replace_blob_uris",true,"boolean")}
var Sv=function(e){return e.getParam("icons","","string")}
var kv=function(e){return e.getParam("icons_url","","string")}
var Nv=function(e){return e.getParam("images_upload_url","","string")}
var Ev=function(e){return e.getParam("images_upload_base_path","","string")}
var _v=function(e){return e.getParam("images_upload_credentials",false,"boolean")}
var Av=function(e){return e.getParam("images_upload_handler",null,"function")}
var Rv=function(e){return e.getParam("content_css_cors",false,"boolean")}
var Tv=function(e){return e.getParam("referrer_policy","","string")}
var Dv=function(e){return e.getParam("language","en","string")}
var Ov=function(e){return e.getParam("language_url","","string")}
var Bv=function(e){return e.getParam("indent_use_margin",false)}
var Pv=function(e){return e.getParam("indentation","40px","string")}
var Lv=function(e){var t=e.getParam("content_css")
return p(t)?G(t.split(","),ct):y(t)?t:false===t||e.inline?[]:["default"]}
var Iv=function(e){var t=e.getParam("font_css",[])
return y(t)?t:G(t.split(","),ct)}
var Mv=function(e){return e.getParam("directionality",Qc.isRtl()?"rtl":void 0)}
var Fv=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}
var Uv=function(e){var t=e.getParam("object_resizing")
return false!==t&&!Jt.iOS&&(p(t)?t:"table,img,figure.image,div,video,iframe")}
var zv=function(e){return e.getParam("resize_img_proportional",true,"boolean")}
var jv=function(e){return e.getParam("placeholder",tv.getAttrib(e.getElement(),"placeholder"),"string")}
var Hv=function(e){return e.getParam("event_root")}
var Vv=function(e){return e.getParam("service_message")}
var qv=function(e){return e.getParam("theme")}
var $v=function(e){return e.getParam("validate")}
var Wv=function(e){return false!==e.getParam("inline_boundaries")}
var Kv=function(e){return e.getParam("formats")}
var Xv=function(e){var t=e.getParam("preview_styles",rv)
return p(t)?t:""}
var Yv=function(e){return e.getParam("format_empty_lines",false,"boolean")}
var Gv=function(e){return e.getParam("custom_ui_selector","","string")}
var Jv=function(e){return e.getParam("theme_url")}
var Qv=function(e){return e.getParam("inline")}
var Zv=function(e){return e.getParam("hidden_input")}
var ed=function(e){return e.getParam("submit_patch")}
var td=function(e){return"xml"===e.getParam("encoding")}
var rd=function(e){return e.getParam("add_form_submit_trigger")}
var nd=function(e){return e.getParam("add_unload_trigger")}
var ad=function(e){return""!==lv(e)}
var od=function(e){return e.getParam("custom_undo_redo_levels",0,"number")}
var id=function(e){return e.getParam("disable_nodechange")}
var ud=function(e){return e.getParam("readonly")}
var fd=function(e){return e.getParam("content_css_cors")}
var cd=function(e){return e.getParam("plugins","","string")}
var sd=function(e){return e.getParam("external_plugins")}
var ld=function(e){return e.getParam("block_unsupported_drop",true,"boolean")}
var vd=function(e){return e.getParam("visual",true,"boolean")}
var dd=function(e){return e.getParam("visual_table_class","mce-item-table","string")}
var md=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")}
var gd=Un
var pd=Yn
var hd=function(e){var t=e.parentNode
t&&t.removeChild(e)}
var yd=function(e){var t=Ho(e)
return{count:e.length-t.length,text:t}}
var bd=function(e){var t
while(-1!==(t=e.data.lastIndexOf(zo)))e.deleteData(t,1)}
var Cd=function(e,t){Ed(e)
return t}
var wd=function(e,t){var r=yd(e.data.substr(0,t.offset()))
var n=yd(e.data.substr(t.offset()))
var a=r.text+n.text
if(a.length>0){bd(e)
return Cl(e,t.offset()-r.count)}return t}
var xd=function(e,t){var r=t.container()
var n=K(pe(r.childNodes),e).map((function(e){return e<t.offset()?Cl(r,t.offset()-1):t})).getOr(t)
Ed(e)
return n}
var Sd=function(e,t){return pd(e)&&t.container()===e?wd(e,t):Cd(e,t)}
var kd=function(e,t){return t.container()===e.parentNode?xd(e,t):Cd(e,t)}
var Nd=function(e,t){return Cl.isTextPosition(t)?Sd(e,t):kd(e,t)}
var Ed=function(e){gd(e)&&Ko(e)&&(Xo(e)?e.removeAttribute("data-mce-caret"):hd(e))
if(pd(e)){bd(e)
0===e.data.length&&hd(e)}}
var _d=Ht().browser
var Ad=ra
var Rd=aa
var Td=na
var Dd="*[contentEditable=false],video,audio,embed,object"
var Od=function(e,t,r){var n=Hs(t.getBoundingClientRect(),r)
var a,o,i,u,f
if("BODY"===e.tagName){a=e.ownerDocument.documentElement
o=e.scrollLeft||a.scrollLeft
i=e.scrollTop||a.scrollTop}else{f=e.getBoundingClientRect()
o=e.scrollLeft-f.left
i=e.scrollTop-f.top}n.left+=o
n.right+=o
n.top+=i
n.bottom+=i
n.width=1
u=t.offsetWidth-t.clientWidth
if(u>0){r&&(u*=-1)
n.left+=u
n.right+=u}return n}
var Bd=function(e){var t=ms(pr.fromDom(e),Dd)
for(var r=0;r<t.length;r++){var n=t[r].dom
var a=n.previousSibling
if(ti(a)){var o=a.data
1===o.length?a.parentNode.removeChild(a):a.deleteData(o.length-1,1)}a=n.nextSibling
if(ei(a)){o=a.data
1===o.length?a.parentNode.removeChild(a):a.deleteData(0,1)}}}
var Pd=function(e,t,r,n){var a=Uc(H.none())
var o,i
var u=lv(e)
var f=u.length>0?u:"p"
var c=function(e,n){var o,u
s()
if(Td(n))return null
if(!r(n)){i=Yo(n,e)
u=n.ownerDocument.createRange()
if(Id(i.nextSibling)){u.setStart(i,0)
u.setEnd(i,0)}else{u.setStart(i,1)
u.setEnd(i,1)}return u}i=Zo(f,n,e)
o=Od(t,n,e)
xc(i).css("top",o.top)
var c=xc('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0]
a.set(H.some({caret:c,element:n,before:e}))
a.get().each((function(t){e&&xc(t.caret).addClass("mce-visual-caret-before")}))
l()
u=n.ownerDocument.createRange()
u.setStart(i,0)
u.setEnd(i,0)
return u}
var s=function(){Bd(t)
if(i){Ed(i)
i=null}a.get().each((function(e){xc(e.caret).remove()
a.set(H.none())}))
if(o){co.clearInterval(o)
o=null}}
var l=function(){o=co.setInterval((function(){n()?xc("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):xc("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)}
var v=function(){a.get().each((function(e){var r=Od(t,e.element,e.before)
xc(e.caret).css(He({},r))}))}
var d=function(){return co.clearInterval(o)}
var m=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}
return{show:c,hide:s,getCss:m,reposition:v,destroy:d}}
var Ld=function(){return _d.isIE()||_d.isEdge()||_d.isFirefox()}
var Id=function(e){return Ad(e)||Rd(e)}
var Md=function(e){return Id(e)||Wn(e)&&Ld()}
var Fd=ra
var Ud=aa
var zd=jn("display","block table table-cell table-caption list-item")
var jd=Ko
var Hd=$o
var Vd=Un
var qd=di
var $d=function(e){return e>0}
var Wd=function(e){return e<0}
var Kd=function(e,t){var r
while(r=e(t))if(!Hd(r))return r
return null}
var Xd=function(e,t,r,n,a){var o=new mo(e,n)
var i=Fd(e)||Hd(e)
if(Wd(t)){if(i){e=Kd(o.prev.bind(o),true)
if(r(e))return e}while(e=Kd(o.prev.bind(o),a))if(r(e))return e}if($d(t)){if(i){e=Kd(o.next.bind(o),true)
if(r(e))return e}while(e=Kd(o.next.bind(o),a))if(r(e))return e}return null}
var Yd=function(e,t){while(e&&e!==t){if(zd(e))return e
e=e.parentNode}return null}
var Gd=function(e,t,r){return Yd(e.container(),r)===Yd(t.container(),r)}
var Jd=function(e,t){if(!t)return null
var r=t.container()
var n=t.offset()
if(!Vd(r))return null
return r.childNodes[n+e]}
var Qd=function(e,t){var r=t.ownerDocument.createRange()
if(e){r.setStartBefore(t)
r.setEndBefore(t)}else{r.setStartAfter(t)
r.setEndAfter(t)}return r}
var Zd=function(e,t,r){return Yd(t,e)===Yd(r,e)}
var em=function(e,t,r){var n,a
a=e?"previousSibling":"nextSibling"
while(r&&r!==t){n=r[a]
jd(n)&&(n=n[a])
if(Fd(n)||Ud(n)){if(Zd(t,n,r))return n
break}if(qd(n))break
r=r.parentNode}return null}
var tm=D(Qd,true)
var rm=D(Qd,false)
var nm=function(e,t,r){var n,a,o
var i=D(em,true,t)
var u=D(em,false,t)
a=r.startContainer
var f=r.startOffset
if($o(a)){Vd(a)||(a=a.parentNode)
o=a.getAttribute("data-mce-caret")
if("before"===o){n=a.nextSibling
if(Md(n))return tm(n)}if("after"===o){n=a.previousSibling
if(Md(n))return rm(n)}}if(!r.collapsed)return r
if(Yn(a)){if(jd(a)){if(1===e){n=u(a)
if(n)return tm(n)
n=i(a)
if(n)return rm(n)}if(-1===e){n=i(a)
if(n)return rm(n)
n=u(a)
if(n)return tm(n)}return r}if(ti(a)&&f>=a.data.length-1){if(1===e){n=u(a)
if(n)return tm(n)}return r}if(ei(a)&&f<=1){if(-1===e){n=i(a)
if(n)return rm(n)}return r}if(f===a.data.length){n=u(a)
if(n)return tm(n)
return r}if(0===f){n=i(a)
if(n)return rm(n)
return r}}return r}
var am=function(e,t){return H.from(Jd(e?0:-1,t)).filter(Fd)}
var om=function(e,t,r){var n=nm(e,t,r)
if(-1===e)return Cl.fromRangeStart(n)
return Cl.fromRangeEnd(n)}
var im=function(e){return H.from(e.getNode()).map(pr.fromDom)}
var um=function(e){return H.from(e.getNode(true)).map(pr.fromDom)}
var fm=function(e,t){while(t=e(t))if(t.isVisible())return t
return t}
var cm=function(e,t){var r=Gd(e,t)
if(!r&&Zn(e.getNode()))return true
return r}
var sm;(function(e){e[e["Backwards"]=-1]="Backwards"
e[e["Forwards"]=1]="Forwards"})(sm||(sm={}))
var lm=ra
var vm=Yn
var dm=Un
var mm=Zn
var gm=di
var pm=yi
var hm=bi
var ym=function(e,t){var r=[]
while(e&&e!==t){r.push(e)
e=e.parentNode}return r}
var bm=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length)return e.childNodes[t]
return null}
var Cm=function(e,t){if($d(e)){if(gm(t.previousSibling)&&!vm(t.previousSibling))return Cl.before(t)
if(vm(t))return Cl(t,0)}if(Wd(e)){if(gm(t.nextSibling)&&!vm(t.nextSibling))return Cl.after(t)
if(vm(t))return Cl(t,t.data.length)}if(Wd(e)){if(mm(t))return Cl.before(t)
return Cl.after(t)}return Cl.before(t)}
var wm=function(e,t){var r=t.nextSibling
return r&&gm(r)?vm(r)?Cl(r,0):Cl.before(r):xm(sm.Forwards,Cl.after(t),e)}
var xm=function(e,t,r){var n,a,o
var i
if(!dm(r)||!t)return null
if(t.isEqual(Cl.after(r))&&r.lastChild){i=Cl.after(r.lastChild)
if(Wd(e)&&gm(r.lastChild)&&dm(r.lastChild))return mm(r.lastChild)?Cl.before(r.lastChild):i}else i=t
var u=i.container()
var f=i.offset()
if(vm(u)){if(Wd(e)&&f>0)return Cl(u,--f)
if($d(e)&&f<u.length)return Cl(u,++f)
n=u}else{if(Wd(e)&&f>0){a=bm(u,f-1)
if(gm(a)){if(!pm(a)){o=Xd(a,e,hm,a)
if(o){if(vm(o))return Cl(o,o.data.length)
return Cl.after(o)}}if(vm(a))return Cl(a,a.data.length)
return Cl.before(a)}}if($d(e)&&f<u.childNodes.length){a=bm(u,f)
if(gm(a)){if(mm(a))return wm(r,a)
if(!pm(a)){o=Xd(a,e,hm,a)
if(o){if(vm(o))return Cl(o,0)
return Cl.before(o)}}if(vm(a))return Cl(a,0)
return Cl.after(a)}}n=a||i.getNode()}if($d(e)&&i.isAtEnd()||Wd(e)&&i.isAtStart()){n=Xd(n,e,M,r,true)
if(hm(n,r))return Cm(e,n)}a=Xd(n,e,hm,r)
var c=je(ee(ym(u,r),lm))
if(c&&(!a||!c.contains(a))){i=$d(e)?Cl.after(c):Cl.before(c)
return i}if(a)return Cm(e,a)
return null}
var Sm=function(e){return{next:function(t){return xm(sm.Forwards,t,e)},prev:function(t){return xm(sm.Backwards,t,e)}}}
var km=function(e,t,r){var n=e?Cl.before(r):Cl.after(r)
return Dm(e,t,n)}
var Nm=function(e){return Zn(e)?Cl.before(e):Cl.after(e)}
var Em=function(e){return Cl.isTextPosition(e)?0===e.offset():di(e.getNode())}
var _m=function(e){if(Cl.isTextPosition(e)){var t=e.container()
return e.offset()===t.data.length}return di(e.getNode(true))}
var Am=function(e,t){return!Cl.isTextPosition(e)&&!Cl.isTextPosition(t)&&e.getNode()===t.getNode(true)}
var Rm=function(e){return!Cl.isTextPosition(e)&&Zn(e.getNode())}
var Tm=function(e,t,r){return e?!Am(t,r)&&!Rm(t)&&_m(t)&&Em(r):!Am(r,t)&&Em(t)&&_m(r)}
var Dm=function(e,t,r){var n=Sm(t)
return H.from(e?n.next(r):n.prev(r))}
var Om=function(e,t,r){return Dm(e,t,r).bind((function(n){return Gd(r,n,t)&&Tm(e,r,n)?Dm(e,t,n):H.some(n)}))}
var Bm=function(e,t,r,n){return Om(e,t,r).bind((function(r){return n(r)?Bm(e,t,r,n):H.some(r)}))}
var Pm=function(e,t){var r=e?t.firstChild:t.lastChild
return Yn(r)?H.some(Cl(r,e?0:r.data.length)):r?di(r)?H.some(e?Cl.before(r):Nm(r)):km(e,t,r):H.none()}
var Lm=D(Dm,true)
var Im=D(Dm,false)
var Mm=D(Pm,true)
var Fm=D(Pm,false)
var Um="_mce_caret"
var zm=function(e){return Un(e)&&e.id===Um}
var jm=function(e,t){while(t&&t!==e){if(t.id===Um)return t
t=t.parentNode}return null}
var Hm=function(e){return p(e.start)}
var Vm=function(e){return e.hasOwnProperty("rng")}
var qm=function(e){return e.hasOwnProperty("id")}
var $m=function(e){return e.hasOwnProperty("name")}
var Wm=function(e){return sr.isArray(e.start)}
var Km=function(e,t){Un(t)&&e.isBlock(t)&&!t.innerHTML&&!Jt.ie&&(t.innerHTML='<br data-mce-bogus="1" />')
return t}
var Xm=function(e,t){var r
var n=e.createRng()
r=Fl(e.getRoot(),t.start)
n.setStart(r.container(),r.offset())
r=Fl(e.getRoot(),t.end)
n.setEnd(r.container(),r.offset())
return n}
var Ym=function(e,t){var r=e.ownerDocument.createTextNode(zo)
e.appendChild(r)
t.setStart(r,0)
t.setEnd(r,0)}
var Gm=function(e){return false===e.hasChildNodes()}
var Jm=function(e,t){return Fm(e).fold(I,(function(e){t.setStart(e.container(),e.offset())
t.setEnd(e.container(),e.offset())
return true}))}
var Qm=function(e,t,r){if(Gm(t)&&jm(e,t)){Ym(t,r)
return true}return false}
var Zm=function(e,t,r,n){var a=r[t?"start":"end"]
var o,i,u,f
var c=e.getRoot()
if(a){u=a[0]
for(i=c,o=a.length-1;o>=1;o--){f=i.childNodes
if(Qm(c,i,n))return true
if(a[o]>f.length-1){if(Qm(c,i,n))return true
return Jm(i,n)}i=f[a[o]]}3===i.nodeType&&(u=Math.min(a[0],i.nodeValue.length))
1===i.nodeType&&(u=Math.min(a[0],i.childNodes.length))
t?n.setStart(i,u):n.setEnd(i,u)}return true}
var eg=function(e){return Yn(e)&&e.data.length>0}
var tg=function(e,t,r){var n,a,o,i,u=e.get(r.id+"_"+t)
var f=r.keep
var c,s
if(u){n=u.parentNode
if("start"===t){if(f)if(u.hasChildNodes()){n=u.firstChild
a=1}else if(eg(u.nextSibling)){n=u.nextSibling
a=0}else if(eg(u.previousSibling)){n=u.previousSibling
a=u.previousSibling.data.length}else{n=u.parentNode
a=e.nodeIndex(u)+1}else a=e.nodeIndex(u)
c=n
s=a}else{if(f)if(u.hasChildNodes()){n=u.firstChild
a=1}else if(eg(u.previousSibling)){n=u.previousSibling
a=u.previousSibling.data.length}else{n=u.parentNode
a=e.nodeIndex(u)}else a=e.nodeIndex(u)
c=n
s=a}if(!f){i=u.previousSibling
o=u.nextSibling
sr.each(sr.grep(u.childNodes),(function(e){Yn(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))}))
while(u=e.get(r.id+"_"+t))e.remove(u,true)
if(i&&o&&i.nodeType===o.nodeType&&Yn(i)&&!Jt.opera){a=i.nodeValue.length
i.appendData(o.nodeValue)
e.remove(o)
c=i
s=a}}return H.some(Cl(c,s))}return H.none()}
var rg=function(e,t){var r=e.createRng()
return Zm(e,true,t,r)&&Zm(e,false,t,r)?H.some(r):H.none()}
var ng=function(e,t){var r=tg(e,"start",t)
var n=tg(e,"end",t)
return Ms(r,n.or(r),(function(t,r){var n=e.createRng()
n.setStart(Km(e,t.container()),t.offset())
n.setEnd(Km(e,r.container()),r.offset())
return n}))}
var ag=function(e,t){return H.from(e.select(t.name)[t.index]).map((function(t){var r=e.createRng()
r.selectNode(t)
return r}))}
var og=function(e,t){var r=e.dom
if(t){if(Wm(t))return rg(r,t)
if(Hm(t))return H.some(Xm(r,t))
if(qm(t))return ng(r,t)
if($m(t))return ag(r,t)
if(Vm(t))return H.some(t.rng)}return H.none()}
var ig=function(e,t,r){return Zl(e,t,r)}
var ug=function(e,t){og(e,t).each((function(t){e.setRng(t)}))}
var fg=function(e){return Un(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}
var cg=function(e){return function(t){return e===t}}
var sg=cg(Mo)
var lg=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}
var vg=function(e){return!lg(e)&&!sg(e)}
var dg=function(e){return!!e.nodeType}
var mg=function(e){return e&&/^(IMG)$/.test(e.nodeName)}
var gg=function(e,t,r){var n=r.startOffset
var a,o,i,u=r.startContainer
if(r.startContainer===r.endContainer&&mg(r.startContainer.childNodes[r.startOffset]))return
if(1===u.nodeType){i=u.childNodes
if(n<i.length){u=i[n]
a=new mo(u,e.getParent(u,e.isBlock))}else{u=i[i.length-1]
a=new mo(u,e.getParent(u,e.isBlock))
a.next(true)}for(o=a.current();o;o=a.next())if(3===o.nodeType&&!bg(o)){r.setStart(o,0)
t.setRng(r)
return}}}
var pg=function(e,t,r){if(e){var n=t?"nextSibling":"previousSibling"
for(e=r?e:e[n];e;e=e[n])if(1===e.nodeType||!bg(e))return e}}
var hg=function(e,t){dg(t)&&(t=t.nodeName)
return!!e.schema.getTextBlockElements()[t.toLowerCase()]}
var yg=function(e,t,r){return e.schema.isValidChild(t,r)}
var bg=function(e,t){void 0===t&&(t=false)
if(S(e)&&Yn(e)){var r=t?e.data.replace(/ /g," "):e.data
return wi(r)}return false}
var Cg=function(e){return S(e)&&Yn(e)&&0===e.length}
var wg=function(e,t){"string"!==typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,(function(e,r){return t[r]||e})))
return e}
var xg=function(e,t){e=e||""
t=t||""
e=""+(e.nodeName||e)
t=""+(t.nodeName||t)
return e.toLowerCase()===t.toLowerCase()}
var Sg=function(e,t,r){"color"!==r&&"backgroundColor"!==r||(t=e.toHex(t))
"fontWeight"===r&&700===t&&(t="bold")
"fontFamily"===r&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,","))
return""+t}
var kg=function(e,t,r){return Sg(e,e.getStyle(t,r),r)}
var Ng=function(e,t){var r
e.getParent(t,(function(t){r=e.getStyle(t,"text-decoration")
return r&&"none"!==r}))
return r}
var Eg=function(e,t,r){return e.getParents(t,r,e.getRoot())}
var _g=function(e,t){var r=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)}
return Y(["styles","attributes"],(function(r){return Re(e,r).exists((function(e){var r=y(e)?e:Ae(e)
return Y(r,t)}))}))}
return Y(e.formatter.get(t),r)}
var Ag=function(e,t,r){var n=["inline","block","selector","attributes","styles","classes"]
var a=function(e){return Ee(e,(function(e,t){return Y(n,(function(e){return e===t}))}))}
return Y(e.formatter.get(t),(function(t){var n=a(t)
return Y(e.formatter.get(r),(function(e){var t=a(e)
return Oe(n,t)}))}))}
var Rg=function(e){return De(e,"block")}
var Tg=function(e){return De(e,"selector")}
var Dg=function(e){return De(e,"inline")}
var Og=function(e,t){return Y(t.childNodes,e.isBlock)}
var Bg=fg
var Pg=Eg
var Lg=bg
var Ig=hg
var Mg=function(e){return Zn(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}
var Fg=function(e,t){var r=t
while(r){if(Un(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t
r=r.parentNode}return t}
var Ug=function(e,t,r,n){var a=t.data
for(var o=r;e?o>=0:o<a.length;e?o--:o++)if(n(a.charAt(o)))return e?o+1:o
return-1}
var zg=function(e,t,r){return Ug(e,t,r,(function(e){return sg(e)||lg(e)}))}
var jg=function(e,t,r){return Ug(e,t,r,vg)}
var Hg=function(e,t,r,n,a,o){var i
var u=e.getParent(r,e.isBlock)||t
var f=function(t,r,n){var o=Ls(e)
var f=a?o.backwards:o.forwards
return H.from(f(t,r,(function(e,t){if(Bg(e.parentNode))return-1
i=e
return n(a,e,t)}),u))}
var c=f(r,n,zg)
return c.bind((function(e){return o?f(e.container,e.offset+(a?-1:0),jg):H.some(e)})).orThunk((function(){return i?H.some({container:i,offset:a?0:i.length}):H.none()}))}
var Vg=function(e,t,r,n,a){Yn(n)&&0===n.nodeValue.length&&n[a]&&(n=n[a])
var o=Pg(e,n)
for(var i=0;i<o.length;i++)for(var u=0;u<t.length;u++){var f=t[u]
if("collapsed"in f&&f.collapsed!==r.collapsed)continue
if(e.is(o[i],f.selector))return o[i]}return n}
var qg=function(e,t,r,n){var a
var o=e.dom
var i=o.getRoot()
t[0].wrapper||(a=o.getParent(r,t[0].block,i))
if(!a){var u=o.getParent(r,"LI,TD,TH")
a=o.getParent(Yn(r)?r.parentNode:r,(function(t){return t!==i&&Ig(e,t)}),u)}a&&t[0].wrapper&&(a=Pg(o,a,"ul,ol").reverse()[0]||a)
if(!a){a=r
while(a[n]&&!o.isBlock(a[n])){a=a[n]
if(xg(a,"br"))break}}return a||r}
var $g=function(e,t,r,n){var a=r.parentNode
return!S(r[n])&&(!(a!==t&&!x(a)&&!e.isBlock(a))||$g(e,t,a,n))}
var Wg=function(e,t,r,n,a){var o=r
var i
var u=a?"previousSibling":"nextSibling"
var f=e.getRoot()
if(Yn(r)&&!Lg(r)&&(a?n>0:n<r.data.length))return r
while(true){if(!t[0].block_expand&&e.isBlock(o))return o
for(i=o[u];i;i=i[u]){var c=Yn(i)&&!$g(e,f,i,u)
if(!Bg(i)&&!Mg(i)&&!Lg(i,c))return o}if(o===f||o.parentNode===f){r=o
break}o=o.parentNode}return r}
var Kg=function(e){return Bg(e.parentNode)||Bg(e)}
var Xg=function(e,t,r,n){void 0===n&&(n=false)
var a=t.startContainer,o=t.startOffset,i=t.endContainer,u=t.endOffset
var f=e.dom
if(Un(a)&&a.hasChildNodes()){a=Ys(a,o)
Yn(a)&&(o=0)}if(Un(i)&&i.hasChildNodes()){i=Ys(i,t.collapsed?u:u-1)
Yn(i)&&(u=i.nodeValue.length)}a=Fg(f,a)
i=Fg(f,i)
if(Kg(a)){a=Bg(a)?a:a.parentNode
a=t.collapsed?a.previousSibling||a:a.nextSibling||a
Yn(a)&&(o=t.collapsed?a.length:0)}if(Kg(i)){i=Bg(i)?i:i.parentNode
i=t.collapsed?i.nextSibling||i:i.previousSibling||i
Yn(i)&&(u=t.collapsed?0:i.length)}if(t.collapsed){var c=Hg(f,e.getBody(),a,o,true,n)
c.each((function(e){var t=e.container,r=e.offset
a=t
o=r}))
var s=Hg(f,e.getBody(),i,u,false,n)
s.each((function(e){var t=e.container,r=e.offset
i=t
u=r}))}if(r[0].inline||r[0].block_expand){r[0].inline&&Yn(a)&&0!==o||(a=Wg(f,r,a,o,true))
r[0].inline&&Yn(i)&&u!==i.nodeValue.length||(i=Wg(f,r,i,u,false))}if(r[0].selector&&false!==r[0].expand&&!r[0].inline){a=Vg(f,r,t,a,"previousSibling")
i=Vg(f,r,t,i,"nextSibling")}if(r[0].block||r[0].selector){a=qg(e,r,a,"previousSibling")
i=qg(e,r,i,"nextSibling")
if(r[0].block){f.isBlock(a)||(a=Wg(f,r,a,o,true))
f.isBlock(i)||(i=Wg(f,r,i,u,false))}}if(Un(a)){o=f.nodeIndex(a)
a=a.parentNode}if(Un(i)){u=f.nodeIndex(i)+1
i=i.parentNode}return{startContainer:a,startOffset:o,endContainer:i,endOffset:u}}
var Yg=function(e,t){var r=e.childNodes
t>=r.length?t=r.length-1:t<0&&(t=0)
return r[t]||e}
var Gg=function(e,t){return Yg(e,t-1)}
var Jg=function(e,t,r){var n=t.startContainer
var a=t.startOffset
var o=t.endContainer
var i=t.endOffset
var u=function(e){var t
t=e[0]
3===t.nodeType&&t===n&&a>=t.nodeValue.length&&e.splice(0,1)
t=e[e.length-1]
0===i&&e.length>0&&t===o&&3===t.nodeType&&e.splice(e.length-1,1)
return e}
var f=function(e,t,r){var n=[]
for(;e&&e!==r;e=e[t])n.push(e)
return n}
var c=function(e,t){do{if(e.parentNode===t)return e
e=e.parentNode}while(e)}
var s=function(e,t,n){var a=n?"nextSibling":"previousSibling"
for(var o=e,i=o.parentNode;o&&o!==t;o=i){i=o.parentNode
var c=f(o===e?o:o[a],a)
if(c.length){n||c.reverse()
r(u(c))}}}
1===n.nodeType&&n.hasChildNodes()&&(n=Yg(n,a))
1===o.nodeType&&o.hasChildNodes()&&(o=Gg(o,i))
if(n===o)return r(u([n]))
var l=e.findCommonAncestor(n,o)
for(var v=n;v;v=v.parentNode){if(v===o)return s(n,l,true)
if(v===l)break}for(v=o;v;v=v.parentNode){if(v===n)return s(o,l)
if(v===l)break}var d=c(n,l)||n
var m=c(o,l)||o
s(n,d,true)
var g=f(d===n?d:d.nextSibling,"nextSibling",m===o?m.nextSibling:m)
g.length&&r(u(g))
s(o,m)}
var Qg=function(e){var t=[]
if(e)for(var r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r))
return t}
var Zg=function(e){return ue(e,(function(e){var t=Xs(e)
return t?[pr.fromDom(t)]:[]}))}
var ep=function(e){return Qg(e).length>1}
var tp=function(e){return ee(Zg(e),Bo)}
var rp=function(e){return ms(e,"td[data-mce-selected],th[data-mce-selected]")}
var np=function(e,t){var r=rp(t)
return r.length>0?r:tp(e)}
var ap=function(e){return np(Qg(e.selection.getSel()),pr.fromDom(e.getBody()))}
var op=function(e){var t=e.startContainer,r=e.startOffset
return Yn(t)?0===r?H.some(pr.fromDom(t)):H.none():H.from(t.childNodes[r]).map(pr.fromDom)}
var ip=function(e){var t=e.endContainer,r=e.endOffset
return Yn(t)?r===t.data.length?H.some(pr.fromDom(t)):H.none():H.from(t.childNodes[r-1]).map(pr.fromDom)}
var up=function(e){return en(e).fold(R([e]),(function(t){return[e].concat(up(t))}))}
var fp=function(e){return tn(e).fold(R([e]),(function(t){return"br"===Br(t)?Xr(t).map((function(t){return[e].concat(fp(t))})).getOr([]):[e].concat(fp(t))}))}
var cp=function(e,t){return Ms(op(t),ip(t),(function(t,r){var n=ae(up(e),D(Rr,t))
var a=ae(fp(e),D(Rr,r))
return n.isSome()&&a.isSome()})).getOr(false)}
var sp=function(e,t,r,n){var a=r,o=new mo(r,a)
var i=Ee(e.schema.getMoveCaretBeforeOnEnterElements(),(function(e,t){return!X(["td","th","table"],t.toLowerCase())}))
do{if(Yn(r)&&0!==sr.trim(r.nodeValue).length){n?t.setStart(r,0):t.setEnd(r,r.nodeValue.length)
return}if(i[r.nodeName]){n?t.setStartBefore(r):"BR"===r.nodeName?t.setEndBefore(r):t.setEndAfter(r)
return}}while(r=n?o.next():o.prev())
"BODY"===a.nodeName&&(n?t.setStart(a,0):t.setEnd(a,a.childNodes.length))}
var lp=function(e){var t=e.selection.getSel()
return t&&t.rangeCount>0}
var vp=function(e,t){var r=ap(e)
r.length>0?J(r,(function(r){var n=r.dom
var a=e.dom.createRng()
a.setStartBefore(n)
a.setEndAfter(n)
t(a,true)})):t(e.selection.getRng(),false)}
var dp=function(e,t,r){var n=Ql(e,t)
r(n)
e.moveToBookmark(n)}
var mp=function(e,t){var r=function(r){if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node")
return n(r).getOr("")}
var n=function(t){return e(t)?H.from(t.dom.nodeValue):H.none()}
var a=function(r,n){if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node")
r.dom.nodeValue=n}
return{get:r,getOption:n,set:a}}
var gp=mp(Fr,"text")
var pp=function(e){return gp.get(e)}
var hp=function(e){return Fr(e)&&pp(e)===zo}
var yp=function(e,t,r,n){return $r(t).fold((function(){return"skipping"}),(function(a){return"br"===n||hp(t)?"valid":bs(t)?"existing":zm(t.dom)?"caret":yg(e,r,n)&&yg(e,Br(a),r)?"valid":"invalid-child"}))}
var bp=function(e,t){var r=Xg(e,t,[{inline:true}])
t.setStart(r.startContainer,r.startOffset)
t.setEnd(r.endContainer,r.endOffset)
e.selection.setRng(t)}
var Cp=function(e,t,r,n){var a=t.uid,o=void 0===a?Es("mce-annotation"):a,i=Ve(t,["uid"])
var u=pr.fromTag("span",e)
cs(u,gs())
ua(u,""+hs(),o)
ua(u,""+ps(),r)
var f=n(o,i),c=f.attributes,s=void 0===c?{}:c,l=f.classes,v=void 0===l?[]:l
fa(u,s)
_s(u,v)
return u}
var wp=function(e,t,r,n,a){var o=[]
var i=Cp(e.getDoc(),a,r,n)
var u=Uc(H.none())
var f=function(){u.set(H.none())}
var c=function(){return u.get().getOrThunk((function(){var e=Os(i)
o.push(e)
u.set(H.some(e))
return e}))}
var s=function(e){J(e,l)}
var l=function(t){var r=yp(e,t,"span",Br(t))
switch(r){case"invalid-child":f()
var n=Qr(t)
s(n)
f()
break
case"valid":var a=c()
yn(t,a)}}
var v=function(e){var t=G(e,pr.fromDom)
s(t)}
Jg(e.dom,t,(function(e){f()
v(e)}))
return o}
var xp=function(e,t,r,n){e.undoManager.transact((function(){var a=e.selection
var o=a.getRng()
var i=ap(e).length>0
o.collapsed&&!i&&bp(e,o)
if(a.getRng().collapsed&&!i){var u=Cp(e.getDoc(),n,t,r.decorate)
Ts(u,Mo)
a.getRng().insertNode(u.dom)
a.select(u.dom)}else dp(a,false,(function(){vp(e,(function(a){wp(e,a,t,r.decorate,n)}))}))}))}
var Sp=function(e){var t=ks()
Ss(e,t)
var r=xs(e)
return{register:function(e,r){t.register(e,r)},annotate:function(r,n){t.lookup(r).each((function(t){xp(e,r,t,n)}))},annotationChanged:function(e,t){r.addListener(e,t)},remove:function(t){ys(e,H.some(t)).each((function(e){var t=e.elements
J(t,Sn)}))},getAll:function(t){var r=ws(e,t)
return we(r,(function(e){return G(e,(function(e){return e.dom}))}))}}}
var kp=function(e){return{getBookmark:D(ig,e),moveToBookmark:D(ug,e)}}
kp.isBookmarkNode=fg
var Np=function(e,t){while(t&&t!==e){if(ta(t)||ra(t))return t
t=t.parentNode}return null}
var Ep=function(e,t,r){if(r.collapsed)return false
if(Jt.browser.isIE()&&r.startOffset===r.endOffset-1&&r.startContainer===r.endContainer){var n=r.startContainer.childNodes[r.startOffset]
if(Un(n))return Y(n.getClientRects(),(function(r){return Ks(r,e,t)}))}return Y(r.getClientRects(),(function(r){return Ks(r,e,t)}))}
var _p=function(e,t){return e.fire("PreProcess",t)}
var Ap=function(e,t){return e.fire("PostProcess",t)}
var Rp=function(e){return e.fire("remove")}
var Tp=function(e){return e.fire("detach")}
var Dp=function(e,t){return e.fire("SwitchMode",{mode:t})}
var Op=function(e,t,r,n,a){e.fire("ObjectResizeStart",{target:t,width:r,height:n,origin:a})}
var Bp=function(e,t,r,n,a){e.fire("ObjectResized",{target:t,width:r,height:n,origin:a})}
var Pp=function(e){return e.fire("PreInit")}
var Lp=function(e){return e.fire("PostRender")}
var Ip=function(e){return e.fire("Init")}
var Mp=function(e,t){return e.fire("PlaceholderToggle",{state:t})}
var Fp=function(e,t,r){return e.fire(t,r)}
var Up={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Up.metaKeyPressed(e)},metaKeyPressed:function(e){return Jt.mac?e.metaKey:e.ctrlKey&&!e.altKey}}
var zp=ra
var jp=function(e,t){var r="data-mce-selected"
var n=t.dom,a=sr.each
var o,i,u,f,c
var s,l,v,d,m,g,p,h
var y,b
var C=t.getDoc(),w=document
var x=Math.abs,k=Math.round,N=t.getBody()
var E,_
var A={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]}
var R=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))}
var T=function(e){return aa(e)||n.hasClass(e,"mce-preview-object")}
var D=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var r=e.touches[0]
return R(e.target)&&!Ep(r.clientX,r.clientY,t)}return R(e.target)&&!Ep(e.clientX,e.clientY,t)}
var O=function(e){var r=e.target
D(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(r)}
var B=function(e){return n.is(e,"figure.image")?[e.querySelector("img")]:n.hasClass(e,"mce-preview-object")&&S(e.firstElementChild)?[e,e.firstElementChild]:[e]}
var P=function(e){var r=Uv(t)
if(!r)return false
if("false"===e.getAttribute("data-mce-resize"))return false
if(e===t.getBody())return false
return n.hasClass(e,"mce-preview-object")?Nr(pr.fromDom(e.firstElementChild),r):Nr(pr.fromDom(e),r)}
var L=function(e){return T(e)?n.create("img",{src:Jt.transparentSrc}):e.cloneNode(true)}
var I=function(e,r,a){if(S(a)){var o=B(e)
J(o,(function(e){e.style[r]||!t.schema.isValid(e.nodeName.toLowerCase(),r)?n.setStyle(e,r,a):n.setAttrib(e,r,""+a)}))}}
var M=function(e,t,r){I(e,"width",t)
I(e,"height",r)}
var F=function(e){var r,a,c
var C,w
r=e.screenX-s
a=e.screenY-l
y=r*f[2]+m
b=a*f[3]+g
y=y<5?5:y
b=b<5?5:b
c=(R(o)||T(o))&&false!==zv(t)?!Up.modifierPressed(e):Up.modifierPressed(e)
if(c)if(x(r)>x(a)){b=k(y*p)
y=k(b/p)}else{y=k(b/p)
b=k(y*p)}M(i,y,b)
C=f.startPos.x+r
w=f.startPos.y+a
C=C>0?C:0
w=w>0?w:0
n.setStyles(u,{left:C,top:w,display:"block"})
u.innerHTML=y+" &times; "+b
f[2]<0&&i.clientWidth<=y&&n.setStyle(i,"left",v+(m-y))
f[3]<0&&i.clientHeight<=b&&n.setStyle(i,"top",d+(g-b))
r=N.scrollWidth-E
a=N.scrollHeight-_
r+a!==0&&n.setStyles(u,{left:C-r,top:w-a})
if(!h){Op(t,o,m,g,"corner-"+f.name)
h=true}}
var U=function(){var e=h
h=false
if(e){I(o,"width",y)
I(o,"height",b)}n.unbind(C,"mousemove",F)
n.unbind(C,"mouseup",U)
if(w!==C){n.unbind(w,"mousemove",F)
n.unbind(w,"mouseup",U)}n.remove(i)
n.remove(u)
n.remove(c)
z(o)
if(e){Bp(t,o,y,b,"corner-"+f.name)
n.setAttrib(o,"style",n.getAttrib(o,"style"))}t.nodeChanged()}
var z=function(e){q()
var v=n.getPos(e,N)
var d=v.x
var h=v.y
var x=e.getBoundingClientRect()
var S=x.width||x.right-x.left
var k=x.height||x.bottom-x.top
if(o!==e){j()
o=e
y=b=0}var R=t.fire("ObjectSelected",{target:e})
var T=n.getAttrib(o,r,"1")
P(e)&&!R.isDefaultPrevented()?a(A,(function(e,t){var a
var v=function(a){var v=B(o)[0]
s=a.screenX
l=a.screenY
m=v.clientWidth
g=v.clientHeight
p=g/m
f=e
f.name=t
f.startPos={x:S*e[0]+d,y:k*e[1]+h}
E=N.scrollWidth
_=N.scrollHeight
c=n.add(N,"div",{class:"mce-resize-backdrop"})
n.setStyles(c,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"})
i=L(o)
n.addClass(i,"mce-clonedresizable")
n.setAttrib(i,"data-mce-bogus","all")
i.contentEditable="false"
n.setStyles(i,{left:d,top:h,margin:0})
M(i,S,k)
i.removeAttribute(r)
N.appendChild(i)
n.bind(C,"mousemove",F)
n.bind(C,"mouseup",U)
if(w!==C){n.bind(w,"mousemove",F)
n.bind(w,"mouseup",U)}u=n.add(N,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+g)}
a=n.get("mceResizeHandle"+t)
a&&n.remove(a)
a=n.add(N,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:true,style:"cursor:"+t+"-resize; margin:0; padding:0"})
11===Jt.ie&&(a.contentEditable=false)
n.bind(a,"mousedown",(function(e){e.stopImmediatePropagation()
e.preventDefault()
v(e)}))
e.elm=a
n.setStyles(a,{left:S*e[0]+d-a.offsetWidth/2,top:k*e[1]+h-a.offsetHeight/2})})):j()
n.getAttrib(o,r)||o.setAttribute(r,T)}
var j=function(){q()
o&&o.removeAttribute(r)
Ce(A,(function(e,t){var r=n.get("mceResizeHandle"+t)
if(r){n.unbind(r)
n.remove(r)}}))}
var H=function(o){var i,u
var f=function(e,t){if(e)do{if(e===t)return true}while(e=e.parentNode)}
if(h||t.removed)return
a(n.select("img[data-mce-selected],hr[data-mce-selected]"),(function(e){e.removeAttribute(r)}))
u="mousedown"===o.type?o.target:e.getNode()
u=n.$(u).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0]
if(f(u,N)){$()
i=e.getStart(true)
if(f(i,u)&&f(e.getEnd(true),u)){z(u)
return}}j()}
var V=function(e){return zp(Np(t.getBody(),e))}
var q=function(){Ce(A,(function(e){if(e.elm){n.unbind(e.elm)
delete e.elm}}))}
var $=function(){try{t.getDoc().execCommand("enableObjectResizing",false,"false")}catch(e){}}
t.on("init",(function(){$()
if(Jt.browser.isIE()||Jt.browser.isEdge()){t.on("mousedown click",(function(e){var r=e.target,n=r.nodeName
if(!h&&/^(TABLE|IMG|HR)$/.test(n)&&!V(r)){2!==e.button&&t.selection.select(r,"TABLE"===n)
"mousedown"===e.type&&t.nodeChanged()}}))
var e=function(e){var r=function(e){co.setEditorTimeout(t,(function(){return t.selection.select(e)}))}
if(V(e.target)||aa(e.target)){e.preventDefault()
r(e.target)
return}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault()
"IMG"===e.target.tagName&&r(e.target)}}
n.bind(N,"mscontrolselect",e)
t.on("remove",(function(){return n.unbind(N,"mscontrolselect",e)}))}var r=co.throttle((function(e){t.composing||H(e)}))
t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r)
t.on("keyup compositionend",(function(e){o&&"TABLE"===o.nodeName&&r(e)}))
t.on("hide blur",j)
t.on("contextmenu longpress",O,true)}))
t.on("remove",q)
var W=function(){o=i=c=null}
return{isResizable:P,showResizeRect:z,hideResizeRect:j,updateResizeRect:H,destroy:W}}
var Hp=function(e){return ta(e)||ra(e)}
var Vp=function(e,t,r){while(e&&e!==t){if(r(e))return e
e=e.parentNode}return null}
var qp=function(e,t,r){var n
var a=r.elementFromPoint(e,t)
var o=r.body.createTextRange()
a&&"HTML"!==a.tagName||(a=r.body)
o.moveToElementText(a)
n=sr.toArray(o.getClientRects())
n=n.sort((function(e,r){e=Math.abs(Math.max(e.top-t,e.bottom-t))
r=Math.abs(Math.max(r.top-t,r.bottom-t))
return e-r}))
if(n.length>0){t=(n[0].bottom+n[0].top)/2
try{o.moveToPoint(e,t)
o.collapse(true)
return o}catch(e){}}return null}
var $p=function(e,t){var r=e&&e.parentElement?e.parentElement():null
return ra(Vp(r,t,Hp))?null:e}
var Wp=function(e,t,r){var n,a
var o=r
if(o.caretPositionFromPoint){a=o.caretPositionFromPoint(e,t)
if(a){n=r.createRange()
n.setStart(a.offsetNode,a.offset)
n.collapse(true)}}else if(r.caretRangeFromPoint)n=r.caretRangeFromPoint(e,t)
else if(o.body.createTextRange){n=o.body.createTextRange()
try{n.moveToPoint(e,t)
n.collapse(true)}catch(a){n=qp(e,t,r)}return $p(n,r.body)}return n}
var Kp=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}
var Xp=function(e,t,r){while(e&&e!==t){if(r(e))return e
e=e.parentNode}return null}
var Yp=function(e,t,r){return null!==Xp(e,t,r)}
var Gp=function(e,t,r){return Yp(e,t,(function(e){return e.nodeName===r}))}
var Jp=function(e){return e&&"TABLE"===e.nodeName}
var Qp=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var Zp=function(e,t){return Ko(e)&&false===Yp(e,t,zm)}
var eh=function(e,t,r){var n=new mo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot())
while(t=n[r?"prev":"next"]())if(Zn(t))return true}
var th=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t}
var rh=function(e,t){while(t&&t!==e){if(ra(t))return true
t=t.parentNode}return false}
var nh=function(e,t,r,n,a){var o
var i=e.getRoot()
var u
var f=e.schema.getNonEmptyElements()
var c=e.getParent(a.parentNode,e.isBlock)||i
if(n&&Zn(a)&&t&&e.isEmpty(c))return H.some(Cl(a.parentNode,e.nodeIndex(a)))
var s=new mo(a,c)
while(u=s[n?"prev":"next"]()){if("false"===e.getContentEditableParent(u)||Zp(u,i))return H.none()
if(Yn(u)&&u.nodeValue.length>0){if(false===Gp(u,i,"A"))return H.some(Cl(u,n?u.nodeValue.length:0))
return H.none()}if(e.isBlock(u)||f[u.nodeName.toLowerCase()])return H.none()
o=u}if(r&&o)return H.some(Cl(o,0))
return H.none()}
var ah=function(e,t,r,n){var a,o
var i=e.getRoot()
var u
var f,c=false
a=n[(r?"start":"end")+"Container"]
o=n[(r?"start":"end")+"Offset"]
var s=Un(a)&&o===a.childNodes.length
var l=e.schema.getNonEmptyElements()
f=r
if(Ko(a))return H.none()
Un(a)&&o>a.childNodes.length-1&&(f=false)
if(Jn(a)){a=i
o=0}if(a===i){if(f){u=a.childNodes[o>0?o-1:0]
if(u){if(Ko(u))return H.none()
if(l[u.nodeName]||Jp(u))return H.none()}}if(a.hasChildNodes()){o=Math.min(!f&&o>0?o-1:o,a.childNodes.length-1)
a=a.childNodes[o]
o=Yn(a)&&s?a.data.length:0
if(!t&&a===i.lastChild&&Jp(a))return H.none()
if(rh(i,a)||Ko(a))return H.none()
if(a.hasChildNodes()&&false===Jp(a)){u=a
var v=new mo(a,i)
do{if(ra(u)||Ko(u)){c=false
break}if(Yn(u)&&u.nodeValue.length>0){o=f?0:u.nodeValue.length
a=u
c=true
break}if(l[u.nodeName.toLowerCase()]&&!Qp(u)){o=e.nodeIndex(u)
a=u.parentNode
f||o++
c=true
break}}while(u=f?v.next():v.prev())}}}if(t){Yn(a)&&0===o&&nh(e,s,t,true,a).each((function(e){a=e.container()
o=e.offset()
c=true}))
if(Un(a)){u=a.childNodes[o]
u||(u=a.childNodes[o-1])
!u||!Zn(u)||th(u,"A")||eh(e,u,false)||eh(e,u,true)||nh(e,s,t,true,u).each((function(e){a=e.container()
o=e.offset()
c=true}))}}f&&!t&&Yn(a)&&o===a.nodeValue.length&&nh(e,s,t,false,a).each((function(e){a=e.container()
o=e.offset()
c=true}))
return c?H.some(Cl(a,o)):H.none()}
var oh=function(e,t){var r=t.collapsed,n=t.cloneRange()
var a=Cl.fromRangeStart(t)
ah(e,r,true,n).each((function(e){r&&Cl.isAbove(a,e)||n.setStart(e.container(),e.offset())}))
r||ah(e,r,false,n).each((function(e){n.setEnd(e.container(),e.offset())}))
r&&n.collapse(true)
return Kp(t,n)?H.none():H.some(n)}
var ih=function(e,t){return e.splitText(t)}
var uh=function(e){var t=e.startContainer,r=e.startOffset,n=e.endContainer,a=e.endOffset
if(t===n&&Yn(t)){if(r>0&&r<t.nodeValue.length){n=ih(t,r)
t=n.previousSibling
if(a>r){a-=r
t=n=ih(n,a).previousSibling
a=n.nodeValue.length
r=0}else a=0}}else{if(Yn(t)&&r>0&&r<t.nodeValue.length){t=ih(t,r)
r=0}if(Yn(n)&&a>0&&a<n.nodeValue.length){n=ih(n,a).previousSibling
a=n.nodeValue.length}}return{startContainer:t,startOffset:r,endContainer:n,endOffset:a}}
var fh=function(e){var t=function(t,r){return Jg(e,t,r)}
var r=uh
var n=function(t){return oh(e,t).fold(I,(function(e){t.setStart(e.startContainer,e.startOffset)
t.setEnd(e.endContainer,e.endOffset)
return true}))}
return{walk:t,split:r,normalize:n}}
fh.compareRanges=Kp
fh.getCaretRangeFromPoint=Wp
fh.getSelectedNode=Xs
fh.getNode=Ys
var ch=function(e,t){var r=function(t,r){if(!N(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r)
var n=t.dom
oa(n)&&(n.style[e]=r+"px")}
var n=function(r){var n=t(r)
if(n<=0||null===n){var a=pa(r,e)
return parseFloat(a)||0}return n}
var a=n
var o=function(e,t){return re(t,(function(t,r){var n=pa(e,r)
var a=void 0===n?0:parseInt(n,10)
return isNaN(a)?t:t+a}),0)}
var i=function(e,t,r){var n=o(e,r)
var a=t>n?t-n:0
return a}
return{set:r,get:n,getOuter:a,aggregate:o,max:i}}
var sh=ch("height",(function(e){var t=e.dom
return kn(e)?t.getBoundingClientRect().height:t.offsetHeight}))
var lh=function(e){return sh.get(e)}
var vh=function(e,t){var r=e.view(t)
return r.fold(R([]),(function(t){var r=e.owner(t)
var n=vh(e,r)
return[t].concat(n)}))}
var dh=function(e,t){var r=t.owner(e)
return vh(t,r)}
var mh=function(e){var t
var r=e.dom===document?H.none():H.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)
return r.map(pr.fromDom)}
var gh=function(e){return Hr(e)}
var ph=Object.freeze({__proto__:null,view:mh,owner:gh})
var hh=function(e){var t=pr.fromDom(document)
var r=Dn(t)
var n=dh(e,ph)
var a=Tn(e)
var o=te(n,(function(e,t){var r=Tn(t)
return{left:e.left+r.left,top:e.top+r.top}}),{left:0,top:0})
return En(o.left+a.left+r.left,o.top+a.top+r.top)}
var yh=function(e){return"textarea"===Br(e)}
var bh=function(e,t){var r=e.fire("ScrollIntoView",t)
return r.isDefaultPrevented()}
var Ch=function(e,t){e.fire("AfterScrollIntoView",t)}
var wh=function(e,t){var r=Qr(e)
if(0===r.length||yh(e))return{element:e,offset:t}
if(t<r.length&&!yh(r[t]))return{element:r[t],offset:0}
var n=r[r.length-1]
return yh(n)?{element:e,offset:t}:"img"===Br(n)?{element:n,offset:1}:Fr(n)?{element:n,offset:pp(n).length}:{element:n,offset:Qr(n).length}}
var xh=function(e,t){var r=Rn(e)
var n=lh(e)
return{element:e,bottom:r.top+n,height:n,pos:r,cleanup:t}}
var Sh=function(e,t){var r=wh(e,t)
var n=pr.fromHtml('<span data-mce-bogus="all">'+zo+"</span>")
mn(r.element,n)
return xh(n,(function(){return xn(n)}))}
var kh=function(e){return xh(pr.fromDom(e),E)}
var Nh=function(e,t,r,n){Rh(e,(function(a,o){return _h(e,t,r,n)}),r)}
var Eh=function(e,t,r,n,a){var o={elm:n.element.dom,alignToTop:a}
if(bh(e,o))return
var i=Dn(t).top
r(t,i,n,a)
Ch(e,o)}
var _h=function(e,t,r,n){var a=pr.fromDom(e.getBody())
var o=pr.fromDom(e.getDoc())
Ca(a)
var i=Sh(pr.fromDom(r.startContainer),r.startOffset)
Eh(e,o,t,i,n)
i.cleanup()}
var Ah=function(e,t,r,n){var a=pr.fromDom(e.getDoc())
Eh(e,a,r,kh(t),n)}
var Rh=function(e,t,r){var n=r.startContainer
var a=r.startOffset
var o=r.endContainer
var i=r.endOffset
t(pr.fromDom(n),pr.fromDom(o))
var u=e.dom.createRng()
u.setStart(n,a)
u.setEnd(o,i)
e.selection.setRng(r)}
var Th=function(e,t,r,n){var a=e.pos
if(r)On(a.left,a.top,n)
else{var o=a.top-t+e.height
On(a.left,o,n)}}
var Dh=function(e,t,r,n,a){var o=r+t
var i=n.pos.top
var u=n.bottom
var f=u-i>=r
if(i<t)Th(n,r,false!==a,e)
else if(i>o){var c=f?false!==a:true===a
Th(n,r,c,e)}else u>o&&!f&&Th(n,r,true===a,e)}
var Oh=function(e,t,r,n){var a=e.dom.defaultView.innerHeight
Dh(e,t,a,r,n)}
var Bh=function(e,t,r,n){var a=e.dom.defaultView.innerHeight
Dh(e,t,a,r,n)
var o=hh(r.element)
var i=In(window)
o.top<i.y?Bn(r.element,false!==n):o.top>i.bottom&&Bn(r.element,true===n)}
var Ph=function(e,t,r){return Nh(e,Oh,t,r)}
var Lh=function(e,t,r){return Ah(e,t,Oh,r)}
var Ih=function(e,t,r){return Nh(e,Bh,t,r)}
var Mh=function(e,t,r){return Ah(e,t,Bh,r)}
var Fh=function(e,t,r){var n=e.inline?Lh:Mh
n(e,t,r)}
var Uh=function(e,t,r){var n=e.inline?Ph:Ih
n(e,t,r)}
var zh=function(){return pr.fromDom(document)}
var jh=function(e){return e.dom.focus()}
var Hh=function(e){var t=fn(e).dom
return e.dom===t.activeElement}
var Vh=function(e){void 0===e&&(e=zh())
return H.from(e.dom.activeElement).map(pr.fromDom)}
var qh=function(e){return Vh(fn(e)).filter((function(t){return e.dom.contains(t.dom)}))}
var $h=function(e,t,r,n){return{start:e,soffset:t,finish:r,foffset:n}}
var Wh={create:$h}
var Kh=qa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var Xh=function(e,t,r,n){return e.fold(t,r,n)}
var Yh=function(e){return e.fold(T,T,T)}
var Gh=Kh.before
var Jh=Kh.on
var Qh=Kh.after
var Zh={before:Gh,on:Jh,after:Qh,cata:Xh,getStart:Yh}
var ey=qa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var ty=function(e){return ey.exact(e.start,e.soffset,e.finish,e.foffset)}
var ry=function(e){return e.match({domRange:function(e){return pr.fromDom(e.startContainer)},relative:function(e,t){return Zh.getStart(e)},exact:function(e,t,r,n){return e}})}
var ny=ey.domRange
var ay=ey.relative
var oy=ey.exact
var iy=function(e){var t=ry(e)
return qr(t)}
var uy=Wh.create
var fy={domRange:ny,relative:ay,exact:oy,exactFromRange:ty,getWin:iy,range:uy}
var cy=Ht().browser
var sy=function(e,t){var r=Fr(t)?pp(t).length:Qr(t).length+1
if(e>r)return r
if(e<0)return 0
return e}
var ly=function(e){return fy.range(e.start,sy(e.soffset,e.start),e.finish,sy(e.foffset,e.finish))}
var vy=function(e,t){return!Fn(t.dom)&&(Or(e,t)||Rr(e,t))}
var dy=function(e){return function(t){return vy(e,t.start)&&vy(e,t.finish)}}
var my=function(e){return true===e.inline||cy.isIE()}
var gy=function(e){return fy.range(pr.fromDom(e.startContainer),e.startOffset,pr.fromDom(e.endContainer),e.endOffset)}
var py=function(e){var t=e.getSelection()
var r=t&&0!==t.rangeCount?H.from(t.getRangeAt(0)):H.none()
return r.map(gy)}
var hy=function(e){var t=qr(e)
return py(t.dom).filter(dy(e))}
var yy=function(e,t){return H.from(t).filter(dy(e)).map(ly)}
var by=function(e){var t=document.createRange()
try{t.setStart(e.start.dom,e.soffset)
t.setEnd(e.finish.dom,e.foffset)
return H.some(t)}catch(e){return H.none()}}
var Cy=function(e){var t=my(e)?hy(pr.fromDom(e.getBody())):H.none()
e.bookmark=t.isSome()?t:e.bookmark}
var wy=function(e,t){var r=pr.fromDom(e.getBody())
var n=my(e)?H.from(t):H.none()
var a=n.map(gy).filter(dy(r))
e.bookmark=a.isSome()?a:e.bookmark}
var xy=function(e){var t=e.bookmark?e.bookmark:H.none()
return t.bind((function(t){return yy(pr.fromDom(e.getBody()),t)})).bind(by)}
var Sy=function(e){xy(e).each((function(t){return e.selection.setRng(t)}))}
var ky=function(e){var t=e.className.toString()
return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}
var Ny={isEditorUIElement:ky}
var Ey=function(e){return"nodechange"===e.type&&e.selectionChange}
var _y=function(e,t){var r=function(){t.throttle()}
Tc.DOM.bind(document,"mouseup",r)
e.on("remove",(function(){Tc.DOM.unbind(document,"mouseup",r)}))}
var Ay=function(e){e.on("focusout",(function(){Cy(e)}))}
var Ry=function(e,t){e.on("mouseup touchend",(function(e){t.throttle()}))}
var Ty=function(e,t){var r=Ht().browser
r.isIE()?Ay(e):Ry(e,t)
e.on("keyup NodeChange",(function(t){Ey(t)||Cy(e)}))}
var Dy=function(e){var t=es((function(){Cy(e)}),0)
e.on("init",(function(){e.inline&&_y(e,t)
Ty(e,t)}))
e.on("remove",(function(){t.cancel()}))}
var Oy
var By=Tc.DOM
var Py=function(e){return Ny.isEditorUIElement(e)}
var Ly=function(e){var t=e.classList
return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))}
var Iy=function(e,t){var r=Gv(e)
var n=By.getParent(t,(function(t){return Py(t)||!!r&&e.dom.is(t,r)}))
return null!==n}
var My=function(e){try{var t=fn(pr.fromDom(e.getElement()))
return Vh(t).fold((function(){return document.body}),(function(e){return e.dom}))}catch(e){return document.body}}
var Fy=function(e,t){var r=t.editor
Dy(r)
r.on("focusin",(function(){var t=e.focusedEditor
if(t!==r){t&&t.fire("blur",{focusedEditor:r})
e.setActive(r)
e.focusedEditor=r
r.fire("focus",{blurredEditor:t})
r.focus(true)}}))
r.on("focusout",(function(){co.setEditorTimeout(r,(function(){var t=e.focusedEditor
if(!Iy(r,My(r))&&t===r){r.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}))
if(!Oy){Oy=function(t){var r=e.activeEditor
r&&vn(t).each((function(t){if(t.ownerDocument===document&&t!==document.body&&!Iy(r,t)&&e.focusedEditor===r){r.fire("blur",{focusedEditor:null})
e.focusedEditor=null}}))}
By.bind(document,"focusin",Oy)}}
var Uy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null)
if(!e.activeEditor){By.unbind(document,"focusin",Oy)
Oy=null}}
var zy=function(e){e.on("AddEditor",D(Fy,e))
e.on("RemoveEditor",D(Uy,e))}
var jy=function(e,t){return e.dom.getParent(t,(function(t){return"true"===e.dom.getContentEditable(t)}))}
var Hy=function(e){return e.collapsed?H.from(Ys(e.startContainer,e.startOffset)).map(pr.fromDom):H.none()}
var Vy=function(e,t){return Hy(t).bind((function(t){return Oo(t)?H.some(t):false===Or(e,t)?H.some(e):H.none()}))}
var qy=function(e,t){Vy(pr.fromDom(e.getBody()),t).bind((function(e){return Mm(e.dom)})).fold((function(){e.selection.normalize()
return}),(function(t){return e.selection.setRng(t.toRange())}))}
var $y=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()}
var Wy=function(e){return Hh(e)||qh(e).isSome()}
var Ky=function(e){return e.iframeElement&&Hh(pr.fromDom(e.iframeElement))}
var Xy=function(e){var t=e.getBody()
return t&&Wy(pr.fromDom(t))}
var Yy=function(e){var t=fn(pr.fromDom(e.getElement()))
return Vh(t).filter((function(t){return!Ly(t.dom)&&Iy(e,t.dom)})).isSome()}
var Gy=function(e){return e.inline?Xy(e):Ky(e)}
var Jy=function(e){return Gy(e)||Yy(e)}
var Qy=function(e){var t=e.selection
var r=e.getBody()
var n=t.getRng()
e.quirks.refreshContentEditable()
void 0!==e.bookmark&&false===Gy(e)&&xy(e).each((function(t){e.selection.setRng(t)
n=t}))
var a=jy(e,t.getNode())
if(e.$.contains(r,a)){$y(a)
qy(e,n)
Zy(e)
return}if(!e.inline){Jt.opera||$y(r)
e.getWin().focus()}if(Jt.gecko||e.inline){$y(r)
qy(e,n)}Zy(e)}
var Zy=function(e){return e.editorManager.setActive(e)}
var eb=function(e,t){if(e.removed)return
t?Zy(e):Qy(e)}
var tb=function(e,t,r,n,a){var o=r?t.startContainer:t.endContainer
var i=r?t.startOffset:t.endOffset
return H.from(o).map(pr.fromDom).map((function(e){return n&&t.collapsed?e:Zr(e,a(e,i)).getOr(e)})).bind((function(e){return Mr(e)?H.some(e):$r(e).filter(Mr)})).map((function(e){return e.dom})).getOr(e)}
var rb=function(e,t,r){return tb(e,t,true,r,(function(e,t){return Math.min(rn(e),t)}))}
var nb=function(e,t,r){return tb(e,t,false,r,(function(e,t){return t>0?t-1:t}))}
var ab=function(e,t){var r=e
while(e&&Yn(e)&&0===e.length)e=t?e.nextSibling:e.previousSibling
return e||r}
var ob=function(e,t){var r,n,a
if(!t)return e
n=t.startContainer
a=t.endContainer
var o=t.startOffset
var i=t.endOffset
r=t.commonAncestorContainer
if(!t.collapsed){n===a&&i-o<2&&n.hasChildNodes()&&(r=n.childNodes[o])
if(3===n.nodeType&&3===a.nodeType){n=n.length===o?ab(n.nextSibling,true):n.parentNode
a=0===i?ab(a.previousSibling,false):a.parentNode
if(n&&n===a)return n}}if(r&&3===r.nodeType)return r.parentNode
return r}
var ib=function(e,t,r,n){var a
var o=[]
var i=e.getRoot()
r=e.getParent(r||rb(i,t,t.collapsed),e.isBlock)
n=e.getParent(n||nb(i,t,t.collapsed),e.isBlock)
r&&r!==i&&o.push(r)
if(r&&n&&r!==n){a=r
var u=new mo(r,i)
while((a=u.next())&&a!==n)e.isBlock(a)&&o.push(a)}n&&r!==n&&n!==i&&o.push(n)
return o}
var ub=function(e,t,r){return H.from(t).map((function(t){var n=e.nodeIndex(t)
var a=e.createRng()
a.setStart(t.parentNode,n)
a.setEnd(t.parentNode,n+1)
if(r){sp(e,a,t,true)
sp(e,a,t,false)}return a}))}
var fb=function(e,t){return G(t,(function(t){var r=e.fire("GetSelectionRange",{range:t})
return r.range!==t?r.range:t}))}
var cb={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11}
var sb=function(e,t,r){var n=r?"lastChild":"firstChild"
var a=r?"prev":"next"
if(e[n])return e[n]
if(e!==t){var o=e[a]
if(o)return o
for(var i=e.parent;i&&i!==t;i=i.parent){o=i[a]
if(o)return o}}}
var lb=function(e){if(!wi(e.value))return false
var t=e.parent
if(t&&("span"!==t.name||t.attr("style"))&&/^[ ]+$/.test(e.value))return false
return true}
var vb=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id")
return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}
var db=function(){function e(e,t){this.name=e
this.type=t
if(1===t){this.attributes=[]
this.attributes.map={}}}e.create=function(t,r){var n=new e(t,cb[t]||1)
r&&Ce(r,(function(e,t){n.attr(t,e)}))
return n}
e.prototype.replace=function(e){var t=this
e.parent&&e.remove()
t.insert(e,t)
t.remove()
return t}
e.prototype.attr=function(e,t){var r=this
var n
if("string"!==typeof e){void 0!==e&&null!==e&&Ce(e,(function(e,t){r.attr(t,e)}))
return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e]
var a=n.length
while(a--)if(n[a].name===e){n.splice(a,1)
return r}}return r}if(e in n.map){a=n.length
while(a--)if(n[a].name===e){n[a].value=t
break}}else n.push({name:e,value:t})
n.map[e]=t
return r}return n.map[e]}}
e.prototype.clone=function(){var t=this
var r=new e(t.name,t.type)
var n
if(n=t.attributes){var a=[]
a.map={}
for(var o=0,i=n.length;o<i;o++){var u=n[o]
if("id"!==u.name){a[a.length]={name:u.name,value:u.value}
a.map[u.name]=u.value}}r.attributes=a}r.value=t.value
r.shortEnded=t.shortEnded
return r}
e.prototype.wrap=function(e){var t=this
t.parent.insert(e,t)
e.append(t)
return t}
e.prototype.unwrap=function(){var e=this
for(var t=e.firstChild;t;){var r=t.next
e.insert(t,e,true)
t=r}e.remove()}
e.prototype.remove=function(){var e=this,t=e.parent,r=e.next,n=e.prev
if(t){if(t.firstChild===e){t.firstChild=r
r&&(r.prev=null)}else n.next=r
if(t.lastChild===e){t.lastChild=n
n&&(n.next=null)}else r.prev=n
e.parent=e.next=e.prev=null}return e}
e.prototype.append=function(e){var t=this
e.parent&&e.remove()
var r=t.lastChild
if(r){r.next=e
e.prev=r
t.lastChild=e}else t.lastChild=t.firstChild=e
e.parent=t
return e}
e.prototype.insert=function(e,t,r){e.parent&&e.remove()
var n=t.parent||this
if(r){t===n.firstChild?n.firstChild=e:t.prev.next=e
e.prev=t.prev
e.next=t
t.prev=e}else{t===n.lastChild?n.lastChild=e:t.next.prev=e
e.next=t.next
e.prev=t
t.next=e}e.parent=n
return e}
e.prototype.getAll=function(e){var t=this
var r=[]
for(var n=t.firstChild;n;n=sb(n,t))n.name===e&&r.push(n)
return r}
e.prototype.empty=function(){var e=this
if(e.firstChild){var t=[]
for(var r=e.firstChild;r;r=sb(r,e))t.push(r)
var n=t.length
while(n--){r=t[n]
r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}e.firstChild=e.lastChild=null
return e}
e.prototype.isEmpty=function(e,t,r){void 0===t&&(t={})
var n=this
var a=n.firstChild
if(vb(n))return false
if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue
if(e[a.name])return false
if(vb(a))return false}if(8===a.type)return false
if(3===a.type&&!lb(a))return false
if(3===a.type&&a.parent&&t[a.parent.name]&&wi(a.value))return false
if(r&&r(a))return false}while(a=sb(a,n))
return true}
e.prototype.walk=function(e){return sb(this,null,e)}
return e}()
var mb=function(e){var t=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi
var r=[]
var n={}
var a=Es("img")
var o
var i=0
var u=0
while(o=t.exec(e)){var f=o[0]
var c=a+"_"+u++
n[c]=f
i<o.index&&r.push(e.substr(i,o.index-i))
r.push(c)
i=o.index+f.length}var s=new RegExp(a+"_[0-9]+","g")
if(0===i)return{prefix:a,uris:n,html:e,re:s}
i<e.length&&r.push(e.substr(i))
return{prefix:a,uris:n,html:r.join(""),re:s}}
var gb=function(e,t){return e.replace(t.re,(function(e){return Re(t.uris,e).getOr(e)}))}
var pb=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e)
return t?H.some({type:t[1],data:decodeURIComponent(t[2])}):H.none()}
var hb=["img","video"]
var yb=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}
var bb=function(e,t){var r=x(e)?X(hb,t):e
return!r}
var Cb=function(e,t,r){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?bb(e.allow_svg_data_urls,r)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))}
var wb=function(e,t,r){var n,a,o=1
var i=e.getShortEndedElements()
var u=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g
u.lastIndex=n=r
while(a=u.exec(t)){n=u.lastIndex
if("/"===a[1])o--
else if(!a[1]){if(a[2]in i)continue
o++}if(0===o)break}return n}
var xb=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}
var Sb=function(e,t,r){void 0===r&&(r=0)
var n=e.toLowerCase()
if(-1!==n.indexOf("[if ",r)&&xb(n,r)){var a=n.indexOf("[endif]",r)
return n.indexOf(">",a)}if(t){var o=n.indexOf(">",r)
return-1!==o?o:n.length}var i=/--!?>/g
i.lastIndex=r
var u=i.exec(e)
return u?u.index+u[0].length:n.length}
var kb=function(e,t){var r=e.exec(t)
if(r){var n=r[1]
var a=r[2]
return"string"===typeof n&&"data-mce-bogus"===n.toLowerCase()?a:null}return null}
var Nb=function(e,t){void 0===t&&(t=du())
e=e||{}
false!==e.fix_self_closing&&(e.fix_self_closing=true)
var r=e.comment?e.comment:E
var n=e.cdata?e.cdata:E
var a=e.text?e.text:E
var o=e.start?e.start:E
var i=e.end?e.end:E
var u=e.pi?e.pi:E
var f=e.doctype?e.doctype:E
var c=function(c,s){void 0===s&&(s="html")
var l=c.html
var v,d,m,g=0
var p=[]
var h,y,b,C
var w,x
var S,k,N,E,_,A
var R,T,D
var O,B,P=0
var L=ru.decode
var I=sr.makeMap("src,href,data,background,action,formaction,poster,xlink:href")
var M=/((java|vb)script|mhtml):/i
var F="html"===s?0:1
var U=function(e){var t,r
t=p.length
while(t--)if(p[t].name===e)break
if(t>=0){for(r=p.length-1;r>=t;r--){e=p[r]
e.valid&&i(e.name)}p.length=t}}
var z=function(e,t){return a(gb(e,c),t)}
var j=function(t){if(""===t)return
">"===t.charAt(0)&&(t=" "+t)
e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t)
r(gb(t,c))}
var H=function(e){return gb(e,c)}
var V=function(e,t){var r=e||""
var n=!ut(r,"--")
var a=Sb(l,n,t)
e=l.substr(t,a-t)
j(n?r+e:e)
return a+1}
var q=function(t,r,n,a,o){var i,u
var f=/[\s\u0000-\u001F]+/g
r=r.toLowerCase()
n=H(r in Y?r:L(n||a||o||""))
if(G&&!w&&false===yb(r)){i=_[r]
if(!i&&A){u=A.length
while(u--){i=A[u]
if(i.pattern.test(r))break}-1===u&&(i=null)}if(!i)return
if(i.validValues&&!(n in i.validValues))return}if(I[r]&&!e.allow_script_urls){var c=n.replace(f,"")
try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(M.test(c))return
if(Cb(e,c,t))return}if(w&&(r in I||0===r.indexOf("on")))return
h.map[r]=n
h.push({name:r,value:n})}
var $=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g")
var W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g
var K=t.getShortEndedElements()
var X=e.self_closing_elements||t.getSelfClosingElements()
var Y=t.getBoolAttrs()
var G=e.validate
var J=e.remove_internals
var Q=e.fix_self_closing
var Z=t.getSpecialElements()
var ee=l+">"
while(v=$.exec(ee)){var te=v[0]
g<v.index&&z(L(l.substr(g,v.index-g)))
if(d=v[7]){d=d.toLowerCase()
":"===d.charAt(0)&&(d=d.substr(1))
U(d)}else if(d=v[8]){if(v.index+te.length>l.length){z(L(l.substr(v.index)))
g=v.index+te.length
continue}d=d.toLowerCase()
":"===d.charAt(0)&&(d=d.substr(1))
x=d in K
Q&&X[d]&&p.length>0&&p[p.length-1].name===d&&U(d)
var re=kb(W,v[9])
if(null!==re){if("all"===re){g=wb(t,l,$.lastIndex)
$.lastIndex=g
continue}k=false}if(!G||(S=t.getElementRule(d))){k=true
if(G){_=S.attributes
A=S.attributePatterns}if(E=v[9]){w=-1!==E.indexOf("data-mce-type")
w&&J&&(k=false)
h=[]
h.map={}
E.replace(W,(function(e,t,r,n,a){q(d,t,r,n,a)
return""}))}else{h=[]
h.map={}}if(G&&!w){R=S.attributesRequired
T=S.attributesDefault
D=S.attributesForced
O=S.removeEmptyAttrs
O&&!h.length&&(k=false)
if(D){y=D.length
while(y--){N=D[y]
C=N.name
B=N.value
"{$uid}"===B&&(B="mce_"+P++)
h.map[C]=B
h.push({name:C,value:B})}}if(T){y=T.length
while(y--){N=T[y]
C=N.name
if(!(C in h.map)){B=N.value
"{$uid}"===B&&(B="mce_"+P++)
h.map[C]=B
h.push({name:C,value:B})}}}if(R){y=R.length
while(y--)if(R[y]in h.map)break;-1===y&&(k=false)}if(N=h.map["data-mce-bogus"]){if("all"===N){g=wb(t,l,$.lastIndex)
$.lastIndex=g
continue}k=false}}k&&o(d,h,x)}else k=false
if(m=Z[d]){m.lastIndex=g=v.index+te.length
if(v=m.exec(l)){k&&(b=l.substr(g,v.index-g))
g=v.index+v[0].length}else{b=l.substr(g)
g=l.length}if(k){b.length>0&&z(b,true)
i(d)}$.lastIndex=g
continue}x||(E&&E.indexOf("/")===E.length-1?k&&i(d):p.push({name:d,valid:k}))}else if(d=v[1])j(d)
else if(d=v[2]){var ne=1===F||e.preserve_cdata||p.length>0&&t.isValidChild(p[p.length-1].name,"#cdata")
if(!ne){g=V("",v.index+2)
$.lastIndex=g
continue}n(d)}else if(d=v[3])f(d)
else{if((d=v[4])||"<!"===te){g=V(d,v.index+te.length)
$.lastIndex=g
continue}if(d=v[5]){if(1!==F){g=V("?",v.index+2)
$.lastIndex=g
continue}u(d,v[6])}}g=v.index+te.length}g<l.length&&z(L(l.substr(g)))
for(y=p.length-1;y>=0;y--){d=p[y]
d.valid&&i(d.name)}}
var s=function(e,t){void 0===t&&(t="html")
c(mb(e),t)}
return{parse:s}}
Nb.findEndTag=wb
var Eb=function(e,t){var r=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi")
return t.replace(r,"")}
var _b=function(e,t){var r=t
var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g
var a,o,i,u
var f=e.schema
r=Eb(e.getTempAttrs(),r)
var c=f.getShortEndedElements()
while(u=n.exec(r)){o=n.lastIndex
i=u[0].length
a=c[u[1]]?o:Nb.findEndTag(f,r,o)
r=r.substring(0,o-i)+r.substring(a)
n.lastIndex=o-i}return Ho(r)}
var Ab=_b
var Rb=function(e,t){var r=lv(e)
var n=new RegExp("^(<"+r+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+r+">[\r\n]*|<br \\/>[\r\n]*)$")
return t.replace(n,"")}
var Tb=function(e,t,r,n){var a
t.format=r
t.get=true
t.getInner=true
t.no_events||e.fire("BeforeGetContent",t)
a="raw"===t.format?sr.trim(Ab(e.serializer,n.innerHTML)):"text"===t.format?e.dom.isEmpty(n)?"":Ho(n.innerText||n.textContent):"tree"===t.format?e.serializer.serialize(n,t):Rb(e,e.serializer.serialize(n,t))
X(["text","tree"],t.format)||Po(pr.fromDom(n))?t.content=a:t.content=sr.trim(a)
t.no_events||e.fire("GetContent",t)
return t.content}
var Db=function(e,t,r){return H.from(e.getBody()).fold(R("tree"===t.format?new db("body",11):""),(function(n){return Tb(e,t,r,n)}))}
var Ob=sr.each
var Bb=function(e){var t=function(t,r){if(t.nodeName!==r.nodeName)return false
var n=function(t){var r={}
Ob(e.getAttribs(t),(function(n){var a=n.nodeName.toLowerCase()
0!==a.indexOf("_")&&"style"!==a&&0!==a.indexOf("data-")&&(r[a]=e.getAttrib(t,a))}))
return r}
var a=function(e,t){var r,n
for(n in e)if(e.hasOwnProperty(n)){r=t[n]
if("undefined"===typeof r)return false
if(e[n]!==r)return false
delete t[n]}for(n in t)if(t.hasOwnProperty(n))return false
return true}
if(!a(n(t),n(r)))return false
if(!a(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(r,"style"))))return false
return!fg(t)&&!fg(r)}
return{compare:t}}
var Pb=sr.makeMap
var Lb=function(e){var t=[]
e=e||{}
var r=e.indent
var n=Pb(e.indent_before||"")
var a=Pb(e.indent_after||"")
var o=ru.getEncodeFunc(e.entity_encoding||"raw",e.entities)
var i="html"===e.element_format
return{start:function(e,u,f){var c,s,l,v
if(r&&n[e]&&t.length>0){v=t[t.length-1]
v.length>0&&"\n"!==v&&t.push("\n")}t.push("<",e)
if(u)for(c=0,s=u.length;c<s;c++){l=u[c]
t.push(" ",l.name,'="',o(l.value,true),'"')}t[t.length]=!f||i?">":" />"
if(f&&r&&a[e]&&t.length>0){v=t[t.length-1]
v.length>0&&"\n"!==v&&t.push("\n")}},end:function(e){var n
t.push("</",e,">")
if(r&&a[e]&&t.length>0){n=t[t.length-1]
n.length>0&&"\n"!==n&&t.push("\n")}},text:function(e,r){e.length>0&&(t[t.length]=r?e:o(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?t.push("<?",e," ",o(n),"?>"):t.push("<?",e,"?>")
r&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}
var Ib=function(e,t){void 0===t&&(t=du())
var r=Lb(e)
e=e||{}
e.validate=!("validate"in e)||e.validate
var n=function(n){var a=e.validate
var o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do{i(e)}while(e=e.next)}}
r.reset()
var i=function(e){var n=o[e.type]
var u,f,c,s,l,v,d,m,g
if(n)n(e)
else{u=e.name
f=e.shortEnded
c=e.attributes
if(a&&c&&c.length>1){v=[]
v.map={}
g=t.getElementRule(e.name)
if(g){for(d=0,m=g.attributesOrder.length;d<m;d++){s=g.attributesOrder[d]
if(s in c.map){l=c.map[s]
v.map[s]=l
v.push({name:s,value:l})}}for(d=0,m=c.length;d<m;d++){s=c[d].name
if(!(s in v.map)){l=c.map[s]
v.map[s]=l
v.push({name:s,value:l})}}c=v}}r.start(e.name,c,f)
if(!f){if(e=e.firstChild)do{i(e)}while(e=e.next)
r.end(u)}}}
1!==n.type||e.inner?o[11](n):i(n)
return r.getContent()}
return{serialize:n}}
var Mb=new Set
Fb=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],J(Fb,(function(e){Mb.add(e)}))
var Fb
var Ub=["font","text-decoration","text-emphasis"]
var zb=function(e,t){return ye(e.parseStyle(e.getAttrib(t,"style")))}
var jb=function(e){return Mb.has(e)}
var Hb=function(e,t){return fe(zb(e,t),(function(e){return!jb(e)}))}
var Vb=function(e){return ee(e,(function(e){return Y(Ub,(function(t){return ut(e,t)}))}))}
var qb=function(e,t,r){var n=zb(e,t)
var a=zb(e,r)
var o=function(n){var a=e.getStyle(t,n)
var o=e.getStyle(r,n)
return vt(a)&&vt(o)&&a!==o}
return Y(n,(function(e){var t=function(t){return Y(t,(function(t){return t===e}))}
if(!t(a)&&t(Ub)){var r=Vb(a)
return Y(r,o)}return o(e)}))}
var $b=function(e,t,r){return H.from(r.container()).filter(Yn).exists((function(n){var a=e?0:-1
return t(n.data.charAt(r.offset()+a))}))}
var Wb=D($b,true,lg)
var Kb=D($b,false,lg)
var Xb=function(e){var t=e.container()
return Yn(t)&&(0===t.data.length||jo(t.data)&&kp.isBookmarkNode(t.parentNode))}
var Yb=function(e,t){return function(r){return H.from(Jd(e?0:-1,r)).filter(t).isSome()}}
var Gb=function(e){return ea(e)&&"block"===pa(pr.fromDom(e),"display")}
var Jb=function(e){return ra(e)&&!$n(e)}
var Qb=Yb(true,Gb)
var Zb=Yb(false,Gb)
var eC=Yb(true,aa)
var tC=Yb(false,aa)
var rC=Yb(true,Wn)
var nC=Yb(false,Wn)
var aC=Yb(true,Jb)
var oC=Yb(false,Jb)
var iC=function(e){var t=[]
var r=e.dom
while(r){t.push(pr.fromDom(r))
r=r.lastChild}return t}
var uC=function(e){var t=ms(e,"br")
var r=ee(iC(e).slice(-1),Ao)
t.length===r.length&&J(r,xn)}
var fC=function(e){wn(e)
hn(e,pr.fromHtml('<br data-mce-bogus="1">'))}
var cC=function(e){tn(e).each((function(t){Xr(t).each((function(r){No(e)&&Ao(t)&&No(r)&&xn(t)}))}))}
var sC=function(e){return e.slice(0,-1)}
var lC=function(e,t,r){return Or(t,e)?sC(Wr(e,(function(e){return r(e)||Rr(e,t)}))):[]}
var vC=function(e,t){return lC(e,t,I)}
var dC=function(e,t){return[e].concat(vC(e,t))}
var mC=function(e,t,r){return Bm(e,t,r,Xb)}
var gC=function(e,t){return ae(dC(pr.fromDom(t.container()),e),No)}
var pC=function(e,t,r){return mC(e,t.dom,r).forall((function(e){return gC(t,r).fold((function(){return false===Gd(e,r,t.dom)}),(function(n){return false===Gd(e,r,t.dom)&&Or(n,pr.fromDom(e.container()))}))}))}
var hC=function(e,t,r){return gC(t,r).fold((function(){return mC(e,t.dom,r).forall((function(e){return false===Gd(e,r,t.dom)}))}),(function(t){return mC(e,t.dom,r).isNone()}))}
var yC=D(hC,false)
var bC=D(hC,true)
var CC=D(pC,false)
var wC=D(pC,true)
var xC=function(e){return im(e).exists(Ao)}
var SC=function(e,t,r){var n=ee(dC(pr.fromDom(r.container()),t),No)
var a=me(n).getOr(t)
return Dm(e,a.dom,r).filter(xC)}
var kC=function(e,t){return im(t).exists(Ao)||SC(true,e,t).isSome()}
var NC=function(e,t){return um(t).exists(Ao)||SC(false,e,t).isSome()}
var EC=D(SC,false)
var _C=D(SC,true)
var AC=function(e){return Cl.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}
var RC=function(e,t){var r=ee(dC(pr.fromDom(t.container()),e),No)
return me(r).getOr(e)}
var TC=function(e,t){return AC(t)?Kb(t):Kb(t)||Im(RC(e,t).dom,t).exists(Kb)}
var DC=function(e,t){return AC(t)?Wb(t):Wb(t)||Lm(RC(e,t).dom,t).exists(Wb)}
var OC=function(e){return X(["pre","pre-wrap"],e)}
var BC=function(e){return im(e).bind((function(e){return Xa(e,Mr)})).exists((function(e){return OC(pa(e,"white-space"))}))}
var PC=function(e,t){return Im(e.dom,t).isNone()}
var LC=function(e,t){return Lm(e.dom,t).isNone()}
var IC=function(e,t){return PC(e,t)||LC(e,t)||yC(e,t)||bC(e,t)||NC(e,t)||kC(e,t)}
var MC=function(e,t){return!BC(t)&&(IC(e,t)||TC(e,t)||DC(e,t))}
var FC=function(e,t){return!BC(t)&&(yC(e,t)||CC(e,t)||NC(e,t)||TC(e,t))}
var UC=function(e){var t=e.container()
var r=e.offset()
return Yn(t)&&r<t.data.length?Cl(t,r+1):e}
var zC=function(e,t){return!BC(t)&&(bC(e,t)||wC(e,t)||kC(e,t)||DC(e,t))}
var jC=function(e,t){return FC(e,t)||zC(e,UC(t))}
var HC=function(e,t){return sg(e.charAt(t))}
var VC=function(e){var t=e.container()
return Yn(t)&&it(t.data,Mo)}
var qC=function(e){var t=e.split("")
return G(t,(function(e,r){return sg(e)&&r>0&&r<t.length-1&&vg(t[r-1])&&vg(t[r+1])?" ":e})).join("")}
var $C=function(e,t){var r=t.data
var n=Cl(t,0)
if(HC(r,0)&&!jC(e,n)){t.data=" "+r.slice(1)
return true}return false}
var WC=function(e){var t=e.data
var r=qC(t)
if(r!==t){e.data=r
return true}return false}
var KC=function(e,t){var r=t.data
var n=Cl(t,r.length-1)
if(HC(r,r.length-1)&&!jC(e,n)){t.data=r.slice(0,-1)+" "
return true}return false}
var XC=function(e,t){return H.some(t).filter(VC).bind((function(t){var r=t.container()
var n=$C(e,r)||WC(r)||KC(e,r)
return n?H.some(t):H.none()}))}
var YC=function(e){var t=pr.fromDom(e.getBody())
e.selection.isCollapsed()&&XC(t,Cl.fromRangeStart(e.selection.getRng())).each((function(t){e.selection.setRng(t.toRange())}))}
var GC=function(e,t,r){var n=re(e,(function(n,a){return lg(a)||sg(a)?n.previousCharIsSpace||""===n.str&&t||n.str.length===e.length-1&&r?{previousCharIsSpace:false,str:n.str+Mo}:{previousCharIsSpace:true,str:n.str+" "}:{previousCharIsSpace:false,str:n.str+a}}),{previousCharIsSpace:false,str:""})
return n.str}
var JC=function(e,t,r){if(0===r)return
var n=pr.fromDom(e)
var a=Ka(n,No).getOr(n)
var o=e.data.slice(t,t+r)
var i=t+r>=e.data.length&&zC(a,Cl(e,e.data.length))
var u=0===t&&FC(a,Cl(e,0))
e.replaceData(t,r,GC(o,u,i))}
var QC=function(e,t){var r=e.data.slice(t)
var n=r.length-st(r).length
return JC(e,t,n)}
var ZC=function(e,t){var r=e.data.slice(0,t)
var n=r.length-lt(r).length
return JC(e,t-n,n)}
var ew=function(e,t,r,n){void 0===n&&(n=true)
var a=lt(e.data).length
var o=n?e:t
var i=n?t:e
n?o.appendData(i.data):o.insertData(0,i.data)
xn(pr.fromDom(i))
r&&QC(o,a)
return o}
var tw=function(e,t){var r=e.container()
var n=e.offset()
return false===Cl.isTextPosition(e)&&r===t.parentNode&&n>Cl.before(t).offset()}
var rw=function(e,t){return tw(t,e)?Cl(t.container(),t.offset()-1):t}
var nw=function(e){return Yn(e)?Cl(e,0):Cl.before(e)}
var aw=function(e){return Yn(e)?Cl(e,e.data.length):Cl.after(e)}
var ow=function(e){return di(e.previousSibling)?H.some(aw(e.previousSibling)):e.previousSibling?Fm(e.previousSibling):H.none()}
var iw=function(e){return di(e.nextSibling)?H.some(nw(e.nextSibling)):e.nextSibling?Mm(e.nextSibling):H.none()}
var uw=function(e,t){var r=Cl.before(t.previousSibling?t.previousSibling:t.parentNode)
return Im(e,r).fold((function(){return Lm(e,Cl.after(t))}),H.some)}
var fw=function(e,t){return Lm(e,Cl.after(t)).fold((function(){return Im(e,Cl.before(t))}),H.some)}
var cw=function(e,t){return ow(t).orThunk((function(){return iw(t)})).orThunk((function(){return uw(e,t)}))}
var sw=function(e,t){return iw(t).orThunk((function(){return ow(t)})).orThunk((function(){return fw(e,t)}))}
var lw=function(e,t,r){return e?sw(t,r):cw(t,r)}
var vw=function(e,t,r){return lw(e,t,r).map(D(rw,r))}
var dw=function(e,t,r){r.fold((function(){e.focus()}),(function(r){e.selection.setRng(r.toRange(),t)}))}
var mw=function(e){return function(t){return t.dom===e}}
var gw=function(e,t){return t&&Te(e.schema.getBlockElements(),Br(t))}
var pw=function(e){if(Ti(e)){var t=pr.fromHtml('<br data-mce-bogus="1">')
wn(e)
hn(e,t)
return H.some(Cl.before(t.dom))}return H.none()}
var hw=function(e,t,r){var n=Xr(e).filter(Fr)
var a=Yr(e).filter(Fr)
xn(e)
return Fs(n,a,t,(function(e,t,n){var a=e.dom,o=t.dom
var i=a.data.length
ew(a,o,r)
return n.container()===o?Cl(a,i):n})).orThunk((function(){if(r){n.each((function(e){return ZC(e.dom,e.dom.length)}))
a.each((function(e){return QC(e.dom,0)}))}return t}))}
var yw=function(e,t){return Te(e.schema.getTextInlineElements(),Br(t))}
var bw=function(e,t,r,n){void 0===n&&(n=true)
var a=vw(t,e.getBody(),r.dom)
var o=Ka(r,D(gw,e),mw(e.getBody()))
var i=hw(r,a,yw(e,r))
if(e.dom.isEmpty(e.getBody())){e.setContent("")
e.selection.setCursorLocation()}else o.bind(pw).fold((function(){n&&dw(e,t,i)}),(function(r){n&&dw(e,t,H.some(r))}))}
var Cw=function(e,t){return{start:e,end:t}}
var ww=function(e,t,r){return{rng:e,table:t,cells:r}}
var xw=qa.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}])
var Sw=function(e){return function(t){return Rr(e,t)}}
var kw=function(e,t){return Za(pr.fromDom(e),"td,th",t)}
var Nw=function(e,t){return Ja(e,"table",t)}
var Ew=function(e){return!Rr(e.start,e.end)}
var _w=function(e,t){return Nw(e.start,t).bind((function(r){return Nw(e.end,t).bind((function(e){return Us(Rr(r,e),r)}))}))}
var Aw=function(e,t){return!Ew(e)&&_w(e,t).exists((function(e){var t=e.dom.rows
return 1===t.length&&1===t[0].cells.length}))}
var Rw=function(e){return ms(e,"td,th")}
var Tw=function(e,t){var r=kw(e.startContainer,t)
var n=kw(e.endContainer,t)
return Ms(r,n,Cw)}
var Dw=function(e,t){return Nw(e.start,t).bind((function(t){return ge(Rw(t)).map((function(t){return Cw(e.start,t)}))}))}
var Ow=function(e,t){var r=kw(t.startContainer,e)
var n=kw(t.endContainer,e)
return t.collapsed?H.none():Ms(r,n,Cw).fold((function(){return r.fold((function(){return n.bind((function(t){return Nw(t,e).bind((function(e){return me(Rw(e)).map((function(e){return Cw(e,t)}))}))}))}),(function(t){return Nw(t,e).bind((function(e){return ge(Rw(e)).map((function(e){return Cw(t,e)}))}))}))}),(function(t){return Bw(e,t)?H.none():Dw(t,e)}))}
var Bw=function(e,t){return _w(t,e).isSome()}
var Pw=function(e,t){return _w(e,t).map((function(t){return ww(e,t,Rw(t))}))}
var Lw=function(e,t,r){return e.filter((function(e){return Ew(e)&&Bw(r,e)})).orThunk((function(){return Ow(r,t)})).bind((function(e){return Pw(e,r)}))}
var Iw=function(e,t){return oe(e,(function(e){return Rr(e,t)}))}
var Mw=function(e){return Ms(Iw(e.cells,e.rng.start),Iw(e.cells,e.rng.end),(function(t,r){return e.cells.slice(t,r+1)}))}
var Fw=function(e,t,r){return e.filter((function(e){return Aw(e,r)&&cp(e.start,t)})).map((function(e){return e.start}))}
var Uw=function(e){return Mw(e).map((function(t){var r=e.cells
return t.length===r.length?xw.removeTable(e.table):xw.emptyCells(t)}))}
var zw=function(e,t){var r=Sw(e)
var n=Tw(t,r)
return Fw(n,t,r).map((function(e){return xw.deleteCellSelection(t,e)})).orThunk((function(){return Lw(n,t,r).bind(Uw)}))}
var jw=function(e){var t=Ir(e)?Xr(e):tn(e)
return t.bind(jw).orThunk((function(){return H.some(e)}))}
var Hw=function(e,t){J(t,fC)
e.selection.setCursorLocation(t[0].dom,0)
return true}
var Vw=function(e,t,r){t.deleteContents()
var n=jw(r).getOr(r)
var a=pr.fromDom(e.dom.getParent(n.dom,e.dom.isBlock))
if(Ti(a)){fC(a)
e.selection.setCursorLocation(a.dom,0)}if(!Rr(r,a)){var o=$r(a).is(r)?[]:Kr(a)
J(o.concat(Qr(r)),(function(e){Rr(e,a)||Or(e,a)||xn(e)}))}return true}
var qw=function(e,t){bw(e,false,t)
return true}
var $w=function(e,t,r){return zw(t,r).map((function(t){return t.fold(D(qw,e),D(Hw,e),D(Vw,e))}))}
var Ww=function(e,t){return Qw(e,t)}
var Kw=function(e,t,r,n){return Gw(t,n).fold((function(){return $w(e,t,r)}),(function(t){return Ww(e,t)})).getOr(false)}
var Xw=function(e,t){var r=pr.fromDom(e.getBody())
var n=e.selection.getRng()
var a=ap(e)
return 0!==a.length?Hw(e,a):Kw(e,r,n,t)}
var Yw=function(e,t){return ae(dC(t,e),Bo)}
var Gw=function(e,t){return ae(dC(t,e),(function(e){return"caption"===Br(e)}))}
var Jw=function(e,t,r,n,a){return Om(r,e.getBody(),a).bind((function(e){return Yw(t,pr.fromDom(e.getNode())).map((function(e){return false===Rr(e,n)}))}))}
var Qw=function(e,t){fC(t)
e.selection.setCursorLocation(t.dom,0)
return H.some(true)}
var Zw=function(e,t,r,n){return Mm(e.dom).bind((function(a){return Fm(e.dom).map((function(e){return t?r.isEqual(a)&&n.isEqual(e):r.isEqual(e)&&n.isEqual(a)}))})).getOr(true)}
var ex=function(e,t){return Qw(e,t)}
var tx=function(e,t,r){return Gw(e,pr.fromDom(r.getNode())).map((function(e){return false===Rr(e,t)}))}
var rx=function(e,t,r,n,a){return Om(r,e.getBody(),a).bind((function(o){return Zw(n,r,a,o)?ex(e,n):tx(t,n,o)})).or(H.some(true))}
var nx=function(e,t,r,n){var a=Cl.fromRangeStart(e.selection.getRng())
return Yw(r,n).bind((function(n){return Ti(n)?Qw(e,n):Jw(e,r,t,n,a)})).getOr(false)}
var ax=function(e,t,r,n){var a=Cl.fromRangeStart(e.selection.getRng())
return Ti(n)?Qw(e,n):rx(e,r,t,n,a)}
var ox=function(e,t){return e?rC(t):nC(t)}
var ix=function(e,t){var r=Cl.fromRangeStart(e.selection.getRng())
return ox(t,r)||Dm(t,e.getBody(),r).exists((function(e){return ox(t,e)}))}
var ux=function(e,t,r){var n=pr.fromDom(e.getBody())
return Gw(n,r).fold((function(){return nx(e,t,n,r)||ix(e,t)}),(function(r){return ax(e,t,n,r).getOr(false)}))}
var fx=function(e,t){var r=pr.fromDom(e.selection.getStart(true))
var n=ap(e)
return e.selection.isCollapsed()&&0===n.length?ux(e,t,r):Xw(e,r)}
var cx=function(e,t,r,n){var a=document.createRange()
a.setStart(e,t)
a.setEnd(r,n)
return a}
var sx=function(e){var t=Cl.fromRangeStart(e)
var r=Cl.fromRangeEnd(e)
var n=e.commonAncestorContainer
return Dm(false,n,r).map((function(a){return!Gd(t,r,n)&&Gd(t,a,n)?cx(t.container(),t.offset(),a.container(),a.offset()):e})).getOr(e)}
var lx=function(e){return e.collapsed?e:sx(e)}
var vx=function(e){return e.firstChild&&e.firstChild===e.lastChild}
var dx=function(e){return"br"===e.name||e.value===Mo}
var mx=function(e,t){var r=e.getBlockElements()
return r[t.name]&&vx(t)&&dx(t.firstChild)}
var gx=function(e,t){var r=e.getNonEmptyElements()
return t&&(t.isEmpty(r)||mx(e,t))}
var px=function(e,t){var r=t.firstChild
var n=t.lastChild
r&&"meta"===r.name&&(r=r.next)
n&&"mce_marker"===n.attr("id")&&(n=n.prev)
gx(e,n)&&(n=n.prev)
if(!r||r!==n)return false
return"ul"===r.name||"ol"===r.name}
var hx=function(e){var t=e.firstChild
var r=e.lastChild
t&&"META"===t.nodeName&&t.parentNode.removeChild(t)
r&&"mce_marker"===r.id&&r.parentNode.removeChild(r)
return e}
var yx=function(e,t,r){var n=t.serialize(r)
var a=e.createFragment(n)
return hx(a)}
var bx=function(e){return sr.grep(e.childNodes,(function(e){return"LI"===e.nodeName}))}
var Cx=function(e){return e.data===Mo||Zn(e)}
var wx=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Cx(e.firstChild)}
var xx=function(e){return!e.firstChild||wx(e)}
var Sx=function(e){return e.length>0&&xx(e[e.length-1])?e.slice(0,-1):e}
var kx=function(e,t){var r=e.getParent(t,e.isBlock)
return r&&"LI"===r.nodeName?r:null}
var Nx=function(e,t){return!!kx(e,t)}
var Ex=function(e,t){var r=t.cloneRange()
var n=t.cloneRange()
r.setStartBefore(e)
n.setEndAfter(e)
return[r.cloneContents(),n.cloneContents()]}
var _x=function(e,t){var r=Cl.before(e)
var n=Sm(t)
var a=n.next(r)
return a?a.toRange():null}
var Ax=function(e,t){var r=Cl.after(e)
var n=Sm(t)
var a=n.prev(r)
return a?a.toRange():null}
var Rx=function(e,t,r,n){var a=Ex(e,n)
var o=e.parentNode
o.insertBefore(a[0],e)
sr.each(t,(function(t){o.insertBefore(t,e)}))
o.insertBefore(a[1],e)
o.removeChild(e)
return Ax(t[t.length-1],r)}
var Tx=function(e,t,r){var n=e.parentNode
sr.each(t,(function(t){n.insertBefore(t,e)}))
return _x(e,r)}
var Dx=function(e,t,r,n){n.insertAfter(t.reverse(),e)
return Ax(t[0],r)}
var Ox=function(e,t,r,n){var a=yx(t,e,n)
var o=kx(t,r.startContainer)
var i=Sx(bx(a.firstChild))
var u=1,f=2
var c=t.getRoot()
var s=function(e){var n=Cl.fromRangeStart(r)
var a=Sm(t.getRoot())
var i=e===u?a.prev(n):a.next(n)
return!i||kx(t,i.getNode())!==o}
if(s(u))return Tx(o,i,c)
if(s(f))return Dx(o,i,c,t)
return Rx(o,i,c,r)}
var Bx=function(e,t,r){var n=pr.fromDom(e.getRoot())
r=FC(n,Cl.fromRangeStart(t))?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," ")
r=zC(n,Cl.fromRangeEnd(t))?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")
return r}
var Px=na
var Lx=function(e,t,r){if(null!==r){var n=e.getParent(t.endContainer,Px)
return r===n&&cp(pr.fromDom(r),t)}return false}
var Ix=function(e,t,r){if("all"===r.getAttribute("data-mce-bogus"))r.parentNode.insertBefore(e.dom.createFragment(t),r)
else{var n=r.firstChild
var a=r.lastChild
!n||n===a&&"BR"===n.nodeName?e.dom.setHTML(r,t):e.selection.setContent(t)}}
var Mx=function(e,t){H.from(e.getParent(t,"td,th")).map(pr.fromDom).each(cC)}
var Fx=function(e,t){var r=e.schema.getTextInlineElements()
var n=e.dom
if(t){var a=e.getBody()
var o=Bb(n)
sr.each(n.select("*[data-mce-fragment]"),(function(e){var t=S(r[e.nodeName.toLowerCase()])
if(t&&Hb(n,e))for(var i=e.parentNode;S(i)&&i!==a;i=i.parentNode){var u=qb(n,e,i)
if(u)break
if(o.compare(i,e)){n.remove(e,true)
break}}}))}}
var Ux=function(e){var t=e
while(t=t.walk())1===t.type&&t.attr("data-mce-fragment","1")}
var zx=function(e){sr.each(e.getElementsByTagName("*"),(function(e){e.removeAttribute("data-mce-fragment")}))}
var jx=function(e){return!!e.getAttribute("data-mce-fragment")}
var Hx=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]}
var Vx=function(e,t){var r
var n=e.dom,a=e.selection
var o
var i=function(t){var r=e.getBody()
for(;t&&t!==r;t=t.parentNode)if("false"===n.getContentEditable(t))return t
return null}
if(!t)return
a.scrollIntoView(t)
var u=i(t)
if(u){n.remove(t)
a.select(u)
return}var f=n.createRng()
var c=t.previousSibling
if(c&&3===c.nodeType){f.setStart(c,c.nodeValue.length)
if(!Jt.ie){o=t.nextSibling
if(o&&3===o.nodeType){c.appendData(o.data)
o.parentNode.removeChild(o)}}}else{f.setStartBefore(t)
f.setEndBefore(t)}var s=function(t){var r=Cl.fromRangeStart(t)
var n=Sm(e.getBody())
r=n.next(r)
if(r)return r.toRange()}
var l=n.getParent(t,n.isBlock)
n.remove(t)
if(l&&n.isEmpty(l)){e.$(l).empty()
f.setStart(l,0)
f.setEnd(l,0)
if(Px(l)||jx(l)||!(r=s(f)))n.add(l,n.create("br",{"data-mce-bogus":"1"}))
else{f=r
n.remove(l)}}a.setRng(f)}
var qx=function(e){var t=e.dom
var r=lx(e.selection.getRng())
e.selection.setRng(r)
var n=t.getParent(r.startContainer,Px)
Lx(t,r,n)?Vw(e,r,pr.fromDom(n)):e.getDoc().execCommand("Delete",false,null)}
var $x=function(e,t,r){var n,a,o
var i,u,f
var c=e.selection,s=e.dom;/^ | $/.test(t)&&(t=Bx(s,c.getRng(),t))
var l=e.parser
var v=r.merge
var d=Ib({validate:$v(e)},e.schema)
var m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>'
o={content:t,format:"html",selection:true,paste:r.paste}
o=e.fire("BeforeSetContent",o)
if(o.isDefaultPrevented()){e.fire("SetContent",{content:o.content,format:"html",selection:true,paste:r.paste})
return}t=o.content;-1===t.indexOf("{$caret}")&&(t+="{$caret}")
t=t.replace(/\{\$caret\}/,m)
u=c.getRng()
var g=u.startContainer||(u.parentElement?u.parentElement():null)
var p=e.getBody()
if(g===p&&c.isCollapsed()&&s.isBlock(p.firstChild)&&Hx(e,p.firstChild)&&s.isEmpty(p.firstChild)){u=s.createRng()
u.setStart(p.firstChild,0)
u.setEnd(p.firstChild,0)
c.setRng(u)}c.isCollapsed()||qx(e)
n=c.getNode()
var h={context:n.nodeName.toLowerCase(),data:r.data,insert:true}
var y=l.parse(t,h)
if(true===r.paste&&px(e.schema,y)&&Nx(s,n)){u=Ox(d,s,c.getRng(),y)
c.setRng(u)
e.fire("SetContent",o)
return}Ux(y)
f=y.lastChild
if("mce_marker"===f.attr("id")){i=f
for(f=f.prev;f;f=f.walk(true))if(3===f.type||!s.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(i,f,"br"===f.name)
break}}e._selectionOverrides.showBlockCaretContainer(n)
if(h.invalid){e.selection.setContent(m)
n=c.getNode()
a=e.getBody()
9===n.nodeType?n=f=a:f=n
while(f!==a){n=f
f=f.parentNode}t=n===a?a.innerHTML:s.getOuterHTML(n)
t=d.serialize(l.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return d.serialize(y)}))))
n===a?s.setHTML(a,t):s.setOuterHTML(n,t)}else{t=d.serialize(y)
Ix(e,t,n)}Fx(e,v)
Vx(e,s.get("mce_marker"))
zx(e.getBody())
Mx(s,c.getStart())
e.fire("SetContent",o)
e.addVisual()}
var Wx=function(e,t){t(e)
e.firstChild&&Wx(e.firstChild,t)
e.next&&Wx(e.next,t)}
var Kx=function(e,t,r){var n={}
var a={}
var o=[]
r.firstChild&&Wx(r.firstChild,(function(r){J(e,(function(e){e.name===r.name&&(n[e.name]?n[e.name].nodes.push(r):n[e.name]={filter:e,nodes:[r]})}))
J(t,(function(e){"string"===typeof r.attr(e.name)&&(a[e.name]?a[e.name].nodes.push(r):a[e.name]={filter:e,nodes:[r]})}))}))
for(var i in n)n.hasOwnProperty(i)&&o.push(n[i])
for(var u in a)a.hasOwnProperty(u)&&o.push(a[u])
return o}
var Xx=function(e,t,r){var n=Kx(e,t,r)
J(n,(function(e){J(e.filter.callbacks,(function(t){t(e.nodes,e.filter.name,{})}))}))}
var Yx="html"
var Gx=function(e){return e instanceof db}
var Jx=function(e){Gy(e)&&Mm(e.getBody()).each((function(t){var r=t.getNode()
var n=Wn(r)?Mm(r).getOr(t):t
e.selection.setRng(n.toRange())}))}
var Qx=function(e,t){e.dom.setHTML(e.getBody(),t)
Jx(e)}
var Zx=function(e,t,r,n){var a,o
if(0===r.length||/^\s+$/.test(r)){o='<br data-mce-bogus="1">'
"TABLE"===t.nodeName?r="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(r="<li>"+o+"</li>")
a=lv(e)
if(a&&e.schema.isValidChild(t.nodeName.toLowerCase(),a.toLowerCase())){r=o
r=e.dom.createHTML(a,vv(e),r)}else r||(r='<br data-mce-bogus="1">')
Qx(e,r)
e.fire("SetContent",n)}else{"raw"!==n.format&&(r=Ib({validate:e.validate},e.schema).serialize(e.parser.parse(r,{isRootContent:true,insert:true})))
n.content=Po(pr.fromDom(t))?r:sr.trim(r)
Qx(e,n.content)
n.no_events||e.fire("SetContent",n)}return n.content}
var eS=function(e,t,r,n){Xx(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),r)
var a=Ib({validate:e.validate},e.schema).serialize(r)
n.content=Po(pr.fromDom(t))?a:sr.trim(a)
Qx(e,n.content)
n.no_events||e.fire("SetContent",n)
return r}
var tS=function(e,t,r){r.format=r.format?r.format:Yx
r.set=true
r.content=Gx(t)?"":t
r.no_events||e.fire("BeforeSetContent",r)
Gx(t)||(t=r.content)
return H.from(e.getBody()).fold(R(t),(function(n){return Gx(t)?eS(e,n,t,r):Zx(e,n,t,r)}))}
var rS=function(e,t){return Ya(e,t).isSome()}
var nS=function(e){return k(e)?e:I}
var aS=function(e,t,r){var n=e.dom
var a=nS(r)
while(n.parentNode){n=n.parentNode
var o=pr.fromDom(n)
var i=t(o)
if(i.isSome())return i
if(a(o))break}return H.none()}
var oS=function(e,t,r){var n=t(e)
var a=nS(r)
return n.orThunk((function(){return a(e)?H.none():aS(e,t,a)}))}
var iS=xg
var uS=function(e,t,r){var n=e.formatter.get(r)
if(n)for(var a=0;a<n.length;a++)if(false===n[a].inherit&&e.dom.is(t,n[a].selector))return true
return false}
var fS=function(e,t,r,n){var a=e.dom.getRoot()
if(t===a)return false
t=e.dom.getParent(t,(function(t){if(uS(e,t,r))return true
return t.parentNode===a||!!lS(e,t,r,n,true)}))
return lS(e,t,r,n)}
var cS=function(e,t,r){if(iS(t,r.inline))return true
if(iS(t,r.block))return true
if(r.selector)return 1===t.nodeType&&e.is(t,r.selector)}
var sS=function(e,t,r,n,a,o){var i,u
var f=r[n]
var c
if(r.onmatch)return r.onmatch(t,r,n)
if(f)if("undefined"===typeof f.length){for(i in f)if(f.hasOwnProperty(i)){u="attributes"===n?e.getAttrib(t,i):kg(e,t,i)
if(a&&!u&&!r.exact)return
if((!a||r.exact)&&!iS(u,Sg(e,wg(f[i],o),i)))return}}else for(c=0;c<f.length;c++)if("attributes"===n?e.getAttrib(t,f[c]):kg(e,t,f[c]))return r
return r}
var lS=function(e,t,r,n,a){var o=e.formatter.get(r)
var i,u,f,c
var s=e.dom
if(o&&t)for(u=0;u<o.length;u++){i=o[u]
if(cS(e.dom,t,i)&&sS(s,t,i,"attributes",a,n)&&sS(s,t,i,"styles",a,n)){if(c=i.classes)for(f=0;f<c.length;f++)if(!e.dom.hasClass(t,wg(c[f],n)))return
return i}}}
var vS=function(e,t,r,n){if(n)return fS(e,n,t,r)
n=e.selection.getNode()
if(fS(e,n,t,r))return true
var a=e.selection.getStart()
if(a!==n&&fS(e,a,t,r))return true
return false}
var dS=function(e,t,r){var n=[]
var a={}
var o=e.selection.getStart()
e.dom.getParent(o,(function(o){for(var i=0;i<t.length;i++){var u=t[i]
if(!a[u]&&lS(e,o,u,r)){a[u]=true
n.push(u)}}}),e.dom.getRoot())
return n}
var mS=function(e,t){var r=function(t){return Rr(t,pr.fromDom(e.getBody()))}
var n=function(t,r){return lS(e,t.dom,r)?H.some(r):H.none()}
return H.from(e.selection.getStart(true)).bind((function(e){return oS(pr.fromDom(e),(function(e){return he(t,(function(t){return n(e,t)}))}),r)})).getOrNull()}
var gS=function(e,t){var r=e.formatter.get(t)
var n,a,o,i,u
var f=e.dom
if(r){n=e.selection.getStart()
a=Eg(f,n)
for(i=r.length-1;i>=0;i--){u=r[i].selector
if(!u||r[i].defaultBlock)return true
for(o=a.length-1;o>=0;o--)if(f.is(a[o],u))return true}}return false}
var pS=function(e,t,r){return re(r,(function(r,n){var a=_g(e,n)
return e.formatter.matchNode(t,n,{},a)?r.concat([n]):r}),[])}
var hS=zo,yS="_mce_caret"
var bS=function(e,t){return e.importNode(t,true)}
var CS=function(e){var t=[]
while(e){if(3===e.nodeType&&e.nodeValue!==hS||e.childNodes.length>1)return[]
1===e.nodeType&&t.push(e)
e=e.firstChild}return t}
var wS=function(e){return CS(e).length>0}
var xS=function(e){if(e){var t=new mo(e,e)
for(e=t.current();e;e=t.next())if(Yn(e))return e}return null}
var SS=function(e){var t=pr.fromTag("span")
fa(t,{id:yS,"data-mce-bogus":"1","data-mce-type":"format-caret"})
e&&hn(t,pr.fromText(hS))
return t}
var kS=function(e){var t=xS(e)
t&&t.nodeValue.charAt(0)===hS&&t.deleteData(0,1)
return t}
var NS=function(e,t,r){void 0===r&&(r=true)
var n=e.dom,a=e.selection
if(wS(t))bw(e,false,pr.fromDom(t),r)
else{var o=a.getRng()
var i=n.getParent(t,n.isBlock)
var u=o.startContainer
var f=o.startOffset
var c=o.endContainer
var s=o.endOffset
var l=kS(t)
n.remove(t,true)
u===l&&f>0&&o.setStart(l,f-1)
c===l&&s>0&&o.setEnd(l,s-1)
i&&n.isEmpty(i)&&fC(pr.fromDom(i))
a.setRng(o)}}
var ES=function(e,t,r){void 0===r&&(r=true)
var n=e.dom,a=e.selection
if(t)NS(e,t,r)
else{t=jm(e.getBody(),a.getStart())
if(!t)while(t=n.get(yS))NS(e,t,false)}}
var _S=function(e,t,r){var n=e.dom,a=n.getParent(r,D(hg,e))
if(a&&n.isEmpty(a))r.parentNode.replaceChild(t,r)
else{uC(pr.fromDom(r))
n.isEmpty(r)?r.parentNode.replaceChild(t,r):n.insertAfter(t,r)}}
var AS=function(e,t){e.appendChild(t)
return t}
var RS=function(e,t){var r=te(e,(function(e,t){return AS(e,t.cloneNode(false))}),t)
return AS(r,r.ownerDocument.createTextNode(hS))}
var TS=function(e,t,r,n,a,o){var i=e.formatter
var u=e.dom
var f=ee(ye(i.get()),(function(e){return e!==n&&!it(e,"removeformat")}))
var c=pS(e,r,f)
var s=ee(c,(function(t){return!Ag(e,t,n)}))
if(s.length>0){var l=r.cloneNode(false)
u.add(t,l)
i.remove(n,a,l,o)
u.remove(l)
return H.some(l)}return H.none()}
var DS=function(e,t,r){var n,a
var o=e.selection
var i=o.getRng()
var u=i.startOffset
var f=i.startContainer
var c=f.nodeValue
n=jm(e.getBody(),o.getStart())
n&&(a=xS(n))
var s=/[^\s\u00a0\u00ad\u200b\ufeff]/
if(c&&u>0&&u<c.length&&s.test(c.charAt(u))&&s.test(c.charAt(u-1))){var l=o.getBookmark()
i.collapse(true)
var v=Xg(e,i,e.formatter.get(t))
v=uh(v)
e.formatter.apply(t,r,v)
o.moveToBookmark(l)}else{if(n&&a.nodeValue===hS)e.formatter.apply(t,r,n)
else{n=bS(e.getDoc(),SS(true).dom)
a=n.firstChild
i.insertNode(n)
u=1
e.formatter.apply(t,r,n)}o.setCursorLocation(a,u)}}
var OS=function(e,t,r,n){var a=e.dom
var o=e.selection
var i,u,f
var c=[]
var s=o.getRng()
var l=s.startContainer
var v=s.startOffset
u=l
if(3===l.nodeType){v!==l.nodeValue.length&&(i=true)
u=u.parentNode}while(u){if(lS(e,u,t,r,n)){f=u
break}u.nextSibling&&(i=true)
c.push(u)
u=u.parentNode}if(!f)return
if(i){var d=o.getBookmark()
s.collapse(true)
var m=Xg(e,s,e.formatter.get(t),true)
m=uh(m)
e.formatter.remove(t,r,m,n)
o.moveToBookmark(d)}else{var g=jm(e.getBody(),f)
var p=SS(false).dom
_S(e,p,null!==g?g:f)
var h=TS(e,p,f,t,r,n)
var y=RS(c.concat(h.toArray()),p)
NS(e,g,false)
o.setCursorLocation(y,1)
a.isEmpty(f)&&a.remove(f)}}
var BS=function(e,t){var r=e.selection,n=e.getBody()
ES(e,null,false)
8!==t&&46!==t||!r.isCollapsed()||r.getStart().innerHTML!==hS||ES(e,jm(n,r.getStart()))
37!==t&&39!==t||ES(e,jm(n,r.getStart()))}
var PS=function(e){e.on("mouseup keydown",(function(t){BS(e,t.keyCode)}))}
var LS=function(e,t){var r=SS(false)
var n=RS(t,r.dom)
mn(pr.fromDom(e),r)
xn(pr.fromDom(e))
return Cl(n,0)}
var IS=function(e,t){var r=e.schema.getTextInlineElements()
return r.hasOwnProperty(Br(t))&&!zm(t.dom)&&!qn(t.dom)}
var MS=function(e){return zm(e.dom)&&wS(e.dom)}
var FS={}
var US=Me
var zS=Le
var jS=function(e,t){var r=FS[e]
r||(FS[e]=[])
FS[e].push(t)}
var HS=function(e,t){zS(FS[e],(function(e){e(t)}))}
jS("pre",(function(e){var t=e.selection.getRng()
var r
var n=function(e){return o(e.previousSibling)&&-1!==Fe(r,e.previousSibling)}
var a=function(e,t){xc(t).remove()
xc(e).append("<br><br>").append(t.childNodes)}
var o=zn(["pre"])
if(!t.collapsed){r=e.selection.getSelectedBlocks()
zS(US(US(r,o),n),(function(e){a(e.previousSibling,e)}))}}))
var VS=sr.each
var qS=function(e){return Un(e)&&!fg(e)&&!zm(e)&&!qn(e)}
var $S=function(e,t){var r
for(r=e;r;r=r[t]){if(Yn(r)&&0!==r.nodeValue.length)return e
if(Un(r)&&!fg(r))return r}return e}
var WS=function(e,t,r){var n,a
var o=Bb(e)
if(t&&r){t=$S(t,"previousSibling")
r=$S(r,"nextSibling")
if(o.compare(t,r)){for(n=t.nextSibling;n&&n!==r;){a=n
n=n.nextSibling
t.appendChild(a)}e.remove(r)
sr.each(sr.grep(r.childNodes),(function(e){t.appendChild(e)}))
return t}}return r}
var KS=function(e,t,r,n){if(n&&false!==t.merge_siblings){var a=WS(e,pg(n),n)
WS(e,a,pg(a,true))}}
var XS=function(e,t,r){if(t.clear_child_styles){var n=t.links?"*:not(a)":"*"
VS(e.select(n,r),(function(r){qS(r)&&VS(t.styles,(function(t,n){e.setStyle(r,n,"")}))}))}}
var YS=function(e,t,r){VS(e.childNodes,(function(e){if(qS(e)){t(e)&&r(e)
e.hasChildNodes()&&YS(e,t,r)}}))}
var GS=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,true)}
var JS=function(e,t){return function(r){return!!(r&&kg(e,r,t))}}
var QS=function(e,t,r){return function(n){e.setStyle(n,t,r)
""===n.getAttribute("style")&&n.removeAttribute("style")
GS(e,n)}}
var ZS=qa.generate([{keep:[]},{rename:["name"]},{removed:[]}])
var ek=/^(src|href|style)$/
var tk=sr.each
var rk=xg
var nk=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)}
var ak=function(e,t,r){return e.isChildOf(t,r)&&t!==r&&!e.isBlock(r)}
var ok=function(e,t,r){var n,a
n=t[r?"startContainer":"endContainer"]
a=t[r?"startOffset":"endOffset"]
if(Un(n)){var o=n.childNodes.length-1
!r&&a&&a--
n=n.childNodes[a>o?o:a]}Yn(n)&&r&&a>=n.nodeValue.length&&(n=new mo(n,e.getBody()).next()||n)
Yn(n)&&!r&&0===a&&(n=new mo(n,e.getBody()).prev()||n)
return n}
var ik=function(e,t){var r=t?"firstChild":"lastChild"
if(nk(e)&&e[r]){var n=e[r]
return"TR"===e.nodeName&&n[r]||n}return e}
var uk=function(e,t,r,n){var a=e.create(r,n)
t.parentNode.insertBefore(a,t)
a.appendChild(t)
return a}
var fk=function(e,t,r,n,a){var o=pr.fromDom(t)
var i=pr.fromDom(e.create(n,a))
var u=r?Jr(o):Gr(o)
Cn(i,u)
if(r){mn(o,i)
pn(i,o)}else{gn(o,i)
hn(i,o)}return i.dom}
var ck=function(e,t,r){if(rk(t,r.inline))return true
if(rk(t,r.block))return true
if(r.selector)return Un(t)&&e.is(t,r.selector)}
var sk=function(e,t){return t.links&&"A"===e.nodeName}
var lk=function(e,t,r,n){t=pg(t,r,n)
return!t||"BR"===t.nodeName||e.isBlock(t)}
var vk=function(e,t,r){var n=t.parentNode
var a
var o=e.dom,i=lv(e)
if(r.block)if(i)n===o.getRoot()&&(r.list_block&&rk(t,r.list_block)||J(pe(t.childNodes),(function(t){if(yg(e,i,t.nodeName.toLowerCase()))if(a)a.appendChild(t)
else{a=uk(o,t,i)
o.setAttribs(a,e.settings.forced_root_block_attrs)}else a=0})))
else if(o.isBlock(t)&&!o.isBlock(n)){lk(o,t,false)||lk(o,t.firstChild,true,true)||t.insertBefore(o.create("br"),t.firstChild)
lk(o,t,true)||lk(o,t.lastChild,false,true)||t.appendChild(o.create("br"))}if(r.selector&&r.inline&&!rk(r.inline,t))return
o.remove(t,true)}
var dk=function(e,t,r,n,a){var o
var i=e.dom
if(!ck(i,n,t)&&!sk(n,t))return ZS.keep()
var u=n
if(t.inline&&"all"===t.remove&&y(t.preserve_attributes)){var f=ee(i.getAttribs(u),(function(e){return X(t.preserve_attributes,e.name.toLowerCase())}))
i.removeAllAttribs(u)
J(f,(function(e){return i.setAttrib(u,e.name,e.value)}))
if(f.length>0)return ZS.rename("span")}if("all"!==t.remove){tk(t.styles,(function(e,n){e=Sg(i,wg(e,r),n+"")
if(N(n)){n=e
a=null}(t.remove_similar||!a||rk(kg(i,a,n),e))&&i.setStyle(u,n,"")
o=true}))
if(o&&""===i.getAttrib(u,"style")){u.removeAttribute("style")
u.removeAttribute("data-mce-style")}tk(t.attributes,(function(e,n){var o
e=wg(e,r)
if(N(n)){n=e
a=null}if(t.remove_similar||!a||rk(i.getAttrib(a,n),e)){if("class"===n){e=i.getAttrib(u,n)
if(e){o=""
J(e.split(/\s+/),(function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}))
if(o){i.setAttrib(u,n,o)
return}}}ek.test(n)&&u.removeAttribute("data-mce-"+n)
if("style"===n&&zn(["li"])(u)&&"none"===i.getStyle(u,"list-style-type")){u.removeAttribute(n)
i.setStyle(u,"list-style-type","none")
return}"class"===n&&u.removeAttribute("className")
u.removeAttribute(n)}}))
tk(t.classes,(function(e){e=wg(e,r)
a&&!i.hasClass(a,e)||i.removeClass(u,e)}))
var c=i.getAttribs(u)
for(var s=0;s<c.length;s++){var l=c[s].nodeName
if(0!==l.indexOf("_")&&0!==l.indexOf("data-"))return ZS.keep()}}if("none"!==t.remove){vk(e,u,t)
return ZS.removed()}return ZS.keep()}
var mk=function(e,t,r,n,a){return dk(e,t,r,n,a).fold(I,(function(t){e.dom.rename(n,t)
return true}),M)}
var gk=function(e,t,r,n,a){var o
J(Eg(e.dom,t.parentNode).reverse(),(function(t){if(!o&&"_start"!==t.id&&"_end"!==t.id){var i=lS(e,t,r,n,a)
i&&false!==i.split&&(o=t)}}))
return o}
var pk=function(e,t,r,n){return dk(e,t,r,n,n).fold(R(n),(function(t){var r=e.dom.createFragment()
r.appendChild(n)
return e.dom.rename(n,t)}),R(null))}
var hk=function(e,t,r,n,a,o,i,u){var f,c,s
var l=e.dom
if(r){var v=r.parentNode
for(var d=n.parentNode;d&&d!==v;d=d.parentNode){f=l.clone(d,false)
for(var m=0;m<t.length;m++){f=pk(e,t[m],u,f)
if(null===f)break}if(f){c&&f.appendChild(c)
s||(s=f)
c=f}}!o||i.mixed&&l.isBlock(r)||(n=l.split(r,n))
if(c){a.parentNode.insertBefore(c,a)
s.appendChild(a)
i.inline&&KS(l,i,u,c)}}return n}
var yk=function(e,t,r,n,a){var o=e.formatter.get(t)
var i=o[0]
var u=true
var f=e.dom
var c=e.selection
var s=function(n){var u=gk(e,n,t,r,a)
return hk(e,o,u,n,n,true,i,r)}
var l=function(e){return fg(e)&&Un(e)&&("_start"===e.id||"_end"===e.id)}
var v=function(t){var n,a
var c=t.parentNode
Yn(t)&&Og(f,c)&&mk(e,i,r,c,c)
if(Un(t)&&f.getContentEditable(t)){n=u
u="true"===f.getContentEditable(t)
a=true}var s=pe(t.childNodes)
if(u&&!a)for(var l=0;l<o.length;l++)if(mk(e,o[l],r,t,t))break
if(i.deep&&s.length){for(l=0;l<s.length;l++)v(s[l])
a&&(u=n)}}
var d=function(e){var t=f.get(e?"_start":"_end")
var r=t[e?"firstChild":"lastChild"]
l(r)&&(r=r[e?"firstChild":"lastChild"])
Yn(r)&&0===r.data.length&&(r=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling)
f.remove(t,true)
return r}
var m=function(t){var r,n
var a=Xg(e,t,o,t.collapsed)
if(i.split){a=uh(a)
r=ok(e,a,true)
n=ok(e,a)
if(r!==n){r=ik(r,true)
n=ik(n,false)
if(ak(f,r,n)){var u=H.from(r.firstChild).getOr(r)
s(fk(f,u,true,"span",{id:"_start","data-mce-type":"bookmark"}))
d(true)
return}if(ak(f,n,r)){u=H.from(n.lastChild).getOr(n)
s(fk(f,u,false,"span",{id:"_end","data-mce-type":"bookmark"}))
d(false)
return}r=uk(f,r,"span",{id:"_start","data-mce-type":"bookmark"})
n=uk(f,n,"span",{id:"_end","data-mce-type":"bookmark"})
var c=f.createRng()
c.setStartAfter(r)
c.setEndBefore(n)
Jg(f,c,(function(e){J(e,(function(e){fg(e)||fg(e.parentNode)||s(e)}))}))
s(r)
s(n)
r=d(true)
n=d()}else r=n=s(r)
a.startContainer=r.parentNode?r.parentNode:r
a.startOffset=f.nodeIndex(r)
a.endContainer=n.parentNode?n.parentNode:n
a.endOffset=f.nodeIndex(n)+1}Jg(f,a,(function(t){J(t,(function(t){v(t)
var r=["underline","line-through","overline"]
J(r,(function(r){Un(t)&&e.dom.getStyle(t,"text-decoration")===r&&t.parentNode&&Ng(f,t.parentNode)===r&&mk(e,{deep:false,exact:true,inline:"span",styles:{textDecoration:r}},null,t)}))}))}))}
if(n){if(dg(n)){var g=f.createRng()
g.setStartBefore(n)
g.setEndAfter(n)
m(g)}else m(n)
return}if("false"===f.getContentEditable(c.getNode())){n=c.getNode()
for(var p=0;p<o.length;p++)if(o[p].ceFalseOverride&&mk(e,o[p],r,n,n))break
return}if(c.isCollapsed()&&i.inline&&!ap(e).length)OS(e,t,r,a)
else{dp(c,true,(function(){vp(e,m)}))
i.inline&&vS(e,t,r,c.getStart())&&gg(f,c,c.getRng())
e.nodeChanged()}}
var bk=sr.each
var Ck=function(e,t,r,n){var a=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var r=Ng(e,t.parentNode)
e.getStyle(t,"color")&&r?e.setStyle(t,"text-decoration",r):e.getStyle(t,"text-decoration")===r&&e.setStyle(t,"text-decoration",null)}}
if(t.styles&&(t.styles.color||t.styles.textDecoration)){sr.walk(n,a,"childNodes")
a(n)}}
var wk=function(e,t,r,n){t.styles&&t.styles.backgroundColor&&YS(n,JS(e,"fontSize"),QS(e,"backgroundColor",wg(t.styles.backgroundColor,r)))}
var xk=function(e,t,r,n){if("sub"===t.inline||"sup"===t.inline){YS(n,JS(e,"fontSize"),QS(e,"fontSize",""))
e.remove(e.select("sup"===t.inline?"sub":"sup",n),true)}}
var Sk=function(e,t,r,n){bk(t,(function(t){bk(e.dom.select(t.inline,n),(function(n){if(!qS(n))return
mk(e,t,r,n,t.exact?n:null)}))
XS(e.dom,t,n)}))}
var kk=function(e,t,r,n,a){if(lS(e,a.parentNode,r,n)&&mk(e,t,n,a))return
t.merge_with_parents&&e.dom.getParent(a.parentNode,(function(o){if(lS(e,o,r,n)){mk(e,t,n,a)
return true}}))}
var Nk=sr.each
var Ek=function(e,t){return De(e,t)}
var _k=function(e){return e&&1===e.nodeType&&!fg(e)&&!zm(e)&&!qn(e)}
var Ak=function(e,t,r,n){if(Yv(e)&&Dg(t)){var a=He(He({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}})
var o=rS(pr.fromDom(r),(function(e){return zm(e.dom)}))
return De(a,n)&&Ti(pr.fromDom(r.parentNode),false)&&!o}return false}
var Rk=function(e,t,r,n){var a=e.formatter.get(t)
var o=a[0]
var i=!n&&e.selection.isCollapsed()
var u=e.dom
var f=e.selection
var c=function(e,t){t=t||o
if(e){t.onformat&&t.onformat(e,t,r,n)
Nk(t.styles,(function(t,n){u.setStyle(e,n,wg(t,r))}))
if(t.styles){var a=u.getAttrib(e,"style")
a&&u.setAttrib(e,"data-mce-style",a)}Nk(t.attributes,(function(t,n){u.setAttrib(e,n,wg(t,r))}))
Nk(t.classes,(function(t){t=wg(t,r)
u.hasClass(e,t)||u.addClass(e,t)}))}}
var s=function(e,t){var r=false
if(!Tg(o))return false
Nk(e,(function(e){if("collapsed"in e&&e.collapsed!==i)return
if(u.is(t,e.selector)&&!zm(t)){c(t,e)
r=true
return false}}))
return r}
var l=function(n,i,u,f){var l=[]
var v=true
var d=o.inline||o.block
var m=n.create(d)
c(m)
Jg(n,i,(function(i){var u
var g=function(i){var p=false
var h=v
var y=i.nodeName.toLowerCase()
var b=i.parentNode.nodeName.toLowerCase()
if(Un(i)&&n.getContentEditable(i)){h=v
v="true"===n.getContentEditable(i)
p=true}if(Zn(i)&&!Ak(e,o,i,b)){u=null
Rg(o)&&n.remove(i)
return}if(o.wrapper&&lS(e,i,t,r)){u=null
return}if(v&&!p&&Rg(o)&&!o.wrapper&&hg(e,y)&&yg(e,b,d)){var C=n.rename(i,d)
c(C)
l.push(C)
u=null
return}if(Tg(o)){var w=s(a,i)
Yn(i)&&Og(n,i.parentNode)&&s(a,i.parentNode)
if(!Ek(o,"inline")||w){u=null
return}}if(!v||p||!yg(e,d,y)||!yg(e,b,d)||!f&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||zm(i)||Ek(o,"inline")&&n.isBlock(i)){u=null
Nk(sr.grep(i.childNodes),g)
p&&(v=h)
u=null}else{if(!u){u=n.clone(m,false)
i.parentNode.insertBefore(u,i)
l.push(u)}u.appendChild(i)}}
Nk(i,g)}))
true===o.links&&Nk(l,(function(e){var t=function(e){"A"===e.nodeName&&c(e,o)
Nk(sr.grep(e.childNodes),t)}
t(e)}))
Nk(l,(function(i){var u=function(e){var t=0
Nk(e.childNodes,(function(e){Cg(e)||fg(e)||t++}))
return t}
var f=function(e){var t=false
Nk(e.childNodes,(function(e){if(_k(e)){t=e
return false}}))
return t}
var s=function(e){var t
var r=f(e)
if(r&&!fg(r)&&cS(n,r,o)){t=n.clone(r,false)
c(t)
n.replace(t,e,true)
n.remove(r,true)}return t||e}
var v=u(i)
if((l.length>1||!n.isBlock(i))&&0===v){n.remove(i,true)
return}if(Dg(o)||o.wrapper){o.exact||1!==v||(i=s(i))
Sk(e,a,r,i)
kk(e,o,t,r,i)
wk(n,o,r,i)
Ck(n,o,r,i)
xk(n,o,r,i)
KS(n,o,r,i)}}))}
if("false"===u.getContentEditable(f.getNode())){n=f.getNode()
for(var v=0,d=a.length;v<d;v++){var m=a[v]
if(m.ceFalseOverride&&Tg(m)&&u.is(n,m.selector)){c(n,m)
return}}return}if(o){if(n)if(dg(n)){if(!s(a,n)){var g=u.createRng()
g.setStartBefore(n)
g.setEndAfter(n)
l(u,Xg(e,g,a),null,true)}}else l(u,n,null,true)
else if(i&&Dg(o)&&!ap(e).length)DS(e,t,r)
else{var p=f.getNode()
var h=a[0]
e.settings.forced_root_block||!h.defaultBlock||u.getParent(p,u.isBlock)||Rk(e,h.defaultBlock)
f.setRng(lx(f.getRng()))
dp(f,true,(function(t){vp(e,(function(t,r){var n=r?t:Xg(e,t,a)
l(u,n)}))}))
gg(u,f,f.getRng())
e.nodeChanged()}HS(t,e)}}
var Tk=function(e,t){var r=Uc({})
e.set({})
t.on("NodeChange",(function(n){Dk(t,n.element,r,e.get())}))}
var Dk=function(e,t,r,n){var a=ye(r.get())
var o={}
var i={}
var u=ee(Eg(e.dom,t),(function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}))
Ce(n,(function(t,r){sr.each(u,(function(n){if(e.formatter.matchNode(n,r,{},t.similar)){if(-1===a.indexOf(r)){J(t.callbacks,(function(e){e(true,{node:n,format:r,parents:u})}))
o[r]=t.callbacks}i[r]=t.callbacks
return false}if(uS(e,n,r))return false}))}))
var f=Ok(r.get(),i,t,u)
r.set(He(He({},o),f))}
var Ok=function(e,t,r,n){return Ne(e,(function(e,a){if(Te(t,a))return true
J(e,(function(e){e(false,{node:r,format:a,parents:n})}))
return false})).t}
var Bk=function(e,t,r,n){var a=e.get()
J(t.split(","),(function(e){a[e]||(a[e]={similar:n,callbacks:[]})
a[e].callbacks.push(r)}))
e.set(a)}
var Pk=function(e,t,r){var n=e.get()
J(t.split(","),(function(e){n[e].callbacks=ee(n[e].callbacks,(function(e){return e!==r}))
0===n[e].callbacks.length&&delete n[e]}))
e.set(n)}
var Lk=function(e,t,r,n,a){null===t.get()&&Tk(t,e)
Bk(t,r,n,a)
return{unbind:function(){return Pk(t,r,n)}}}
var Ik=function(e,t,r,n){var a=e.formatter.get(t)
!vS(e,t,r,n)||"toggle"in a[0]&&!a[0].toggle?Rk(e,t,r,n):yk(e,t,r,n)}
var Mk=function(e,t){var r=t||document
var n=r.createDocumentFragment()
J(e,(function(e){n.appendChild(e.dom)}))
return pr.fromDom(n)}
var Fk=function(e,t,r){return{element:e,width:t,rows:r}}
var Uk=function(e,t){return{element:e,cells:t}}
var zk=function(e,t){return{x:e,y:t}}
var jk=function(e,t){var r=parseInt(ca(e,t),10)
return isNaN(r)?1:r}
var Hk=function(e,t,r,n,a){var o=jk(a,"rowspan")
var i=jk(a,"colspan")
var u=e.rows
for(var f=r;f<r+o;f++){u[f]||(u[f]=Uk(Bs(n),[]))
for(var c=t;c<t+i;c++){var s=u[f].cells
s[c]=f===r&&c===t?a:Os(a)}}}
var Vk=function(e,t,r){var n=e.rows
var a=n[r]?n[r].cells:[]
return!!a[t]}
var qk=function(e,t,r){while(Vk(e,t,r))t++
return t}
var $k=function(e){return re(e,(function(e,t){return t.cells.length>e?t.cells.length:e}),0)}
var Wk=function(e,t){var r=e.rows
for(var n=0;n<r.length;n++){var a=r[n].cells
for(var o=0;o<a.length;o++)if(Rr(a[o],t))return H.some(zk(o,n))}return H.none()}
var Kk=function(e,t,r,n,a){var o=[]
var i=e.rows
for(var u=r;u<=a;u++){var f=i[u].cells
var c=t<n?f.slice(t,n+1):f.slice(n,t+1)
o.push(Uk(i[u].element,c))}return o}
var Xk=function(e,t,r){var n=t.x,a=t.y
var o=r.x,i=r.y
var u=a<i?Kk(e,n,a,o,i):Kk(e,n,i,o,a)
return Fk(e.element,$k(u),u)}
var Yk=function(e,t){var r=Os(e.element)
var n=pr.fromTag("tbody")
Cn(n,t)
hn(r,n)
return r}
var Gk=function(e){return G(e.rows,(function(e){var t=G(e.cells,(function(e){var t=Bs(e)
va(t,"colspan")
va(t,"rowspan")
return t}))
var r=Os(e.element)
Cn(r,t)
return r}))}
var Jk=function(e){var t=Fk(Os(e),0,[])
J(ms(e,"tr"),(function(e,r){J(ms(e,"td,th"),(function(n,a){Hk(t,qk(t,a,r),r,e,n)}))}))
return Fk(t.element,$k(t.rows),t.rows)}
var Qk=function(e){return Yk(e,Gk(e))}
var Zk=function(e,t,r){return Wk(e,t).bind((function(t){return Wk(e,r).map((function(r){return Xk(e,t,r)}))}))}
var eN=function(e){return ae(e,(function(e){return"ul"===Br(e)||"ol"===Br(e)}))}
var tN=function(e,t){return ae(e,(function(e){return"li"===Br(e)&&cp(e,t)})).fold(R([]),(function(t){return eN(e).map((function(e){var t=pr.fromTag(Br(e))
var r=Ee(ba(e),(function(e,t){return ut(t,"list-style")}))
ga(t,r)
return[pr.fromTag("li"),t]})).getOr([])}))}
var rN=function(e,t){var r=re(t,(function(e,t){hn(t,e)
return t}),e)
return t.length>0?Mk([r]):r}
var nN=function(e){return Do(e)?$r(e).filter(To).fold(R([]),(function(t){return[e,t]})):To(e)?[e]:[]}
var aN=function(e,t){var r=pr.fromDom(t.commonAncestorContainer)
var n=dC(r,e)
var a=ee(n,(function(e){return _o(e)||ko(e)}))
var o=tN(n,t)
var i=a.concat(o.length?o:nN(r))
return G(i,Os)}
var oN=function(){return Mk([])}
var iN=function(e,t){return rN(pr.fromDom(t.cloneContents()),aN(e,t))}
var uN=function(e,t){return Ja(t,"table",D(Rr,e))}
var fN=function(e,t){return uN(e,t[0]).bind((function(e){var r=t[0]
var n=t[t.length-1]
var a=Jk(e)
return Zk(a,r,n).map((function(e){return Mk([Qk(e)])}))})).getOrThunk(oN)}
var cN=function(e,t){return t.length>0&&t[0].collapsed?oN():iN(e,t[0])}
var sN=function(e,t){var r=np(t,e)
return r.length>0?fN(e,r):cN(e,t)}
var lN=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")}
var vN=function(e,t){return t>=0&&t<e.length&&lg(e.charAt(t))}
var dN=function(e,t){var r=Ho(e.innerText)
return t?lN(r):r}
var mN=function(e){return e.map((function(e){return e.nodeName})).getOr("div").toLowerCase()}
var gN=function(e){return H.from(e.selection.getRng()).map((function(t){var r=H.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock))
var n=e.getBody()
var a=mN(r)
var o=Jt.browser.isIE()&&"pre"!==a
var i=e.dom.add(n,a,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents())
var u=dN(i,o)
var f=Ho(i.textContent)
e.dom.remove(i)
if(vN(f,0)||vN(f,f.length-1)){var c=r.getOr(n)
var s=dN(c,o)
var l=s.indexOf(u)
if(-1===l)return u
var v=vN(s,l-1)
var d=vN(s,l+u.length)
return(v?" ":"")+u+(d?" ":"")}return u})).getOr("")}
var pN=function(e,t){var r=e.selection.getRng(),n=e.dom.create("body")
var a=e.selection.getSel()
var o=fb(e,Qg(a))
var i=t.contextual?sN(pr.fromDom(e.getBody()),o).dom:r.cloneContents()
i&&n.appendChild(i)
return e.selection.serializer.serialize(n,t)}
var hN=function(e,t,r){void 0===r&&(r={})
r.get=true
r.format=t
r.selection=true
r=e.fire("BeforeGetContent",r)
if(r.isDefaultPrevented()){e.fire("GetContent",r)
return r.content}if("text"===r.format)return gN(e)
r.getInner=true
var n=pN(e,r)
if("tree"===r.format)return n
r.content=e.selection.isCollapsed()?"":n
e.fire("GetContent",r)
return r.content}
var yN=0,bN=1,CN=2
var wN=function(e,t){var r=e.length+t.length+2
var n=new Array(r)
var a=new Array(r)
var o=function(e,t,r){return{start:e,end:t,diag:r}}
var i=function(r,n,a,o,u){var c=f(r,n,a,o)
if(null===c||c.start===n&&c.diag===n-o||c.end===r&&c.diag===r-a){var s=r
var l=a
while(s<n||l<o)if(s<n&&l<o&&e[s]===t[l]){u.push([yN,e[s]]);++s;++l}else if(n-r>o-a){u.push([CN,e[s]]);++s}else{u.push([bN,t[l]]);++l}}else{i(r,c.start,a,c.start-c.diag,u)
for(var v=c.start;v<c.end;++v)u.push([yN,e[v]])
i(c.end,n,c.end-c.diag,o,u)}}
var u=function(r,n,a,i){var u=r
while(u-n<i&&u<a&&e[u]===t[u-n])++u
return o(r,u,n)}
var f=function(r,o,i,f){var c=o-r
var s=f-i
if(0===c||0===s)return null
var l=c-s
var v=s+c
var d=(v%2===0?v:v+1)/2
n[1+d]=r
a[1+d]=o+1
var m,g,p,h,y
for(m=0;m<=d;++m){for(g=-m;g<=m;g+=2){p=g+d
g===-m||g!==m&&n[p-1]<n[p+1]?n[p]=n[p+1]:n[p]=n[p-1]+1
h=n[p]
y=h-r+i-g
while(h<o&&y<f&&e[h]===t[y]){n[p]=++h;++y}if(l%2!==0&&l-m<=g&&g<=l+m&&a[p-l]<=n[p])return u(a[p-l],g+r-i,o,f)}for(g=l-m;g<=l+m;g+=2){p=g+d-l
g===l-m||g!==l+m&&a[p+1]<=a[p-1]?a[p]=a[p+1]-1:a[p]=a[p-1]
h=a[p]-1
y=h-r+i-g
while(h>=r&&y>=i&&e[h]===t[y]){a[p]=h--
y--}if(l%2===0&&-m<=g&&g<=m&&a[p]<=n[p+l])return u(a[p],g+r-i,o,f)}}}
var c=[]
i(0,e.length,0,t.length,c)
return c}
var xN=function(e){if(Un(e))return e.outerHTML
if(Yn(e))return ru.encodeRaw(e.data,false)
if(Gn(e))return"\x3c!--"+e.data+"--\x3e"
return""}
var SN=function(e){var t
var r=document.createElement("div")
var n=document.createDocumentFragment()
e&&(r.innerHTML=e)
while(t=r.firstChild)n.appendChild(t)
return n}
var kN=function(e,t,r){var n=SN(t)
if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r]
a.parentNode.insertBefore(n,a)}else e.appendChild(n)}
var NN=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var r=e.childNodes[t]
r.parentNode.removeChild(r)}}
var EN=function(e,t){var r=0
J(e,(function(e){if(e[0]===yN)r++
else if(e[0]===bN){kN(t,e[1],r)
r++}else e[0]===CN&&NN(t,r)}))}
var _N=function(e){return ee(G(pe(e.childNodes),xN),(function(e){return e.length>0}))}
var AN=function(e,t){var r=G(pe(t.childNodes),xN)
EN(wN(r,e),t)
return t}
var RN=Uc(H.none())
var TN=function(){return RN.get().getOrThunk((function(){var e=document.implementation.createHTMLDocument("undo")
RN.set(H.some(e))
return e}))}
var DN=function(e){return-1!==e.indexOf("</iframe>")}
var ON=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}}
var BN=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}}
var PN=function(e){var t=_N(e.getBody())
var r=ue(t,(function(t){var r=_b(e.serializer,t)
return r.length>0?[r]:[]}))
var n=r.join("")
return DN(n)?ON(r):BN(n)}
var LN=function(e,t,r){"fragmented"===t.type?AN(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"})
e.selection.moveToBookmark(r?t.beforeBookmark:t.bookmark)}
var IN=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content}
var MN=function(e){var t=pr.fromTag("body",TN())
Ts(t,IN(e))
J(ms(t,"*[data-mce-bogus]"),Sn)
return Rs(t)}
var FN=function(e,t){return IN(e)===IN(t)}
var UN=function(e,t){return MN(e)===MN(t)}
var zN=function(e,t){return!(!e||!t)&&(!!FN(e,t)||UN(e,t))}
var jN=function(e){return 0===e.get()}
var HN=function(e,t,r){jN(r)&&(e.typing=t)}
var VN=function(e,t){if(e.typing){HN(e,false,t)
e.add()}}
var qN=function(e){if(e.typing){e.typing=false
e.add()}}
var $N=function(e,t,r){jN(t)&&r.set(H.some(ev(e.selection)))}
var WN=function(e,t,r,n,a,o,i){var u=PN(e)
o=o||{}
o=sr.extend(o,u)
if(false===jN(n)||e.removed)return null
var f=t.data[r.get()]
if(e.fire("BeforeAddUndo",{level:o,lastLevel:f,originalEvent:i}).isDefaultPrevented())return null
if(f&&zN(f,o))return null
t.data[r.get()]&&a.get().each((function(e){t.data[r.get()].beforeBookmark=e}))
var c=od(e)
if(c&&t.data.length>c){for(var s=0;s<t.data.length-1;s++)t.data[s]=t.data[s+1]
t.data.length--
r.set(t.data.length)}o.bookmark=ev(e.selection)
r.get()<t.data.length-1&&(t.data.length=r.get()+1)
t.data.push(o)
r.set(t.data.length-1)
var l={level:o,lastLevel:f,originalEvent:i}
if(r.get()>0){e.setDirty(true)
e.fire("AddUndo",l)
e.fire("change",l)}else e.fire("AddUndo",l)
return o}
var KN=function(e,t,r){t.data=[]
r.set(0)
t.typing=false
e.fire("ClearUndos")}
var XN=function(e,t,r,n,a){if(t.transact(n)){var o=t.data[r.get()].bookmark
var i=t.data[r.get()-1]
LN(e,i,true)
t.transact(a)&&(t.data[r.get()-1].beforeBookmark=o)}}
var YN=function(e,t,r){var n
if(t.get()<r.length-1){t.set(t.get()+1)
n=r[t.get()]
LN(e,n,false)
e.setDirty(true)
e.fire("Redo",{level:n})}return n}
var GN=function(e,t,r,n){var a
if(t.typing){t.add()
t.typing=false
HN(t,false,r)}if(n.get()>0){n.set(n.get()-1)
a=t.data[n.get()]
LN(e,a,true)
e.setDirty(true)
e.fire("Undo",{level:a})}return a}
var JN=function(e){e.clear()
e.add()}
var QN=function(e,t,r){return r.get()>0||t.typing&&t.data[0]&&!zN(PN(e),t.data[0])}
var ZN=function(e,t){return t.get()<e.data.length-1&&!e.typing}
var eE=function(e,t,r){VN(e,t)
e.beforeChange()
e.ignore(r)
return e.add()}
var tE=function(e,t){try{e.set(e.get()+1)
t()}finally{e.set(e.get()-1)}}
var rE=function(e,t){var r=e.dom
var n=S(t)?t:e.getBody()
w(e.hasVisual)&&(e.hasVisual=vd(e))
J(r.select("table,a",n),(function(t){switch(t.nodeName){case"TABLE":var n=dd(e)
var a=r.getAttrib(t,"border")
a&&"0"!==a||!e.hasVisual?r.removeClass(t,n):r.addClass(t,n)
break
case"A":if(!r.getAttrib(t,"href")){var o=r.getAttrib(t,"name")||t.id
var i=md(e)
o&&e.hasVisual?r.addClass(t,i):r.removeClass(t,i)}}}))
e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})}
var nE=function(e){return{undoManager:{beforeChange:function(t,r){return $N(e,t,r)},addUndoLevel:function(t,r,n,a,o,i){return WN(e,t,r,n,a,o,i)},undo:function(t,r,n){return GN(e,t,r,n)},redo:function(t,r){return YN(e,t,r)},clear:function(t,r){return KN(e,t,r)},reset:function(e){return JN(e)},hasUndo:function(t,r){return QN(e,t,r)},hasRedo:function(e,t){return ZN(e,t)},transact:function(e,t,r){return eE(e,t,r)},ignore:function(e,t){return tE(e,t)},extra:function(t,r,n,a){return XN(e,t,r,n,a)}},formatter:{match:function(t,r,n){return vS(e,t,r,n)},matchAll:function(t,r){return dS(e,t,r)},matchNode:function(t,r,n,a){return lS(e,t,r,n,a)},canApply:function(t){return gS(e,t)},closest:function(t){return mS(e,t)},apply:function(t,r,n){return Rk(e,t,r,n)},remove:function(t,r,n,a){return yk(e,t,r,n,a)},toggle:function(t,r,n){return Ik(e,t,r,n)},formatChanged:function(t,r,n,a){return Lk(e,t,r,n,a)}},editor:{getContent:function(t,r){return Db(e,t,r)},setContent:function(t,r){return tS(e,t,r)},insertContent:function(t,r){return $x(e,t,r)},addVisual:function(t){return rE(e,t)}},selection:{getContent:function(t,r){return hN(e,t,r)}},raw:{getModel:function(){return H.none()}}}}
var aE=function(e){var t=function(e){return h(e)?e:{}}
var r=B("Unimplemented feature for rtc")
var n=e.undoManager,a=e.formatter,o=e.editor,i=e.selection,u=e.raw
var f=E
return{undoManager:{beforeChange:f,addUndoLevel:r,undo:function(){return n.undo()},redo:function(){return n.redo()},clear:function(){return n.clear()},reset:function(){return n.reset()},hasUndo:function(){return n.hasUndo()},hasRedo:function(){return n.hasRedo()},transact:function(e,t,r){return n.transact(r)},ignore:function(e,t){return n.ignore(t)},extra:function(e,t,r,a){return n.extra(r,a)}},formatter:{match:function(e,r,n){return a.match(e,t(r))},matchAll:r,matchNode:r,canApply:function(e){return a.canApply(e)},closest:function(e){return a.closest(e)},apply:function(e,r,n){return a.apply(e,t(r))},remove:function(e,r,n,o){return a.remove(e,t(r))},toggle:function(e,r,n){return a.toggle(e,t(r))},formatChanged:function(e,t,r,n){return a.formatChanged(t,r,n)}},editor:{getContent:function(e,t){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e,t){return o.insertContent(e)},addVisual:f},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return H.some(u.getRawModel())}}}}
var oE=function(){var e=R(null)
var t=R("")
return{undoManager:{beforeChange:E,addUndoLevel:e,undo:e,redo:e,clear:E,reset:E,hasUndo:I,hasRedo:I,transact:e,ignore:E,extra:E},formatter:{match:I,matchAll:R([]),matchNode:I,canApply:I,closest:t,apply:E,remove:E,toggle:E,formatChanged:R({unbind:E})},editor:{getContent:t,setContent:t,insertContent:E,addVisual:E},selection:{getContent:t},raw:{getModel:R(H.none())}}}
var iE=function(e){return Te(e.plugins,"rtc")}
var uE=function(e){return Re(e.plugins,"rtc").bind((function(e){return H.from(e.setup)}))}
var fE=function(e){var t=e
return uE(e).fold((function(){t.rtcInstance=nE(e)
return H.none()}),(function(e){return H.some(e().then((function(e){t.rtcInstance=aE(e)
return e.rtc.isRemote}),(function(e){t.rtcInstance=oE()
return to.reject(e)})))}))}
var cE=function(e){return e.rtcInstance?e.rtcInstance:nE(e)}
var sE=function(e){var t=e.rtcInstance
if(t)return t
throw new Error("Failed to get RTC instance not yet initialized.")}
var lE=function(e,t,r){sE(e).undoManager.beforeChange(t,r)}
var vE=function(e,t,r,n,a,o,i){return sE(e).undoManager.addUndoLevel(t,r,n,a,o,i)}
var dE=function(e,t,r,n){return sE(e).undoManager.undo(t,r,n)}
var mE=function(e,t,r){return sE(e).undoManager.redo(t,r)}
var gE=function(e,t,r){sE(e).undoManager.clear(t,r)}
var pE=function(e,t){sE(e).undoManager.reset(t)}
var hE=function(e,t,r){return sE(e).undoManager.hasUndo(t,r)}
var yE=function(e,t,r){return sE(e).undoManager.hasRedo(t,r)}
var bE=function(e,t,r,n){return sE(e).undoManager.transact(t,r,n)}
var CE=function(e,t,r){sE(e).undoManager.ignore(t,r)}
var wE=function(e,t,r,n,a){sE(e).undoManager.extra(t,r,n,a)}
var xE=function(e,t,r,n){return sE(e).formatter.match(t,r,n)}
var SE=function(e,t,r){return sE(e).formatter.matchAll(t,r)}
var kE=function(e,t,r,n,a){return sE(e).formatter.matchNode(t,r,n,a)}
var NE=function(e,t){return sE(e).formatter.canApply(t)}
var EE=function(e,t){return sE(e).formatter.closest(t)}
var _E=function(e,t,r,n){sE(e).formatter.apply(t,r,n)}
var AE=function(e,t,r,n,a){sE(e).formatter.remove(t,r,n,a)}
var RE=function(e,t,r,n){sE(e).formatter.toggle(t,r,n)}
var TE=function(e,t,r,n,a){void 0===a&&(a=false)
return sE(e).formatter.formatChanged(t,r,n,a)}
var DE=function(e,t,r){return cE(e).editor.getContent(t,r)}
var OE=function(e,t,r){return cE(e).editor.setContent(t,r)}
var BE=function(e,t,r){return cE(e).editor.insertContent(t,r)}
var PE=function(e,t,r){return sE(e).selection.getContent(t,r)}
var LE=function(e,t){return sE(e).editor.addVisual(t)}
var IE=function(e,t){void 0===t&&(t={})
var r=t.format?t.format:"html"
return PE(e,r,t)}
var ME=function(e){if(0===e.dom.length){xn(e)
return H.none()}return H.some(e)}
var FE=function(e,t){return e.filter((function(e){return kp.isBookmarkNode(e.dom)})).bind(t?Yr:Xr)}
var UE=function(e,t,r,n){var a=e.dom
var o=t.dom
var i=n?a.length:o.length
if(n){ew(a,o,false,!n)
r.setStart(o,i)}else{ew(o,a,false,!n)
r.setEnd(o,i)}}
var zE=function(e,t){$r(e).each((function(r){var n=e.dom
t&&FC(r,Cl(n,0))?QC(n,0):!t&&zC(r,Cl(n,n.length))&&ZC(n,n.length)}))}
var jE=function(e,t,r,n){e.bind((function(e){var a=n?ZC:QC
a(e.dom,n?e.dom.length:0)
return t.filter(Fr).map((function(t){return UE(e,t,r,n)}))})).orThunk((function(){var e=FE(t,n).or(t).filter(Fr)
return e.map((function(e){return zE(e,n)}))}))}
var HE=function(e,t){var r=H.from(t.firstChild).map(pr.fromDom)
var n=H.from(t.lastChild).map(pr.fromDom)
e.deleteContents()
e.insertNode(t)
var a=r.bind(Xr).filter(Fr).bind(ME)
var o=n.bind(Yr).filter(Fr).bind(ME)
jE(a,r,e,true)
jE(o,n,e,false)
e.collapse(false)}
var VE=function(e,t){return He(He({format:"html"},e),{set:true,selection:true,content:t})}
var qE=function(e,t){if("raw"!==t.format){var r=e.selection.getRng()
var n=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)
var a=n?{context:n.nodeName.toLowerCase()}:{}
var o=e.parser.parse(t.content,He(He({isRootContent:true,forced_root_block:false},a),t))
return Ib({validate:e.validate},e.schema).serialize(o)}return t.content}
var $E=function(e,t,r){void 0===r&&(r={})
var n=VE(r,t)
if(!n.no_events){n=e.fire("BeforeSetContent",n)
if(n.isDefaultPrevented()){e.fire("SetContent",n)
return}}r.content=qE(e,n)
var a=e.selection.getRng()
HE(a,a.createContextualFragment(r.content))
e.selection.setRng(a)
Uh(e,a)
n.no_events||e.fire("SetContent",n)}
var WE=function(e,t,r){if(e&&e.hasOwnProperty(t)){var n=ee(e[t],(function(e){return e!==r}))
0===n.length?delete e[t]:e[t]=n}}
function KE(e,t){var r
var n
return{selectorChangedWithUnbind:function(a,o){if(!r){r={}
n={}
t.on("NodeChange",(function(t){var a=t.element,o=e.getParents(a,null,e.getRoot()),i={}
sr.each(r,(function(t,r){sr.each(o,(function(a){if(e.is(a,r)){if(!n[r]){sr.each(t,(function(e){e(true,{node:a,selector:r,parents:o})}))
n[r]=t}i[r]=t
return false}}))}))
sr.each(n,(function(e,t){if(!i[t]){delete n[t]
sr.each(e,(function(e){e(false,{node:a,selector:t,parents:o})}))}}))}))}r[a]||(r[a]=[])
r[a].push(o)
return{unbind:function(){WE(r,a,o)
WE(n,a,o)}}}}}var XE=function(e){return!!e.select}
var YE=function(e){return!!(e&&e.ownerDocument)&&Or(pr.fromDom(e.ownerDocument),pr.fromDom(e))}
var GE=function(e){return!!e&&(!!XE(e)||YE(e.startContainer)&&YE(e.endContainer))}
var JE=function(e,t,r,n){var a
var o
var i=KE(e,n).selectorChangedWithUnbind
var u=function(t,r){var a=e.createRng()
if(S(t)&&S(r)){a.setStart(t,r)
a.setEnd(t,r)
b(a)
p(false)}else{sp(e,a,n.getBody(),true)
b(a)}}
var f=function(e){return IE(n,e)}
var c=function(e,t){return $E(n,e,t)}
var s=function(e){return rb(n.getBody(),y(),e)}
var l=function(e){return nb(n.getBody(),y(),e)}
var v=function(e,t){return B.getBookmark(e,t)}
var d=function(e){return B.moveToBookmark(e)}
var m=function(t,r){ub(e,t,r).each(b)
return t}
var g=function(){var e=y(),t=h()
if(!e||e.item)return false
if(e.compareEndPoints)return 0===e.compareEndPoints("StartToEnd",e)
return!t||e.collapsed}
var p=function(e){var t=y()
t.collapse(!!e)
b(t)}
var h=function(){return t.getSelection?t.getSelection():t.document.selection}
var y=function(){var r,i,u
var f=function(e,t,r){try{return t.compareBoundaryPoints(e,r)}catch(e){return-1}}
var c=t.document
if(void 0!==n.bookmark&&false===Gy(n)){var s=xy(n)
if(s.isSome())return s.map((function(e){return fb(n,[e])[0]})).getOr(c.createRange())}try{if((r=h())&&!Fn(r.anchorNode)){i=r.rangeCount>0?r.getRangeAt(0):r.createRange?r.createRange():c.createRange()
i=fb(n,[i])[0]}}catch(e){}i||(i=c.createRange?c.createRange():c.body.createTextRange())
if(i.setStart&&9===i.startContainer.nodeType&&i.collapsed){u=e.getRoot()
i.setStart(u,0)
i.setEnd(u,0)}if(a&&o)if(0===f(i.START_TO_START,i,a)&&0===f(i.END_TO_END,i,a))i=o
else{a=null
o=null}return i}
var b=function(e,t){var r
if(!GE(e))return
var i=XE(e)?e:null
if(i){o=null
try{i.select()}catch(e){}return}var u=h()
var f=n.fire("SetSelectionRange",{range:e,forward:t})
e=f.range
if(u){o=e
try{u.removeAllRanges()
u.addRange(e)}catch(e){}if(false===t&&u.extend){u.collapse(e.endContainer,e.endOffset)
u.extend(e.startContainer,e.startOffset)}a=u.rangeCount>0?u.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&u.setBaseAndExtent&&!Jt.ie&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){r=e.startContainer.childNodes[e.startOffset]
if(r&&"IMG"===r.tagName){u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset)
u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(r,0,r,1)}}n.fire("AfterSetSelectionRange",{range:e,forward:t})}
var C=function(t){c(e.getOuterHTML(t))
return t}
var w=function(){return ob(n.getBody(),y())}
var x=function(t,r){return ib(e,y(),t,r)}
var k=function(){var t=h()
var r=null===t||void 0===t?void 0:t.anchorNode
var n=null===t||void 0===t?void 0:t.focusNode
if(!t||!r||!n||Fn(r)||Fn(n))return true
var a=e.createRng()
a.setStart(r,t.anchorOffset)
a.collapse(true)
var o=e.createRng()
o.setStart(n,t.focusOffset)
o.collapse(true)
return a.compareBoundaryPoints(a.START_TO_START,o)<=0}
var N=function(){var t=y()
var r=h()
if(!ep(r)&&lp(n)){var a=oh(e,t)
a.each((function(e){b(e,k())}))
return a.getOr(t)}return t}
var E=function(e,t){i(e,t)
return O}
var _=function(){var t
var r=e.getRoot()
while(r&&"BODY"!==r.nodeName){if(r.scrollHeight>r.clientHeight){t=r
break}r=r.parentNode}return t}
var A=function(e,t){return Fh(n,e,t)}
var R=function(e,t){return b(Wp(e,t,n.getDoc()))}
var T=function(){var e=y()
return e.collapsed?Cl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()}
var D=function(){t=a=o=null
P.destroy()}
var O={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:r,editor:n,collapse:p,setCursorLocation:u,getContent:f,setContent:c,getBookmark:v,moveToBookmark:d,select:m,isCollapsed:g,isForward:k,setNode:C,getNode:w,getSel:h,setRng:b,getRng:y,getStart:s,getEnd:l,getSelectedBlocks:x,normalize:N,selectorChanged:E,selectorChangedWithUnbind:i,getScrollContainer:_,scrollIntoView:A,placeCaretAt:R,getBoundingClientRect:T,destroy:D}
var B=kp(O)
var P=jp(O,n)
O.bookmarkManager=B
O.controlSelection=P
return O}
var QE=function(e,t){J(t,(function(t){e.attr(t,null)}))}
var ZE=function(e,t,r){e.addNodeFilter("font",(function(e){J(e,(function(e){var n=t.parse(e.attr("style"))
var a=e.attr("color")
var o=e.attr("face")
var i=e.attr("size")
a&&(n.color=a)
o&&(n["font-family"]=o)
i&&(n["font-size"]=r[parseInt(e.attr("size"),10)-1])
e.name="span"
e.attr("style",t.serialize(n))
QE(e,["color","face","size"])}))}))}
var e_=function(e,t){e.addNodeFilter("strike",(function(e){J(e,(function(e){var r=t.parse(e.attr("style"))
r["text-decoration"]="line-through"
e.name="span"
e.attr("style",t.serialize(r))}))}))}
var t_=function(e,t){var r=gu()
t.convert_fonts_to_spans&&ZE(e,r,sr.explode(t.font_size_legacy_values))
e_(e,r)}
var r_=function(e,t){t.inline_styles&&t_(e,t)}
var n_=function(e){return new to((function(t,r){var n=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")}
try{var a=new XMLHttpRequest
a.open("GET",e,true)
a.responseType="blob"
a.onload=function(){200===a.status?t(a.response):n()}
a.onerror=n
a.send()}catch(e){n()}}))}
var a_=function(e){var t
var r=decodeURIComponent(e).split(",")
var n=/data:([^;]+)/.exec(r[0])
n&&(t=n[1])
return{type:t,data:r[1]}}
var o_=function(e,t){var r
try{r=atob(t)}catch(e){return H.none()}var n=new Uint8Array(r.length)
for(var a=0;a<n.length;a++)n[a]=r.charCodeAt(a)
return H.some(new Blob([n],{type:e}))}
var i_=function(e){return new to((function(t){var r=a_(e),n=r.type,a=r.data
o_(n,a).fold((function(){return t(new Blob([]))}),t)}))}
var u_=function(e){if(0===e.indexOf("blob:"))return n_(e)
if(0===e.indexOf("data:"))return i_(e)
return null}
var f_=function(e){return new to((function(t){var r=new FileReader
r.onloadend=function(){t(r.result)}
r.readAsDataURL(e)}))}
var c_=0
var s_=function(e){return(e||"blobid")+c_++}
var l_=function(e,t,r,n){var a,o
if(0===t.src.indexOf("blob:")){o=e.getByUri(t.src)
o?r({image:t,blobInfo:o}):u_(t.src).then((function(n){f_(n).then((function(i){a=a_(i).data
o=e.create(s_(),n,a)
e.add(o)
r({image:t,blobInfo:o})}))}),(function(e){n(e)}))
return}var i=a_(t.src),u=i.data,f=i.type
a=u
o=e.getByData(a,f)
o?r({image:t,blobInfo:o}):u_(t.src).then((function(n){o=e.create(s_(),n,a)
e.add(o)
r({image:t,blobInfo:o})}),(function(e){n(e)}))}
var v_=function(e){return e?pe(e.getElementsByTagName("img")):[]}
var d_=function(e,t){var r={}
var n=function(n,a){a||(a=M)
var o=ee(v_(n),(function(t){var r=t.src
if(!Jt.fileApi)return false
if(t.hasAttribute("data-mce-bogus"))return false
if(t.hasAttribute("data-mce-placeholder"))return false
if(!r||r===Jt.transparentSrc)return false
if(0===r.indexOf("blob:"))return!e.isUploaded(r)&&a(t)
if(0===r.indexOf("data:"))return a(t)
return false}))
var i=G(o,(function(e){if(void 0!==r[e.src])return new to((function(t){r[e.src].then((function(r){if("string"===typeof r)return r
t({image:e,blobInfo:r.blobInfo})}))}))
var n=new to((function(r,n){l_(t,e,r,n)})).then((function(e){delete r[e.image.src]
return e})).catch((function(t){delete r[e.src]
return t}))
r[e.src]=n
return n}))
return to.all(i)}
return{findAll:n}}
var m_=function(e,t,r,n){var a=e.padd_empty_with_br||t.insert
a&&r[n.name]?n.empty().append(new db("br",1)).shortEnded=true:n.empty().append(new db("#text",3)).value=Mo}
var g_=function(e){return p_(e,"#text")&&e.firstChild.value===Mo}
var p_=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t}
var h_=function(e,t){var r=e.getElementRule(t.name)
return r&&r.paddEmpty}
var y_=function(e,t,r,n){return n.isEmpty(t,r,(function(t){return h_(e,t)}))}
var b_=function(e,t){return e&&(t[e.name]||"br"===e.name)}
var C_=function(e){return e.attr("data-mce-bogus")}
var w_=function(e){return e.attr("src")===Jt.transparentSrc||e.attr("data-mce-placeholder")}
var x_=function(e,t){if(t.images_dataimg_filter){var r=new Image
r.src=e.attr("src")
Ce(e.attributes.map,(function(e,t){r.setAttribute(t,e)}))
return t.images_dataimg_filter(r)}return true}
var S_=function(e,t){var r=t.blob_cache
var n=function(e){var n=e.attr("src")
if(w_(e)||C_(e))return
pb(n).filter((function(){return x_(e,t)})).bind((function(e){var t=e.type,n=e.data
return H.from(r.getByData(n,t)).orThunk((function(){return o_(t,n).map((function(e){var t=r.create(s_(),e,n)
r.add(t)
return t}))}))})).each((function(t){e.attr("src",t.blobUri())}))}
r&&e.addAttributeFilter("src",(function(e){return J(e,n)}))}
var k_=function(e,t){var r=e.schema
t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,n,a){var o
var i=e.length
var u
var f=sr.extend({},r.getBlockElements())
var c=r.getNonEmptyElements()
var s,l,v,d
var m=r.getWhiteSpaceElements()
var g,p
f.body=1
for(o=0;o<i;o++){u=e[o]
s=u.parent
if(f[u.parent.name]&&u===s.lastChild){v=u.prev
while(v){d=v.name
if("span"!==d||"bookmark"!==v.attr("data-mce-type")){"br"===d&&(u=null)
break}v=v.prev}if(u){u.remove()
if(y_(r,c,m,s)){g=r.getElementRule(s.name)
g&&(g.removeEmpty?s.remove():g.paddEmpty&&m_(t,a,f,s))}}}else{l=u
while(s&&s.firstChild===l&&s.lastChild===l){l=s
if(f[s.name])break
s=s.parent}if(l===s&&true!==t.padd_empty_with_br){p=new db("#text",3)
p.value=Mo
u.replace(p)}}}}))
e.addAttributeFilter("href",(function(e){var r=e.length
var n=function(e){var t=e.split(" ").filter((function(e){return e.length>0}))
return t.concat(["noopener"]).sort().join(" ")}
var a=function(e){var t=e?sr.trim(e):""
return/\b(noopener)\b/g.test(t)?t:n(t)}
if(!t.allow_unsafe_link_target)while(r--){var o=e[r]
"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",a(o.attr("rel")))}}))
t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){var t,r,n,a,o=e.length
while(o--){a=e[o]
if("a"===a.name&&a.firstChild&&!a.attr("href")){n=a.parent
t=a.lastChild
do{r=t.prev
n.insert(t,a)
t=r}while(t)}}}))
t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){var t,r,n=e.length
while(n--){t=e[n]
r=t.parent
if("ul"===r.name||"ol"===r.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t)
else{var a=new db("li",1)
a.attr("style","list-style-type: none")
t.wrap(a)}}}))
t.validate&&r.getValidClasses()&&e.addAttributeFilter("class",(function(e){var t,n,a,o,i,u=e.length
var f=r.getValidClasses()
var c,s
while(u--){t=e[u]
n=t.attr("class").split(" ")
i=""
for(a=0;a<n.length;a++){o=n[a]
s=false
c=f["*"]
c&&c[o]&&(s=true)
c=f[t.name]
!s&&c&&c[o]&&(s=true)
if(s){i&&(i+=" ")
i+=o}}i.length||(i=null)
t.attr("class",i)}}))
S_(e,t)}
var N_=sr.makeMap,E_=sr.each,__=sr.explode,A_=sr.extend
var R_=function(e,t){void 0===t&&(t=du())
var r={}
var n=[]
var a={}
var o={}
e=e||{}
e.validate=!("validate"in e)||e.validate
e.root_name=e.root_name||"body"
var i=function(e){var r,n,a,o,i,f,c,s,l
var v,d
var m=N_("tr,td,th,tbody,thead,tfoot,table")
var g=t.getNonEmptyElements()
var p=t.getWhiteSpaceElements()
var h=t.getTextBlockElements()
var y=t.getSpecialElements()
for(r=0;r<e.length;r++){n=e[r]
if(!n.parent||n.fixed)continue
if(h[n.name]&&"li"===n.parent.name){v=n.next
while(v){if(!h[v.name])break
v.name="li"
v.fixed=true
n.parent.insert(v,n.parent)
v=v.next}n.unwrap(n)
continue}o=[n]
for(a=n.parent;a&&!t.isValidChild(a.name,n.name)&&!m[a.name];a=a.parent)o.push(a)
if(a&&o.length>1){o.reverse()
i=f=u(o[0].clone())
for(l=0;l<o.length-1;l++){if(t.isValidChild(f.name,o[l].name)){c=u(o[l].clone())
f.append(c)}else c=f
for(s=o[l].firstChild;s&&s!==o[l+1];){d=s.next
c.append(s)
s=d}f=c}if(y_(t,g,p,i))a.insert(n,o[0],true)
else{a.insert(i,o[0],true)
a.insert(n,i)}a=o[0];(y_(t,g,p,a)||p_(a,"br"))&&a.empty().remove()}else if(n.parent){if("li"===n.name){v=n.prev
if(v&&("ul"===v.name||"ol"===v.name)){v.append(n)
continue}v=n.next
if(v&&("ul"===v.name||"ol"===v.name)){v.insert(n,v.firstChild,true)
continue}n.wrap(u(new db("ul",1)))
continue}t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)?n.wrap(u(new db("div",1))):y[n.name]?n.empty().remove():n.unwrap()}}}
var u=function(e){var t,i,u
i=e.name
if(i in r){u=a[i]
u?u.push(e):a[i]=[e]}t=n.length
while(t--){i=n[t].name
if(i in e.attributes.map){u=o[i]
u?u.push(e):o[i]=[e]}}return e}
var f=function(e,t){E_(__(e),(function(e){var n=r[e]
n||(r[e]=n=[])
n.push(t)}))}
var c=function(){var e=[]
for(var t in r)r.hasOwnProperty(t)&&e.push({name:t,callbacks:r[t]})
return e}
var s=function(e,t){E_(__(e),(function(e){var r
for(r=0;r<n.length;r++)if(n[r].name===e){n[r].callbacks.push(t)
return}n.push({name:e,callbacks:[t]})}))}
var l=function(){return[].concat(n)}
var v=function(u,f){var c,s,l,v,d,m,g
var p=[]
var h
var y
var b=function(e){return false===e?"":true===e?"p":e}
f=f||{}
a={}
o={}
var C=A_(N_("script,style,head,html,body,title,meta,param"),t.getBlockElements())
var w=t.getNonEmptyElements()
var x=t.children
var S=e.validate
var k="forced_root_block"in f?f.forced_root_block:e.forced_root_block
var N=b(k)
var E=t.getWhiteSpaceElements()
var _=/^[ \t\r\n]+/
var A=/[ \t\r\n]+$/
var R=/[ \t\r\n]+/g
var T=/^[ \t\r\n]+$/
h=E.hasOwnProperty(f.context)||E.hasOwnProperty(e.root_name)
var D=function(){var r,n,a=I.firstChild
var o=function(e){if(e){a=e.firstChild
a&&3===a.type&&(a.value=a.value.replace(_,""))
a=e.lastChild
a&&3===a.type&&(a.value=a.value.replace(A,""))}}
if(!t.isValidChild(I.name,N.toLowerCase()))return
while(a){r=a.next
if(3===a.type||1===a.type&&"p"!==a.name&&!C[a.name]&&!a.attr("data-mce-type"))if(n)n.append(a)
else{n=O(N,1)
n.attr(e.forced_root_block_attrs)
I.insert(n,a)
n.append(a)}else{o(n)
n=null}a=r}o(n)}
var O=function(e,t){var n=new db(e,t)
var o
if(e in r){o=a[e]
o?o.push(n):a[e]=[n]}return n}
var B=function(e){var r,n,a,o
var i=t.getBlockElements()
for(r=e.prev;r&&3===r.type;){a=r.value.replace(A,"")
if(a.length>0){r.value=a
return}n=r.next
if(n){if(3===n.type&&n.value.length){r=r.prev
continue}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){r=r.prev
continue}}o=r.prev
r.remove()
r=o}}
var P=function(e){var t
var r={}
for(t in e)"li"!==t&&"p"!==t&&(r[t]=e[t])
return r}
var L=Nb({validate:S,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:P(t.getSelfClosingElements()),cdata:function(e){y.append(O("#cdata",4)).value=e},text:function(e,t){var r
if(!h){e=e.replace(R," ")
b_(y.lastChild,C)&&(e=e.replace(_,""))}if(0!==e.length){r=O("#text",3)
r.raw=!!t
y.append(r).value=e}},comment:function(e){y.append(O("#comment",8)).value=e},pi:function(e,t){y.append(O(e,7)).value=t
B(y)},doctype:function(e){var t=y.append(O("#doctype",10))
t.value=e
B(y)},start:function(e,r,a){var i,u,f,c
var s=S?t.getElementRule(e):{}
if(s){i=O(s.outputName||e,1)
i.attributes=r
i.shortEnded=a
y.append(i)
c=x[y.name]
c&&x[i.name]&&!c[i.name]&&p.push(i)
u=n.length
while(u--){f=n[u].name
if(f in r.map){m=o[f]
m?m.push(i):o[f]=[i]}}C[e]&&B(i)
a||(y=i)
!h&&E[e]&&(h=true)}},end:function(r){var n,a,o,i
var u=S?t.getElementRule(r):{}
if(u){if(C[r]&&!h){n=y.firstChild
if(n&&3===n.type){a=n.value.replace(_,"")
if(a.length>0){n.value=a
n=n.next}else{o=n.next
n.remove()
n=o
while(n&&3===n.type){a=n.value
o=n.next
if(0===a.length||T.test(a)){n.remove()
n=o}n=o}}}n=y.lastChild
if(n&&3===n.type){a=n.value.replace(A,"")
if(a.length>0){n.value=a
n=n.prev}else{o=n.prev
n.remove()
n=o
while(n&&3===n.type){a=n.value
o=n.prev
if(0===a.length||T.test(a)){n.remove()
n=o}n=o}}}}h&&E[r]&&(h=false)
if(u.removeEmpty&&y_(t,w,E,y)){i=y.parent
C[y.name]?y.empty().remove():y.unwrap()
y=i
return}u.paddEmpty&&(g_(y)||y_(t,w,E,y))&&m_(e,f,C,y)
y=y.parent}}},t)
var I=y=new db(f.context||e.root_name,11)
L.parse(u,f.format)
S&&p.length&&(f.context?f.invalid=true:i(p))
N&&("body"===I.name||f.isRootContent)&&D()
if(!f.invalid){for(g in a){if(!a.hasOwnProperty(g))continue
m=r[g]
c=a[g]
v=c.length
while(v--)c[v].parent||c.splice(v,1)
for(s=0,l=m.length;s<l;s++)m[s](c,g,f)}for(s=0,l=n.length;s<l;s++){m=n[s]
if(m.name in o){c=o[m.name]
v=c.length
while(v--)c[v].parent||c.splice(v,1)
for(v=0,d=m.callbacks.length;v<d;v++)m.callbacks[v](c,m.name,f)}}}return I}
var d={schema:t,addAttributeFilter:s,getAttributeFilters:l,addNodeFilter:f,getNodeFilters:c,filterNode:u,parse:v}
k_(d,e)
r_(d,e)
return d}
var T_=function(e,t,r){e.addAttributeFilter("data-mce-tabindex",(function(e,t){var r,n=e.length
while(n--){r=e[n]
r.attr("tabindex",r.attr("data-mce-tabindex"))
r.attr(t,null)}}))
e.addAttributeFilter("src,href,style",(function(e,n){var a,o,i=e.length
var u="data-mce-"+n
var f=t.url_converter
var c=t.url_converter_scope
while(i--){a=e[i]
o=a.attr(u)
if(void 0!==o){a.attr(n,o.length>0?o:null)
a.attr(u,null)}else{o=a.attr(n)
"style"===n?o=r.serializeStyle(r.parseStyle(o),a.name):f&&(o=f.call(c,o,n,a.name))
a.attr(n,o.length>0?o:null)}}}))
e.addAttributeFilter("class",(function(e){var t,r,n=e.length
while(n--){t=e[n]
r=t.attr("class")
if(r){r=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"")
t.attr("class",r.length>0?r:null)}}}))
e.addAttributeFilter("data-mce-type",(function(e,t,r){var n,a=e.length
while(a--){n=e[a]
if("bookmark"===n.attr("data-mce-type")&&!r.cleanup){var o=H.from(n.firstChild).exists((function(e){return!jo(e.value)}))
o?n.unwrap():n.remove()}}}))
e.addNodeFilter("noscript",(function(e){var t,r=e.length
while(r--){t=e[r].firstChild
t&&(t.value=ru.decode(t.value))}}))
e.addNodeFilter("script,style",(function(e,r){var n,a,o,i=e.length
var u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}
while(i--){n=e[i]
a=n.firstChild?n.firstChild.value:""
if("script"===r){o=n.attr("type")
o&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,""))
"xhtml"===t.element_format&&a.length>0&&(n.firstChild.value="// <![CDATA[\n"+u(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(n.firstChild.value="\x3c!--\n"+u(a)+"\n--\x3e")}}))
e.addNodeFilter("#comment",(function(e){var n,a=e.length
while(a--){n=e[a]
if(t.preserve_cdata&&0===n.value.indexOf("[CDATA[")){n.name="#cdata"
n.type=4
n.value=r.decode(n.value.replace(/^\[CDATA\[|\]\]$/g,""))}else if(0===n.value.indexOf("mce:protected ")){n.name="#text"
n.type=3
n.raw=true
n.value=unescape(n.value).substr(14)}}}))
e.addNodeFilter("xml:namespace,input",(function(e,t){var r,n=e.length
while(n--){r=e[n]
7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}}))
e.addAttributeFilter("data-mce-type",(function(t){J(t,(function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())}))}))
e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(e,t){var r=e.length
while(r--)e[r].attr(t,null)}))}
var D_=function(e){var t=function(e){return e&&"br"===e.name}
var r=e.lastChild
if(t(r)){var n=r.prev
if(t(n)){r.remove()
n.remove()}}}
var O_=function(e,t,r){var n,a
var o=e.dom
t=t.cloneNode(true)
var i=document.implementation
if(i.createHTMLDocument){n=i.createHTMLDocument("")
sr.each("BODY"===t.nodeName?t.childNodes:[t],(function(e){n.body.appendChild(n.importNode(e,true))}))
t="BODY"!==t.nodeName?n.body.firstChild:n.body
a=o.doc
o.doc=n}_p(e,He(He({},r),{node:t}))
a&&(o.doc=a)
return t}
var B_=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events}
var P_=function(e,t,r){return B_(e,r)?O_(e,t,r):t}
var L_=function(e,t,r){if(-1===sr.inArray(t,r)){e.addAttributeFilter(r,(function(e,t){var r=e.length
while(r--)e[r].attr(t,null)}))
t.push(r)}}
var I_=function(e,t,r){if(!t.no_events&&e){var n=Ap(e,He(He({},t),{content:r}))
return n.content}return r}
var M_=function(e,t,r){var n=Ho(r.getInner?t.innerHTML:e.getOuterHTML(t))
return r.selection||Po(pr.fromDom(t))?n:sr.trim(n)}
var F_=function(e,t,r){var n=r.selection?He({forced_root_block:false},r):r
var a=e.parse(t,n)
D_(a)
return a}
var U_=function(e,t,r){var n=Ib(e,t)
return n.serialize(r)}
var z_=function(e,t,r,n,a){var o=U_(t,r,n)
return I_(e,a,o)}
var j_=function(e,t){var r=["data-mce-selected"]
var n=t&&t.dom?t.dom:Tc.DOM
var a=t&&t.schema?t.schema:du(e)
e.entity_encoding=e.entity_encoding||"named"
e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs
var o=R_(e,a)
T_(o,e,n)
var i=function(r,i){void 0===i&&(i={})
var u=He({format:"html"},i)
var f=P_(t,r,u)
var c=M_(n,f,u)
var s=F_(o,c,u)
return"tree"===u.format?s:z_(t,e,a,s,u)}
return{schema:a,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:i,addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:D(L_,o,r),getTempAttrs:R(r),getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}}
var H_=function(e,t){var r=j_(e,t)
return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}}
var V_="html"
var q_=function(e,t){void 0===t&&(t={})
var r=t.format?t.format:V_
return DE(e,t,r)}
var $_=function(e,t,r){void 0===r&&(r={})
return OE(e,t,r)}
var W_=Tc.DOM
var K_=function(e){W_.setStyle(e.id,"display",e.orgDisplay)}
var X_=function(e){return H.from(e).each((function(e){return e.destroy()}))}
var Y_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null
e.bodyElement=e.contentDocument=e.contentWindow=null
e.iframeElement=e.targetElm=null
e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)}
var G_=function(e){var t=e.formElement
if(t){if(t._mceOldSubmit){t.submit=t._mceOldSubmit
t._mceOldSubmit=null}W_.unbind(t,"submit reset",e.formEventDelegate)}}
var J_=function(e){if(!e.removed){var t=e._selectionOverrides,r=e.editorUpload
var n=e.getBody()
var a=e.getElement()
n&&e.save({is_removing:true})
e.removed=true
e.unbindAllNativeEvents()
e.hasHiddenInput&&a&&W_.remove(a.nextSibling)
Rp(e)
e.editorManager.remove(e)
!e.inline&&n&&K_(e)
Tp(e)
W_.remove(e.getContainer())
X_(t)
X_(r)
e.destroy()}}
var Q_=function(e,t){var r=e.selection,n=e.dom
if(e.destroyed)return
if(!t&&!e.removed){e.remove()
return}if(!t){e.editorManager.off("beforeunload",e._beforeUnload)
e.theme&&e.theme.destroy&&e.theme.destroy()
X_(r)
X_(n)}G_(e)
Y_(e)
e.destroyed=true}
var Z_=Object.prototype.hasOwnProperty
var eA=function(e,t){var r=h(e)&&h(t)
return r?rA(e,t):t}
var tA=function(e){return function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(0===t.length)throw new Error("Can't merge zero objects")
var n={}
for(var a=0;a<t.length;a++){var o=t[a]
for(var i in o)Z_.call(o,i)&&(n[i]=e(n[i],o[i]))}return n}}
var rA=tA(eA)
var nA=function(e,t){return{sections:R(e),settings:R(t)}}
var aA=Ht().deviceType
var oA=aA.isTouch()
var iA=aA.isPhone()
var uA=aA.isTablet()
var fA=["lists","autolink","autosave"]
var cA={table_grid:false,object_resizing:false,resize:false}
var sA=function(e){var t=y(e)?e.join(" "):e
var r=G(p(t)?t.split(" "):[],ct)
return ee(r,(function(e){return e.length>0}))}
var lA=function(e){return ee(e,D(X,fA))}
var vA=function(e,t){var r=Ne(t,(function(t,r){return X(e,r)}))
return nA(r.t,r.f)}
var dA=function(e,t,r){void 0===r&&(r={})
var n=e.sections()
var a=n.hasOwnProperty(t)?n[t]:{}
return sr.extend({},r,a)}
var mA=function(e,t){return e.sections().hasOwnProperty(t)}
var gA=function(e,t,r){var n=e.sections()
return mA(e,t)&&n[t].theme===r}
var pA=function(e,t){return mA(e,t)?e.sections()[t]:{}}
var hA=function(e,t){return Re(e,"toolbar_mode").orThunk((function(){return Re(e,"toolbar_drawer").map((function(e){return false===e?"wrap":e}))})).getOr(t)}
var yA=function(e,t,r,n,a){var o={id:t,theme:"silver",toolbar_mode:hA(e,"floating"),plugins:"",document_base_url:r,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,inline_styles:true,convert_fonts_to_spans:true,indent:true,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a}
return He(He({},o),n?cA:{})}
var bA=function(e,t){var r={resize:false,toolbar_mode:hA(e,"scrolling"),toolbar_sticky:false}
var n={menubar:false}
return He(He(He({},cA),r),t?n:{})}
var CA=function(e,t){var r=t.external_plugins?t.external_plugins:{}
return e&&e.external_plugins?sr.extend({},e.external_plugins,r):r}
var wA=function(e,t){return[].concat(sA(e)).concat(sA(t))}
var xA=function(e,t,r,n){return e&&gA(t,"mobile","mobile")?lA(n):e&&mA(t,"mobile")?n:r}
var SA=function(e,t,r,n){var a=sA(r.forced_plugins)
var o=sA(n.plugins)
var i=pA(t,"mobile")
var u=i.plugins?sA(i.plugins):o
var f=xA(e,t,o,u)
var c=wA(a,f)
if(Jt.browser.isIE()&&X(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.")
return sr.extend(n,{plugins:c.join(" ")})}
var kA=function(e,t){return e&&mA(t,"mobile")}
var NA=function(e,t,r,n,a){var o=e?{mobile:bA(a.mobile||{},t)}:{}
var i=vA(["mobile"],rA(o,a))
var u=sr.extend(r,n,i.settings(),kA(e,i)?dA(i,"mobile"):{},{validate:true,external_plugins:CA(n,i.settings())})
return SA(e,i,n,u)}
var EA=function(e,t,r,n,a){var o=yA(a,t,r,oA,e)
return NA(iA||uA,iA,o,n,a)}
var _A=function(e,t,r){return H.from(t.settings[r]).filter(e)}
var AA=function(e){var t={}
"string"===typeof e?J(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),(function(e){var r=e.split("=")
r.length>1?t[sr.trim(r[0])]=sr.trim(r[1]):t[sr.trim(r[0])]=sr.trim(r[0])})):t=e
return t}
var RA=function(e){return function(t){return y(t)&&fe(t,e)}}
var TA=function(e,t,r,n){var a=t in e.settings?e.settings[t]:r
return"hash"===n?AA(a):"string"===n?_A(p,e,t).getOr(r):"number"===n?_A(N,e,t).getOr(r):"boolean"===n?_A(C,e,t).getOr(r):"object"===n?_A(h,e,t).getOr(r):"array"===n?_A(y,e,t).getOr(r):"string[]"===n?_A(RA(p),e,t).getOr(r):"function"===n?_A(k,e,t).getOr(r):a}
var DA=function(){var e={}
var t=function(t,r){e[t]=r}
var r=function(t){if(e[t])return e[t]
return{icons:{}}}
var n=function(t){return Te(e,t)}
return{add:t,get:r,has:n}}
var OA=DA()
var BA=function(e,t){var r=t.dom
return r[e]}
var PA=function(e,t){return parseInt(pa(t,e),10)}
var LA=D(BA,"clientWidth")
var IA=D(BA,"clientHeight")
var MA=D(PA,"margin-top")
var FA=D(PA,"margin-left")
var UA=function(e){return e.dom.getBoundingClientRect()}
var zA=function(e,t,r){var n=LA(e)
var a=IA(e)
return t>=0&&r>=0&&t<=n&&r<=a}
var jA=function(e,t,r,n){var a=UA(t)
var o=e?a.left+t.dom.clientLeft+FA(t):0
var i=e?a.top+t.dom.clientTop+MA(t):0
var u=r-o
var f=n-i
return{x:u,y:f}}
var HA=function(e,t,r){var n=pr.fromDom(e.getBody())
var a=e.inline?n:Vr(n)
var o=jA(e.inline,a,t,r)
return zA(a,o.x,o.y)}
var VA=function(e){return H.from(e).map(pr.fromDom)}
var qA=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer()
return VA(t).map(kn).getOr(false)}
var $A=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")}
return{open:e,close:e,reposition:e,getArgs:e}}
var WA=function(e){var t=[]
var r=function(){var t=e.theme
return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():$A()}
var n=function(){return H.from(t[0])}
var a=function(e,t){return e.type===t.type&&e.text===t.text&&!e.progressBar&&!e.timeout&&!t.progressBar&&!t.timeout}
var o=function(){t.length>0&&r().reposition(t)}
var i=function(e){t.push(e)}
var u=function(e){oe(t,(function(t){return t===e})).each((function(e){t.splice(e,1)}))}
var f=function(f,c){void 0===c&&(c=true)
if(e.removed||!qA(e))return
c&&e.fire("BeforeOpenNotification",{notification:f})
return ae(t,(function(e){return a(r().getArgs(e),f)})).getOrThunk((function(){e.editorManager.setActive(e)
var t=r().open(f,(function(){u(t)
o()
n().fold((function(){return e.focus()}),(function(e){return jh(pr.fromDom(e.getEl()))}))}))
i(t)
o()
e.fire("OpenNotification",{notification:He({},t)})
return t}))}
var c=function(){n().each((function(e){r().close(e)
u(e)
o()}))}
var s=function(){return t}
var l=function(e){e.on("SkinLoaded",(function(){var t=Vv(e)
t&&f({text:t,type:"warning",timeout:0},false)}))
e.on("ResizeEditor ResizeWindow NodeChange",(function(){co.requestAnimationFrame(o)}))
e.on("remove",(function(){J(t.slice(),(function(e){r().close(e)}))}))}
l(e)
return{open:f,close:c,getNotifications:s}}
var KA=Zc.PluginManager
var XA=Zc.ThemeManager
function YA(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")}
return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var GA=function(e){var t=[]
var r=function(){var t=e.theme
return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():YA()}
var n=function(e,t){return function(){var r=[]
for(var n=0;n<arguments.length;n++)r[n]=arguments[n]
return t?t.apply(e,r):void 0}}
var a=function(t){e.fire("OpenWindow",{dialog:t})}
var o=function(t){e.fire("CloseWindow",{dialog:t})}
var i=function(e){t.push(e)
a(e)}
var u=function(r){o(r)
t=ee(t,(function(e){return e!==r}))
0===t.length&&e.focus()}
var f=function(){return H.from(t[t.length-1])}
var c=function(t){e.editorManager.setActive(e)
Cy(e)
var r=t()
i(r)
return r}
var s=function(e,t){return c((function(){return r().open(e,t,u)}))}
var l=function(e){return c((function(){return r().openUrl(e,u)}))}
var v=function(e,t,a){var o=r()
o.alert(e,n(a||o,t))}
var d=function(e,t,a){var o=r()
o.confirm(e,n(a||o,t))}
var m=function(){f().each((function(e){r().close(e)
u(e)}))}
e.on("remove",(function(){J(t,(function(e){r().close(e)}))}))
return{open:s,openUrl:l,alert:v,confirm:d,close:m}}
var JA=function(e,t){e.notificationManager.open({type:"error",text:t})}
var QA=function(e,t){e._skinLoaded?JA(e,t):e.on("SkinLoaded",(function(){JA(e,t)}))}
var ZA=function(e,t){QA(e,Qc.translate(["Failed to upload image: {0}",t]))}
var eR=function(e,t,r){Fp(e,t,{message:r})
console.error(r)}
var tR=function(e,t,r){return r?"Failed to load "+e+": "+r+" from url "+t:"Failed to load "+e+" url: "+t}
var rR=function(e,t,r){eR(e,"PluginLoadError",tR("plugin",t,r))}
var nR=function(e,t,r){eR(e,"IconsLoadError",tR("icons",t,r))}
var aR=function(e,t,r){eR(e,"LanguageLoadError",tR("language",t,r))}
var oR=function(e,t,r){var n=Qc.translate(["Failed to initialize plugin: {0}",t])
Fp(e,"PluginLoadError",{message:n})
iR(n,r)
QA(e,n)}
var iR=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
var n=window.console
n&&(n.error?n.error.apply(n,qe([e],t)):n.log.apply(n,qe([e],t)))}
var uR=function(e){return/^[a-z0-9\-]+$/i.test(e)}
var fR=function(e){return sR(e,Lv(e))}
var cR=function(e){return sR(e,Iv(e))}
var sR=function(e,t){var r=e.editorManager.baseURL+"/skins/content"
var n=e.editorManager.suffix
var a="content"+n+".css"
var o=true===e.inline
return G(t,(function(t){return uR(t)&&!o?r+"/"+t+"/"+a:e.documentBaseURI.toAbsolute(t)}))}
var lR=function(e){e.contentCSS=e.contentCSS.concat(fR(e),cR(e))}
var vR=function(){var e=1,t=2
var r={}
var n=function(e,t){return{status:e,resultUri:t}}
var a=function(e){return e in r}
var o=function(e){var t=r[e]
return t?t.resultUri:null}
var i=function(t){return!!a(t)&&r[t].status===e}
var u=function(e){return!!a(e)&&r[e].status===t}
var f=function(t){r[t]=n(e,null)}
var c=function(e,a){r[e]=n(t,a)}
var s=function(e){delete r[e]}
var l=function(){r={}}
return{hasBlobUri:a,getResultUri:o,isPending:i,isUploaded:u,markPending:f,markUploaded:c,removeFailed:s,destroy:l}}
var dR=0
var mR=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)}
var t=(new Date).getTime()
return"s"+t.toString(36)+e()+e()+e()}
var gR=function(e){return e+dR+++mR()}
var pR=function(){var e=[]
var t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}
return t[e.toLowerCase()]||"dat"}
var r=function(e,t,r,a,o){if(p(e)){var i=e
return n({id:i,name:a,filename:o,blob:t,base64:r})}if(h(e))return n(e)
throw new Error("Unknown input type")}
var n=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")
var r=e.id||gR("blobid")
var n=e.name||r
var a=e.blob
return{id:R(r),name:R(n),filename:R(e.filename||n+"."+t(a.type)),blob:R(a),base64:R(e.base64),blobUri:R(e.blobUri||URL.createObjectURL(a)),uri:R(e.uri)}}
var a=function(t){i(t.id())||e.push(t)}
var o=function(t){return ae(e,t).getOrUndefined()}
var i=function(e){return o((function(t){return t.id()===e}))}
var u=function(e){return o((function(t){return t.blobUri()===e}))}
var f=function(e,t){return o((function(r){return r.base64()===e&&r.blob().type===t}))}
var c=function(t){e=ee(e,(function(e){if(e.blobUri()===t){URL.revokeObjectURL(e.blobUri())
return false}return true}))}
var s=function(){J(e,(function(e){URL.revokeObjectURL(e.blobUri())}))
e=[]}
return{create:r,add:a,get:i,getByUri:u,getByData:f,findFirst:o,removeByUri:c,destroy:s}}
var hR=function(e,t){var r={}
var n=function(e,t){if(e)return e.replace(/\/$/,"")+"/"+t.replace(/^\//,"")
return t}
var a=function(e,r,a,o){var i=new XMLHttpRequest
i.open("POST",t.url)
i.withCredentials=t.credentials
i.upload.onprogress=function(e){o(e.loaded/e.total*100)}
i.onerror=function(){a("Image upload failed due to a XHR Transport error. Code: "+i.status)}
i.onload=function(){if(i.status<200||i.status>=300){a("HTTP Error: "+i.status)
return}var e=JSON.parse(i.responseText)
if(!e||"string"!==typeof e.location){a("Invalid JSON: "+i.responseText)
return}r(n(t.basePath,e.location))}
var u=new FormData
u.append("file",e.blob(),e.filename())
i.send(u)}
var o=function(){return new to((function(e){e([])}))}
var i=function(e,t){return{url:t,blobInfo:e,status:true}}
var u=function(e,t,r){return{url:"",blobInfo:e,status:false,error:{message:t,options:r}}}
var f=function(e,t){sr.each(r[e],(function(e){e(t)}))
delete r[e]}
var c=function(t,r,n){e.markPending(t.blobUri())
return new to((function(a){var o,c
try{var s=function(){if(o){o.close()
c=E}}
var l=function(r){s()
e.markUploaded(t.blobUri(),r)
f(t.blobUri(),i(t,r))
a(i(t,r))}
var v=function(r,n){var o=n||{}
s()
e.removeFailed(t.blobUri())
f(t.blobUri(),u(t,r,o))
a(u(t,r,o))}
c=function(e){if(e<0||e>100)return
H.from(o).orThunk((function(){return H.from(n).map(P)})).each((function(t){o=t
t.progressBar.value(e)}))}
r(t,l,v,c)}catch(e){a(u(t,e.message,{}))}}))}
var s=function(e){return e===a}
var l=function(e){var t=e.blobUri()
return new to((function(e){r[t]=r[t]||[]
r[t].push(e)}))}
var v=function(r,n){r=sr.grep(r,(function(t){return!e.isUploaded(t.blobUri())}))
return to.all(sr.map(r,(function(r){return e.isPending(r.blobUri())?l(r):c(r,t.handler,n)})))}
var d=function(e,r){return!t.url&&s(t.handler)?o():v(e,r)}
false===k(t.handler)&&(t.handler=a)
return{upload:d}}
var yR=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:true})}}
var bR=function(e,t){return hR(t,{url:Nv(e),basePath:Ev(e),credentials:_v(e),handler:Av(e)})}
var CR=function(e){var t=vR()
var r=bR(e,t)
return{upload:function(t,n){void 0===n&&(n=true)
return r.upload(t,n?yR(e):void 0)}}}
var wR=function(e){var t=Uc(null)
e.on("change AddUndo",(function(e){t.set(He({},e.level))}))
var r=function(){var r=e.undoManager.data
ge(r).filter((function(e){return!zN(t.get(),e)})).each((function(t){e.setDirty(true)
e.fire("change",{level:t,lastLevel:de(r,r.length-2).getOrNull()})}))}
return{fireIfChanged:r}}
var xR=function(e){var t=pR()
var r,n
var a=vR()
var o=[]
var i=wR(e)
var u=function(t){return function(r){if(e.selection)return t(r)
return[]}}
var f=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()}
var c=function(e,t,r){var n=0
do{n=e.indexOf(t,n)
if(-1!==n){e=e.substring(0,n)+r+e.substr(n+t.length)
n+=r.length-t.length+1}}while(-1!==n)
return e}
var s=function(e,t,r){var n='src="'+r+'"'+(r===Jt.transparentSrc?' data-mce-placeholder="1"':"")
e=c(e,'src="'+t+'"',n)
e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')
return e}
var l=function(t,r){J(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=G(e.fragments,(function(e){return s(e,t,r)})):e.content=s(e.content,t,r)}))}
var v=function(t,r){var n=e.convertURL(r,"src")
l(t.src,r)
e.$(t).attr({src:wv(e)?f(r):r,"data-mce-src":n})}
var d=function(n){r||(r=bR(e,a))
return h().then(u((function(a){var o=G(a,(function(e){return e.blobInfo}))
return r.upload(o,yR(e)).then(u((function(r){var o=[]
var u=G(r,(function(r,n){var i=a[n].blobInfo
var u=a[n].image
if(r.status&&xv(e)){t.removeByUri(u.src)
v(u,r.url)}else if(r.error){if(r.error.options.remove){l(u.getAttribute("src"),Jt.transparentSrc)
o.push(u)}ZA(e,r.error.message)}return{element:u,status:r.status,uploadUri:r.url,blobInfo:i}}))
u.length>0&&i.fireIfChanged()
o.length>0&&(iE(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact((function(){J(o,(function(r){e.dom.remove(r)
t.removeByUri(r.src)}))})))
n&&n(u)
return u})))})))}
var m=function(t){if(Cv(e))return d(t)}
var g=function(t){if(false===fe(o,(function(e){return e(t)})))return false
if(0===t.getAttribute("src").indexOf("data:")){var r=bv(e)
return r(t)}return true}
var p=function(e){o.push(e)}
var h=function(){n||(n=d_(a,t))
return n.findAll(e.getBody(),g).then(u((function(t){t=ee(t,(function(t){if("string"===typeof t){QA(e,t)
return false}return true}))
J(t,(function(e){l(e.image.src,e.blobInfo.blobUri())
e.image.src=e.blobInfo.blobUri()
e.image.removeAttribute("data-mce-src")}))
return t})))}
var y=function(){t.destroy()
a.destroy()
n=r=null}
var b=function(r){return r.replace(/src="(blob:[^"]+)"/g,(function(r,n){var o=a.getResultUri(n)
if(o)return'src="'+o+'"'
var i=t.getByUri(n)
i||(i=re(e.editorManager.get(),(function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)}),null))
if(i){var u=i.blob()
return'src="data:'+u.type+";base64,"+i.base64()+'"'}return r}))}
e.on("SetContent",(function(){Cv(e)?m():h()}))
e.on("RawSaveContent",(function(e){e.content=b(e.content)}))
e.on("GetContent",(function(e){if(e.source_view||"raw"===e.format||"tree"===e.format)return
e.content=b(e.content)}))
e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(e){J(e,(function(e){var r=e.attr("src")
if(t.getByUri(r))return
var n=a.getResultUri(r)
n&&e.attr("src",n)}))}))}))
return{blobCache:t,addFilter:p,uploadImages:d,uploadImagesAuto:m,scanForImages:h,destroy:y}}
var SR=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:false,classes:"align-left",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:false,preview:false,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:false,classes:"align-center",ceFalseOverride:true,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:false},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:false,classes:"align-right",ceFalseOverride:true,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:false,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:false,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:false,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:"span",toggle:false,styles:{fontFamily:"%value"},clear_child_styles:true},fontsize:{inline:"span",toggle:false,styles:{fontSize:"%value"},clear_child_styles:true},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:true,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(e,t,r){return Un(e)&&e.hasAttribute("href")},onformat:function(t,r,n){sr.each(n,(function(r,n){e.setAttrib(t,n,r)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]}
sr.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),(function(e){t[e]={block:e,remove:"all"}}))
return t}
var kR=function(e){var t={}
var r=function(e){return e?t[e]:t}
var n=function(e){return Te(t,e)}
var a=function(e,r){if(e)if("string"!==typeof e)sr.each(e,(function(e,t){a(t,e)}))
else{y(r)||(r=[r])
sr.each(r,(function(e){"undefined"===typeof e.deep&&(e.deep=!e.selector)
"undefined"===typeof e.split&&(e.split=!e.selector||e.inline)
"undefined"===typeof e.remove&&e.selector&&!e.inline&&(e.remove="none")
if(e.selector&&e.inline){e.mixed=true
e.block_expand=true}"string"===typeof e.classes&&(e.classes=e.classes.split(/\s+/))}))
t[e]=r}}
var o=function(e){e&&t[e]&&delete t[e]
return t}
a(SR(e.dom))
a(Kv(e))
return{get:r,has:n,register:a,unregister:o}}
var NR=sr.each
var ER=Tc.DOM
var _R=function(e,t){var r,n,a
var o=t&&t.schema||du({})
var i=function(e,t){t.classes.length&&ER.addClass(e,t.classes.join(" "))
ER.setAttribs(e,t.attrs)}
var u=function(e){n="string"===typeof e?{name:e,classes:[],attrs:{}}:e
var t=ER.create(n.name)
i(t,n)
return t}
var f=function(e,t){var r="string"!==typeof e?e.nodeName.toLowerCase():e
var n=o.getElementRule(r)
var a=n&&n.parentsRequired
return!(!a||!a.length)&&(t&&-1!==sr.inArray(a,t)?t:a[0])}
var c=function(e,t,r){var n,a
var o=t.length>0&&t[0]
var i=o&&o.name
var s=f(e,i)
if(s)if(i===s){a=t[0]
t=t.slice(1)}else a=s
else if(o){a=t[0]
t=t.slice(1)}else if(!r)return e
if(a){n=u(a)
n.appendChild(e)}if(r){if(!n){n=ER.create("div")
n.appendChild(e)}sr.each(r,(function(t){var r=u(t)
n.insertBefore(r,e)}))}return c(n,t,a&&a.siblings)}
if(e&&e.length){n=e[0]
r=u(n)
a=ER.create("div")
a.appendChild(c(r,e.slice(1),n.siblings))
return a}return""}
var AR=function(e){var t
var r={classes:[],attrs:{}}
e=r.selector=sr.trim(e)
"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(e,t,n,a,o){switch(t){case"#":r.attrs.id=n
break
case".":r.classes.push(n)
break
case":":-1!==sr.inArray("checked disabled enabled read-only required".split(" "),n)&&(r.attrs[n]=n)}if("["===a){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/)
i&&(r.attrs[i[1]]=i[2])}return""})))
r.name=t||"div"
return r}
var RR=function(e){if(!e||"string"!==typeof e)return[]
e=e.split(/\s*,\s*/)[0]
e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1")
return sr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(e){var t=sr.map(e.split(/(?:~\+|~|\+)/),AR)
var r=t.pop()
t.length&&(r.siblings=t)
return r})).reverse()}
var TR=function(e,t){var r,n
var a,o=""
var i=Xv(e)
if(""===i)return""
var u=function(e){return e.replace(/%(\w+)/g,"")}
if("string"===typeof t){t=e.formatter.get(t)
if(!t)return
t=t[0]}if("preview"in t){var f=Re(t,"preview")
if(f.is(false))return""
i=f.getOr(i)}r=t.block||t.inline||"span"
var c=RR(t.selector)
if(c.length){c[0].name||(c[0].name=r)
r=t.selector
n=_R(c,e)}else n=_R([r],e)
var s=ER.select(r,n)[0]||n.firstChild
NR(t.styles,(function(e,t){var r=u(e)
r&&ER.setStyle(s,t,r)}))
NR(t.attributes,(function(e,t){var r=u(e)
r&&ER.setAttrib(s,t,r)}))
NR(t.classes,(function(e){var t=u(e)
ER.hasClass(s,t)||ER.addClass(s,t)}))
e.fire("PreviewFormats")
ER.setStyles(n,{position:"absolute",left:-65535})
e.getBody().appendChild(n)
a=ER.getStyle(e.getBody(),"fontSize",true)
a=/px$/.test(a)?parseInt(a,10):0
NR(i.split(" "),(function(t){var r=ER.getStyle(s,t,true)
if("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(r)){r=ER.getStyle(e.getBody(),t,true)
if("#ffffff"===ER.toHex(r).toLowerCase())return}if("color"===t&&"#000000"===ER.toHex(r).toLowerCase())return
if("font-size"===t&&/em|%$/.test(r)){if(0===a)return
var n=parseFloat(r)/(/%$/.test(r)?100:1)
r=n*a+"px"}"border"===t&&r&&(o+="padding:0 2px;")
o+=t+":"+r+";"}))
e.fire("AfterPreviewFormats")
ER.remove(n)
return o}
var DR=function(e){e.addShortcut("meta+b","","Bold")
e.addShortcut("meta+i","","Italic")
e.addShortcut("meta+u","","Underline")
for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",false,"h"+t])
e.addShortcut("access+7","",["FormatBlock",false,"p"])
e.addShortcut("access+8","",["FormatBlock",false,"div"])
e.addShortcut("access+9","",["FormatBlock",false,"address"])}
var OR=function(e){var t=kR(e)
var r=Uc(null)
DR(e)
PS(e)
return{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,r,n){_E(e,t,r,n)},remove:function(t,r,n,a){AE(e,t,r,n,a)},toggle:function(t,r,n){RE(e,t,r,n)},match:function(t,r,n){return xE(e,t,r,n)},closest:function(t){return EE(e,t)},matchAll:function(t,r){return SE(e,t,r)},matchNode:function(t,r,n,a){return kE(e,t,r,n,a)},canApply:function(t){return NE(e,t)},formatChanged:function(t,n,a){return TE(e,r,t,n,a)},getCssText:D(TR,e)}}
var BR=function(e,t,r){var n=Uc(false)
var a=function(e){HN(t,false,r)
t.add({},e)}
e.on("init",(function(){t.add()}))
e.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase()
if("undo"!==n&&"redo"!==n&&"mcerepaint"!==n){VN(t,r)
t.beforeChange()}}))
e.on("ExecCommand",(function(e){var t=e.command.toLowerCase()
"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&a(e)}))
e.on("ObjectResizeStart cut",(function(){t.beforeChange()}))
e.on("SaveContent ObjectResized blur",a)
e.on("dragend",a)
e.on("keyup",(function(r){var o=r.keyCode
if(r.isDefaultPrevented())return
if(o>=33&&o<=36||o>=37&&o<=40||45===o||r.ctrlKey){a()
e.nodeChanged()}46!==o&&8!==o||e.nodeChanged()
if(n.get()&&t.typing&&false===zN(PN(e),t.data[0])){if(false===e.isDirty()){e.setDirty(true)
e.fire("change",{level:t.data[0],lastLevel:null})}e.fire("TypingUndo")
n.set(false)
e.nodeChanged()}}))
e.on("keydown",(function(e){var o=e.keyCode
if(e.isDefaultPrevented())return
if(o>=33&&o<=36||o>=37&&o<=40||45===o){t.typing&&a(e)
return}var i=e.ctrlKey&&!e.altKey||e.metaKey
if((o<16||o>20)&&224!==o&&91!==o&&!t.typing&&!i){t.beforeChange()
HN(t,true,r)
t.add({},e)
n.set(true)}}))
e.on("mousedown",(function(e){t.typing&&a(e)}))
var o=function(e){return"insertReplacementText"===e.inputType}
var i=function(e){return"insertText"===e.inputType&&null===e.data}
var u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType}
e.on("input",(function(e){e.inputType&&(o(e)||i(e)||u(e))&&a(e)}))
e.on("AddUndo Undo Redo ClearUndos",(function(t){t.isDefaultPrevented()||e.nodeChanged()}))}
var PR=function(e){e.addShortcut("meta+z","","Undo")
e.addShortcut("meta+y,meta+shift+z","","Redo")}
var LR=function(e){var t=Uc(H.none())
var r=Uc(0)
var n=Uc(0)
var a={data:[],typing:false,beforeChange:function(){lE(e,r,t)},add:function(o,i){return vE(e,a,n,r,t,o,i)},undo:function(){return dE(e,a,r,n)},redo:function(){return mE(e,n,a.data)},clear:function(){gE(e,a,n)},reset:function(){pE(e,a)},hasUndo:function(){return hE(e,a,n)},hasRedo:function(){return yE(e,a,n)},transact:function(t){return bE(e,a,r,t)},ignore:function(t){CE(e,r,t)},extra:function(t,r){wE(e,a,n,t,r)}}
iE(e)||BR(e,a,r)
PR(e)
return a}
var IR=[9,27,Up.HOME,Up.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Up.DOWN,Up.UP,Up.LEFT,Up.RIGHT].concat(Jt.browser.isFirefox()?[224]:[])
var MR="data-mce-placeholder"
var FR=function(e){return"keydown"===e.type||"keyup"===e.type}
var UR=function(e){var t=e.keyCode
return t===Up.BACKSPACE||t===Up.DELETE}
var zR=function(e){if(FR(e)){var t=e.keyCode
return!UR(e)&&(Up.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||X(IR,t))}return false}
var jR=function(e){return FR(e)&&!(UR(e)||"keyup"===e.type&&229===e.keyCode)}
var HR=function(e,t,r){if(Ti(pr.fromDom(t),false)){var n=""===r
var a=t.firstElementChild
return!a||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(n?!e.isBlock(a):r===a.nodeName.toLowerCase())}return false}
var VR=function(e){var t=e.dom
var r=lv(e)
var n=jv(e)
var a=function(o,i){if(zR(o))return
var u=e.getBody()
var f=!jR(o)&&HR(t,u,r)
var c=""!==t.getAttrib(u,MR)
if(c!==f||i){t.setAttrib(u,MR,f?n:null)
t.setAttrib(u,"aria-placeholder",f?n:null)
Mp(e,f)
e.on(f?"keydown":"keyup",a)
e.off(f?"keyup":"keydown",a)}}
n&&e.on("init",(function(t){a(t,true)
e.on("change SetContent ExecCommand",a)
e.on("paste",(function(t){return co.setEditorTimeout(e,(function(){return a(t)}))}))}))}
var qR=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/
var $R=function(e){return qR.test(e)}
var WR=function(e,t){return Nr(pr.fromDom(t),Fv(e))}
var KR=function(e){return"rtl"===Tc.DOM.getStyle(e,"direction",true)||$R(e.textContent)}
var XR=function(e,t,r){return ee(Tc.DOM.getParents(r.container(),"*",t),e)}
var YR=function(e,t,r){var n=XR(e,t,r)
return H.from(n[n.length-1])}
var GR=function(e,t,r){var n=Yd(t,e)
var a=Yd(r,e)
return n&&n===a}
var JR=function(e){return Go(e)||Jo(e)}
var QR=function(e,t){if(!t)return t
var r=t.container(),n=t.offset()
return e?Wo(r)?Yn(r.nextSibling)?Cl(r.nextSibling,0):Cl.after(r):Go(t)?Cl(r,n+1):t:Wo(r)?Yn(r.previousSibling)?Cl(r.previousSibling,r.previousSibling.data.length):Cl.before(r):Jo(t)?Cl(r,n-1):t}
var ZR=D(QR,true)
var eT=D(QR,false)
var tT=function(e){return function(t){return Rr(e,pr.fromDom(t.dom.parentNode))}}
var rT=function(e,t){return Or(e,t)?Xa(t,(function(e){return Ro(e)||Do(e)}),tT(e)):H.none()}
var nT=function(e){var t=e.getBody()
var r=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t
e.selection.setCursorLocation(r,0)}
var aT=function(e){if(e.dom.isEmpty(e.getBody())){e.setContent("")
nT(e)}}
var oT=function(e,t,r){return Ms(Mm(r),Fm(r),(function(n,a){var o=QR(true,n)
var i=QR(false,a)
var u=QR(false,t)
return e?Lm(r,u).exists((function(e){return e.isEqual(i)&&t.isEqual(o)})):Im(r,u).exists((function(e){return e.isEqual(o)&&t.isEqual(i)}))})).getOr(true)}
var iT=function(e,t){return{block:e,position:t}}
var uT=function(e,t){return{from:e,to:t}}
var fT=function(e,t){var r=pr.fromDom(e)
var n=pr.fromDom(t.container())
return rT(r,n).map((function(e){return iT(e,t)}))}
var cT=function(e){return false===Rr(e.from.block,e.to.block)}
var sT=function(e){return $r(e.from.block).bind((function(t){return $r(e.to.block).filter((function(e){return Rr(t,e)}))})).isSome()}
var lT=function(e){return false===ra(e.from.block.dom)&&false===ra(e.to.block.dom)}
var vT=function(e,t,r){return Zn(r.position.getNode())&&false===Ti(r.block)?Pm(false,r.block.dom).bind((function(n){return n.isEqual(r.position)?Dm(t,e,n).bind((function(t){return fT(e,t)})):H.some(r)})).getOr(r):r}
var dT=function(e,t,r){var n=fT(e,Cl.fromRangeStart(r))
var a=n.bind((function(r){return Dm(t,e,r.position).bind((function(r){return fT(e,r).map((function(r){return vT(e,t,r)}))}))}))
return Ms(n,a,uT).filter((function(e){return cT(e)&&sT(e)&&lT(e)}))}
var mT=function(e,t,r){return r.collapsed?dT(e,t,r):H.none()}
var gT=function(e){var t=Qr(e)
return oe(t,No).fold((function(){return t}),(function(e){return t.slice(0,e)}))}
var pT=function(e){var t=gT(e)
J(t,xn)
return t}
var hT=function(e,t){var r=dC(t,e)
return ae(r.reverse(),(function(e){return Ti(e)})).each(xn)}
var yT=function(e){return 0===ee(Gr(e),(function(e){return!Ti(e)})).length}
var bT=function(e,t,r,n){if(Ti(r)){fC(r)
return Mm(r.dom)}yT(n)&&Ti(t)&&mn(n,pr.fromTag("br"))
var a=Im(r.dom,Cl.before(n.dom))
J(pT(t),(function(e){mn(n,e)}))
hT(e,t)
return a}
var CT=function(e,t,r){if(Ti(r)){xn(r)
Ti(t)&&fC(t)
return Mm(t.dom)}var n=Fm(r.dom)
J(pT(t),(function(e){hn(r,e)}))
hT(e,t)
return n}
var wT=function(e,t){var r=dC(t,e)
return H.from(r[r.length-1])}
var xT=function(e,t){return Or(t,e)?wT(t,e):H.none()}
var ST=function(e,t){Pm(e,t.dom).map((function(e){return e.getNode()})).map(pr.fromDom).filter(Ao).each(xn)}
var kT=function(e,t,r){ST(true,t)
ST(false,r)
return xT(t,r).fold(D(CT,e,t,r),D(bT,e,t,r))}
var NT=function(e,t,r,n){return t?kT(e,n,r):kT(e,r,n)}
var ET=function(e,t){var r=pr.fromDom(e.getBody())
var n=mT(r.dom,t,e.selection.getRng()).bind((function(e){return NT(r,t,e.from.block,e.to.block)}))
n.each((function(t){e.selection.setRng(t.toRange())}))
return n.isSome()}
var _T=function(e,t){var r=t.getRng()
return Ms(rT(e,pr.fromDom(r.startContainer)),rT(e,pr.fromDom(r.endContainer)),(function(n,a){if(false===Rr(n,a)){r.deleteContents()
NT(e,true,n,a).each((function(e){t.setRng(e.toRange())}))
return true}return false})).getOr(false)}
var AT=function(e,t){var r=pr.fromDom(t)
var n=D(Rr,e)
return Ka(r,Bo,n).isSome()}
var RT=function(e,t){return AT(e,t.startContainer)||AT(e,t.endContainer)}
var TT=function(e,t){var r=Im(e.dom,Cl.fromRangeStart(t)).isNone()
var n=Lm(e.dom,Cl.fromRangeEnd(t)).isNone()
return!RT(e,t)&&r&&n}
var DT=function(e){e.setContent("")
e.selection.setCursorLocation()
return true}
var OT=function(e){var t=pr.fromDom(e.getBody())
var r=e.selection.getRng()
return TT(t,r)?DT(e):_T(t,e.selection)}
var BT=function(e,t){return!e.selection.isCollapsed()&&OT(e)}
var PT=ta
var LT=ra
var IT=function(e,t,r,n,a){return H.from(t._selectionOverrides.showCaret(e,r,n,a))}
var MT=function(e){var t=e.ownerDocument.createRange()
t.selectNode(e)
return t}
var FT=function(e,t){var r=e.fire("BeforeObjectSelected",{target:t})
if(r.isDefaultPrevented())return H.none()
return H.some(MT(t))}
var UT=function(e,t,r){var n=nm(1,e.getBody(),t)
var a=Cl.fromRangeStart(n)
var o=a.getNode()
if(Id(o))return IT(1,e,o,!a.isAtEnd(),false)
var i=a.getNode(true)
if(Id(i))return IT(1,e,i,false,false)
var u=e.dom.getParent(a.getNode(),(function(e){return LT(e)||PT(e)}))
if(Id(u))return IT(1,e,u,false,r)
return H.none()}
var zT=function(e,t,r){return t.collapsed?UT(e,t,r).getOr(t):t}
var jT=function(e){return aC(e)||eC(e)}
var HT=function(e){return oC(e)||tC(e)}
var VT=function(e,t){Yn(t)&&0===t.data.length&&e.remove(t)}
var qT=function(e,t,r,n,a,o){IT(n,e,o.getNode(!a),a,true).each((function(r){if(t.collapsed){var n=t.cloneRange()
a?n.setEnd(r.startContainer,r.startOffset):n.setStart(r.endContainer,r.endOffset)
n.deleteContents()}else t.deleteContents()
e.selection.setRng(r)}))
VT(e.dom,r)
return true}
var $T=function(e,t){var r=e.selection.getRng()
if(!Yn(r.commonAncestorContainer))return false
var n=t?sm.Forwards:sm.Backwards
var a=Sm(e.getBody())
var o=D(fm,t?a.next:a.prev)
var i=t?jT:HT
var u=om(n,e.getBody(),r)
var f=QR(t,o(u))
if(!f||!cm(u,f))return false
if(i(f))return qT(e,r,u.getNode(),n,t,f)
var c=o(f)
if(c&&i(c)&&cm(f,c))return qT(e,r,u.getNode(),n,t,c)
return false}
var WT=function(e,t){return $T(e,t)}
var KT=function(e){return Bo(pr.fromDom(e))||Do(pr.fromDom(e))}
var XT=qa.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}])
var YT=function(e,t){var r=t.getNode(false===e)
var n=e?"after":"before"
return Un(r)&&r.getAttribute("data-mce-caret")===n}
var GT=function(e,t,r,n){var a=function(t){return _o(pr.fromDom(t))&&!Gd(r,n,e)}
return am(!t,r).fold((function(){return am(t,n).fold(I,a)}),a)}
var JT=function(e,t,r,n){var a=n.getNode(false===t)
return rT(pr.fromDom(e),pr.fromDom(r.getNode())).map((function(e){return Ti(e)?XT.remove(e.dom):XT.moveToElement(a)})).orThunk((function(){return H.some(XT.moveToElement(a))}))}
var QT=function(e,t,r){return Dm(t,e,r).bind((function(n){return KT(n.getNode())||GT(e,t,r,n)?H.none():t&&ra(n.getNode())||false===t&&ra(n.getNode(true))?JT(e,t,r,n):t&&oC(r)||false===t&&aC(r)?H.some(XT.moveToPosition(n)):H.none()}))}
var ZT=function(e,t){return e&&ra(t.nextSibling)?H.some(XT.moveToElement(t.nextSibling)):false===e&&ra(t.previousSibling)?H.some(XT.moveToElement(t.previousSibling)):H.none()}
var eD=function(e,t,r){return r.fold((function(e){return H.some(XT.remove(e))}),(function(e){return H.some(XT.moveToElement(e))}),(function(r){return Gd(t,r,e)?H.none():H.some(XT.moveToPosition(r))}))}
var tD=function(e,t,r){return YT(t,r)?ZT(t,r.getNode(false===t)).fold((function(){return QT(e,t,r)}),H.some):QT(e,t,r).bind((function(t){return eD(e,r,t)}))}
var rD=function(e,t,r){var n=nm(t?1:-1,e,r)
var a=Cl.fromRangeStart(n)
var o=pr.fromDom(e)
return false===t&&oC(a)?H.some(XT.remove(a.getNode(true))):t&&aC(a)?H.some(XT.remove(a.getNode())):false===t&&aC(a)&&NC(o,a)?EC(o,a).map((function(e){return XT.remove(e.getNode())})):t&&oC(a)&&kC(o,a)?_C(o,a).map((function(e){return XT.remove(e.getNode())})):tD(e,t,a)}
var nD=function(e,t){return function(r){e._selectionOverrides.hideFakeCaret()
bw(e,t,pr.fromDom(r))
return true}}
var aD=function(e,t){return function(r){var n=t?Cl.before(r):Cl.after(r)
e.selection.setRng(n.toRange())
return true}}
var oD=function(e){return function(t){e.selection.setRng(t.toRange())
return true}}
var iD=function(e,t){return H.from(Np(e.getBody(),t))}
var uD=function(e,t){var r=e.selection.getNode()
return iD(e,r).filter(ra).fold((function(){return rD(e.getBody(),t,e.selection.getRng()).exists((function(r){return r.fold(nD(e,t),aD(e,t),oD(e))}))}),M)}
var fD=function(e){J(ms(e,".mce-offscreen-selection"),xn)}
var cD=function(e,t){var r=e.selection.getNode()
if(ra(r)){var n=iD(e,r.parentNode).filter(ra)
return n.fold((function(){fD(pr.fromDom(e.getBody()))
bw(e,t,pr.fromDom(e.selection.getNode()))
aT(e)
return true}),M)}return false}
var sD=function(e){var t=e.dom,r=e.selection
var n=Np(e.getBody(),r.getNode())
if(ta(n)&&t.isBlock(n)&&t.isEmpty(n)){var a=t.create("br",{"data-mce-bogus":"1"})
t.setHTML(n,"")
n.appendChild(a)
r.setRng(Cl.before(a).toRange())}return true}
var lD=function(e,t){return e.selection.isCollapsed()?uD(e,t):cD(e,t)}
var vD=function(e,t){var r=Cl.fromRangeStart(e.selection.getRng())
return Dm(t,e.getBody(),r).filter((function(e){return t?Qb(e):Zb(e)})).bind((function(e){return H.from(Jd(t?0:-1,e))})).exists((function(t){e.selection.select(t)
return true}))}
var dD=function(e,t){return!!e.selection.isCollapsed()&&vD(e,t)}
var mD=Yn
var gD=function(e){return mD(e)&&e.data[0]===zo}
var pD=function(e){return mD(e)&&e.data[e.data.length-1]===zo}
var hD=function(e){return e.ownerDocument.createTextNode(zo)}
var yD=function(e){if(mD(e.previousSibling)){if(pD(e.previousSibling))return e.previousSibling
e.previousSibling.appendData(zo)
return e.previousSibling}if(mD(e)){if(gD(e))return e
e.insertData(0,zo)
return e}var t=hD(e)
e.parentNode.insertBefore(t,e)
return t}
var bD=function(e){if(mD(e.nextSibling)){if(gD(e.nextSibling))return e.nextSibling
e.nextSibling.insertData(0,zo)
return e.nextSibling}if(mD(e)){if(pD(e))return e
e.appendData(zo)
return e}var t=hD(e)
e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)
return t}
var CD=function(e,t){return e?yD(t):bD(t)}
var wD=D(CD,true)
var xD=D(CD,false)
var SD=function(e,t){return Yn(e.container())?CD(t,e.container()):CD(t,e.getNode())}
var kD=function(e,t){var r=t.get()
return r&&e.container()===r&&Wo(r)}
var ND=function(e,t){return t.fold((function(t){Ed(e.get())
var r=wD(t)
e.set(r)
return H.some(Cl(r,r.length-1))}),(function(t){return Mm(t).map((function(t){if(kD(t,e))return Cl(e.get(),1)
Ed(e.get())
var r=SD(t,true)
e.set(r)
return Cl(r,1)}))}),(function(t){return Fm(t).map((function(t){if(kD(t,e))return Cl(e.get(),e.get().length-1)
Ed(e.get())
var r=SD(t,false)
e.set(r)
return Cl(r,r.length-1)}))}),(function(t){Ed(e.get())
var r=xD(t)
e.set(r)
return H.some(Cl(r,1))}))}
var ED=function(e,t){for(var r=0;r<e.length;r++){var n=e[r].apply(null,t)
if(n.isSome())return n}return H.none()}
var _D=qa.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}])
var AD=function(e,t){var r=Yd(t,e)
return r||e}
var RD=function(e,t,r){var n=ZR(r)
var a=AD(t,n.container())
return YR(e,a,n).fold((function(){return Lm(a,n).bind(D(YR,e,a)).map((function(e){return _D.before(e)}))}),H.none)}
var TD=function(e,t){return null===jm(e,t)}
var DD=function(e,t,r){return YR(e,t,r).filter(D(TD,t))}
var OD=function(e,t,r){var n=eT(r)
return DD(e,t,n).bind((function(e){var t=Im(e,n)
return t.isNone()?H.some(_D.start(e)):H.none()}))}
var BD=function(e,t,r){var n=ZR(r)
return DD(e,t,n).bind((function(e){var t=Lm(e,n)
return t.isNone()?H.some(_D.end(e)):H.none()}))}
var PD=function(e,t,r){var n=eT(r)
var a=AD(t,n.container())
return YR(e,a,n).fold((function(){return Im(a,n).bind(D(YR,e,a)).map((function(e){return _D.after(e)}))}),H.none)}
var LD=function(e){return false===KR(MD(e))}
var ID=function(e,t,r){var n=ED([RD,OD,BD,PD],[e,t,r])
return n.filter(LD)}
var MD=function(e){return e.fold(T,T,T,T)}
var FD=function(e){return e.fold(R("before"),R("start"),R("end"),R("after"))}
var UD=function(e){return e.fold(_D.before,_D.before,_D.after,_D.after)}
var zD=function(e){return e.fold(_D.start,_D.start,_D.end,_D.end)}
var jD=function(e,t){return FD(e)===FD(t)&&MD(e)===MD(t)}
var HD=function(e,t,r,n,a,o){return Ms(YR(t,r,n),YR(t,r,a),(function(t,n){return t!==n&&GR(r,t,n)?_D.after(e?t:n):o})).getOr(o)}
var VD=function(e,t){return e.fold(M,(function(e){return!jD(e,t)}))}
var qD=function(e,t,r,n,a){var o=QR(e,a)
var i=Dm(e,r,o).map(D(QR,e))
var u=i.fold((function(){return n.map(UD)}),(function(a){return ID(t,r,a).map(D(HD,e,t,r,o,a)).filter(D(VD,n))}))
return u.filter(LD)}
var $D=function(e,t){return e?t.fold(_(H.some,_D.start),H.none,_(H.some,_D.after),H.none):t.fold(H.none,_(H.some,_D.before),H.none,_(H.some,_D.end))}
var WD=function(e,t,r,n){var a=QR(e,n)
var o=ID(t,r,a)
return ID(t,r,a).bind(D($D,e)).orThunk((function(){return qD(e,t,r,o,n)}))}
D(WD,false)
D(WD,true)
var KD=function(e){return k(e.selection.getSel().modify)}
var XD=function(e,t,r){var n=e?1:-1
t.setRng(Cl(r.container(),r.offset()+n).toRange())
t.getSel().modify("move",e?"forward":"backward","word")
return true}
var YD=function(e,t){var r=t.selection.getRng()
var n=e?Cl.fromRangeEnd(r):Cl.fromRangeStart(r)
return!!KD(t)&&(e&&Go(n)?XD(true,t.selection,n):!(e||!Jo(n))&&XD(false,t.selection,n))}
var GD;(function(e){e[e["Br"]=0]="Br"
e[e["Block"]=1]="Block"
e[e["Wrap"]=2]="Wrap"
e[e["Eol"]=3]="Eol"})(GD||(GD={}))
var JD=function(e,t){return e===sm.Backwards?ce(t):t}
var QD=function(e,t,r){return e===sm.Forwards?t.next(r):t.prev(r)}
var ZD=function(e,t,r,n){return Zn(n.getNode(t===sm.Forwards))?GD.Br:false===Gd(r,n)?GD.Block:GD.Wrap}
var eO=function(e,t,r,n){var a=Sm(r)
var o,i=n
var u=[]
while(i){o=QD(t,a,i)
if(!o)break
if(Zn(o.getNode(false)))return t===sm.Forwards?{positions:JD(t,u).concat([o]),breakType:GD.Br,breakAt:H.some(o)}:{positions:JD(t,u),breakType:GD.Br,breakAt:H.some(o)}
if(!o.isVisible()){i=o
continue}if(e(i,o)){var f=ZD(r,t,i,o)
return{positions:JD(t,u),breakType:f,breakAt:H.some(o)}}u.push(o)
i=o}return{positions:JD(t,u),breakType:GD.Eol,breakAt:H.none()}}
var tO=function(e,t,r,n){return t(r,n).breakAt.map((function(n){var a=t(r,n).positions
return e===sm.Backwards?a.concat(n):[n].concat(a)})).getOr([])}
var rO=function(e,t){return re(e,(function(e,r){return e.fold((function(){return H.some(r)}),(function(n){return Ms(me(n.getClientRects()),me(r.getClientRects()),(function(e,a){var o=Math.abs(t-e.left)
var i=Math.abs(t-a.left)
return i<=o?r:n})).or(e)}))}),H.none())}
var nO=function(e,t){return me(t.getClientRects()).bind((function(t){return rO(e,t.left)}))}
var aO=D(eO,Cl.isAbove,-1)
var oO=D(eO,Cl.isBelow,1)
var iO=function(e,t){return aO(e,t).breakAt.isNone()}
var uO=function(e,t){return oO(e,t).breakAt.isNone()}
var fO=D(tO,-1,aO)
var cO=D(tO,1,oO)
var sO=function(e){return Mm(e).map((function(t){return[t].concat(oO(e,t).positions)})).getOr([])}
var lO=function(e){return Fm(e).map((function(t){return aO(e,t).positions.concat(t)})).getOr([])}
var vO=function(e){var t=function(t){return G(t,(function(t){t=js(t)
t.node=e
return t}))}
if(Un(e))return t(e.getClientRects())
if(Yn(e)){var r=e.ownerDocument.createRange()
r.setStart(e,0)
r.setEnd(e,e.data.length)
return t(r.getClientRects())}}
var dO=function(e){return ue(e,vO)}
var mO;(function(e){e[e["Up"]=-1]="Up"
e[e["Down"]=1]="Down"})(mO||(mO={}))
var gO=function(e,t,r,n){while(n=Xd(n,e,bi,t))if(r(n))return}
var pO=function(e,t,r,n,a,o){var i=0
var u=[]
var f=function(n){var o,f,s
s=dO([n]);-1===e&&(s=s.reverse())
for(o=0;o<s.length;o++){f=s[o]
if(r(f,c))continue
u.length>0&&t(f,je(u))&&i++
f.line=i
if(a(f))return true
u.push(f)}}
var c=je(o.getClientRects())
if(!c)return u
var s=o.getNode()
f(s)
gO(e,n,f,s)
return u}
var hO=function(e,t){return t.line>e}
var yO=function(e,t){return t.line===e}
var bO=D(pO,mO.Up,$s,Ws)
var CO=D(pO,mO.Down,Ws,$s)
var wO=function(e,t,r,n){var a=Sm(t)
var o,i,u,f
var c=[]
var s,l=0
var v=function(t){if(1===e)return je(t.getClientRects())
return je(t.getClientRects())}
if(1===e){o=a.next
i=Ws
u=$s
f=Cl.after(n)}else{o=a.prev
i=$s
u=Ws
f=Cl.before(n)}var d=v(f)
do{if(!f.isVisible())continue
s=v(f)
if(u(s,d))continue
c.length>0&&i(s,je(c))&&l++
s=js(s)
s.position=f
s.line=l
if(r(s))return c
c.push(s)}while(f=o(f))
return c}
var xO=function(e){return function(t){return hO(e,t)}}
var SO=function(e){return function(t){return yO(e,t)}}
var kO=ra
var NO=Xd
var EO=function(e,t){return Math.abs(e.left-t)}
var _O=function(e,t){return Math.abs(e.right-t)}
var AO=function(e,t){return e>=t.left&&e<=t.right}
var RO=function(e,t){return e>=t.top&&e<=t.bottom}
var TO=function(e,t){return Ue(e,(function(e,r){var n=Math.min(EO(e,t),_O(e,t))
var a=Math.min(EO(r,t),_O(r,t))
if(AO(t,r))return r
if(AO(t,e))return e
if(a===n&&kO(r.node))return r
if(a<n)return r
return e}))}
var DO=function(e,t,r,n,a){var o=NO(n,e,bi,t,!a)
do{if(!o||r(o))return}while(o=NO(o,e,bi,t))}
var OO=function(e,t,r){void 0===r&&(r=true)
var n=[]
var a=function(e,r){var a=ee(dO([r]),(function(r){return!e(r,t)}))
n=n.concat(a)
return 0===a.length}
n.push(t)
DO(mO.Up,e,D(a,$s),t.node,r)
DO(mO.Down,e,D(a,Ws),t.node,r)
return n}
var BO=function(e){return ee(pe(e.getElementsByTagName("*")),Md)}
var PO=function(e,t){return{node:e.node,before:EO(e,t)<_O(e,t)}}
var LO=function(e,t,r){var n=dO(BO(e))
var a=ee(n,D(RO,r))
var o=TO(a,t)
if(o){var i=!Wn(o.node)&&!aa(o.node)
o=TO(OO(e,o,i),t)
if(o&&Md(o.node))return PO(o,t)}return null}
var IO=function(e,t){e.selection.setRng(t)
Uh(e,e.selection.getRng())}
var MO=function(e,t,r){return H.some(zT(e,t,r))}
var FO=function(e,t,r,n,a,o){var i=t===sm.Forwards
var u=Sm(e.getBody())
var f=D(fm,i?u.next:u.prev)
var c=i?n:a
if(!r.collapsed){var s=Xs(r)
if(o(s))return IT(t,e,s,t===sm.Backwards,false)}var l=om(t,e.getBody(),r)
if(c(l))return FT(e,l.getNode(!i))
var v=QR(i,f(l))
var d=ai(r)
if(!v)return d?H.some(r):H.none()
if(c(v))return IT(t,e,v.getNode(!i),i,false)
var m=f(v)
if(m&&c(m)&&cm(v,m))return IT(t,e,m.getNode(!i),i,false)
if(d)return MO(e,v.toRange(),false)
return H.none()}
var UO=function(e,t,r,n,a,o){var i=om(t,e.getBody(),r)
var u=je(i.getClientRects())
var f=t===mO.Down
if(!u)return H.none()
var c=f?CO:bO
var s=c(e.getBody(),xO(1),i)
var l=ee(s,SO(1))
var v=u.left
var d=TO(l,v)
if(d&&o(d.node)){var m=Math.abs(v-d.left)
var g=Math.abs(v-d.right)
return IT(t,e,d.node,m<g,false)}var p
p=n(i)?i.getNode():a(i)?i.getNode(true):Xs(r)
if(p){var h=wO(t,e.getBody(),xO(1),p)
var y=TO(ee(h,SO(1)),v)
if(y)return MO(e,y.position.toRange(),false)
y=je(ee(h,SO(0)))
if(y)return MO(e,y.position.toRange(),false)}if(0===l.length)return zO(e,f).filter(f?a:n).map((function(t){return zT(e,t.toRange(),false)}))
return H.none()}
var zO=function(e,t){var r=e.selection.getRng()
var n=e.getBody()
if(t){var a=Cl.fromRangeEnd(r)
var o=oO(n,a)
return ge(o.positions)}a=Cl.fromRangeStart(r)
o=aO(n,a)
return me(o.positions)}
var jO=function(e,t,r){return zO(e,t).filter(r).exists((function(t){e.selection.setRng(t.toRange())
return true}))}
var HO=function(e,t){var r=e.dom.createRng()
r.setStart(t.container(),t.offset())
r.setEnd(t.container(),t.offset())
e.selection.setRng(r)}
var VO=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}
var qO=function(e,t,r){return ND(t,r).map((function(t){HO(e,t)
return r}))}
var $O=function(e,t,r){var n=e.getBody()
var a=Cl.fromRangeStart(e.selection.getRng())
var o=D(WR,e)
var i=WD(r,o,n,a)
return i.bind((function(r){return qO(e,t,r)}))}
var WO=function(e,t,r){var n=G(ms(pr.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(e){return e.dom}))
var a=ee(n,e)
var o=ee(r,e)
J(se(a,o),D(VO,false))
J(se(o,a),D(VO,true))}
var KO=function(e,t){if(e.selection.isCollapsed()&&true!==e.composing&&t.get()){var r=Cl.fromRangeStart(e.selection.getRng())
if(Cl.isTextPosition(r)&&false===JR(r)){HO(e,Nd(t.get(),r))
t.set(null)}}}
var XO=function(e,t,r,n){if(t.selection.isCollapsed()){var a=ee(n,e)
J(a,(function(n){var a=Cl.fromRangeStart(t.selection.getRng())
ID(e,t.getBody(),a).bind((function(e){return qO(t,r,e)}))}))}}
var YO=function(e,t,r){return!!Wv(e)&&$O(e,t,r).isSome()}
var GO=function(e,t,r){return!!Wv(t)&&YD(e,t)}
var JO=function(e){var t=Uc(null)
var r=D(WR,e)
e.on("NodeChange",(function(n){if(Wv(e)&&!(Jt.browser.isIE()&&n.initial)){WO(r,e.dom,n.parents)
KO(e,t)
XO(r,e,t,n.parents)}}))
return t}
var QO=D(GO,true)
var ZO=D(GO,false)
var eB=function(e,t,r){if(Wv(e)){var n=zO(e,t).getOrThunk((function(){var r=e.selection.getRng()
return t?Cl.fromRangeEnd(r):Cl.fromRangeStart(r)}))
return ID(D(WR,e),e.getBody(),n).exists((function(t){var n=UD(t)
return ND(r,n).exists((function(t){HO(e,t)
return true}))}))}return false}
var tB=function(e,t){var r=document.createRange()
r.setStart(e.container(),e.offset())
r.setEnd(t.container(),t.offset())
return r}
var rB=function(e){return Ms(Mm(e),Fm(e),(function(t,r){var n=QR(true,t)
var a=QR(false,r)
return Lm(e,n).forall((function(e){return e.isEqual(a)}))})).getOr(true)}
var nB=function(e,t){return function(r){return ND(t,r).exists((function(t){HO(e,t)
return true}))}}
var aB=function(e,t,r,n){var a=e.getBody()
var o=D(WR,e)
e.undoManager.ignore((function(){e.selection.setRng(tB(r,n))
e.execCommand("Delete")
ID(o,a,Cl.fromRangeStart(e.selection.getRng())).map(zD).map(nB(e,t))}))
e.nodeChanged()}
var oB=function(e,t){var r=Yd(t,e)
return r||e}
var iB=function(e,t,r,n){var a=oB(e.getBody(),n.container())
var o=D(WR,e)
var i=ID(o,a,n)
return i.bind((function(e){return r?e.fold(R(H.some(zD(e))),H.none,R(H.some(UD(e))),H.none):e.fold(H.none,R(H.some(UD(e))),H.none,R(H.some(zD(e))))})).map(nB(e,t)).getOrThunk((function(){var u=Om(r,a,n)
var f=u.bind((function(e){return ID(o,a,e)}))
return Ms(i,f,(function(){return YR(o,a,n).exists((function(t){if(rB(t)){bw(e,r,pr.fromDom(t))
return true}return false}))})).orThunk((function(){return f.bind((function(a){return u.map((function(a){r?aB(e,t,n,a):aB(e,t,a,n)
return true}))}))})).getOr(false)}))}
var uB=function(e,t,r){if(e.selection.isCollapsed()&&Wv(e)){var n=Cl.fromRangeStart(e.selection.getRng())
return iB(e,t,r,n)}return false}
var fB=function(e,t){var r=dC(t,e)
return oe(r,No).fold(R(r),(function(e){return r.slice(0,e)}))}
var cB=function(e){return 1===Qr(e).length}
var sB=function(e,t,r,n){var a=D(IS,t)
var o=G(ee(n,a),(function(e){return e.dom}))
if(0===o.length)bw(t,e,r)
else{var i=LS(r.dom,o)
t.selection.setRng(i.toRange())}}
var lB=function(e,t){var r=pr.fromDom(e.getBody())
var n=pr.fromDom(e.selection.getStart())
var a=ee(fB(r,n),cB)
return ge(a).exists((function(r){var n=Cl.fromRangeStart(e.selection.getRng())
if(oT(t,n,r.dom)&&!MS(r)){sB(t,e,r,a)
return true}return false}))}
var vB=function(e,t){return!!e.selection.isCollapsed()&&lB(e,t)}
var dB=function(e,t,r){e._selectionOverrides.hideFakeCaret()
bw(e,t,pr.fromDom(r))
return true}
var mB=function(e,t){var r=t?eC:tC
var n=t?sm.Forwards:sm.Backwards
var a=om(n,e.getBody(),e.selection.getRng())
return r(a)?dB(e,t,a.getNode(!t)):H.from(QR(t,a)).filter((function(e){return r(e)&&cm(a,e)})).exists((function(r){return dB(e,t,r.getNode(!t))}))}
var gB=function(e,t){var r=e.selection.getNode()
return!!aa(r)&&dB(e,t,r)}
var pB=function(e,t){return e.selection.isCollapsed()?mB(e,t):gB(e,t)}
var hB=function(e){return Xa(e,(function(e){return ta(e.dom)||ra(e.dom)})).exists((function(e){return ta(e.dom)}))}
var yB=function(e){var t=parseInt(e,10)
return isNaN(t)?0:t}
var bB=function(e,t){var r=e||Eo(t)?"margin":"padding"
var n="rtl"===pa(t,"direction")?"-right":"-left"
return r+n}
var CB=function(e,t,r,n,a,o){var i=bB(r,pr.fromDom(o))
if("outdent"===t){var u=Math.max(0,yB(o.style[i])-n)
e.setStyle(o,i,u?u+a:"")}else{u=yB(o.style[i])+n+a
e.setStyle(o,i,u)}}
var wB=function(e,t){return fe(t,(function(t){var r=bB(Bv(e),t)
var n=ya(t,r).map(yB).getOr(0)
var a=e.dom.getContentEditable(t.dom)
return"false"!==a&&n>0}))}
var xB=function(e){var t=NB(e)
return!e.mode.isReadOnly()&&(t.length>1||wB(e,t))}
var SB=function(e){return To(e)||Do(e)}
var kB=function(e){return $r(e).map(SB).getOr(false)}
var NB=function(e){return ee(G(e.selection.getSelectedBlocks(),pr.fromDom),(function(e){return!SB(e)&&!kB(e)&&hB(e)}))}
var EB=function(e,t){var r=e.dom,n=e.selection,a=e.formatter
var o=Pv(e)
var i=/[a-z%]+$/i.exec(o)[0]
var u=parseInt(o,10)
var f=Bv(e)
var c=lv(e)
e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||r.getParent(n.getNode(),r.isBlock)||a.apply("div")
J(NB(e),(function(e){CB(r,t,f,u,i,e.dom)}))}
var _B=function(e,t){if(e.selection.isCollapsed()&&xB(e)){var r=e.dom
var n=e.selection.getRng()
var a=Cl.fromRangeStart(n)
var o=r.getParent(n.startContainer,r.isBlock)
if(null!==o&&yC(pr.fromDom(o),a)){EB(e,"outdent")
return true}}return false}
var AB=function(e,t){e.getDoc().execCommand(t,false,null)}
var RB=function(e,t){if(_B(e))return
if(lD(e,false))return
if(WT(e,false))return
if(uB(e,t,false))return
if(ET(e,false))return
if(fx(e))return
if(dD(e,false))return
if(pB(e,false))return
if(BT(e))return
if(vB(e,false))return
AB(e,"Delete")
aT(e)}
var TB=function(e,t){if(lD(e,true))return
if(WT(e,true))return
if(uB(e,t,true))return
if(ET(e,true))return
if(fx(e))return
if(dD(e,true))return
if(pB(e,true))return
if(BT(e))return
if(vB(e,true))return
AB(e,"ForwardDelete")}
var DB=function(e,t){e.addCommand("delete",(function(){RB(e,t)}))
e.addCommand("forwardDelete",(function(){TB(e,t)}))}
var OB=5
var BB=400
var PB=function(e){if(void 0===e.touches||1!==e.touches.length)return H.none()
return H.some(e.touches[0])}
var LB=function(e,t){var r=Math.abs(e.clientX-t.x)
var n=Math.abs(e.clientY-t.y)
return r>OB||n>OB}
var IB=function(e){var t=Uc(H.none())
var r=Uc(false)
var n=ts((function(t){e.fire("longpress",He(He({},t),{type:"longpress"}))
r.set(true)}),BB)
e.on("touchstart",(function(e){PB(e).each((function(a){n.cancel()
var o={x:a.clientX,y:a.clientY,target:e.target}
n.throttle(e)
r.set(false)
t.set(H.some(o))}))}),true)
e.on("touchmove",(function(a){n.cancel()
PB(a).each((function(n){t.get().each((function(a){if(LB(n,a)){t.set(H.none())
r.set(false)
e.fire("longpresscancel")}}))}))}),true)
e.on("touchend touchcancel",(function(a){n.cancel()
if("touchcancel"===a.type)return
t.get().filter((function(e){return e.target.isEqualNode(a.target)})).each((function(){r.get()?a.preventDefault():e.fire("tap",He(He({},a),{type:"tap"}))}))}),true)}
var MB=function(e,t){return e.hasOwnProperty(t.nodeName)}
var FB=function(e,t){return!!Yn(t)||!!Un(t)&&(!MB(e,t)&&!fg(t))}
var UB=function(e,t,r){return Y(vC(pr.fromDom(r),pr.fromDom(t)),(function(t){return MB(e,t.dom)}))}
var zB=function(e,t){if(Yn(t)){if(0===t.nodeValue.length)return true
if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||MB(e,t.nextSibling)))return true}return false}
var jB=function(e){var t=e.dom,r=e.selection
var n=e.schema,a=n.getBlockElements()
var o=r.getStart()
var i=e.getBody()
var u,f,c
var s=lv(e)
if(!o||!Un(o)||!s)return
var l=i.nodeName.toLowerCase()
if(!n.isValidChild(l,s.toLowerCase())||UB(a,i,o))return
var v=r.getRng()
var d=v.startContainer
var m=v.startOffset
var g=v.endContainer
var p=v.endOffset
var h=Gy(e)
o=i.firstChild
while(o)if(FB(a,o)){if(zB(a,o)){f=o
o=o.nextSibling
t.remove(f)
continue}if(!u){u=t.create(s,vv(e))
o.parentNode.insertBefore(u,o)
c=true}f=o
o=o.nextSibling
u.appendChild(f)}else{u=null
o=o.nextSibling}if(c&&h){v.setStart(d,m)
v.setEnd(g,p)
r.setRng(v)
e.nodeChanged()}}
var HB=function(e){lv(e)&&e.on("NodeChange",D(jB,e))}
var VB=function(e){return Qa(pr.fromDom(e.getBody()),"*[data-mce-caret]").fold(R(null),(function(e){return e.dom}))}
var qB=function(e){e.selection.setRng(e.selection.getRng())}
var $B=function(e,t){if(t.hasAttribute("data-mce-caret")){ni(t)
qB(e)
e.selection.scrollIntoView(t)}}
var WB=function(e,t){var r=VB(e)
if(!r)return
if("compositionstart"===t.type){t.preventDefault()
t.stopPropagation()
$B(e,r)
return}if(Xo(r)){$B(e,r)
e.undoManager.add()}}
var KB=function(e){e.on("keyup compositionstart",D(WB,e))}
var XB=ra
var YB=function(e,t,r){return FO(t,e,r,aC,oC,XB)}
var GB=function(e,t,r){var n=function(e){return aC(e)||rC(e)}
var a=function(e){return oC(e)||nC(e)}
return UO(t,e,r,n,a,XB)}
var JB=function(e){var t=e.dom.create(lv(e));(!Jt.ie||Jt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">')
return t}
var QB=function(e,t,r){var n=Sm(e.getBody())
var a=D(fm,1===t?n.next:n.prev)
if(r.collapsed&&ad(e)){var o=e.dom.getParent(r.startContainer,"PRE")
if(!o)return
var i=a(Cl.fromRangeStart(r))
if(!i){var u=JB(e)
1===t?e.$(o).after(u):e.$(o).before(u)
e.selection.select(u,true)
e.selection.collapse()}}}
var ZB=function(e,t){var r=t?sm.Forwards:sm.Backwards
var n=e.selection.getRng()
return YB(r,e,n).orThunk((function(){QB(e,r,n)
return H.none()}))}
var eP=function(e,t){var r=t?1:-1
var n=e.selection.getRng()
return GB(r,e,n).orThunk((function(){QB(e,r,n)
return H.none()}))}
var tP=function(e,t){return ZB(e,t).exists((function(t){IO(e,t)
return true}))}
var rP=function(e,t){return eP(e,t).exists((function(t){IO(e,t)
return true}))}
var nP=function(e,t){var r=t?oC:aC
return jO(e,t,r)}
var aP=function(e){return X(["figcaption"],Br(e))}
var oP=function(e){var t=document.createRange()
t.setStartBefore(e.dom)
t.setEndBefore(e.dom)
return t}
var iP=function(e,t,r){r?hn(e,t):pn(e,t)}
var uP=function(e,t){var r=pr.fromTag("br")
iP(e,r,t)
return oP(r)}
var fP=function(e,t,r,n){var a=pr.fromTag(r)
var o=pr.fromTag("br")
fa(a,n)
hn(a,o)
iP(e,a,t)
return oP(o)}
var cP=function(e,t,r,n){return""===t?uP(e,n):fP(e,n,t,r)}
var sP=function(e,t){var r=D(Rr,t)
return Xa(pr.fromDom(e.container()),No,r).filter(aP)}
var lP=function(e,t,r){return t?uO(e.dom,r):iO(e.dom,r)}
var vP=function(e,t){var r=pr.fromDom(e.getBody())
var n=Cl.fromRangeStart(e.selection.getRng())
var a=lv(e)
var o=vv(e)
return sP(n,r).exists((function(){if(lP(r,t,n)){var i=cP(r,a,o,t)
e.selection.setRng(i)
return true}return false}))}
var dP=function(e,t){return!!e.selection.isCollapsed()&&vP(e,t)}
var mP=function(e){return G(e,(function(e){return He({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:E},e)}))}
var gP=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey}
var pP=function(e,t){return ue(mP(e),(function(e){return gP(e,t)?[e]:[]}))}
var hP=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
return function(){return e.apply(null,t)}}
var yP=function(e,t){return ae(pP(e,t),(function(e){return e.action()}))}
var bP=function(e,t){var r=t?sm.Forwards:sm.Backwards
var n=e.selection.getRng()
return FO(e,r,n,eC,tC,aa).exists((function(t){IO(e,t)
return true}))}
var CP=function(e,t){var r=t?1:-1
var n=e.selection.getRng()
return UO(e,r,n,eC,tC,aa).exists((function(t){IO(e,t)
return true}))}
var wP=function(e,t){var r=t?tC:eC
return jO(e,t,r)}
var xP=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}}
var SP=function(e,t){return ue(t,(function(t){var r=xP(js(t.getBoundingClientRect()),-1)
return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]}))}
var kP=function(e,t,r){return re(e,(function(e,n){return e.fold((function(){return H.some(n)}),(function(e){var a=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-r))
var o=Math.sqrt(Math.abs(n.x-t)+Math.abs(n.y-r))
return H.some(o<a?n:e)}))}),H.none())}
var NP=function(e,t,r,n,a){var o=ms(pr.fromDom(r),"td,th,caption").map((function(e){return e.dom}))
var i=ee(SP(e,o),(function(e){return t(e,a)}))
return kP(i,n,a).map((function(e){return e.cell}))}
var EP=function(e){return e.bottom}
var _P=function(e){return e.top}
var AP=function(e,t){return e.y<t}
var RP=function(e,t){return e.y>t}
var TP=D(NP,EP,AP)
var DP=D(NP,_P,RP)
var OP=function(e,t){return me(t.getClientRects()).bind((function(t){return TP(e,t.left,t.top)})).bind((function(e){return nO(lO(e),t)}))}
var BP=function(e,t){return ge(t.getClientRects()).bind((function(t){return DP(e,t.left,t.top)})).bind((function(e){return nO(sO(e),t)}))}
var PP=function(e,t,r){return r.breakAt.exists((function(r){return e(t,r).breakAt.isSome()}))}
var LP=function(e){return e.breakType===GD.Wrap&&0===e.positions.length}
var IP=function(e){return e.breakType===GD.Br&&1===e.positions.length}
var MP=function(e,t,r){var n=e(t,r)
return LP(n)||!Zn(r.getNode())&&IP(n)?!PP(e,t,n):n.breakAt.isNone()}
var FP=D(MP,aO)
var UP=D(MP,oO)
var zP=function(e,t,r){var n=Cl.fromRangeStart(t)
return Pm(!e,r).exists((function(e){return e.isEqual(n)}))}
var jP=function(e,t,r,n){var a=e.selection.getRng()
var o=t?1:-1
if(Ld()&&zP(t,a,r)){IT(o,e,r,!t,false).each((function(t){IO(e,t)}))
return true}return false}
var HP=function(e,t,r){return OP(t,r).orThunk((function(){return me(r.getClientRects()).bind((function(r){return rO(fO(e,Cl.before(t)),r.left)}))})).getOr(Cl.before(t))}
var VP=function(e,t,r){return BP(t,r).orThunk((function(){return me(r.getClientRects()).bind((function(r){return rO(cO(e,Cl.after(t)),r.left)}))})).getOr(Cl.after(t))}
var qP=function(e,t){var r=t.getNode(e)
return Un(r)&&"TABLE"===r.nodeName?H.some(r):H.none()}
var $P=function(e,t,r,n){var a=lv(t)
a?t.undoManager.transact((function(){var n=pr.fromTag(a)
fa(n,vv(t))
hn(n,pr.fromTag("br"))
e?gn(pr.fromDom(r),n):mn(pr.fromDom(r),n)
var o=t.dom.createRng()
o.setStart(n.dom,0)
o.setEnd(n.dom,0)
IO(t,o)})):IO(t,n.toRange())}
var WP=function(e,t,r){var n=qP(!!t,r)
var a=false===t
n.fold((function(){return IO(e,r.toRange())}),(function(n){return Pm(a,e.getBody()).filter((function(e){return e.isEqual(r)})).fold((function(){return IO(e,r.toRange())}),(function(a){return $P(t,e,n,r)}))}))}
var KP=function(e,t,r,n){var a=e.selection.getRng()
var o=Cl.fromRangeStart(a)
var i=e.getBody()
if(!t&&FP(n,o)){var u=HP(i,r,o)
WP(e,t,u)
return true}if(t&&UP(n,o)){u=VP(i,r,o)
WP(e,t,u)
return true}return false}
var XP=function(e,t,r){return H.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind((function(n){return H.from(e.dom.getParent(n,"table")).map((function(a){return r(e,t,a,n)}))})).getOr(false)}
var YP=function(e,t){return XP(e,t,jP)}
var GP=function(e,t){return XP(e,t,KP)}
var JP=function(e,t,r){var n=Ht().os
yP([{keyCode:Up.RIGHT,action:hP(tP,e,true)},{keyCode:Up.LEFT,action:hP(tP,e,false)},{keyCode:Up.UP,action:hP(rP,e,false)},{keyCode:Up.DOWN,action:hP(rP,e,true)},{keyCode:Up.RIGHT,action:hP(YP,e,true)},{keyCode:Up.LEFT,action:hP(YP,e,false)},{keyCode:Up.UP,action:hP(GP,e,false)},{keyCode:Up.DOWN,action:hP(GP,e,true)},{keyCode:Up.RIGHT,action:hP(bP,e,true)},{keyCode:Up.LEFT,action:hP(bP,e,false)},{keyCode:Up.UP,action:hP(CP,e,false)},{keyCode:Up.DOWN,action:hP(CP,e,true)},{keyCode:Up.RIGHT,action:hP(YO,e,t,true)},{keyCode:Up.LEFT,action:hP(YO,e,t,false)},{keyCode:Up.RIGHT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:hP(QO,e,t)},{keyCode:Up.LEFT,ctrlKey:!n.isOSX(),altKey:n.isOSX(),action:hP(ZO,e,t)},{keyCode:Up.UP,action:hP(dP,e,false)},{keyCode:Up.DOWN,action:hP(dP,e,true)}],r).each((function(e){r.preventDefault()}))}
var QP=function(e,t){e.on("keydown",(function(r){false===r.isDefaultPrevented()&&JP(e,t,r)}))}
var ZP=function(e,t,r){yP([{keyCode:Up.BACKSPACE,action:hP(_B,e,false)},{keyCode:Up.BACKSPACE,action:hP(lD,e,false)},{keyCode:Up.DELETE,action:hP(lD,e,true)},{keyCode:Up.BACKSPACE,action:hP(WT,e,false)},{keyCode:Up.DELETE,action:hP(WT,e,true)},{keyCode:Up.BACKSPACE,action:hP(uB,e,t,false)},{keyCode:Up.DELETE,action:hP(uB,e,t,true)},{keyCode:Up.BACKSPACE,action:hP(fx,e,false)},{keyCode:Up.DELETE,action:hP(fx,e,true)},{keyCode:Up.BACKSPACE,action:hP(dD,e,false)},{keyCode:Up.DELETE,action:hP(dD,e,true)},{keyCode:Up.BACKSPACE,action:hP(pB,e,false)},{keyCode:Up.DELETE,action:hP(pB,e,true)},{keyCode:Up.BACKSPACE,action:hP(BT,e,false)},{keyCode:Up.DELETE,action:hP(BT,e,true)},{keyCode:Up.BACKSPACE,action:hP(ET,e,false)},{keyCode:Up.DELETE,action:hP(ET,e,true)},{keyCode:Up.BACKSPACE,action:hP(vB,e,false)},{keyCode:Up.DELETE,action:hP(vB,e,true)}],r).each((function(e){r.preventDefault()}))}
var eL=function(e,t){yP([{keyCode:Up.BACKSPACE,action:hP(sD,e)},{keyCode:Up.DELETE,action:hP(sD,e)}],t)}
var tL=function(e,t){e.on("keydown",(function(r){false===r.isDefaultPrevented()&&ZP(e,t,r)}))
e.on("keyup",(function(t){false===t.isDefaultPrevented()&&eL(e,t)}))}
var rL=function(e){while(e){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e
e=e.nextSibling}}
var nL=function(e,t){var r,n=t
var a=e.dom
var o=e.schema.getMoveCaretBeforeOnEnterElements()
if(!t)return
if(/^(LI|DT|DD)$/.test(t.nodeName)){var i=rL(t.firstChild)
i&&/^(UL|OL|DL)$/.test(i.nodeName)&&t.insertBefore(a.doc.createTextNode(Mo),t.firstChild)}var u=a.createRng()
t.normalize()
if(t.hasChildNodes()){var f=new mo(t,t)
while(r=f.current()){if(Yn(r)){u.setStart(r,0)
u.setEnd(r,0)
break}if(o[r.nodeName.toLowerCase()]){u.setStartBefore(r)
u.setEndBefore(r)
break}n=r
r=f.next()}if(!r){u.setStart(n,0)
u.setEnd(n,0)}}else if(Zn(t))if(t.nextSibling&&a.isBlock(t.nextSibling)){u.setStartBefore(t)
u.setEndBefore(t)}else{u.setStartAfter(t)
u.setEndAfter(t)}else{u.setStart(t,0)
u.setEnd(t,0)}e.selection.setRng(u)
Uh(e,u)}
var aL=function(e,t){var r=e.getRoot()
var n,a
n=t
while(n!==r&&"false"!==e.getContentEditable(n)){"true"===e.getContentEditable(n)&&(a=n)
n=n.parentNode}return n!==r?a:r}
var oL=function(e){return H.from(e.dom.getParent(e.selection.getStart(true),e.dom.isBlock))}
var iL=function(e){return oL(e).fold(R(""),(function(e){return e.nodeName.toUpperCase()}))}
var uL=function(e){return oL(e).filter((function(e){return Do(pr.fromDom(e))})).isSome()}
var fL=function(e,t){return e.firstChild&&e.firstChild.nodeName===t}
var cL=function(e){var t
return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e}
var sL=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}
var lL=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}
var vL=function(e){return lL(e)&&lL(e.parentNode)}
var dL=function(e){var t=e.parentNode
if(/^(LI|DT|DD)$/.test(t.nodeName))return t
return e}
var mL=function(e,t,r){var n=e[r?"firstChild":"lastChild"]
while(n){if(Un(n))break
n=n[r?"nextSibling":"previousSibling"]}return n===t}
var gL=function(e,t,r,n,a){var o=e.dom
var i=e.selection.getRng()
if(r===e.getBody())return
vL(r)&&(a="LI")
var u=a?t(a):o.create("BR")
if(mL(r,n,true)&&mL(r,n,false))if(sL(r,"LI")){var f=dL(r)
o.insertAfter(u,f)
cL(r)?o.remove(f):o.remove(r)}else o.replace(u,r)
else if(mL(r,n,true)){if(sL(r,"LI")){o.insertAfter(u,dL(r))
u.appendChild(o.doc.createTextNode(" "))
u.appendChild(r)}else r.parentNode.insertBefore(u,r)
o.remove(n)}else if(mL(r,n,false)){o.insertAfter(u,dL(r))
o.remove(n)}else{r=dL(r)
var c=i.cloneRange()
c.setStartAfter(n)
c.setEndAfter(r)
var s=c.extractContents()
if("LI"===a&&fL(s,"LI")){u=s.firstChild
o.insertAfter(s,r)}else{o.insertAfter(s,r)
o.insertAfter(u,r)}o.remove(n)}nL(e,u)}
var pL=function(e){J(ds(pr.fromDom(e),Fr),(function(e){var t=e.dom
t.nodeValue=Ho(t.nodeValue)}))}
var hL=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)}
var yL=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}
var bL=function(e){e.innerHTML='<br data-mce-bogus="1">'}
var CL=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}
var wL=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}
var xL=function(e,t,r){var n=r
var a=[]
var o
if(!n)return
while(n=n.firstChild){if(e.isBlock(n))return
Un(n)&&!t[n.nodeName.toLowerCase()]&&a.push(n)}o=a.length
while(o--){n=a[o];(!n.hasChildNodes()||n.firstChild===n.lastChild&&""===n.firstChild.nodeValue||hL(e,n))&&e.remove(n)}}
var SL=function(e,t,r){return false===Yn(t)?r:e?1===r&&t.data.charAt(r-1)===zo?0:r:r===t.data.length-1&&t.data.charAt(r)===zo?t.data.length:r}
var kL=function(e){var t=e.cloneRange()
t.setStart(e.startContainer,SL(true,e.startContainer,e.startOffset))
t.setEnd(e.endContainer,SL(false,e.endContainer,e.endOffset))
return t}
var NL=function(e){do{Yn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,""))
e=e.firstChild}while(e)}
var EL=function(e,t){var r=e.getRoot()
var n,a
n=t
while(n!==r&&"false"!==e.getContentEditable(n)){"true"===e.getContentEditable(n)&&(a=n)
n=n.parentNode}return n!==r?a:r}
var _L=function(e,t,r){var n=e.dom
H.from(r.style).map(n.parseStyle).each((function(e){var r=ba(pr.fromDom(t))
var a=He(He({},r),e)
n.setStyles(t,a)}))
var a=H.from(r.class).map((function(e){return e.split(/\s+/)}))
var o=H.from(t.className).map((function(e){return ee(e.split(/\s+/),(function(e){return""!==e}))}))
Ms(a,o,(function(e,r){var a=ee(r,(function(t){return!X(e,t)}))
var o=qe(e,a)
n.setAttrib(t,"class",o.join(" "))}))
var i=["style","class"]
var u=Ee(r,(function(e,t){return!X(i,t)}))
n.setAttribs(t,u)}
var AL=function(e,t){var r=lv(e)
if(r&&r.toLowerCase()===t.tagName.toLowerCase()){var n=vv(e)
_L(e,t,n)}}
var RL=function(e,t,r,n,a){var o,i,u,f,c,s
var l=t||"P"
var v=e.dom,d=EL(v,n)
i=v.getParent(n,v.isBlock)
if(!i||!wL(v,i)){i=i||d
s=i===e.getBody()||yL(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase()
if(!i.hasChildNodes()){o=v.create(l)
AL(e,o)
i.appendChild(o)
r.setStart(o,0)
r.setEnd(o,0)
return o}f=n
while(f.parentNode!==i)f=f.parentNode
while(f&&!v.isBlock(f)){u=f
f=f.previousSibling}if(u&&e.schema.isValidChild(s,l.toLowerCase())){o=v.create(l)
AL(e,o)
u.parentNode.insertBefore(o,u)
f=u
while(f&&!v.isBlock(f)){c=f.nextSibling
o.appendChild(f)
f=c}r.setStart(n,a)
r.setEnd(n,a)}}return n}
var TL=function(e,t){t.normalize()
var r=t.lastChild
r&&!/^(left|right)$/gi.test(e.getStyle(r,"float",true))||e.add(t,"br")}
var DL=function(e,t){var r,n,a,o
var i,u,f,c,s,l
var v=e.dom
var d=e.schema,m=d.getNonEmptyElements()
var g=e.selection.getRng()
var p=function(t){var r,a,i,u=n
var f=d.getTextInlineElements()
r=t||"TABLE"===c||"HR"===c?v.create(t||s):o.cloneNode(false)
i=r
if(false===gv(e)){v.setAttrib(r,"style",null)
v.setAttrib(r,"class",null)}else do{if(f[u.nodeName]){if(zm(u)||fg(u))continue
a=u.cloneNode(false)
v.setAttrib(a,"id","")
if(r.hasChildNodes()){a.appendChild(r.firstChild)
r.appendChild(a)}else{i=a
r.appendChild(a)}}}while((u=u.parentNode)&&u!==w)
AL(e,r)
bL(i)
return r}
var h=function(e){var t,r
var i=SL(e,n,a)
if(Yn(n)&&(e?i>0:i<n.nodeValue.length))return false
if(n.parentNode===o&&l&&!e)return true
if(e&&Un(n)&&n===o.firstChild)return true
if(CL(n,"TABLE")||CL(n,"HR"))return l&&!e||!l&&e
var u=new mo(n,o)
Yn(n)&&(e&&0===i?u.prev():e||i!==n.nodeValue.length||u.next())
while(t=u.current()){if(Un(t)){if(!t.getAttribute("data-mce-bogus")){r=t.nodeName.toLowerCase()
if(m[r]&&"br"!==r)return false}}else if(Yn(t)&&!wi(t.nodeValue))return false
e?u.prev():u.next()}return true}
var y=function(){i=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?p(s):p()
pv(e)&&wL(v,f)&&v.isEmpty(o)?i=v.split(f,o):v.insertAfter(i,o)
nL(e,i)}
oh(v,g).each((function(e){g.setStart(e.startContainer,e.startOffset)
g.setEnd(e.endContainer,e.endOffset)}))
n=g.startContainer
a=g.startOffset
s=lv(e)
var b=!!(t&&t.shiftKey)
var C=!!(t&&t.ctrlKey)
if(Un(n)&&n.hasChildNodes()){l=a>n.childNodes.length-1
n=n.childNodes[Math.min(a,n.childNodes.length-1)]||n
a=l&&Yn(n)?n.nodeValue.length:0}var w=EL(v,n)
if(!w)return;(s&&!b||!s&&b)&&(n=RL(e,s,g,n,a))
o=v.getParent(n,v.isBlock)
f=o?v.getParent(o.parentNode,v.isBlock):null
c=o?o.nodeName.toUpperCase():""
var x=f?f.nodeName.toUpperCase():""
if("LI"===x&&!C){o=f
f=f.parentNode
c=x}if(/^(LI|DT|DD)$/.test(c)&&v.isEmpty(o)){gL(e,p,f,o,s)
return}if(s&&o===e.getBody())return
s=s||"P"
if($o(o)){i=ni(o)
v.isEmpty(o)&&bL(o)
AL(e,i)
nL(e,i)}else if(h())y()
else if(h(true)){i=o.parentNode.insertBefore(p(),o)
nL(e,CL(o,"HR")?i:o)}else{r=kL(g).cloneRange()
r.setEndAfter(o)
u=r.extractContents()
pL(u)
NL(u)
i=u.firstChild
v.insertAfter(u,o)
xL(v,m,i)
TL(v,o)
v.isEmpty(o)&&bL(o)
i.normalize()
if(v.isEmpty(i)){v.remove(i)
y()}else{AL(e,i)
nL(e,i)}}v.setAttrib(i,"id","")
e.fire("NewBlock",{newBlock:i})}
var OL=function(e,t,r){var n=new mo(t,r)
var a
var o=e.getNonEmptyElements()
while(a=n.next())if(o[a.nodeName.toLowerCase()]||a.length>0)return true}
var BL=function(e,t,r){var n=e.dom.createRng()
if(r){n.setStartBefore(t)
n.setEndBefore(t)}else{n.setStartAfter(t)
n.setEndAfter(t)}e.selection.setRng(n)
Uh(e,n)}
var PL=function(e,t){var r=e.selection
var n=e.dom
var a=r.getRng()
var o
var i
oh(n,a).each((function(e){a.setStart(e.startContainer,e.startOffset)
a.setEnd(e.endContainer,e.endOffset)}))
var u=a.startOffset
var f=a.startContainer
if(1===f.nodeType&&f.hasChildNodes()){var c=u>f.childNodes.length-1
f=f.childNodes[Math.min(u,f.childNodes.length-1)]||f
u=c&&3===f.nodeType?f.nodeValue.length:0}var s=n.getParent(f,n.isBlock)
var l=s?n.getParent(s.parentNode,n.isBlock):null
var v=l?l.nodeName.toUpperCase():""
var d=!!(t&&t.ctrlKey)
"LI"!==v||d||(s=l)
if(f&&3===f.nodeType&&u>=f.nodeValue.length&&!OL(e.schema,f,s)){o=n.create("br")
a.insertNode(o)
a.setStartAfter(o)
a.setEndAfter(o)
i=true}o=n.create("br")
kl(n,a,o)
BL(e,o,i)
e.undoManager.add()}
var LL=function(e,t){var r=pr.fromTag("br")
mn(pr.fromDom(t),r)
e.undoManager.add()}
var IL=function(e,t){FL(e.getBody(),t)||gn(pr.fromDom(t),pr.fromTag("br"))
var r=pr.fromTag("br")
gn(pr.fromDom(t),r)
BL(e,r.dom,false)
e.undoManager.add()}
var ML=function(e){return Zn(e.getNode())}
var FL=function(e,t){return!!ML(Cl.after(t))||Lm(e,Cl.after(t)).map((function(e){return Zn(e.getNode())})).getOr(false)}
var UL=function(e){return e&&"A"===e.nodeName&&"href"in e}
var zL=function(e){return e.fold(I,UL,UL,I)}
var jL=function(e){var t=D(WR,e)
var r=Cl.fromRangeStart(e.selection.getRng())
return ID(t,e.getBody(),r).filter(zL)}
var HL=function(e,t){t.fold(E,D(LL,e),D(IL,e),E)}
var VL=function(e,t){var r=jL(e)
r.isSome()?r.each(D(HL,e)):PL(e,t)}
var qL=function(e,t){return oL(e).filter((function(e){return t.length>0&&Nr(pr.fromDom(e),t)})).isSome()}
var $L=function(e){return qL(e,dv(e))}
var WL=function(e){return qL(e,mv(e))}
var KL=qa.generate([{br:[]},{block:[]},{none:[]}])
var XL=function(e,t){return WL(e)}
var YL=function(e){return function(t,r){var n=""===lv(t)
return n===e}}
var GL=function(e){return function(t,r){return uL(t)===e}}
var JL=function(e,t){return function(r,n){var a=iL(r)===e.toUpperCase()
return a===t}}
var QL=function(e){return JL("pre",e)}
var ZL=function(){return JL("summary",true)}
var eI=function(e){return function(t,r){return sv(t)===e}}
var tI=function(e,t){return $L(e)}
var rI=function(e,t){return t}
var nI=function(e){var t=lv(e)
var r=aL(e.dom,e.selection.getStart())
return r&&e.schema.isValidChild(r.nodeName,t||"P")}
var aI=function(e,t){return function(r,n){var a=re(e,(function(e,t){return e&&t(r,n)}),true)
return a?H.some(t):H.none()}}
var oI=function(e,t){return ED([aI([XL],KL.none()),aI([ZL()],KL.br()),aI([QL(true),eI(false),rI],KL.br()),aI([QL(true),eI(false)],KL.block()),aI([QL(true),eI(true),rI],KL.block()),aI([QL(true),eI(true)],KL.br()),aI([GL(true),rI],KL.br()),aI([GL(true)],KL.block()),aI([YL(true),rI,nI],KL.block()),aI([YL(true)],KL.br()),aI([tI],KL.br()),aI([YL(false),rI],KL.br()),aI([nI],KL.block())],[e,!!(t&&t.shiftKey)]).getOr(KL.none())}
var iI=function(e,t){oI(e,t).fold((function(){VL(e,t)}),(function(){DL(e,t)}),E)}
var uI=function(e,t){if(t.isDefaultPrevented())return
t.preventDefault()
qN(e.undoManager)
e.undoManager.transact((function(){false===e.selection.isCollapsed()&&e.execCommand("Delete")
iI(e,t)}))}
var fI=function(e){e.on("keydown",(function(t){t.keyCode===Up.ENTER&&uI(e,t)}))}
var cI=function(e,t,r){yP([{keyCode:Up.END,action:hP(nP,e,true)},{keyCode:Up.HOME,action:hP(nP,e,false)},{keyCode:Up.END,action:hP(wP,e,true)},{keyCode:Up.HOME,action:hP(wP,e,false)},{keyCode:Up.END,action:hP(eB,e,true,t)},{keyCode:Up.HOME,action:hP(eB,e,false,t)}],r).each((function(e){r.preventDefault()}))}
var sI=function(e,t){e.on("keydown",(function(r){false===r.isDefaultPrevented()&&cI(e,t,r)}))}
var lI=Ht().browser
var vI=function(e){var t=es((function(){e.composing||YC(e)}),0)
if(lI.isIE()){e.on("keypress",(function(e){t.throttle()}))
e.on("remove",(function(e){t.cancel()}))}}
var dI=function(e){vI(e)
e.on("input",(function(t){false===t.isComposing&&YC(e)}))}
var mI=Ht()
var gI=function(e,t,r){yP([{keyCode:Up.PAGE_UP,action:hP(eB,e,false,t)},{keyCode:Up.PAGE_DOWN,action:hP(eB,e,true,t)}],r)}
var pI=function(e){return e.stopImmediatePropagation()}
var hI=function(e){return e.keyCode===Up.PAGE_UP||e.keyCode===Up.PAGE_DOWN}
var yI=function(e,t,r){r&&!e.get()?t.on("NodeChange",pI,true):!r&&e.get()&&t.off("NodeChange",pI)
e.set(r)}
var bI=function(e,t){if(mI.os.isOSX())return
var r=Uc(false)
e.on("keydown",(function(t){hI(t)&&yI(r,e,true)}))
e.on("keyup",(function(n){false===n.isDefaultPrevented()&&gI(e,t,n)
if(hI(n)&&r.get()){yI(r,e,false)
e.nodeChanged()}}))}
var CI=function(e,t){var r=t.container()
var n=t.offset()
if(Yn(r)){r.insertData(n,e)
return H.some(Cl(r,n+e.length))}return im(t).map((function(r){var n=pr.fromText(e)
t.isAtEnd()?gn(r,n):mn(r,n)
return Cl(n.dom,e.length)}))}
var wI=D(CI,Mo)
var xI=D(CI," ")
var SI=function(e){return function(t){return t.fold((function(t){return Im(e.dom,Cl.before(t))}),(function(e){return Mm(e)}),(function(e){return Fm(e)}),(function(t){return Lm(e.dom,Cl.after(t))}))}}
var kI=function(e,t){return function(r){return MC(e,r)?wI(t):xI(t)}}
var NI=function(e){return function(t){e.selection.setRng(t.toRange())
e.nodeChanged()
return true}}
var EI=function(e){var t=Cl.fromRangeStart(e.selection.getRng())
var r=pr.fromDom(e.getBody())
if(e.selection.isCollapsed()){var n=D(WR,e)
var a=Cl.fromRangeStart(e.selection.getRng())
return ID(n,e.getBody(),a).bind(SI(r)).bind(kI(r,t)).exists(NI(e))}return false}
var _I=function(e,t){yP([{keyCode:Up.SPACEBAR,action:hP(EI,e)}],t).each((function(e){t.preventDefault()}))}
var AI=function(e){e.on("keydown",(function(t){false===t.isDefaultPrevented()&&_I(e,t)}))}
var RI=function(e){var t=JO(e)
KB(e)
QP(e,t)
tL(e,t)
fI(e)
AI(e)
dI(e)
sI(e,t)
bI(e,t)
return t}
var TI=function(e){return iE(e)?Uc(null):RI(e)}
var DI=function(){function e(e){this.lastPath=[]
this.editor=e
var t
var r=this
"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",(function(r){var n=e.selection.getRng()
var a={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset}
"nodechange"!==r.type&&Kp(a,t)||e.fire("SelectionChange")
t=a}))
e.on("contextmenu",(function(){e.fire("SelectionChange")}))
e.on("SelectionChange",(function(){var t=e.selection.getStart(true)
if(!t||!Jt.range&&e.selection.isCollapsed())return
lp(e)&&!r.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:true})}))
e.on("mouseup",(function(t){!t.isDefaultPrevented()&&lp(e)&&("IMG"===e.selection.getNode().nodeName?co.setEditorTimeout(e,(function(){e.nodeChanged()})):e.nodeChanged())}))}e.prototype.nodeChanged=function(e){var t=this.editor.selection
var r,n,a
if(this.editor.initialized&&t&&!id(this.editor)&&!this.editor.mode.isReadOnly()){a=this.editor.getBody()
r=t.getStart(true)||a
r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,a)||(r=a)
n=[]
this.editor.dom.getParent(r,(function(e){if(e===a)return true
n.push(e)}))
e=e||{}
e.element=r
e.parents=n
this.editor.fire("NodeChange",e)}}
e.prototype.isSameElementPath=function(e){var t
var r=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e)
if(r.length===this.lastPath.length){for(t=r.length;t>=0;t--)if(r[t]!==this.lastPath[t])break
if(-1===t){this.lastPath=r
return true}}this.lastPath=r
return false}
return e}()
var OI=function(e){e.on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()}))}
var BI=function(e){e.parser.addNodeFilter("details",(function(e){J(e,(function(e){e.attr("data-mce-open",e.attr("open"))
e.attr("open","open")}))}))
e.serializer.addNodeFilter("details",(function(e){J(e,(function(e){var t=e.attr("data-mce-open")
e.attr("open",p(t)?t:null)
e.attr("data-mce-open",null)}))}))}
var PI=function(e){OI(e)
BI(e)}
var LI=function(e){return Un(e)&&Ro(pr.fromDom(e))}
var II=function(e){var t=e.selection.getRng()
var r=Cl.fromRangeStart(t)
var n=Cl.fromRangeEnd(t)
if(Cl.isElementPosition(r)){var a=r.container()
LI(a)&&Mm(a).each((function(e){return t.setStart(e.container(),e.offset())}))}if(Cl.isElementPosition(n)){a=r.container()
LI(a)&&Fm(a).each((function(e){return t.setEnd(e.container(),e.offset())}))}e.selection.setRng(lx(t))}
var MI=function(e){e.on("click",(function(t){t.detail>=3&&II(e)}))}
var FI=function(){var e=Uc(H.none())
var t=function(){return e.set(H.none())}
var r=function(t){return e.set(H.some(t))}
var n=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:t,set:r,isSet:n,on:a}}
var UI=function(e){var t=e.getBoundingClientRect()
var r=e.ownerDocument
var n=r.documentElement
var a=r.defaultView
return{top:t.top+a.pageYOffset-n.clientTop,left:t.left+a.pageXOffset-n.clientLeft}}
var zI=function(e){return e.inline?UI(e.getBody()):{left:0,top:0}}
var jI=function(e){var t=e.getBody()
return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}}
var HI=function(e){var t=e.getBody(),r=e.getDoc().documentElement
var n={left:t.scrollLeft,top:t.scrollTop}
var a={left:t.scrollLeft||r.scrollLeft,top:t.scrollTop||r.scrollTop}
return e.inline?n:a}
var VI=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var r=UI(e.getContentAreaContainer())
var n=HI(e)
return{left:t.pageX-r.left+n.left,top:t.pageY-r.top+n.top}}return{left:t.pageX,top:t.pageY}}
var qI=function(e,t,r){return{pageX:r.left-e.left+t.left,pageY:r.top-e.top+t.top}}
var $I=function(e,t){return qI(zI(e),jI(e),VI(e,t))}
var WI=ra,KI=ta
var XI=function(e,t){return WI(t)&&t!==e}
var YI=function(e,t,r){if(t===r||e.dom.isChildOf(t,r))return false
return!WI(t)}
var GI=function(e){var t=e.cloneNode(true)
t.removeAttribute("data-mce-selected")
return t}
var JI=function(e,t,r,n){var a=e.dom
var o=t.cloneNode(true)
a.setStyles(o,{width:r,height:n})
a.setAttrib(o,"data-mce-selected",null)
var i=a.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"})
a.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:r,height:n})
a.setStyles(o,{margin:0,boxSizing:"border-box"})
i.appendChild(o)
return i}
var QI=function(e,t){e.parentNode!==t&&t.appendChild(e)}
var ZI=function(e,t,r,n,a,o){var i=0,u=0
e.style.left=t.pageX+"px"
e.style.top=t.pageY+"px"
t.pageX+r>a&&(i=t.pageX+r-a)
t.pageY+n>o&&(u=t.pageY+n-o)
e.style.width=r-i+"px"
e.style.height=n-u+"px"}
var eM=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}
var tM=function(e){return 0===e.button}
var rM=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}}
var nM=function(e,t){return function(r){if(tM(r)){var n=ae(t.dom.getParents(r.target),Qs(WI,KI)).getOr(null)
if(XI(t.getBody(),n)){var a=t.dom.getPos(n)
var o=t.getBody()
var i=t.getDoc().documentElement
e.set({element:n,dragging:false,screenX:r.screenX,screenY:r.screenY,maxX:(t.inline?o.scrollWidth:i.offsetWidth)-2,maxY:(t.inline?o.scrollHeight:i.offsetHeight)-2,relX:r.pageX-a.x,relY:r.pageY-a.y,width:n.offsetWidth,height:n.offsetHeight,ghost:JI(t,n,n.offsetWidth,n.offsetHeight)})}}}}
var aM=function(e,t){var r=co.throttle((function(e,r){t._selectionOverrides.hideFakeCaret()
t.selection.placeCaretAt(e,r)}),0)
t.on("remove",r.stop)
return function(n){return e.on((function(e){var a=Math.max(Math.abs(n.screenX-e.screenX),Math.abs(n.screenY-e.screenY))
if(!e.dragging&&a>10){var o=t.fire("dragstart",{target:e.element})
if(o.isDefaultPrevented())return
e.dragging=true
t.focus()}if(e.dragging){var i=rM(e,$I(t,n))
QI(e.ghost,t.getBody())
ZI(e.ghost,i,e.width,e.height,e.maxX,e.maxY)
r(n.clientX,n.clientY)}}))}}
var oM=function(e){var t=e.getSel().getRangeAt(0)
var r=t.startContainer
return 3===r.nodeType?r.parentNode:r}
var iM=function(e,t){return function(r){e.on((function(e){if(e.dragging&&YI(t,oM(t.selection),e.element)){var n=GI(e.element)
var a=t.fire("drop",{clientX:r.clientX,clientY:r.clientY})
a.isDefaultPrevented()||t.undoManager.transact((function(){eM(e.element)
t.insertContent(t.dom.getOuterHTML(n))
t._selectionOverrides.hideFakeCaret()}))}}))
fM(e)}}
var uM=function(e,t){return function(){e.on((function(e){e.dragging&&t.fire("dragend")}))
fM(e)}}
var fM=function(e){e.on((function(e){eM(e.ghost)}))
e.clear()}
var cM=function(e){var t=FI()
var r=Tc.DOM
var n=document
var a=nM(t,e)
var o=aM(t,e)
var i=iM(t,e)
var u=uM(t,e)
e.on("mousedown",a)
e.on("mousemove",o)
e.on("mouseup",i)
r.bind(n,"mousemove",o)
r.bind(n,"mouseup",u)
e.on("remove",(function(){r.unbind(n,"mousemove",o)
r.unbind(n,"mouseup",u)}))}
var sM=function(e){e.on("drop",(function(t){var r="undefined"!==typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(WI(r)||"false"===e.dom.getContentEditableParent(r))&&t.preventDefault()}))}
var lM=function(e){var t=function(t){if(!t.isDefaultPrevented()){var r=t.dataTransfer
if(r&&(X(r.types,"Files")||r.files.length>0)){t.preventDefault()
"drop"===t.type&&QA(e,"Dropped file type is not supported")}}}
var r=function(r){Iy(e,r.target)&&t(r)}
var n=function(){var n=Tc.DOM
var a=e.dom
var o=document
var i=e.inline?e.getBody():e.getDoc()
var u=["drop","dragover"]
J(u,(function(e){n.bind(o,e,r)
a.bind(i,e,t)}))
e.on("remove",(function(){J(u,(function(e){n.unbind(o,e,r)
a.unbind(i,e,t)}))}))}
e.on("init",(function(){co.setEditorTimeout(e,n,0)}))}
var vM=function(e){cM(e)
sM(e)
ld(e)&&lM(e)}
var dM=function(e){var t=es((function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng()
if(t.collapsed){var r=zT(e,t,false)
e.selection.setRng(r)}}}),0)
e.on("focus",(function(){t.throttle()}))
e.on("blur",(function(){t.cancel()}))}
var mM=function(e){e.on("init",(function(){e.on("focusin",(function(t){var r=t.target
if(aa(r)){var n=Np(e.getBody(),r)
var a=ra(n)?n:r
e.selection.getNode()!==a&&FT(e,a).each((function(t){return e.selection.setRng(t)}))}}))}))}
var gM=ta
var pM=ra
var hM=function(e,t){return Np(e.getBody(),t)}
var yM=function(e){var t=e.selection,r=e.dom
var n=r.isBlock
var a=e.getBody()
var o=Pd(e,a,n,(function(){return Gy(e)}))
var i="sel-"+r.uniqueId()
var u="data-mce-selected"
var f
var c=function(e){return r.hasClass(e,"mce-offscreen-selection")}
var s=function(e){return e!==a&&(pM(e)||aa(e))&&r.isChildOf(e,a)}
var l=function(e){return aC(e)||oC(e)||eC(e)||tC(e)}
var v=function(){var e=r.get(i)
return e?e.getElementsByTagName("*")[0]:e}
var d=function(e){e&&t.setRng(e)}
var m=t.getRng
var g=function(r,n,a,i){void 0===i&&(i=true)
var u=e.fire("ShowCaret",{target:n,direction:r,before:a})
if(u.isDefaultPrevented())return null
i&&t.scrollIntoView(n,-1===r)
return o.show(a,n)}
var p=function(e){if(e.hasAttribute("data-mce-caret")){ni(e)
d(m())
t.scrollIntoView(e)}}
var h=function(){e.on("mouseup",(function(t){var r=m()
r.collapsed&&HA(e,t.clientX,t.clientY)&&UT(e,r,false).each(d)}))
e.on("click",(function(n){var a=hM(e,n.target)
if(a){if(pM(a)){n.preventDefault()
e.focus()}gM(a)&&r.isChildOf(a,t.getNode())&&k()}}))
e.on("blur NewBlock",k)
e.on("ResizeWindow FullscreenStateChanged",o.reposition)
var i=function(e){var t=Sm(e)
if(!e.firstChild)return false
var r=Cl.before(e.firstChild)
var n=t.next(r)
return n&&!l(n)}
var u=function(e,t){var a=r.getParent(e,n)
var o=r.getParent(t,n)
return a===o}
var p=function(t,a){var o=r.getParent(t,n)
var f=r.getParent(a,n)
if(o&&t!==f&&r.isChildOf(o,f)&&false===pM(hM(e,o)))return true
return o&&!u(o,f)&&i(o)}
e.on("tap",(function(t){var r=t.target
var n=hM(e,r)
if(pM(n)){t.preventDefault()
FT(e,n).each(S)}else s(r)&&FT(e,r).each(S)}),true)
e.on("mousedown",(function(n){var o=n.target
if(o!==a&&"HTML"!==o.nodeName&&!r.isChildOf(o,a))return
if(false===HA(e,n.clientX,n.clientY))return
var i=hM(e,o)
if(i)if(pM(i)){n.preventDefault()
FT(e,i).each(S)}else{k()
if(!(gM(i)&&n.shiftKey)&&!Ep(n.clientX,n.clientY,t.getRng())){E()
t.placeCaretAt(n.clientX,n.clientY)}}else if(s(o))FT(e,o).each(S)
else if(false===Md(o)){k()
E()
var u=LO(a,n.clientX,n.clientY)
if(u&&!p(o,u.node)){n.preventDefault()
var f=g(1,u.node,u.before,false)
e.getBody().focus()
d(f)}}}))
e.on("keypress",(function(e){if(Up.modifierPressed(e))return
pM(t.getNode())&&e.preventDefault()}))
e.on("GetSelectionRange",(function(e){var t=e.range
if(f){if(!f.parentNode){f=null
return}t=t.cloneRange()
t.selectNode(f)
e.range=t}}))
e.on("SetSelectionRange",(function(e){e.range=C(e.range)
var t=S(e.range,e.forward)
t&&(e.range=t)}))
var h=function(e){return"mcepastebin"===e.id}
e.on("AfterSetSelectionRange",(function(e){var t=e.range
var r=t.startContainer.parentNode
b(t)||h(r)||E()
c(r)||k()}))
e.on("copy",(function(e){var t=e.clipboardData
if(!e.isDefaultPrevented()&&e.clipboardData&&!Jt.ie){var r=v()
if(r){e.preventDefault()
t.clearData()
t.setData("text/html",r.outerHTML)
t.setData("text/plain",r.outerText||r.innerText)}}}))
vM(e)
dM(e)
mM(e)}
var y=function(e){return Ko(e)||ei(e)||ti(e)}
var b=function(e){return y(e.startContainer)||y(e.endContainer)}
var C=function(t){var n=e.schema.getShortEndedElements()
var a=r.createRng()
var o=t.startContainer
var i=t.startOffset
var u=t.endContainer
var f=t.endOffset
Te(n,o.nodeName.toLowerCase())?0===i?a.setStartBefore(o):a.setStartAfter(o):a.setStart(o,i)
Te(n,u.nodeName.toLowerCase())?0===f?a.setEndBefore(u):a.setEndAfter(u):a.setEnd(u,f)
return a}
var w=function(n,a,o){var u=e.$
var f=Qa(pr.fromDom(e.getBody()),"#"+i).fold((function(){return u([])}),(function(e){return u([e.dom])}))
if(0===f.length){f=u('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i)
f.appendTo(e.getBody())}var c=r.createRng()
if(a===o&&Jt.ie){f.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(a)
c.setStartAfter(f[0].firstChild.firstChild)
c.setEndAfter(a)}else{f.empty().append(Mo).append(a).append(Mo)
c.setStart(f[0].firstChild,1)
c.setEnd(f[0].lastChild,0)}f.css({top:r.getPos(n,e.getBody()).y})
f[0].focus()
var s=t.getSel()
s.removeAllRanges()
s.addRange(c)
return c}
var x=function(t){var n=t.cloneNode(true)
var a=e.fire("ObjectSelected",{target:t,targetClone:n})
if(a.isDefaultPrevented())return null
var o=w(t,a.targetClone,n)
var i=pr.fromDom(t)
J(ms(pr.fromDom(e.getBody()),"*[data-mce-selected]"),(function(e){Rr(i,e)||va(e,u)}))
r.getAttrib(t,u)||t.setAttribute(u,"1")
f=t
E()
return o}
var S=function(e,t){if(!e)return null
if(e.collapsed){if(!b(e)){var n=t?1:-1
var o=om(n,a,e)
var i=o.getNode(!t)
if(Md(i))return g(n,i,!!t&&!o.isAtEnd(),false)
var u=o.getNode(t)
if(Md(u))return g(n,u,!t&&!o.isAtEnd(),false)}return null}var f=e.startContainer
var c=e.startOffset
var l=e.endOffset
if(3===f.nodeType&&0===c&&pM(f.parentNode)){f=f.parentNode
c=r.nodeIndex(f)
f=f.parentNode}if(1!==f.nodeType)return null
if(l===c+1&&f===e.endContainer){var v=f.childNodes[c]
if(s(v))return x(v)}return null}
var k=function(){f&&f.removeAttribute(u)
Qa(pr.fromDom(e.getBody()),"#"+i).each(xn)
f=null}
var N=function(){o.destroy()
f=null}
var E=function(){o.hide()}
Jt.ceFalse&&!iE(e)&&h()
return{showCaret:g,showBlockCaretContainer:p,hideFakeCaret:E,destroy:N}}
var bM=function(e){var t=sr.each
var r=Up.BACKSPACE,n=Up.DELETE,a=e.dom,o=e.selection,i=e.parser
var u=Jt.gecko,f=Jt.ie,c=Jt.webkit
var s="data:text/mce-internal,"
var l=f?"Text":"URL"
var v=function(t,r){try{e.getDoc().execCommand(t,false,r)}catch(e){}}
var d=function(e){return e.isDefaultPrevented()}
var m=function(t){var r,n
if(t.dataTransfer){e.selection.isCollapsed()&&"IMG"===t.target.tagName&&o.select(t.target)
r=e.selection.getContent()
if(r.length>0){n=s+escape(e.id)+","+escape(r)
t.dataTransfer.setData(l,n)}}}
var g=function(e){var t
if(e.dataTransfer){t=e.dataTransfer.getData(l)
if(t&&t.indexOf(s)>=0){t=t.substr(s.length).split(",")
return{id:unescape(t[0]),html:unescape(t[1])}}}return null}
var p=function(t,r){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",false,{content:t,internal:r}):e.execCommand("mceInsertContent",false,t)}
var h=function(){var t=function(e){var t=a.create("body")
var r=e.cloneContents()
t.appendChild(r)
return o.serializer.serialize(t,{format:"html"})}
var i=function(r){var n=t(r)
var o=a.createRng()
o.selectNode(e.getBody())
var i=t(o)
return n===i}
e.on("keydown",(function(t){var o=t.keyCode
var u,f
if(!d(t)&&(o===n||o===r)){u=e.selection.isCollapsed()
f=e.getBody()
if(u&&!a.isEmpty(f))return
if(!u&&!i(e.selection.getRng()))return
t.preventDefault()
e.setContent("")
f.firstChild&&a.isBlock(f.firstChild)?e.selection.setCursorLocation(f.firstChild,0):e.selection.setCursorLocation(f,0)
e.nodeChanged()}}))}
var y=function(){e.shortcuts.add("meta+a",null,"SelectAll")}
var b=function(){e.inline||a.bind(e.getDoc(),"mousedown mouseup",(function(t){var r
if(t.target===e.getDoc().documentElement){r=o.getRng()
e.getBody().focus()
if("mousedown"===t.type){if(Ko(r.startContainer))return
o.placeCaretAt(t.clientX,t.clientY)}else o.setRng(r)}}))}
var C=function(){e.on("keydown",(function(t){if(!d(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return
if(o.isCollapsed()&&0===o.getRng().startOffset){var n=o.getNode()
var i=n.previousSibling
if("HR"===n.nodeName){a.remove(n)
t.preventDefault()
return}if(i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()){a.remove(i)
t.preventDefault()}}}}))}
var w=function(){Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!d(t)&&"HTML"===t.target.nodeName){var r=e.getBody()
r.blur()
co.setEditorTimeout(e,(function(){r.focus()}))}}))}
var x=function(){e.on("click",(function(t){var r=t.target
if(/^(IMG|HR)$/.test(r.nodeName)&&"false"!==a.getContentEditableParent(r)){t.preventDefault()
e.selection.select(r)
e.nodeChanged()}if("A"===r.nodeName&&a.hasClass(r,"mce-item-anchor")){t.preventDefault()
o.select(r)}}))}
var S=function(){var r=function(){var r=a.getAttribs(o.getStart().cloneNode(false))
return function(){var n=o.getStart()
if(n!==e.getBody()){a.setAttrib(n,"style",null)
t(r,(function(e){n.setAttributeNode(e.cloneNode(true))}))}}}
var n=function(){return!o.isCollapsed()&&a.getParent(o.getStart(),a.isBlock)!==a.getParent(o.getEnd(),a.isBlock)}
e.on("keypress",(function(t){var a
if(!d(t)&&(8===t.keyCode||46===t.keyCode)&&n()){a=r()
e.getDoc().execCommand("delete",false,null)
a()
t.preventDefault()
return false}}))
a.bind(e.getDoc(),"cut",(function(t){var a
if(!d(t)&&n()){a=r()
co.setEditorTimeout(e,(function(){a()}))}}))}
var k=function(){e.on("keydown",(function(e){if(!d(e)&&e.keyCode===r&&o.isCollapsed()&&0===o.getRng().startOffset){var t=o.getNode().previousSibling
if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase()){e.preventDefault()
return false}}}))}
var N=function(){e.on("keydown",(function(t){var r,n
if(d(t)||t.keyCode!==Up.BACKSPACE)return
r=o.getRng()
var i=r.startContainer
var u=r.startOffset
var f=a.getRoot()
n=i
if(!r.collapsed||0!==u)return
while(n&&n.parentNode&&n.parentNode.firstChild===n&&n.parentNode!==f)n=n.parentNode
if("BLOCKQUOTE"===n.tagName){e.formatter.toggle("blockquote",null,n)
r=a.createRng()
r.setStart(i,0)
r.setEnd(i,0)
o.setRng(r)}}))}
var _=function(){var t=function(){v("StyleWithCSS",false)
v("enableInlineTableEditing",false)
Uv(e)||v("enableObjectResizing",false)}
ud(e)||e.on("BeforeExecCommand mousedown",t)}
var A=function(){var r=function(){t(a.select("a"),(function(e){var t=e.parentNode
var r=a.getRoot()
if(t.lastChild===e){while(t&&!a.isBlock(t)){if(t.parentNode.lastChild!==t||t===r)return
t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}}))}
e.on("SetContent ExecCommand",(function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r()}))}
var R=function(){lv(e)&&e.on("init",(function(){v("DefaultParagraphSeparator",lv(e))}))}
var T=function(){e.on("keyup focusin mouseup",(function(e){Up.modifierPressed(e)||o.normalize()}),true)}
var D=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}
var O=function(){e.inline||e.on("keydown",(function(){document.activeElement===document.body&&e.getWin().focus()}))}
var B=function(){if(!e.inline){e.contentStyles.push("body {min-height: 150px}")
e.on("click",(function(t){var r
if("HTML"===t.target.nodeName){if(Jt.ie>11){e.getBody().focus()
return}r=e.selection.getRng()
e.getBody().focus()
e.selection.setRng(r)
e.selection.normalize()
e.nodeChanged()}}))}}
var P=function(){Jt.mac&&e.on("keydown",(function(t){if(Up.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault()
var r=e.selection.getSel()
r.modify("move",37===t.keyCode?"backward":"forward","lineboundary")}}))}
var L=function(){v("AutoUrlDetect",false)}
var I=function(){e.on("click",(function(e){var t=e.target
do{if("A"===t.tagName){e.preventDefault()
return}}while(t=t.parentNode)}))
e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}
var M=function(){e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(e){e.preventDefault()}))}))}
var F=function(){i.addNodeFilter("br",(function(e){var t=e.length
while(t--)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}))}
var U=function(){e.on("dragstart",(function(e){m(e)}))
e.on("drop",(function(t){if(!d(t)){var r=g(t)
if(r&&r.id!==e.id){t.preventDefault()
var n=Wp(t.x,t.y,e.getDoc())
o.setRng(n)
p(r.html,true)}}}))}
var z=E
var j=function(){if(!u||e.removed)return false
var t=e.selection.getSel()
return!t||!t.rangeCount||0===t.rangeCount}
var H=function(){if(c){x()
M()
y()
if(Jt.iOS){O()
B()
I()}}if(u){w()
_()
D()
P()}}
var V=function(){N()
h()
Jt.windowsPhone||T()
if(c){b()
x()
R()
M()
k()
F()
if(Jt.iOS){O()
B()
I()}else y()}if(Jt.ie>=11){B()
k()}if(Jt.ie){y()
L()
U()}if(u){C()
w()
S()
_()
A()
D()
P()
k()}}
iE(e)?H():V()
return{refreshContentEditable:z,isHidden:j}}
var CM=Tc.DOM
var wM=function(e,t){var r=pr.fromDom(e.getBody())
var n=cn(fn(r))
var a=pr.fromTag("style")
ua(a,"type","text/css")
hn(a,pr.fromText(t))
hn(n,a)
e.on("remove",(function(){xn(a)}))}
var xM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0}
var SM=function(e){return Ee(e,(function(e){return false===w(e)}))}
var kM=function(e){var t=e.settings
var r=e.editorUpload.blobCache
return SM({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:xM(e),validate:true,blob_cache:r,images_dataimg_filter:t.images_dataimg_filter})}
var NM=function(e){var t=e.settings
return He(He({},kM(e)),SM({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))}
var EM=function(e){var t=R_(kM(e),e.schema)
t.addAttributeFilter("src,href,style,tabindex",(function(t,r){var n,a,o=t.length
var i=e.dom
var u="data-mce-"+r
while(o--){n=t[o]
a=n.attr(r)
if(a&&!n.attr(u)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue
if("style"===r){a=i.serializeStyle(i.parseStyle(a),n.name)
a.length||(a=null)
n.attr(u,a)
n.attr(r,a)}else if("tabindex"===r){n.attr(u,a)
n.attr(r,null)}else n.attr(u,e.convertURL(a,r,n.name))}}}))
t.addNodeFilter("script",(function(e){var t=e.length
while(t--){var r=e[t]
var n=r.attr("type")||"no/type"
0!==n.indexOf("mce-")&&r.attr("type","mce-"+n)}}))
e.settings.preserve_cdata&&t.addNodeFilter("#cdata",(function(t){var r=t.length
while(r--){var n=t[r]
n.type=8
n.name="#comment"
n.value="[CDATA["+e.dom.encode(n.value)+"]]"}}))
t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){var r=t.length
var n=e.schema.getNonEmptyElements()
while(r--){var a=t[r]
a.isEmpty(n)&&0===a.getAll("br").length&&(a.append(new db("br",1)).shortEnded=true)}}))
return t}
var _M=function(e){e.settings.auto_focus&&co.setEditorTimeout(e,(function(){var t
t=true===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)
t.destroyed||t.focus()}),100)}
var AM=function(e){var t=e.dom.getRoot()
e.inline||lp(e)&&e.selection.getStart(true)!==t||Mm(t).each((function(t){var r=t.getNode()
var n=Wn(r)?Mm(r).getOr(t):t
Jt.browser.isIE()?wy(e,n.toRange()):e.selection.setRng(n.toRange())}))}
var RM=function(e){e.bindPendingEventDelegates()
e.initialized=true
Ip(e)
e.focus(true)
AM(e)
e.nodeChanged({initial:true})
e.execCallback("init_instance_callback",e)
_M(e)}
var TM=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader}
var DM=function(e,t,r){var n=[new to((function(r,n){return TM(e).loadAll(t,r,n)}))]
return e.inline?n:n.concat([new to((function(t,n){return e.ui.styleSheetLoader.loadAll(r,t,n)}))])}
var OM=function(e,t){var r=TM(e)
var n=Iv(e)
var a=function(){r.unloadAll(t)
e.inline||e.ui.styleSheetLoader.unloadAll(n)}
var o=function(){if(e.removed)a()
else{e.on("remove",a)
RM(e)}}
to.all(DM(e,t,n)).then(o).catch(o)}
var BM=function(e){var t=e.settings,r=e.getDoc(),n=e.getBody()
if(!t.browser_spellcheck&&!t.gecko_spellcheck){r.body.spellcheck=false
CM.setAttrib(n,"spellcheck","false")}e.quirks=bM(e)
Lp(e)
var a=Mv(e)
void 0!==a&&(n.dir=a)
t.protect&&e.on("BeforeSetContent",(function(e){sr.each(t.protect,(function(t){e.content=e.content.replace(t,(function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"}))}))}))
e.on("SetContent",(function(){e.addVisual(e.getBody())}))
iE(e)||e.load({initial:true,format:"html"})
e.startContent=e.getContent({format:"raw"})
e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type}))
if(e.contentStyles.length>0){var o=""
sr.each(e.contentStyles,(function(e){o+=e+"\r\n"}))
e.dom.addStyle(o)}OM(e,e.contentCSS)
t.content_style&&wM(e,t.content_style)}
var PM=function(e,t){var r=e.settings
var n=e.getElement()
var a=e.getDoc()
r.inline||(e.getElement().style.visibility=e.orgVisibility)
if(!t&&!e.inline){a.open()
a.write(e.iframeHTML)
a.close()}if(e.inline){CM.addClass(n,"mce-content-body")
e.contentDocument=a=document
e.contentWindow=window
e.bodyElement=n
e.contentAreaContainer=n}var o=e.getBody()
o.disabled=true
e.readonly=!!r.readonly
if(!e.readonly){e.inline&&"static"===CM.getStyle(o,"position",true)&&(o.style.position="relative")
o.contentEditable=e.getParam("content_editable_state",true)}o.disabled=false
e.editorUpload=xR(e)
e.schema=du(r)
e.dom=Tc(a,{keep_values:true,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:true,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Rv(e),referrerPolicy:Tv(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}})
e.parser=EM(e)
e.serializer=H_(NM(e),e)
e.selection=JE(e.dom,e.getWin(),e.serializer,e)
e.annotator=Sp(e)
e.formatter=OR(e)
e.undoManager=LR(e)
e._nodeChangeDispatcher=new DI(e)
e._selectionOverrides=yM(e)
IB(e)
PI(e)
iE(e)||MI(e)
var i=TI(e)
DB(e,i)
HB(e)
VR(e)
Pp(e)
fE(e).fold((function(){BM(e)}),(function(t){e.setProgressState(true)
t.then((function(t){e.setProgressState(false)
BM(e)}),(function(t){e.notificationManager.open({type:"error",text:String(t)})
BM(e)}))}))}
var LM=Tc.DOM
var IM=function(e,t){if(document.domain!==window.location.hostname&&Jt.browser.isIE()){var r=gR("mce")
e[r]=function(){PM(e)}
var n='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()"
LM.setAttrib(t,"src",n)
return true}return false}
var MM=function(e,t,r,n){var a=pr.fromTag("iframe")
fa(a,n)
fa(a,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t})
cs(a,"tox-edit-area__iframe")
return a}
var FM=function(e){var t=ov(e)+"<html><head>"
iv(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />')
t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />'
var r=uv(e)
var n=fv(e)
cv(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+cv(e)+'" />')
t+='</head><body id="'+r+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'
return t}
var UM=function(e,t){var r=e.editorManager.translate("Rich Text Area. Press ALT-0 for help.")
var n=MM(e.id,r,t.height,av(e)).dom
n.onload=function(){n.onload=null
e.fire("load")}
var a=IM(e,n)
e.contentAreaContainer=t.iframeContainer
e.iframeElement=n
e.iframeHTML=FM(e)
LM.add(t.iframeContainer,n)
return a}
var zM=function(e,t){var r=UM(e,t)
if(t.editorContainer){LM.get(t.editorContainer).style.display=e.orgDisplay
e.hidden=LM.isHidden(t.editorContainer)}e.getElement().style.display="none"
LM.setAttrib(e.id,"aria-hidden","true")
r||PM(e)}
var jM=Tc.DOM
var HM=function(e,t,r){var n=KA.get(r)
var a=KA.urls[r]||e.documentBaseUrl.replace(/\/$/,"")
r=sr.trim(r)
if(n&&-1===sr.inArray(t,r)){sr.each(KA.dependencies(r),(function(r){HM(e,t,r)}))
if(e.plugins[r])return
try{var o=new n(e,a,e.$)
e.plugins[r]=o
if(o.init){o.init(e,a)
t.push(r)}}catch(t){oR(e,r,t)}}}
var VM=function(e){return e.replace(/^\-/,"")}
var qM=function(e){var t=[]
sr.each(cd(e).split(/[ ,]/),(function(r){HM(e,t,VM(r))}))}
var $M=function(e){var t=sr.trim(Sv(e))
var r=e.ui.registry.getAll().icons
var n=He(He({},OA.get("default").icons),OA.get(t).icons)
Ce(n,(function(t,n){Te(r,n)||e.ui.registry.addIcon(n,t)}))}
var WM=function(e){var t=qv(e)
if(p(t)){e.settings.theme=VM(t)
var r=XA.get(t)
e.theme=new r(e,XA.urls[t])
e.theme.init&&e.theme.init(e,XA.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}
var KM=function(e){return e.theme.renderUI()}
var XM=function(e){var t=e.getElement()
var r=qv(e)
var n=r(e,t)
n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent")
n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer")
n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight
return n}
var YM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}}
var GM=function(e){var t=jM.create("div")
jM.insertAfter(t,e)
return YM(t)}
var JM=function(e){var t=e.getElement()
return e.inline?YM(null):GM(t)}
var QM=function(e){var t=e.getElement()
e.orgDisplay=t.style.display
return p(qv(e))?KM(e):k(qv(e))?XM(e):JM(e)}
var ZM=function(e,t){var r={show:H.from(t.show).getOr(E),hide:H.from(t.hide).getOr(E),disable:H.from(t.disable).getOr(E),isDisabled:H.from(t.isDisabled).getOr(I),enable:function(){e.mode.isReadOnly()||H.from(t.enable).map(L)}}
e.ui=He(He({},e.ui),r)}
var eF=function(e){e.fire("ScriptsLoaded")
$M(e)
WM(e)
qM(e)
var t=QM(e)
ZM(e,H.from(t.api).getOr({}))
var r={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer}
e.editorContainer=r.editorContainer?r.editorContainer:null
lR(e)
return e.inline?PM(e):zM(e,r)}
var tF=Tc.DOM
var rF=function(e){return"-"===e.charAt(0)}
var nF=function(e,t){var r=Dv(t)
var n=Ov(t)
if(false===Qc.hasCode(r)&&"en"!==r){var a=""!==n?n:t.editorManager.baseURL+"/langs/"+r+".js"
e.add(a,E,void 0,(function(){aR(t,a,r)}))}}
var aF=function(e,t,r,n){var a=qv(t)
if(p(a)){if(!rF(a)&&!XA.urls.hasOwnProperty(a)){var o=Jv(t)
o?XA.load(a,t.documentBaseURI.toAbsolute(o)):XA.load(a,"themes/"+a+"/theme"+r+".js")}e.loadQueue((function(){XA.waitFor(a,n)}))}else n()}
var oF=function(e){return H.from(kv(e)).filter((function(e){return e.length>0})).map((function(e){return{url:e,name:H.none()}}))}
var iF=function(e,t,r){return H.from(t).filter((function(e){return e.length>0&&!OA.has(e)})).map((function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+r+".js",name:H.some(t)}}))}
var uF=function(e,t,r){var n=iF(t,"default",r)
var a=oF(t).orThunk((function(){return iF(t,Sv(t),"")}))
J(Is([n,a]),(function(r){e.add(r.url,E,void 0,(function(){nR(t,r.url,r.name.getOrUndefined())}))}))}
var fF=function(e,t){sr.each(sd(e),(function(t,r){KA.load(r,t,E,void 0,(function(){rR(e,t,r)}))
e.settings.plugins+=" "+r}))
sr.each(cd(e).split(/[ ,]/),(function(r){r=sr.trim(r)
if(r&&!KA.urls[r])if(rF(r)){r=r.substr(1,r.length)
var n=KA.dependencies(r)
sr.each(n,(function(r){var n={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"}
var a=KA.createUrl(n,r)
KA.load(a.resource,a,E,void 0,(function(){rR(e,a.prefix+a.resource+a.suffix,a.resource)}))}))}else{var a={prefix:"plugins/",resource:r,suffix:"/plugin"+t+".js"}
KA.load(r,a,E,void 0,(function(){rR(e,a.prefix+a.resource+a.suffix,r)}))}}))}
var cF=function(e,t){var r=Fc.ScriptLoader
aF(r,e,t,(function(){nF(r,e)
uF(r,e,t)
fF(e,t)
r.loadQueue((function(){e.removed||eF(e)}),e,(function(){e.removed||eF(e)}))}))}
var sF=function(e,t){return vo.forElement(e,{contentCssCors:fd(t),referrerPolicy:Tv(t)})}
var lF=function(e){var t=e.id
Qc.setCode(Dv(e))
var r=function(){tF.unbind(window,"ready",r)
e.render()}
if(!_u.Event.domLoaded){tF.bind(window,"ready",r)
return}if(!e.getElement())return
if(!Jt.contentEditable)return
var n=pr.fromDom(e.getElement())
var a=da(n)
e.on("remove",(function(){Q(n.dom.attributes,(function(e){return va(n,e.name)}))
fa(n,a)}))
e.ui.styleSheetLoader=sF(n,e)
if(Qv(e))e.inline=true
else{e.orgVisibility=e.getElement().style.visibility
e.getElement().style.visibility="hidden"}var o=e.getElement().form||tF.getParent(t,"form")
if(o){e.formElement=o
if(Zv(e)&&!Xn(e.getElement())){tF.insertAfter(tF.create("input",{type:"hidden",name:t}),t)
e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)}
tF.bind(o,"submit reset",e.formEventDelegate)
e.on("reset",(function(){e.resetContent()}))
if(ed(e)&&!o.submit.nodeType&&!o.submit.length&&!o._mceOldSubmit){o._mceOldSubmit=o.submit
o.submit=function(){e.editorManager.triggerSave()
e.setDirty(false)
return o._mceOldSubmit(o)}}}e.windowManager=GA(e)
e.notificationManager=WA(e)
td(e)&&e.on("GetContent",(function(e){e.save&&(e.content=tF.encode(e.content))}))
rd(e)&&e.on("submit",(function(){e.initialized&&e.save()}))
if(nd(e)){e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:true,set_dirty:false})}
e.editorManager.on("BeforeUnload",e._beforeUnload)}e.editorManager.add(e)
cF(e,e.suffix)}
var vF=function(e,t){return LE(e,t)}
var dF={"font-size":"size","font-family":"face"}
var mF=function(e,t,r){var n=function(t){return ya(t,e).orThunk((function(){return"font"===Br(t)?Re(dF,e).bind((function(e){return sa(t,e)})):H.none()}))}
var a=function(e){return Rr(pr.fromDom(t),e)}
return oS(pr.fromDom(r),(function(e){return n(e)}),a)}
var gF=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}
var pF=function(e,t){return H.from(Tc.DOM.getStyle(t,e,true))}
var hF=function(e){return function(t,r){return H.from(r).map(pr.fromDom).filter(Mr).bind((function(r){return mF(e,t,r.dom).or(pF(e,r.dom))})).getOr("")}}
var yF=hF("font-size")
var bF=_(gF,hF("font-family"))
var CF=function(e){return Mm(e.getBody()).map((function(e){var t=e.container()
return Yn(t)?t.parentNode:t}))}
var wF=function(e){return H.from(e.selection.getRng()).bind((function(t){var r=e.getBody()
var n=t.startContainer===r&&0===t.startOffset
return n?H.none():H.from(e.selection.getStart(true))}))}
var xF=function(e,t){return wF(e).orThunk(D(CF,e)).map(pr.fromDom).filter(Mr).map(t)}
var SF=function(e,t){if(/^[0-9.]+$/.test(t)){var r=parseInt(t,10)
if(r>=1&&r<=7){var n=hv(e)
var a=yv(e)
return a?a[r-1]||t:n[r-1]||t}return t}return t}
var kF=function(e){var t=e.split(/\s*,\s*/)
return G(t,(function(e){return-1===e.indexOf(" ")||ut(e,'"')||ut(e,"'")?e:"'"+e+"'"})).join(",")}
var NF=function(e,t){var r=SF(e,t)
e.formatter.toggle("fontname",{value:kF(r)})
e.nodeChanged()}
var EF=function(e){return xF(e,(function(t){return bF(e.getBody(),t.dom)})).getOr("")}
var _F=function(e,t){e.formatter.toggle("fontsize",{value:SF(e,t)})
e.nodeChanged()}
var AF=function(e){return xF(e,(function(t){return yF(e.getBody(),t.dom)})).getOr("")}
var RF=function(e){return xF(e,(function(t){var r=pr.fromDom(e.getBody())
var n=oS(t,(function(e){return ya(e,"line-height")}),D(Rr,r))
var a=function(){var e=parseFloat(pa(t,"line-height"))
var r=parseFloat(pa(t,"font-size"))
return String(e/r)}
return n.getOrThunk(a)})).getOr("")}
var TF=function(e,t){e.formatter.toggle("lineheight",{value:String(t)})
e.nodeChanged()}
var DF=function(e){var t
if("string"!==typeof e){t=sr.extend({paste:e.paste,data:{paste:e.paste}},e)
return{content:e.content,details:t}}return{content:e,details:{}}}
var OF=function(e,t){var r=DF(t)
BE(e,r.content,r.details)}
var BF=sr.each
var PF=sr.map,LF=sr.inArray
var IF=function(){function e(e){this.commands={state:{},exec:{},value:{}}
this.editor=e
this.setupCommands(e)}e.prototype.execCommand=function(e,t,r,n){var a,o=false
var i=this
if(i.editor.removed)return;/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||n&&n.skip_focus?Sy(i.editor):i.editor.focus()
n=i.editor.fire("BeforeExecCommand",{command:e,ui:t,value:r})
if(n.isDefaultPrevented())return false
var u=e.toLowerCase()
if(a=i.commands.exec[u]){a(u,t,r)
i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}BF(this.editor.plugins,(function(n){if(n.execCommand&&n.execCommand(e,t,r)){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
o=true
return false}}))
if(o)return o
if(i.editor.theme&&i.editor.theme.execCommand&&i.editor.theme.execCommand(e,t,r)){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}try{o=i.editor.getDoc().execCommand(e,t,r)}catch(e){}if(o){i.editor.fire("ExecCommand",{command:e,ui:t,value:r})
return true}return false}
e.prototype.queryCommandState=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.state[e])return t(e)
try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return false}
e.prototype.queryCommandValue=function(e){var t
if(this.editor.quirks.isHidden()||this.editor.removed)return
e=e.toLowerCase()
if(t=this.commands.value[e])return t(e)
try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}
e.prototype.addCommands=function(e,t){void 0===t&&(t="exec")
var r=this
BF(e,(function(e,n){BF(n.toLowerCase().split(","),(function(n){r.commands[t][n]=e}))}))}
e.prototype.addCommand=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.exec[e]=function(e,a,o,i){return t.call(r||n.editor,a,o,i)}}
e.prototype.queryCommandSupported=function(e){e=e.toLowerCase()
if(this.commands.exec[e])return true
try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return false}
e.prototype.addQueryStateHandler=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.state[e]=function(){return t.call(r||n.editor)}}
e.prototype.addQueryValueHandler=function(e,t,r){var n=this
e=e.toLowerCase()
this.commands.value[e]=function(){return t.call(r||n.editor)}}
e.prototype.hasCustomCommand=function(e){e=e.toLowerCase()
return!!this.commands.exec[e]}
e.prototype.execNativeCommand=function(e,t,r){void 0===t&&(t=false)
void 0===r&&(r=null)
return this.editor.getDoc().execCommand(e,t,r)}
e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)}
e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0)
this.editor.nodeChanged()}
e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)}
e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)}
e.prototype.setupCommands=function(e){var t=this
this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":E,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(r){var n=e.getDoc()
var a
try{t.execNativeCommand(r)}catch(e){a=true}"paste"!==r||n.queryCommandEnabled(r)||(a=true)
if(a||!n.queryCommandSupported(r)){var o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.")
Jt.mac&&(o=o.replace(/Ctrl\+/g,"⌘+"))
e.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a")
t&&e.dom.remove(t,true)
return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(r){var n=r.substring(7)
"full"===n&&(n="justify")
BF("left,center,right,justify".split(","),(function(t){n!==t&&e.formatter.remove("align"+t)}))
"none"!==n&&t.toggleFormat("align"+n)},"InsertUnorderedList,InsertOrderedList":function(r){var n
t.execNativeCommand(r)
var a=e.dom.getParent(e.selection.getNode(),"ol,ul")
if(a){n=a.parentNode
if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)){t.storeSelection()
e.dom.split(n,a)
t.restoreSelection()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,r,n){t.toggleFormat(e,n)},FontName:function(t,r,n){NF(e,n)},FontSize:function(t,r,n){_F(e,n)},LineHeight:function(t,r,n){TF(e,n)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,r,n){return t.toggleFormat(n||"p")},mceCleanup:function(){var t=e.selection.getBookmark()
e.setContent(e.getContent())
e.selection.moveToBookmark(t)},mceRemoveNode:function(r,n,a){var o=a||e.selection.getNode()
if(o!==e.getBody()){t.storeSelection()
e.dom.remove(o,true)
t.restoreSelection()}},mceSelectNodeDepth:function(t,r,n){var a=0
e.dom.getParent(e.selection.getNode(),(function(t){if(1===t.nodeType&&a++===n){e.selection.select(t)
return false}}),e.getBody())},mceSelectNode:function(t,r,n){e.selection.select(n)},mceInsertContent:function(t,r,n){OF(e,n)},mceInsertRawHTML:function(t,r,n){e.selection.setContent("tiny_mce_marker")
var a=e.getContent()
e.setContent(a.replace(/tiny_mce_marker/g,(function(){return n})))},mceInsertNewLine:function(t,r,n){iI(e,n)},mceToggleFormat:function(e,r,n){t.toggleFormat(n)},mceSetContent:function(t,r,n){e.setContent(n)},"Indent,Outdent":function(t){EB(e,t)},mceRepaint:E,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual
e.addVisual()},mceReplaceContent:function(t,r,n){e.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,r,n){"string"===typeof n&&(n={href:n})
var a=e.dom.getParent(e.selection.getNode(),"a")
n.href=n.href.replace(/ /g,"%20")
a&&n.href||e.formatter.remove("link")
n.href&&e.formatter.apply("link",n,a)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),ta)
if(t){var r=e.dom.createRng()
r.selectNodeContents(t)
e.selection.setRng(r)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,r,n){VL(e,n)
return true}})
var r=function(t){return function(){var r=e.selection
var n=r.isCollapsed()?[e.dom.getParent(r.getNode(),e.dom.isBlock)]:r.getSelectedBlocks()
var a=PF(n,(function(r){return!!e.formatter.matchNode(r,t)}))
return-1!==LF(a,true)}}
t.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return xB(e)},"InsertUnorderedList,InsertOrderedList":function(t){var r=e.dom.getParent(e.selection.getNode(),"ul,ol")
return r&&("insertunorderedlist"===t&&"UL"===r.tagName||"insertorderedlist"===t&&"OL"===r.tagName)}},"state")
t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})
t.addQueryValueHandler("FontName",(function(){return EF(e)}),this)
t.addQueryValueHandler("FontSize",(function(){return AF(e)}),this)
t.addQueryValueHandler("LineHeight",(function(){return RF(e)}),this)}
return e}()
var MF="data-mce-contenteditable"
var FF=function(e,t,r){vs(e,t)&&false===r?ls(e,t):r&&cs(e,t)}
var UF=function(e,t,r){try{e.getDoc().execCommand(t,false,String(r))}catch(e){}}
var zF=function(e,t){e.dom.contentEditable=t?"true":"false"}
var jF=function(e){J(ms(e,'*[contenteditable="true"]'),(function(e){ua(e,MF,"true")
zF(e,false)}))}
var HF=function(e){J(ms(e,"*["+MF+'="true"]'),(function(e){va(e,MF)
zF(e,true)}))}
var VF=function(e){H.from(e.selection.getNode()).each((function(e){e.removeAttribute("data-mce-selected")}))}
var qF=function(e){e.selection.setRng(e.selection.getRng())}
var $F=function(e,t){var r=pr.fromDom(e.getBody())
FF(r,"mce-content-readonly",t)
if(t){e.selection.controlSelection.hideResizeRect()
e._selectionOverrides.hideFakeCaret()
VF(e)
e.readonly=true
zF(r,false)
jF(r)}else{e.readonly=false
zF(r,true)
HF(r)
UF(e,"StyleWithCSS",false)
UF(e,"enableInlineTableEditing",false)
UF(e,"enableObjectResizing",false)
Jy(e)&&e.focus()
qF(e)
e.nodeChanged()}}
var WF=function(e){return e.readonly}
var KF=function(e){e.parser.addAttributeFilter("contenteditable",(function(t){WF(e)&&J(t,(function(e){e.attr(MF,e.attr("contenteditable"))
e.attr("contenteditable","false")}))}))
e.serializer.addAttributeFilter(MF,(function(t){WF(e)&&J(t,(function(e){e.attr("contenteditable",e.attr(MF))}))}))
e.serializer.addTempAttr(MF)}
var XF=function(e){e.serializer?KF(e):e.on("PreInit",(function(){KF(e)}))}
var YF=function(e){return"click"===e.type}
var GF=function(e,t){var r=function(t){return Rr(t,pr.fromDom(e.getBody()))}
return Za(t,"a",r).bind((function(e){return sa(e,"href")}))}
var JF=function(e,t){if(YF(t)&&!Up.metaKeyPressed(t)){var r=pr.fromDom(t.target)
GF(e,r).each((function(r){t.preventDefault()
if(/^#/.test(r)){var n=e.dom.select(r+',[name="'+ot(r,"#")+'"]')
n.length&&e.selection.scrollIntoView(n[0],true)}else window.open(r,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))}}
var QF=function(e){e.on("ShowCaret",(function(t){WF(e)&&t.preventDefault()}))
e.on("ObjectSelected",(function(t){WF(e)&&t.preventDefault()}))}
var ZF=sr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ")
var eU=function(){function e(e){this.bindings={}
this.settings=e||{}
this.scope=this.settings.scope||this
this.toggleEvent=this.settings.toggleEvent||I}e.isNative=function(e){return!!ZF[e.toLowerCase()]}
e.prototype.fire=function(e,t){var r=e.toLowerCase()
var n=t||{}
n.type=r
n.target||(n.target=this.scope)
if(!n.preventDefault){n.preventDefault=function(){n.isDefaultPrevented=M}
n.stopPropagation=function(){n.isPropagationStopped=M}
n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=M}
n.isDefaultPrevented=I
n.isPropagationStopped=I
n.isImmediatePropagationStopped=I}this.settings.beforeFire&&this.settings.beforeFire(n)
var a=this.bindings[r]
if(a)for(var o=0,i=a.length;o<i;o++){var u=a[o]
u.once&&this.off(r,u.func)
if(n.isImmediatePropagationStopped()){n.stopPropagation()
return n}if(false===u.func.call(this.scope,n)){n.preventDefault()
return n}}return n}
e.prototype.on=function(e,t,r,n){false===t&&(t=I)
if(t){var a={func:t}
n&&sr.extend(a,n)
var o=e.toLowerCase().split(" ")
var i=o.length
while(i--){var u=o[i]
var f=this.bindings[u]
if(!f){f=this.bindings[u]=[]
this.toggleEvent(u,true)}r?f.unshift(a):f.push(a)}}return this}
e.prototype.off=function(e,t){var r=this
if(e){var n=e.toLowerCase().split(" ")
var a=n.length
while(a--){var o=n[a]
var i=this.bindings[o]
if(!o){Ce(this.bindings,(function(e,t){r.toggleEvent(t,false)
delete r.bindings[t]}))
return this}if(i){if(t){var u=i.length
while(u--)if(i[u].func===t){i=i.slice(0,u).concat(i.slice(u+1))
this.bindings[o]=i}}else i.length=0
if(!i.length){this.toggleEvent(e,false)
delete this.bindings[o]}}}}else{Ce(this.bindings,(function(e,t){r.toggleEvent(t,false)}))
this.bindings={}}return this}
e.prototype.once=function(e,t,r){return this.on(e,t,r,{once:true})}
e.prototype.has=function(e){e=e.toLowerCase()
return!(!this.bindings[e]||0===this.bindings[e].length)}
return e}()
var tU=function(e){e._eventDispatcher||(e._eventDispatcher=new eU({scope:e,toggleEvent:function(t,r){eU.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,r)}}))
return e._eventDispatcher}
var rU={fire:function(e,t,r){var n=this
if(n.removed&&"remove"!==e&&"detach"!==e)return t
var a=tU(n).fire(e,t)
if(false!==r&&n.parent){var o=n.parent()
while(o&&!a.isPropagationStopped()){o.fire(e,a,false)
o=o.parent()}}return a},on:function(e,t,r){return tU(this).on(e,t,r)},off:function(e,t){return tU(this).off(e,t)},once:function(e,t){return tU(this).once(e,t)},hasEventListeners:function(e){return tU(this).has(e)}}
var nU=Tc.DOM
var aU
var oU=function(e,t){if("selectionchange"===t)return e.getDoc()
if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement
var r=Hv(e)
if(r){e.eventRoot||(e.eventRoot=nU.select(r)[0])
return e.eventRoot}return e.getBody()}
var iU=function(e){return!e.hidden&&!WF(e)}
var uU=function(e,t,r){iU(e)?e.fire(t,r):WF(e)&&JF(e,r)}
var fU=function(e,t){var r
e.delegates||(e.delegates={})
if(e.delegates[t]||e.removed)return
var n=oU(e,t)
if(Hv(e)){if(!aU){aU={}
e.editorManager.on("removeEditor",(function(){if(!e.editorManager.activeEditor&&aU){Ce(aU,(function(t,r){e.dom.unbind(oU(e,r))}))
aU=null}}))}if(aU[t])return
r=function(r){var n=r.target
var a=e.editorManager.get()
var o=a.length
while(o--){var i=a[o].getBody();(i===n||nU.isChildOf(n,i))&&uU(a[o],t,r)}}
aU[t]=r
nU.bind(n,t,r)}else{r=function(r){uU(e,t,r)}
nU.bind(n,t,r)
e.delegates[t]=r}}
var cU=He(He({},rU),{bindPendingEventDelegates:function(){var e=this
sr.each(e._pendingNativeEvents,(function(t){fU(e,t)}))},toggleNativeEvent:function(e,t){var r=this
if("focus"===e||"blur"===e)return
if(t)r.initialized?fU(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]
else if(r.initialized){r.dom.unbind(oU(r,e),e,r.delegates[e])
delete r.delegates[e]}},unbindAllNativeEvents:function(){var e=this
var t=e.getBody()
var r=e.dom
if(e.delegates){Ce(e.delegates,(function(t,r){e.dom.unbind(oU(e,r),r,t)}))
delete e.delegates}if(!e.inline&&t&&r){t.onload=null
r.unbind(e.getWin())
r.unbind(e.getDoc())}if(r){r.unbind(t)
r.unbind(e.getContainer())}}})
var sU=["design","readonly"]
var lU=function(e,t,r,n){var a=r[t.get()]
var o=r[n]
try{o.activate()}catch(e){console.error("problem while activating editor mode "+n+":",e)
return}a.deactivate()
a.editorReadOnly!==o.editorReadOnly&&$F(e,o.editorReadOnly)
t.set(n)
Dp(e,n)}
var vU=function(e,t,r,n){if(n===r.get())return
if(!Te(t,n))throw new Error("Editor mode '"+n+"' is invalid")
e.initialized?lU(e,r,t,n):e.on("init",(function(){return lU(e,r,t,n)}))}
var dU=function(e,t,r){var n
if(X(sU,t))throw new Error("Cannot override default mode "+t)
return He(He({},e),(n={},n[t]=He(He({},r),{deactivate:function(){try{r.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),n))}
var mU=function(e){var t=Uc("design")
var r=Uc({design:{activate:E,deactivate:E,editorReadOnly:false},readonly:{activate:E,deactivate:E,editorReadOnly:true}})
XF(e)
QF(e)
return{isReadOnly:function(){return WF(e)},set:function(n){return vU(e,r.get(),t,n)},get:function(){return t.get()},register:function(e,t){r.set(dU(r.get(),e,t))}}}
var gU=sr.each,pU=sr.explode
var hU={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}
var yU=sr.makeMap("alt,ctrl,shift,meta,access")
var bU=function(e){var t
var r={}
gU(pU(e.toLowerCase(),"+"),(function(e){if(e in yU)r[e]=true
else if(/^[0-9]{2,}$/.test(e))r.keyCode=parseInt(e,10)
else{r.charCode=e.charCodeAt(0)
r.keyCode=hU[e]||e.toUpperCase().charCodeAt(0)}}))
var n=[r.keyCode]
for(t in yU)r[t]?n.push(t):r[t]=false
r.id=n.join(",")
if(r.access){r.alt=true
Jt.mac?r.ctrl=true:r.shift=true}if(r.meta)if(Jt.mac)r.meta=true
else{r.ctrl=true
r.meta=false}return r}
var CU=function(){function e(e){this.shortcuts={}
this.pendingPatterns=[]
this.editor=e
var t=this
e.on("keyup keypress keydown",(function(e){if((t.hasModifier(e)||t.isFunctionKey(e))&&!e.isDefaultPrevented()){gU(t.shortcuts,(function(r){if(t.matchShortcut(e,r)){t.pendingPatterns=r.subpatterns.slice(0)
"keydown"===e.type&&t.executeShortcutAction(r)
return true}}))
if(t.matchShortcut(e,t.pendingPatterns[0])){1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0])
t.pendingPatterns.shift()}}}))}e.prototype.add=function(e,t,r,n){var a=this
var o=a.normalizeCommandFunc(r)
gU(pU(sr.trim(e)),(function(e){var r=a.createShortcut(e,t,o,n)
a.shortcuts[r.id]=r}))
return true}
e.prototype.remove=function(e){var t=this.createShortcut(e)
if(this.shortcuts[t.id]){delete this.shortcuts[t.id]
return true}return false}
e.prototype.normalizeCommandFunc=function(e){var t=this
var r=e
return"string"===typeof r?function(){t.editor.execCommand(r,false,null)}:sr.isArray(r)?function(){t.editor.execCommand(r[0],r[1],r[2])}:r}
e.prototype.createShortcut=function(e,t,r,n){var a=sr.map(pU(e,">"),bU)
a[a.length-1]=sr.extend(a[a.length-1],{func:r,scope:n||this.editor})
return sr.extend(a[0],{desc:this.editor.translate(t),subpatterns:a.slice(1)})}
e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey}
e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}
e.prototype.matchShortcut=function(e,t){if(!t)return false
if(t.ctrl!==e.ctrlKey||t.meta!==e.metaKey)return false
if(t.alt!==e.altKey||t.shift!==e.shiftKey)return false
if(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode){e.preventDefault()
return true}return false}
e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null}
return e}()
var wU=function(){var e={}
var t={}
var r={}
var n={}
var a={}
var o={}
var i={}
var u=function(e,t){return function(r,n){return e[r.toLowerCase()]=He(He({},n),{type:t})}}
var f=function(e,t){return n[e.toLowerCase()]=t}
return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(r,"autocompleter"),addContextMenu:u(a,"contextmenu"),addContextToolbar:u(o,"contexttoolbar"),addContextForm:u(o,"contextform"),addSidebar:u(i,"sidebar"),addIcon:f,getAll:function(){return{buttons:e,menuItems:t,icons:n,popups:r,contextMenus:a,contextToolbars:o,sidebars:i}}}}
var xU=function(){var e=wU()
return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}}
var SU=sr.each,kU=sr.trim
var NU="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ")
var EU={ftp:21,http:80,https:443,mailto:25}
var _U=function(){function e(t,r){t=kU(t)
this.settings=r||{}
var n=this.settings.base_uri
var a=this
if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){a.source=t
return}var o=0===t.indexOf("//")
0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t)
if(!/^[\w\-]*:?\/\//.test(t)){var i=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory
if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+a.toAbsPath(i,t)
else{var u=/([^#?]*)([#?]?.*)/.exec(t)
t=(n&&n.protocol||"http")+"://mce_host"+a.toAbsPath(i,u[1])+u[2]}}t=t.replace(/@@/g,"(mce_at)")
var f=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t)
SU(NU,(function(e,t){var r=f[t]
r&&(r=r.replace(/\(mce_at\)/g,"@@"))
a[e]=r}))
if(n){a.protocol||(a.protocol=n.protocol)
a.userInfo||(a.userInfo=n.userInfo)
a.port||"mce_host"!==a.host||(a.port=n.port)
a.host&&"mce_host"!==a.host||(a.host=n.host)
a.source=""}o&&(a.protocol="")}e.parseDataUri=function(e){var t
var r=decodeURIComponent(e).split(",")
var n=/data:([^;]+)/.exec(r[0])
n&&(t=n[1])
return{type:t,data:r[1]}}
e.getDocumentBaseUrl=function(e){var t
t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname
if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)){t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(t)||(t+="/")}return t}
e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e)
this.path=t[0]
this.directory=t[1]
this.file=t[2]
this.source=""
this.getURI()}
e.prototype.toRelative=function(t){var r
if("./"===t)return t
var n=new e(t,{base_uri:this})
if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI()
var a=this.getURI(),o=n.getURI()
if(a===o||"/"===a.charAt(a.length-1)&&a.substr(0,a.length-1)===o)return a
r=this.toRelPath(this.path,n.path)
n.query&&(r+="?"+n.query)
n.anchor&&(r+="#"+n.anchor)
return r}
e.prototype.toAbsolute=function(t,r){var n=new e(t,{base_uri:this})
return n.getURI(r&&this.isSameOrigin(n))}
e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return true
var t=EU[this.protocol]
if(t&&(this.port||t)==(e.port||t))return true}return false}
e.prototype.toRelPath=function(e,t){var r,n,a=0,o=""
var i=e.substring(0,e.lastIndexOf("/")).split("/")
var u=t.split("/")
if(i.length>=u.length)for(r=0,n=i.length;r<n;r++)if(r>=u.length||i[r]!==u[r]){a=r+1
break}if(i.length<u.length)for(r=0,n=u.length;r<n;r++)if(r>=i.length||i[r]!==u[r]){a=r+1
break}if(1===a)return t
for(r=0,n=i.length-(a-1);r<n;r++)o+="../"
for(r=a-1,n=u.length;r<n;r++)o+=r!==a-1?"/"+u[r]:u[r]
return o}
e.prototype.toAbsPath=function(e,t){var r,n,a=0,o=[]
var i=/\/$/.test(t)?"/":""
var u=e.split("/")
var f=t.split("/")
SU(u,(function(e){e&&o.push(e)}))
u=o
for(r=f.length-1,o=[];r>=0;r--){if(0===f[r].length||"."===f[r])continue
if(".."===f[r]){a++
continue}if(a>0){a--
continue}o.push(f[r])}r=u.length-a
n=r<=0?ce(o).join("/"):u.slice(0,r).join("/")+"/"+ce(o).join("/")
0!==n.indexOf("/")&&(n="/"+n)
i&&n.lastIndexOf("/")!==n.length-1&&(n+=i)
return n}
e.prototype.getURI=function(e){void 0===e&&(e=false)
var t
if(!this.source||e){t=""
if(!e){this.protocol?t+=this.protocol+"://":t+="//"
this.userInfo&&(t+=this.userInfo+"@")
this.host&&(t+=this.host)
this.port&&(t+=":"+this.port)}this.path&&(t+=this.path)
this.query&&(t+="?"+this.query)
this.anchor&&(t+="#"+this.anchor)
this.source=t}return this.source}
return e}()
var AU=Tc.DOM
var RU=sr.extend,TU=sr.each
var DU=sr.resolve
var OU=Jt.ie
var BU=function(){function e(e,t,r){var n=this
this.plugins={}
this.contentCSS=[]
this.contentStyles=[]
this.loadedCSS={}
this.isNotDirty=false
this.editorManager=r
this.documentBaseUrl=r.documentBaseURL
RU(this,cU)
this.settings=EA(this,e,this.documentBaseUrl,r.defaultSettings,t)
this.settings.suffix&&(r.suffix=this.settings.suffix)
this.suffix=r.suffix
this.settings.base_url&&r._setBaseUrl(this.settings.base_url)
this.baseUri=r.baseURI
if(this.settings.referrer_policy){Fc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy)
Tc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)}Zc.languageLoad=this.settings.language_load
Zc.baseURL=r.baseURL
this.id=e
this.setDirty(false)
this.documentBaseURI=new _U(this.settings.document_base_url,{base_uri:this.baseUri})
this.baseURI=this.baseUri
this.inline=!!this.settings.inline
this.shortcuts=new CU(this)
this.editorCommands=new IF(this)
this.settings.cache_suffix&&(Jt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,""))
this.ui={registry:xU(),styleSheetLoader:void 0,show:E,hide:E,enable:E,disable:E,isDisabled:I}
var a=this
var o=mU(a)
this.mode=o
this.setMode=o.set
r.fire("SetupEditor",{editor:this})
this.execCallback("setup",this)
this.$=xc.overrideDefaults((function(){return{context:n.inline?n.getBody():n.getDoc(),element:n.getBody()}}))}e.prototype.render=function(){lF(this)}
e.prototype.focus=function(e){eb(this,e)}
e.prototype.hasFocus=function(){return Gy(this)}
e.prototype.execCallback=function(e){var t=[]
for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r]
var n=this
var a,o=n.settings[e]
if(!o)return
if(n.callbackLookup&&(a=n.callbackLookup[e])){o=a.func
a=a.scope}if("string"===typeof o){a=o.replace(/\.\w+$/,"")
a=a?DU(a):0
o=DU(o)
n.callbackLookup=n.callbackLookup||{}
n.callbackLookup[e]={func:o,scope:a}}return o.apply(a||n,t)}
e.prototype.translate=function(e){return Qc.translate(e)}
e.prototype.getParam=function(e,t,r){return TA(this,e,t,r)}
e.prototype.hasPlugin=function(e,t){var r=X(cd(this).split(/[ ,]/),e)
return!!r&&(!t||void 0!==KA.get(e))}
e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)}
e.prototype.addCommand=function(e,t,r){this.editorCommands.addCommand(e,t,r)}
e.prototype.addQueryStateHandler=function(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}
e.prototype.addQueryValueHandler=function(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}
e.prototype.addShortcut=function(e,t,r,n){this.shortcuts.add(e,t,r,n)}
e.prototype.execCommand=function(e,t,r,n){return this.editorCommands.execCommand(e,t,r,n)}
e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)}
e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)}
e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)}
e.prototype.show=function(){var e=this
if(e.hidden){e.hidden=false
if(e.inline)e.getBody().contentEditable="true"
else{AU.show(e.getContainer())
AU.hide(e.id)}e.load()
e.fire("show")}}
e.prototype.hide=function(){var e=this,t=e.getDoc()
if(!e.hidden){OU&&t&&!e.inline&&t.execCommand("SelectAll")
e.save()
if(e.inline){e.getBody().contentEditable="false"
e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)}else{AU.hide(e.getContainer())
AU.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true
e.fire("hide")}}
e.prototype.isHidden=function(){return!!this.hidden}
e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})}
e.prototype.load=function(e){var t=this
var r,n=t.getElement()
if(t.removed)return""
if(n){e=e||{}
e.load=true
var a=Xn(n)?n.value:n.innerHTML
r=t.setContent(a,e)
e.element=n
e.no_events||t.fire("LoadContent",e)
e.element=n=null
return r}}
e.prototype.save=function(e){var t=this
var r,n,a=t.getElement()
if(!a||!t.initialized||t.removed)return
e=e||{}
e.save=true
e.element=a
r=e.content=t.getContent(e)
e.no_events||t.fire("SaveContent",e)
"raw"===e.format&&t.fire("RawSaveContent",e)
r=e.content
if(Xn(a))a.value=r
else{!e.is_removing&&t.inline||(a.innerHTML=r);(n=AU.getParent(t.id,"form"))&&TU(n.elements,(function(e){if(e.name===t.id){e.value=r
return false}}))}e.element=a=null
false!==e.set_dirty&&t.setDirty(false)
return r}
e.prototype.setContent=function(e,t){return $_(this,e,t)}
e.prototype.getContent=function(e){return q_(this,e)}
e.prototype.insertContent=function(e,t){t&&(e=RU({content:e},t))
this.execCommand("mceInsertContent",false,e)}
e.prototype.resetContent=function(e){void 0===e?$_(this,this.startContent,{format:"raw"}):$_(this,e)
this.undoManager.reset()
this.setDirty(false)
this.nodeChanged()}
e.prototype.isDirty=function(){return!this.isNotDirty}
e.prototype.setDirty=function(e){var t=!this.isNotDirty
this.isNotDirty=!e
e&&e!==t&&this.fire("dirty")}
e.prototype.getContainer=function(){var e=this
e.container||(e.container=AU.get(e.editorContainer||e.id+"_parent"))
return e.container}
e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer}
e.prototype.getElement=function(){this.targetElm||(this.targetElm=AU.get(this.id))
return this.targetElm}
e.prototype.getWin=function(){var e=this
var t
if(!e.contentWindow){t=e.iframeElement
t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}
e.prototype.getDoc=function(){var e=this
var t
if(!e.contentDocument){t=e.getWin()
t&&(e.contentDocument=t.document)}return e.contentDocument}
e.prototype.getBody=function(){var e=this.getDoc()
return this.bodyElement||(e?e.body:null)}
e.prototype.convertURL=function(e,t,r){var n=this,a=n.settings
if(a.urlconverter_callback)return n.execCallback("urlconverter_callback",e,r,true,t)
if(!a.convert_urls||r&&"LINK"===r.nodeName||0===e.indexOf("file:")||0===e.length)return e
if(a.relative_urls)return n.documentBaseURI.toRelative(e)
e=n.documentBaseURI.toAbsolute(e,a.remove_script_host)
return e}
e.prototype.addVisual=function(e){vF(this,e)}
e.prototype.remove=function(){J_(this)}
e.prototype.destroy=function(e){Q_(this,e)}
e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)}
e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()}
e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")}
e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")}
e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")}
e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")}
return e}()
var PU=Tc.DOM
var LU=sr.explode,IU=sr.each,MU=sr.extend
var FU=0,UU=false
var zU
var jU=[]
var HU=[]
var VU=function(e){return"length"!==e}
var qU=function(e){var t=e.type
IU(YU.get(),(function(r){switch(t){case"scroll":r.fire("ScrollWindow",e)
break
case"resize":r.fire("ResizeWindow",e)}}))}
var $U=function(e){if(e!==UU){e?xc(window).on("resize scroll",qU):xc(window).off("resize scroll",qU)
UU=e}}
var WU=function(e){var t=HU
delete jU[e.id]
for(var r=0;r<jU.length;r++)if(jU[r]===e){jU.splice(r,1)
break}HU=ee(HU,(function(t){return e!==t}))
YU.activeEditor===e&&(YU.activeEditor=HU.length>0?HU[0]:null)
YU.focusedEditor===e&&(YU.focusedEditor=null)
return t.length!==HU.length}
var KU=function(e){if(e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode){WU(e)
e.unbindAllNativeEvents()
e.destroy(true)
e.removed=true
e=null}return e}
var XU="CSS1Compat"!==document.compatMode
var YU=He(He({},rU),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:xc,majorVersion:"5",minorVersion:"8.1",releaseDate:"2021-05-20",editors:jU,i18n:Qc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this
var t,r,n=""
r=_U.getDocumentBaseUrl(document.location)
if(/^[^:]+:\/\/\/?[^\/]+\//.test(r)){r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");/[\/\\]$/.test(r)||(r+="/")}var a=window.tinymce||window.tinyMCEPreInit
if(a){t=a.base||a.baseURL
n=a.suffix}else{var o=document.getElementsByTagName("script")
for(var i=0;i<o.length;i++){var u=o[i].src||""
if(""===u)continue
var f=u.substring(u.lastIndexOf("/"))
if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==f.indexOf(".min")&&(n=".min")
t=u.substring(0,u.lastIndexOf("/"))
break}}if(!t&&document.currentScript){u=document.currentScript.src;-1!==u.indexOf(".min")&&(n=".min")
t=u.substring(0,u.lastIndexOf("/"))}}e.baseURL=new _U(r).toAbsolute(t)
e.documentBaseURL=r
e.baseURI=new _U(e.baseURL)
e.suffix=n
zy(e)},overrideDefaults:function(e){var t=e.base_url
t&&this._setBaseUrl(t)
var r=e.suffix
e.suffix&&(this.suffix=r)
this.defaultSettings=e
var n=e.plugin_base_urls
void 0!==n&&Ce(n,(function(e,t){Zc.PluginManager.urls[t]=e}))},init:function(e){var t=this
var r
var n=sr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ")
var a=function(e,t){return e.inline&&t.tagName.toLowerCase()in n}
var o=function(e){var t=e.id
if(!t){t=Re(e,"name").filter((function(e){return!PU.get(e)})).getOrThunk(PU.uniqueId)
e.setAttribute("id",t)}return t}
var i=function(r){var n=e[r]
if(!n)return
return n.apply(t,[])}
var u=function(e,t){return t.constructor===RegExp?t.test(e.className):PU.hasClass(e,t)}
var f=function(e){var t=[]
if(Jt.browser.isIE()&&Jt.browser.version.major<11){iR("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/")
return[]}if(XU){iR("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.")
return[]}if(e.types){IU(e.types,(function(e){t=t.concat(PU.select(e.selector))}))
return t}if(e.selector)return PU.select(e.selector)
if(e.target)return[e.target]
switch(e.mode){case"exact":var r=e.elements||""
r.length>0&&IU(LU(r),(function(e){var r=PU.get(e)
r?t.push(r):IU(document.forms,(function(r){IU(r.elements,(function(r){if(r.name===e){e="mce_editor_"+FU++
PU.setAttrib(r,"id",e)
t.push(r)}}))}))}))
break
case"textareas":case"specific_textareas":IU(PU.select("textarea"),(function(r){if(e.editor_deselector&&u(r,e.editor_deselector))return
e.editor_selector&&!u(r,e.editor_selector)||t.push(r)}))}return t}
var c=function(e){r=e}
var s=function(){var r=0
var n=[]
var u
var l=function(e,a,o){var i=new BU(e,a,t)
n.push(i)
i.on("init",(function(){++r===u.length&&c(n)}))
i.targetElm=i.targetElm||o
i.render()}
PU.unbind(window,"ready",s)
i("onpageload")
u=xc.unique(f(e))
if(e.types){IU(e.types,(function(t){sr.each(u,(function(r){if(PU.is(r,t.selector)){l(o(r),MU({},e,t),r)
return false}return true}))}))
return}sr.each(u,(function(e){KU(t.get(e.id))}))
u=sr.grep(u,(function(e){return!t.get(e.id)}))
0===u.length?c([]):IU(u,(function(t){a(e,t)?iR("Could not initialize inline editor on invalid inline target element",t):l(o(t),e,t)}))}
t.settings=e
PU.bind(window,"ready",s)
return new to((function(e){r?e(r):c=function(t){e(t)}}))},get:function(e){return 0===arguments.length?HU.slice(0):p(e)?ae(HU,(function(t){return t.id===e})).getOr(null):N(e)&&HU[e]?HU[e]:null},add:function(e){var t=this
var r=jU[e.id]
if(r===e)return e
if(null===t.get(e.id)){VU(e.id)&&(jU[e.id]=e)
jU.push(e)
HU.push(e)}$U(true)
t.activeEditor=e
t.fire("AddEditor",{editor:e})
if(!zU){zU=function(e){var r=t.fire("BeforeUnload")
if(r.returnValue){e.preventDefault()
e.returnValue=r.returnValue
return r.returnValue}}
window.addEventListener("beforeunload",zU)}return e},createEditor:function(e,t){return this.add(new BU(e,t,this))},remove:function(e){var t=this
var r,n
if(!e){for(r=HU.length-1;r>=0;r--)t.remove(HU[r])
return}if(p(e)){IU(PU.select(e),(function(e){n=t.get(e.id)
n&&t.remove(n)}))
return}n=e
if(b(t.get(n.id)))return null
WU(n)&&t.fire("RemoveEditor",{editor:n})
0===HU.length&&window.removeEventListener("beforeunload",zU)
n.remove()
$U(HU.length>0)
return n},execCommand:function(e,t,r){var n=this,a=n.get(r)
switch(e){case"mceAddEditor":n.get(r)||new BU(r,n.settings,n).render()
return true
case"mceRemoveEditor":a&&a.remove()
return true
case"mceToggleEditor":if(!a){n.execCommand("mceAddEditor",false,r)
return true}a.isHidden()?a.show():a.hide()
return true}if(n.activeEditor)return n.activeEditor.execCommand(e,t,r)
return false},triggerSave:function(){IU(HU,(function(e){e.save()}))},addI18n:function(e,t){Qc.add(e,t)},translate:function(e){return Qc.translate(e)},setActive:function(e){var t=this.activeEditor
if(this.activeEditor!==e){t&&t.fire("deactivate",{relatedTarget:e})
e.fire("activate",{relatedTarget:t})}this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new _U(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,""))
this.baseURI=new _U(this.baseURL)}})
YU.setup()
var GU=Math.min,JU=Math.max,QU=Math.round
var ZU=function(e,t,r){var n=t.x
var a=t.y
var o=e.w
var i=e.h
var u=t.w
var f=t.h
var c=(r||"").split("")
"b"===c[0]&&(a+=f)
"r"===c[1]&&(n+=u)
"c"===c[0]&&(a+=QU(f/2))
"c"===c[1]&&(n+=QU(u/2))
"b"===c[3]&&(a-=i)
"r"===c[4]&&(n-=o)
"c"===c[3]&&(a-=QU(i/2))
"c"===c[4]&&(n-=QU(o/2))
return az(n,a,o,i)}
var ez=function(e,t,r,n){var a,o
for(o=0;o<n.length;o++){a=ZU(e,t,n[o])
if(a.x>=r.x&&a.x+a.w<=r.w+r.x&&a.y>=r.y&&a.y+a.h<=r.h+r.y)return n[o]}return null}
var tz=function(e,t,r){return az(e.x-t,e.y-r,e.w+2*t,e.h+2*r)}
var rz=function(e,t){var r=JU(e.x,t.x)
var n=JU(e.y,t.y)
var a=GU(e.x+e.w,t.x+t.w)
var o=GU(e.y+e.h,t.y+t.h)
if(a-r<0||o-n<0)return null
return az(r,n,a-r,o-n)}
var nz=function(e,t,r){var n=e.x
var a=e.y
var o=e.x+e.w
var i=e.y+e.h
var u=t.x+t.w
var f=t.y+t.h
var c=JU(0,t.x-n)
var s=JU(0,t.y-a)
var l=JU(0,o-u)
var v=JU(0,i-f)
n+=c
a+=s
if(r){o+=c
i+=s
n-=l
a-=v}o-=l
i-=v
return az(n,a,o-n,i-a)}
var az=function(e,t,r,n){return{x:e,y:t,w:r,h:n}}
var oz=function(e){return az(e.left,e.top,e.width,e.height)}
var iz={inflate:tz,relativePosition:ZU,findBestRelativePosition:ez,intersect:rz,clamp:nz,create:az,fromClientRect:oz}
var uz=function(e,t,r){void 0===r&&(r=1e3)
var n=false
var a=null
var o=function(e){return function(){var t=[]
for(var r=0;r<arguments.length;r++)t[r]=arguments[r]
if(!n){n=true
if(null!==a){clearTimeout(a)
a=null}e.apply(null,t)}}}
var i=o(e)
var u=o(t)
var f=function(){var e=[]
for(var t=0;t<arguments.length;t++)e[t]=arguments[t]
n||null!==a||(a=setTimeout((function(){return u.apply(null,e)}),r))}
return{start:f,resolve:i,reject:u}}
var fz=function(){var e={}
var t={}
var r=function(r,n){var a='Script at URL "'+n+'" failed to load'
var o='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+r+"', data)` within 1 second"
if(void 0!==e[r])return e[r]
var i=new to((function(e,i){var u=uz(e,i)
t[r]=u.resolve
Fc.ScriptLoader.loadScript(n,(function(){return u.start(o)}),(function(){return u.reject(a)}))}))
e[r]=i
return i}
var n=function(r,n){if(void 0!==t[r]){t[r](n)
delete t[r]}e[r]=to.resolve(n)}
return{load:r,add:n}}
var cz=fz()
var sz=sr.each,lz=sr.extend
var vz,dz
var mz=function(){}
mz.extend=vz=function(e){var t=this
var r=t.prototype
var n=function(){var e,t,r
var n=this
if(!dz){n.init&&n.init.apply(n,arguments)
t=n.Mixins
if(t){e=t.length
while(e--){r=t[e]
r.init&&r.init.apply(n,arguments)}}}}
var a=function(){return this}
var o=function(e,t){return function(){var n=this
var a=n._super
n._super=r[e]
var o=t.apply(n,arguments)
n._super=a
return o}}
dz=true
var i=new t
dz=false
if(e.Mixins){sz(e.Mixins,(function(t){for(var r in t)"init"!==r&&(e[r]=t[r])}))
r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))}e.Methods&&sz(e.Methods.split(","),(function(t){e[t]=a}))
e.Properties&&sz(e.Properties.split(","),(function(t){var r="_"+t
e[t]=function(e){var t=this
if(void 0!==e){t[r]=e
return t}return t[r]}}))
e.Statics&&sz(e.Statics,(function(e,t){n[t]=e}))
e.Defaults&&r.Defaults&&(e.Defaults=lz({},r.Defaults,e.Defaults))
Ce(e,(function(e,t){"function"===typeof e&&r[t]?i[t]=o(t,e):i[t]=e}))
n.prototype=i
n.constructor=n
n.extend=vz
return n}
var gz=Math.min,pz=Math.max,hz=Math.round
var yz=function(e){var t={}
var r=0,n=0,a=0
var o=function(e,t,r){var n,a,o
n=0
a=0
o=0
e/=255
t/=255
r/=255
var i=gz(e,gz(t,r))
var u=pz(e,pz(t,r))
if(i===u){o=i
return{h:0,s:0,v:100*o}}var f=e===i?t-r:r===i?e-t:r-e
n=e===i?3:r===i?1:5
n=60*(n-f/(u-i))
a=(u-i)/u
o=u
return{h:hz(n),s:hz(100*a),v:hz(100*o)}}
var i=function(e,t,o){e=(parseInt(e,10)||0)%360
t=parseInt(t,10)/100
o=parseInt(o,10)/100
t=pz(0,gz(t,1))
o=pz(0,gz(o,1))
if(0===t){r=n=a=hz(255*o)
return}var i=e/60
var u=o*t
var f=u*(1-Math.abs(i%2-1))
var c=o-u
switch(Math.floor(i)){case 0:r=u
n=f
a=0
break
case 1:r=f
n=u
a=0
break
case 2:r=0
n=u
a=f
break
case 3:r=0
n=f
a=u
break
case 4:r=f
n=0
a=u
break
case 5:r=u
n=0
a=f
break
default:r=n=a=0}r=hz(255*(r+c))
n=hz(255*(n+c))
a=hz(255*(a+c))}
var u=function(){var e=function(e){e=parseInt(e,10).toString(16)
return e.length>1?e:"0"+e}
return"#"+e(r)+e(n)+e(a)}
var f=function(){return{r,g:n,b:a}}
var c=function(){return o(r,n,a)}
var s=function(e){var o
if("object"===typeof e)if("r"in e){r=e.r
n=e.g
a=e.b}else"v"in e&&i(e.h,e.s,e.v)
else if(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)){r=parseInt(o[1],10)
n=parseInt(o[2],10)
a=parseInt(o[3],10)}else if(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)){r=parseInt(o[1],16)
n=parseInt(o[2],16)
a=parseInt(o[3],16)}else if(o=/#([0-F])([0-F])([0-F])/gi.exec(e)){r=parseInt(o[1]+o[1],16)
n=parseInt(o[2]+o[2],16)
a=parseInt(o[3]+o[3],16)}r=r<0?0:r>255?255:r
n=n<0?0:n>255?255:n
a=a<0?0:a>255?255:a
return t}
e&&s(e)
t.toRgb=f
t.toHsv=c
t.toHex=u
t.parse=s
return t}
var bz=function(e){var t=JSON.stringify(e)
if(!p(t))return t
return t.replace(/[\u0080-\uFFFF]/g,(function(e){var t=e.charCodeAt(0).toString(16)
return"\\u"+"0000".substring(t.length)+t}))}
var Cz={serialize:bz,parse:function(e){try{return JSON.parse(e)}catch(e){}}}
var wz={callbacks:{},count:0,send:function(e){var t=this,r=Tc.DOM,n=void 0!==e.count?e.count:t.count
var a="tinymce_jsonp_"+n
t.callbacks[n]=function(o){r.remove(a)
delete t.callbacks[n]
e.callback(o)}
r.add(r.doc.body,"script",{id:a,src:e.url,type:"text/javascript"})
t.count++}}
var xz=He(He({},rU),{send:function(e){var t,r=0
var n=function(){if(!e.async||4===t.readyState||r++>1e4){e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e)
t=null}else co.setTimeout(n,10)}
e.scope=e.scope||this
e.success_scope=e.success_scope||e.scope
e.error_scope=e.error_scope||e.scope
e.async=false!==e.async
e.data=e.data||""
xz.fire("beforeInitialize",{settings:e})
t=new XMLHttpRequest
t.overrideMimeType&&t.overrideMimeType(e.content_type)
t.open(e.type||(e.data?"POST":"GET"),e.url,e.async)
e.crossDomain&&(t.withCredentials=true)
e.content_type&&t.setRequestHeader("Content-Type",e.content_type)
e.requestheaders&&sr.each(e.requestheaders,(function(e){t.setRequestHeader(e.key,e.value)}))
t.setRequestHeader("X-Requested-With","XMLHttpRequest")
t=xz.fire("beforeSend",{xhr:t,settings:e}).xhr
t.send(e.data)
if(!e.async)return n()
co.setTimeout(n,10)}})
var Sz=sr.extend
var kz=function(){function e(e){this.settings=Sz({},e)
this.count=0}e.sendRPC=function(t){return(new e).send(t)}
e.prototype.send=function(e){var t=e.error,r=e.success
var n=Sz(this.settings,e)
n.success=function(e,a){e=Cz.parse(e)
"undefined"===typeof e&&(e={error:"JSON Parse error."})
e.error?t.call(n.error_scope||n.scope,e.error,a):r.call(n.success_scope||n.scope,e.result)}
n.error=function(e,r){t&&t.call(n.error_scope||n.scope,e,r)}
n.data=Cz.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params})
n.content_type="application/json"
xz.send(n)}
return e}()
var Nz=function(){return function(){var e={}
var t=[]
var r={getItem:function(t){var r=e[t]
return r||null},setItem:function(r,n){t.push(r)
e[r]=String(n)},key:function(e){return t[e]},removeItem:function(r){t=t.filter((function(e){return e===r}))
delete e[r]},clear:function(){t=[]
e={}},length:0}
Object.defineProperty(r,"length",{get:function(){return t.length},configurable:false,enumerable:false})
return r}()}
var Ez
try{var _z="__storage_test__"
Ez=window.localStorage
Ez.setItem(_z,_z)
Ez.removeItem(_z)}catch(e){Ez=Nz()}var Az=Ez
var Rz={geom:{Rect:iz},util:{Promise:to,Delay:co,Tools:sr,VK:Up,URI:_U,Class:mz,EventDispatcher:eU,Observable:rU,I18n:Qc,XHR:xz,JSON:Cz,JSONRequest:kz,JSONP:wz,LocalStorage:Az,Color:yz,ImageUploader:CR},dom:{EventUtils:_u,Sizzle:Tf,DomQuery:xc,TreeWalker:mo,TextSeeker:Ls,DOMUtils:Tc,ScriptLoader:Fc,RangeUtils:fh,Serializer:H_,StyleSheetLoader:so,ControlSelection:jp,BookmarkManager:kp,Selection:JE,Event:_u.Event},html:{Styles:gu,Entities:ru,Node:db,Schema:du,SaxParser:Nb,DomParser:R_,Writer:Lb,Serializer:Ib},Env:Jt,AddOnManager:Zc,Annotator:Sp,Formatter:OR,UndoManager:LR,EditorCommands:IF,WindowManager:GA,NotificationManager:WA,EditorObservable:cU,Shortcuts:CU,Editor:BU,FocusManager:Ny,EditorManager:YU,DOM:Tc.DOM,ScriptLoader:Fc.ScriptLoader,PluginManager:KA,ThemeManager:XA,IconManager:OA,Resource:cz,trim:sr.trim,isArray:sr.isArray,is:sr.is,toArray:sr.toArray,makeMap:sr.makeMap,each:sr.each,map:sr.map,grep:sr.grep,inArray:sr.inArray,extend:sr.extend,create:sr.create,walk:sr.walk,createNS:sr.createNS,resolve:sr.resolve,explode:sr.explode,_addCacheSuffix:sr._addCacheSuffix,isOpera:Jt.opera,isWebKit:Jt.webkit,isIE:Jt.ie,isGecko:Jt.gecko,isMac:Jt.mac}
var Tz=sr.extend(YU,Rz)
var Dz=function(t){if("object"===typeof e)try{e.exports=t}catch(e){}}
var Oz=function(e){window.tinymce=e
window.tinyMCE=e}
Oz(Tz)
Dz(Tz)})()}}])

//# sourceMappingURL=47575-c-6efb9c66bb.js.map