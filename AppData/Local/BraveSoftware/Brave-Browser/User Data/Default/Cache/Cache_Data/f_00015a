(globalThis["webpackChunkcanvas_lms"]=globalThis["webpackChunkcanvas_lms"]||[]).push([[45982,20265,76288],{4169:(t,e,n)=>{"use strict"
n.d(e,{Z:()=>o})
var r=n(99164)
const o=r.h},86556:(t,e,n)=>{var r=n(89465),o=n(77813)
function a(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}t.exports=a},42980:(t,e,n)=>{var r=n(46384),o=n(86556),a=n(28483),i=n(59783),u=n(13218),c=n(81704),s=n(36390)
function l(t,e,n,f,v){if(t===e)return
a(e,(function(a,c){v||(v=new r)
if(u(a))i(t,e,c,n,l,f,v)
else{var d=f?f(s(t,c),a,c+"",t,e,v):void 0
void 0===d&&(d=a)
o(t,c,d)}}),c)}t.exports=l},59783:(t,e,n)=>{var r=n(86556),o=n(64626),a=n(77133),i=n(278),u=n(38517),c=n(35694),s=n(1469),l=n(29246),f=n(44144),v=n(23560),d=n(13218),m=n(68630),h=n(36719),g=n(36390),p=n(59881)
function b(t,e,n,b,y,w,x){var C=g(t,n),S=g(e,n),k=x.get(S)
if(k){r(t,n,k)
return}var T=w?w(C,S,n+"",t,e,x):void 0
var _=void 0===T
if(_){var O=s(S),E=!O&&f(S),M=!O&&!E&&h(S)
T=S
if(O||E||M)if(s(C))T=C
else if(l(C))T=i(C)
else if(E){_=false
T=o(S,true)}else if(M){_=false
T=a(S,true)}else T=[]
else if(m(S)||c(S)){T=C
c(C)?T=p(C):d(C)&&!v(C)||(T=u(S))}else _=false}if(_){x.set(S,T)
y(T,S,b,w,x)
x["delete"](S)}r(t,n,T)}t.exports=b},27561:(t,e,n)=>{var r=n(67990)
var o=/^\s+/
function a(t){return t?t.slice(0,r(t)+1).replace(o,""):t}t.exports=a},54290:(t,e,n)=>{var r=n(6557)
function o(t){return"function"==typeof t?t:r}t.exports=o},21463:(t,e,n)=>{var r=n(5976),o=n(16612)
function a(t){return r((function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0
i=t.length>3&&"function"==typeof i?(a--,i):void 0
if(u&&o(n[0],n[1],u)){i=a<3?void 0:i
a=1}e=Object(e)
while(++r<a){var c=n[r]
c&&t(e,c,r,i)}return e}))}t.exports=a},16612:(t,e,n)=>{var r=n(77813),o=n(98612),a=n(65776),i=n(13218)
function u(t,e,n){if(!i(n))return false
var u=typeof e
if("number"==u?o(n)&&a(e,n.length):"string"==u&&e in n)return r(n[e],t)
return false}t.exports=u},36390:t=>{function e(t,e){if("constructor"===e&&"function"===typeof t[e])return
if("__proto__"==e)return
return t[e]}t.exports=e},67990:t=>{var e=/\s/
function n(t){var n=t.length
while(n--&&e.test(t.charAt(n)));return n}t.exports=n},50361:(t,e,n)=>{var r=n(85990)
var o=1,a=4
function i(t){return r(t,o|a)}t.exports=i},23279:(t,e,n)=>{var r=n(13218),o=n(7771),a=n(14841)
var i="Expected a function"
var u=Math.max,c=Math.min
function s(t,e,n){var s,l,f,v,d,m,h=0,g=false,p=false,b=true
if("function"!=typeof t)throw new TypeError(i)
e=a(e)||0
if(r(n)){g=!!n.leading
p="maxWait"in n
f=p?u(a(n.maxWait)||0,e):f
b="trailing"in n?!!n.trailing:b}function y(e){var n=s,r=l
s=l=void 0
h=e
v=t.apply(r,n)
return v}function w(t){h=t
d=setTimeout(S,e)
return g?y(t):v}function x(t){var n=t-m,r=t-h,o=e-n
return p?c(o,f-r):o}function C(t){var n=t-m,r=t-h
return void 0===m||n>=e||n<0||p&&r>=f}function S(){var t=o()
if(C(t))return k(t)
d=setTimeout(S,x(t))}function k(t){d=void 0
if(b&&s)return y(t)
s=l=void 0
return v}function T(){void 0!==d&&clearTimeout(d)
h=0
s=m=l=d=void 0}function _(){return void 0===d?v:k(o())}function O(){var t=o(),n=C(t)
s=arguments
l=this
m=t
if(n){if(void 0===d)return w(m)
if(p){clearTimeout(d)
d=setTimeout(S,e)
return y(m)}}void 0===d&&(d=setTimeout(S,e))
return v}O.cancel=T
O.flush=_
return O}t.exports=s},66073:(t,e,n)=>{t.exports=n(84486)},84486:(t,e,n)=>{var r=n(77412),o=n(89881),a=n(54290),i=n(1469)
function u(t,e){var n=i(t)?r:o
return n(t,a(e))}t.exports=u},2525:(t,e,n)=>{var r=n(47816),o=n(54290)
function a(t,e){return t&&r(t,o(e))}t.exports=a},47037:(t,e,n)=>{var r=n(44239),o=n(1469),a=n(37005)
var i="[object String]"
function u(t){return"string"==typeof t||!o(t)&&a(t)&&r(t)==i}t.exports=u},35161:(t,e,n)=>{var r=n(29932),o=n(67206),a=n(69199),i=n(1469)
function u(t,e){var n=i(t)?r:a
return n(t,o(e,3))}t.exports=u},82492:(t,e,n)=>{var r=n(42980),o=n(21463)
var a=o((function(t,e,n){r(t,e,n)}))
t.exports=a},7771:(t,e,n)=>{var r=n(55639)
var o=function(){return r.Date.now()}
t.exports=o},23493:(t,e,n)=>{var r=n(23279),o=n(13218)
var a="Expected a function"
function i(t,e,n){var i=true,u=true
if("function"!=typeof t)throw new TypeError(a)
if(o(n)){i="leading"in n?!!n.leading:i
u="trailing"in n?!!n.trailing:u}return r(t,e,{leading:i,maxWait:e,trailing:u})}t.exports=i},14841:(t,e,n)=>{var r=n(27561),o=n(13218),a=n(33448)
var i=NaN
var u=/^[-+]0x[0-9a-f]+$/i
var c=/^0b[01]+$/i
var s=/^0o[0-7]+$/i
var l=parseInt
function f(t){if("number"==typeof t)return t
if(a(t))return i
if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t
t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t
t=r(t)
var n=c.test(t)
return n||s.test(t)?l(t.slice(2),n?2:8):u.test(t)?i:+t}t.exports=f},59881:(t,e,n)=>{var r=n(98363),o=n(81704)
function a(t){return r(t,o(t))}t.exports=a},57319:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Alpha=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var a=n(67294)
var i=m(a)
var u=n(79941)
var c=m(u)
var s=n(66713)
var l=d(s)
var f=n(34349)
var v=m(f)
function d(t){if(t&&t.__esModule)return t
var e={}
if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])
e.default=t
return e}function m(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=e.Alpha=function(t){p(e,t)
function e(){var t
var n,r,o
h(this,e)
for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u]
return o=(n=(r=g(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r),r.handleChange=function(t){var e=l.calculateChange(t,r.props.hsl,r.props.direction,r.props.a,r.container)
e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t)
window.addEventListener("mousemove",r.handleChange)
window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange)
window.removeEventListener("mouseup",r.handleMouseUp)},n),g(r,o)}o(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this
var e=this.props.rgb
var n=(0,c.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*e.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+e.r+","+e.g+","+e.b+", 0) 0%,\n           rgba("+e.r+","+e.g+","+e.b+", 1) 100%)"},pointer:{left:0,top:100*e.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:true})
return i.default.createElement("div",{style:n.alpha},i.default.createElement("div",{style:n.checkboard},i.default.createElement(v.default,{renderers:this.props.renderers})),i.default.createElement("div",{style:n.gradient}),i.default.createElement("div",{style:n.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("div",{style:n.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:n.slider}))))}}])
return e}(a.PureComponent||a.Component)
e["default"]=b},34349:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Checkboard=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=n(67294)
var a=f(o)
var i=n(79941)
var u=f(i)
var c=n(45704)
var s=l(c)
function l(t){if(t&&t.__esModule)return t
var e={}
if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])
e.default=t
return e}function f(t){return t&&t.__esModule?t:{default:t}}var v=e.Checkboard=function(t){var e=t.white,n=t.grey,i=t.size,c=t.renderers,l=t.borderRadius,f=t.boxShadow,v=t.children
var d=(0,u.default)({default:{grid:{borderRadius:l,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+s.get(e,n,i,c.canvas)+") center left"}}})
return(0,o.isValidElement)(v)?a.default.cloneElement(v,r({},v.props,{style:r({},v.props.style,d.grid)})):a.default.createElement("div",{style:d.grid})}
v.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}}
e["default"]=v},88288:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.ColorWrap=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var a=n(67294)
var i=v(a)
var u=n(23279)
var c=v(u)
var s=n(64809)
var l=f(s)
function f(t){if(t&&t.__esModule)return t
var e={}
if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])
e.default=t
return e}function v(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=e.ColorWrap=function(t){var e=function(e){h(n,e)
function n(t){d(this,n)
var e=m(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))
e.handleChange=function(t,n){var r=l.simpleCheckForValidColor(t)
if(r){var o=l.toState(t,t.h||e.state.oldHue)
e.setState(o)
e.props.onChangeComplete&&e.debounce(e.props.onChangeComplete,o,n)
e.props.onChange&&e.props.onChange(o,n)}}
e.handleSwatchHover=function(t,n){var r=l.simpleCheckForValidColor(t)
if(r){var o=l.toState(t,t.h||e.state.oldHue)
e.props.onSwatchHover&&e.props.onSwatchHover(o,n)}}
e.state=r({},l.toState(t.color,0))
e.debounce=(0,c.default)((function(t,e,n){t(e,n)}),100)
return e}o(n,[{key:"render",value:function(){var e={}
this.props.onSwatchHover&&(e.onSwatchHover=this.handleSwatchHover)
return i.default.createElement(t,r({},this.props,this.state,{onChange:this.handleChange},e))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return r({},l.toState(t.color,e.oldHue))}}])
return n}(a.PureComponent||a.Component)
e.propTypes=r({},t.propTypes)
e.defaultProps=r({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}})
return e}
e["default"]=g},27747:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.EditableInput=void 0
var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var o=n(67294)
var a=c(o)
var i=n(79941)
var u=c(i)
function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true}):t[e]=n
return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=1
var m=38
var h=40
var g=[m,h]
var p=function(t){return g.indexOf(t)>-1}
var b=function(t){return Number(String(t).replace(/%/g,""))}
var y=1
var w=e.EditableInput=function(t){v(e,t)
function e(t){l(this,e)
var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))
n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})}
n.handleChange=function(t){n.setUpdatedValue(t.target.value,t)}
n.handleKeyDown=function(t){var e=b(t.target.value)
if(!isNaN(e)&&p(t.keyCode)){var r=n.getArrowOffset()
var o=t.keyCode===m?e+r:e-r
n.setUpdatedValue(o,t)}}
n.handleDrag=function(t){if(n.props.dragLabel){var e=Math.round(n.props.value+t.movementX)
e>=0&&e<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(e),t)}}
n.handleMouseDown=function(t){if(n.props.dragLabel){t.preventDefault()
n.handleDrag(t)
window.addEventListener("mousemove",n.handleDrag)
window.addEventListener("mouseup",n.handleMouseUp)}}
n.handleMouseUp=function(){n.unbindEventListeners()}
n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag)
window.removeEventListener("mouseup",n.handleMouseUp)}
n.state={value:String(t.value).toUpperCase(),blurValue:String(t.value).toUpperCase()}
n.inputId="rc-editable-input-"+y++
return n}r(e,[{key:"componentDidUpdate",value:function(t,e){this.props.value===this.state.value||t.value===this.props.value&&e.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(t){return s({},this.props.label,t)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||d}},{key:"setUpdatedValue",value:function(t,e){var n=this.props.label?this.getValueObjectWithLabel(t):t
this.props.onChange&&this.props.onChange(n,e)
this.setState({value:t})}},{key:"render",value:function(){var t=this
var e=(0,u.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":true},this.props)
return a.default.createElement("div",{style:e.wrap},a.default.createElement("input",{id:this.inputId,style:e.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?a.default.createElement("label",{htmlFor:this.inputId,style:e.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}])
return e}(o.PureComponent||o.Component)
e["default"]=w},26358:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Hue=void 0
var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var o=n(67294)
var a=f(o)
var i=n(79941)
var u=f(i)
var c=n(33716)
var s=l(c)
function l(t){if(t&&t.__esModule)return t
var e={}
if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])
e.default=t
return e}function f(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=e.Hue=function(t){m(e,t)
function e(){var t
var n,r,o
v(this,e)
for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u]
return o=(n=(r=d(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r),r.handleChange=function(t){var e=s.calculateChange(t,r.props.direction,r.props.hsl,r.container)
e&&"function"===typeof r.props.onChange&&r.props.onChange(e,t)},r.handleMouseDown=function(t){r.handleChange(t)
window.addEventListener("mousemove",r.handleChange)
window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},n),d(r,o)}r(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange)
window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this
var e=this.props.direction,n=void 0===e?"horizontal":e
var r=(0,u.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n})
return a.default.createElement("div",{style:r.hue},a.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),a.default.createElement("div",{style:r.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:r.slider}))))}}])
return e}(o.PureComponent||o.Component)
e["default"]=h},96207:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Raised=void 0
var r=n(67294)
var o=f(r)
var a=n(45697)
var i=f(a)
var u=n(79941)
var c=f(u)
var s=n(82492)
var l=f(s)
function f(t){return t&&t.__esModule?t:{default:t}}var v=e.Raised=function(t){var e=t.zDepth,n=t.radius,r=t.background,a=t.children,i=t.styles,u=void 0===i?{}:i
var s=(0,c.default)((0,l.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+e+"px "+4*e+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===e})
return o.default.createElement("div",{style:s.wrap},o.default.createElement("div",{style:s.bg}),o.default.createElement("div",{style:s.content},a))}
v.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object}
v.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}}
e["default"]=v},76659:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Saturation=void 0
var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var o=n(67294)
var a=d(o)
var i=n(79941)
var u=d(i)
var c=n(23493)
var s=d(c)
var l=n(37599)
var f=v(l)
function v(t){if(t&&t.__esModule)return t
var e={}
if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])
e.default=t
return e}function d(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=e.Saturation=function(t){g(e,t)
function e(t){m(this,e)
var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))
n.handleChange=function(t){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,f.calculateChange(t,n.props.hsl,n.container),t)}
n.handleMouseDown=function(t){n.handleChange(t)
var e=n.getContainerRenderWindow()
e.addEventListener("mousemove",n.handleChange)
e.addEventListener("mouseup",n.handleMouseUp)}
n.handleMouseUp=function(){n.unbindEventListeners()}
n.throttle=(0,s.default)((function(t,e,n){t(e,n)}),50)
return n}r(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel()
this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){var t=this.container
var e=window
while(!e.document.contains(t)&&e.parent!==e)e=e.parent
return e}},{key:"unbindEventListeners",value:function(){var t=this.getContainerRenderWindow()
t.removeEventListener("mousemove",this.handleChange)
t.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this
var e=this.props.style||{},n=e.color,r=e.white,o=e.black,i=e.pointer,c=e.circle
var s=(0,u.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:c}},{custom:!!this.props.style})
return a.default.createElement("div",{style:s.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),a.default.createElement("div",{style:s.white,className:"saturation-white"},a.default.createElement("div",{style:s.black,className:"saturation-black"}),a.default.createElement("div",{style:s.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:s.circle}))))}}])
return e}(o.PureComponent||o.Component)
e["default"]=p},62489:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.Swatch=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=n(67294)
var a=f(o)
var i=n(79941)
var u=f(i)
var c=n(82538)
var s=n(34349)
var l=f(s)
function f(t){return t&&t.__esModule?t:{default:t}}var v=13
var d=e.Swatch=function(t){var e=t.color,n=t.style,o=t.onClick,i=void 0===o?function(){}:o,c=t.onHover,s=t.title,f=void 0===s?e:s,d=t.children,m=t.focus,h=t.focusStyle,g=void 0===h?{}:h
var p="transparent"===e
var b=(0,u.default)({default:{swatch:r({background:e,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,m?g:{})}})
var y=function(t){return i(e,t)}
var w=function(t){return t.keyCode===v&&i(e,t)}
var x=function(t){return c(e,t)}
var C={}
c&&(C.onMouseOver=x)
return a.default.createElement("div",r({style:b.swatch,onClick:y,title:f,tabIndex:0,onKeyDown:w},C),d,p&&a.default.createElement(l.default,{borderRadius:b.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}
e["default"]=(0,c.handleFocus)(d)},1150:(t,e,n)=>{"use strict";({value:true})
var r=n(57319)
Object.defineProperty(e,"xV",{enumerable:true,get:function(){return f(r).default}})
var o=n(34349);({enumerable:true,get:function(){return f(o).default}})
var a=n(27747);({enumerable:true,get:function(){return f(a).default}})
var i=n(26358)
Object.defineProperty(e,"PS",{enumerable:true,get:function(){return f(i).default}})
var u=n(96207);({enumerable:true,get:function(){return f(u).default}})
var c=n(76659)
Object.defineProperty(e,"OQ",{enumerable:true,get:function(){return f(c).default}})
var s=n(88288)
Object.defineProperty(e,"t1",{enumerable:true,get:function(){return f(s).default}})
var l=n(62489);({enumerable:true,get:function(){return f(l).default}})
function f(t){return t&&t.__esModule?t:{default:t}}},31804:(t,e,n)=>{"use strict";({value:true})
void 0
var r=n(67294)
var o=u(r)
var a=n(79941)
var i=u(a)
function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){var e=t.hsl
var n=(0,i.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":e.l>.5})
return o.default.createElement("div",{style:n.picker})}
e.ZP=c},66713:(t,e)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.calculateChange=function(t,e,n,r,o){var a=o.clientWidth
var i=o.clientHeight
var u="number"===typeof t.pageX?t.pageX:t.touches[0].pageX
var c="number"===typeof t.pageY?t.pageY:t.touches[0].pageY
var s=u-(o.getBoundingClientRect().left+window.pageXOffset)
var l=c-(o.getBoundingClientRect().top+window.pageYOffset)
if("vertical"===n){var f=void 0
f=l<0?0:l>i?1:Math.round(100*l/i)/100
if(e.a!==f)return{h:e.h,s:e.s,l:e.l,a:f,source:"rgb"}}else{var v=void 0
v=s<0?0:s>a?1:Math.round(100*s/a)/100
if(r!==v)return{h:e.h,s:e.s,l:e.l,a:v,source:"rgb"}}return null}},45704:(t,e)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
var n={}
var r=e.render=function(t,e,n,r){if("undefined"===typeof document&&!r)return null
var o=r?new r:document.createElement("canvas")
o.width=2*n
o.height=2*n
var a=o.getContext("2d")
if(!a)return null
a.fillStyle=t
a.fillRect(0,0,o.width,o.height)
a.fillStyle=e
a.fillRect(0,0,n,n)
a.translate(n,n)
a.fillRect(0,0,n,n)
return o.toDataURL()}
e.get=function(t,e,o,a){var i=t+"-"+e+"-"+o+(a?"-server":"")
if(n[i])return n[i]
var u=r(t,e,o,a)
n[i]=u
return u}},64809:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.isvalidColorString=e.red=e.getContrastingColor=e.isValidHex=e.toState=e.simpleCheckForValidColor=void 0
var r=n(66073)
var o=u(r)
var a=n(2293)
var i=u(a)
function u(t){return t&&t.__esModule?t:{default:t}}e.simpleCheckForValidColor=function(t){var e=["r","g","b","a","h","s","l","v"]
var n=0
var r=0;(0,o.default)(e,(function(e){if(t[e]){n+=1
isNaN(t[e])||(r+=1)
if("s"===e||"l"===e){var o=/^\d+%$/
o.test(t[e])&&(r+=1)}}}))
return n===r&&t}
var c=e.toState=function(t,e){var n=t.hex?(0,i.default)(t.hex):(0,i.default)(t)
var r=n.toHsl()
var o=n.toHsv()
var a=n.toRgb()
var u=n.toHex()
if(0===r.s){r.h=e||0
o.h=e||0}var c="000000"===u&&0===a.a
return{hsl:r,hex:c?"transparent":"#"+u,rgb:a,hsv:o,oldHue:t.h||e||r.h,source:t.source}}
e.isValidHex=function(t){if("transparent"===t)return true
var e="#"===String(t).charAt(0)?1:0
return t.length!==4+e&&t.length<7+e&&(0,i.default)(t).isValid()}
e.getContrastingColor=function(t){if(!t)return"#fff"
var e=c(t)
if("transparent"===e.hex)return"rgba(0,0,0,0.4)"
var n=(299*e.rgb.r+587*e.rgb.g+114*e.rgb.b)/1e3
return n>=128?"#000":"#fff"}
e.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}
e.isvalidColorString=function(t,e){var n=t.replace("°","")
return(0,i.default)(e+" ("+n+")")._ok}},33716:(t,e)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.calculateChange=function(t,e,n,r){var o=r.clientWidth
var a=r.clientHeight
var i="number"===typeof t.pageX?t.pageX:t.touches[0].pageX
var u="number"===typeof t.pageY?t.pageY:t.touches[0].pageY
var c=i-(r.getBoundingClientRect().left+window.pageXOffset)
var s=u-(r.getBoundingClientRect().top+window.pageYOffset)
if("vertical"===e){var l=void 0
if(s<0)l=359
else if(s>a)l=0
else{var f=-100*s/a+100
l=360*f/100}if(n.h!==l)return{h:l,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var v=void 0
if(c<0)v=0
else if(c>o)v=359
else{var d=100*c/o
v=360*d/100}if(n.h!==v)return{h:v,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}},82538:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.handleFocus=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n]
r.enumerable=r.enumerable||false
r.configurable=true
"value"in r&&(r.writable=true)
Object.defineProperty(t,r.key,r)}}return function(e,n,r){n&&t(e.prototype,n)
r&&t(e,r)
return e}}()
var a=n(67294)
var i=u(a)
function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.handleFocus=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span"
return function(n){l(a,n)
function a(){var t
var e,n,r
c(this,a)
for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u]
return r=(e=(n=s(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(i))),n),n.state={focus:false},n.handleFocus=function(){return n.setState({focus:true})},n.handleBlur=function(){return n.setState({focus:false})},e),s(n,r)}o(a,[{key:"render",value:function(){return i.default.createElement(e,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.default.createElement(t,r({},this.props,this.state)))}}])
return a}(i.default.Component)}},37599:(t,e)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.calculateChange=function(t,e,n){var r=n.getBoundingClientRect(),o=r.width,a=r.height
var i="number"===typeof t.pageX?t.pageX:t.touches[0].pageX
var u="number"===typeof t.pageY?t.pageY:t.touches[0].pageY
var c=i-(n.getBoundingClientRect().left+window.pageXOffset)
var s=u-(n.getBoundingClientRect().top+window.pageYOffset)
c<0?c=0:c>o&&(c=o)
s<0?s=0:s>a&&(s=a)
var l=c/o
var f=1-s/a
return{h:e.h,s:l,v:f,a:e.a,source:"hsv"}}},24754:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.autoprefix=void 0
var r=n(2525)
var o=i(r)
var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
function i(t){return t&&t.__esModule?t:{default:t}}var u={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var e=t&&t.split(" ")
return{position:"absolute",top:e&&e[0],right:e&&e[1],bottom:e&&e[2],left:e&&e[3]}},extend:function(t,e){var n=e[t]
if(n)return n
return{extend:t}}}
var c=e.autoprefix=function(t){var e={};(0,o.default)(t,(function(t,n){var r={};(0,o.default)(t,(function(t,e){var n=u[e]
n?r=a({},r,n(t)):r[e]=t}))
e[n]=r}))
return e}
e["default"]=c},36002:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.active=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=n(67294)
var a=i(o)
function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=e.active=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span"
return function(n){s(o,n)
function o(){var n
var i,s,l
u(this,o)
for(var f=arguments.length,v=Array(f),d=0;d<f;d++)v[d]=arguments[d]
return l=(i=(s=c(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(v))),s),s.state={active:false},s.handleMouseDown=function(){return s.setState({active:true})},s.handleMouseUp=function(){return s.setState({active:false})},s.render=function(){return a.default.createElement(e,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},a.default.createElement(t,r({},s.props,s.state)))},i),c(s,l)}return o}(a.default.Component)}
e["default"]=l},91765:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.hover=void 0
var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var o=n(67294)
var a=i(o)
function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=e.hover=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span"
return function(n){s(o,n)
function o(){var n
var i,s,l
u(this,o)
for(var f=arguments.length,v=Array(f),d=0;d<f;d++)v[d]=arguments[d]
return l=(i=(s=c(this,(n=o.__proto__||Object.getPrototypeOf(o)).call.apply(n,[this].concat(v))),s),s.state={hover:false},s.handleMouseOver=function(){return s.setState({hover:true})},s.handleMouseOut=function(){return s.setState({hover:false})},s.render=function(){return a.default.createElement(e,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},a.default.createElement(t,r({},s.props,s.state)))},i),c(s,l)}return o}(a.default.Component)}
e["default"]=l},14147:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.flattenNames=void 0
var r=n(47037)
var o=f(r)
var a=n(2525)
var i=f(a)
var u=n(68630)
var c=f(u)
var s=n(35161)
var l=f(s)
function f(t){return t&&t.__esModule?t:{default:t}}var v=e.flattenNames=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
var n=[];(0,l.default)(e,(function(e){Array.isArray(e)?t(e).map((function(t){return n.push(t)})):(0,c.default)(e)?(0,i.default)(e,(function(t,e){true===t&&n.push(e)
n.push(e+"-"+t)})):(0,o.default)(e)&&n.push(e)}))
return n}
e["default"]=v},79941:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.ReactCSS=e.loop=e.handleActive=e.handleHover=e.hover=void 0
var r=n(14147)
var o=h(r)
var a=n(18556)
var i=h(a)
var u=n(24754)
var c=h(u)
var s=n(91765)
var l=h(s)
var f=n(36002)
var v=h(f)
var d=n(57742)
var m=h(d)
function h(t){return t&&t.__esModule?t:{default:t}}e.hover=l.default
e.handleHover=l.default
e.handleActive=v.default
e.loop=m.default
var g=e.ReactCSS=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]
var a=(0,o.default)(n)
var u=(0,i.default)(t,a)
return(0,c.default)(u)}
e["default"]=g},57742:(t,e)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
var n=function(t,e){var n={}
var r=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
n[t]=e}
0===t&&r("first-child")
t===e-1&&r("last-child");(0===t||t%2===0)&&r("even")
1===Math.abs(t%2)&&r("odd")
r("nth-child",t)
return n}
e["default"]=n},18556:(t,e,n)=>{"use strict"
Object.defineProperty(e,"__esModule",{value:true})
e.mergeClasses=void 0
var r=n(2525)
var o=c(r)
var a=n(50361)
var i=c(a)
var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
function c(t){return t&&t.__esModule?t:{default:t}}var s=e.mergeClasses=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
var n=t.default&&(0,i.default)(t.default)||{}
e.map((function(e){var r=t[e]
r&&(0,o.default)(r,(function(t,e){n[e]||(n[e]={})
n[e]=u({},n[e],r[e])}))
return e}))
return n}
e["default"]=s},88785:()=>{tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},6890:(t,e,n)=>{n(88785)},7652:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.Env")
var n=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}
var r=function(t){return t.getParam("default_link_target",false)}
var o=function(t){return t.getParam("link_default_protocol","http","string")}
var a=function(t,e){return t===e||" "===t||160===t.charCodeAt(0)}
var i=function(t){v(t,-1,"(")}
var u=function(t){v(t,0,"")}
var c=function(t){v(t,-1,"")}
var s=function(t,e){e<0&&(e=0)
if(3===t.nodeType){var n=t.data.length
e>n&&(e=n)}return e}
var l=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,s(e,n)):t.setStartBefore(e)}
var f=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,s(e,n)):t.setEndAfter(e)}
var v=function(t,e,i){var u,c,s,v,d,m,h
var g=n(t)
var p=r(t)
if("A"===t.selection.getNode().tagName)return
var b=t.selection.getRng().cloneRange()
if(b.startOffset<5){d=b.endContainer.previousSibling
if(!d){if(!b.endContainer.firstChild||!b.endContainer.firstChild.nextSibling)return
d=b.endContainer.firstChild.nextSibling}m=d.length
l(b,d,m)
f(b,d,m)
if(b.endOffset<5)return
u=b.endOffset
c=d}else{c=b.endContainer
if(3!==c.nodeType&&c.firstChild){while(3!==c.nodeType&&c.firstChild)c=c.firstChild
if(3===c.nodeType){l(b,c,0)
f(b,c,c.nodeValue.length)}}u=1===b.endOffset?2:b.endOffset-1-e}var y=u
do{l(b,c,u>=2?u-2:0)
f(b,c,u>=1?u-1:0)
u-=1
h=b.toString()}while(" "!==h&&""!==h&&160!==h.charCodeAt(0)&&u-2>=0&&h!==i)
if(a(b.toString(),i)){l(b,c,u)
f(b,c,y)
u+=1}else if(0===b.startOffset){l(b,c,0)
f(b,c,y)}else{l(b,c,u)
f(b,c,y)}v=b.toString()
"."===v.charAt(v.length-1)&&f(b,c,y-1)
v=b.toString().trim()
var w=v.match(g)
var x=o(t)
if(w){"www."===w[1]?w[1]=x+"://www.":/@$/.test(w[1])&&!/^mailto:/.test(w[1])&&(w[1]="mailto:"+w[1])
s=t.selection.getBookmark()
t.selection.setRng(b)
t.execCommand("createlink",false,w[1]+w[2])
false!==p&&t.dom.setAttrib(t.selection.getNode(),"target",p)
t.selection.moveToBookmark(s)
t.nodeChanged()}}
var d=function(t){var n
t.on("keydown",(function(e){if(13===e.keyCode)return c(t)}))
if(e.browser.isIE()){t.on("focus",(function(){if(!n){n=true
try{t.execCommand("AutoUrlDetect",false,true)}catch(t){}}}))
return}t.on("keypress",(function(e){if(41===e.keyCode)return i(t)}))
t.on("keyup",(function(e){if(32===e.keyCode)return u(t)}))}
function m(){t.add("autolink",(function(t){d(t)}))}m()})()},78578:()=>{(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=tinymce.util.Tools.resolve("tinymce.Env")
var r=tinymce.util.Tools.resolve("tinymce.util.Delay")
var o=function(t){return t.fire("ResizeEditor")}
var a=function(t){return t.getParam("min_height",t.getElement().offsetHeight,"number")}
var i=function(t){return t.getParam("max_height",0,"number")}
var u=function(t){return t.getParam("autoresize_overflow_padding",1,"number")}
var c=function(t){return t.getParam("autoresize_bottom_margin",50,"number")}
var s=function(t){return t.getParam("autoresize_on_init",true,"boolean")}
var l=function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()}
var f=function(t,e,n,o,a){r.setEditorTimeout(t,(function(){m(t,e)
n--?f(t,e,n,o,a):a&&a()}),o)}
var v=function(t,e){var n=t.getBody()
if(n){n.style.overflowY=e?"":"hidden"
e||(n.scrollTop=0)}}
var d=function(t,e,n,r){var o=parseInt(t.getStyle(e,n,r),10)
return isNaN(o)?0:o}
var m=function(t,e){var r=t.dom
var u=t.getDoc()
if(!u)return
if(l(t)){v(t,true)
return}var s=u.documentElement
var f=c(t)
var h=a(t)
var g=d(r,s,"margin-top",true)
var p=d(r,s,"margin-bottom",true)
var b=s.offsetHeight+g+p+f
b<0&&(b=0)
var y=t.getContainer().offsetHeight
var w=t.getContentAreaContainer().offsetHeight
var x=y-w
b+x>a(t)&&(h=b+x)
var C=i(t)
if(C&&h>C){h=C
v(t,true)}else v(t,false)
if(h!==e.get()){var S=h-e.get()
r.setStyle(t.getContainer(),"height",h+"px")
e.set(h)
o(t)
if(n.browser.isSafari()&&n.mac){var k=t.getWin()
k.scrollTo(k.pageXOffset,k.pageYOffset)}t.hasFocus()&&t.selection.scrollIntoView(t.selection.getNode())
n.webkit&&S<0&&m(t,e)}}
var h=function(t,e){t.on("init",(function(){var e=u(t)
var n=t.dom
n.setStyles(t.getDoc().documentElement,{height:"auto"})
n.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}))
t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){m(t,e)}))
s(t)&&t.on("init",(function(){f(t,e,20,100,(function(){f(t,e,5,1e3)}))}))}
var g=function(t,e){t.addCommand("mceAutoResize",(function(){m(t,e)}))}
function p(){e.add("autoresize",(function(e){e.settings.hasOwnProperty("resize")||(e.settings.resize=false)
if(!e.inline){var n=t(0)
g(e,n)
h(e,n)}}))}p()})()},38492:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t,n){var r=t.dom
var o
var a=t.selection.getSelectedBlocks()
if(a.length){o=r.getAttrib(a[0],"dir")
e.each(a,(function(t){r.getParent(t.parentNode,'*[dir="'+n+'"]',r.getRoot())||r.setAttrib(t,"dir",o!==n?n:null)}))
t.nodeChanged()}}
var r=function(t){t.addCommand("mceDirectionLTR",(function(){n(t,"ltr")}))
t.addCommand("mceDirectionRTL",(function(){n(t,"rtl")}))}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return null===t||void 0===t}
var i=function(t){return!a(t)}
var u=o("function")
var c=function(){}
var s=function(t,e){return function(n){return t(e(n))}}
var l=function(t){return function(){return t}}
var f=l(false)
var v=l(true)
var d=function(){return m}
var m=(h=function(t){return t.isNone()},g=function(t){return t()},p=function(t){return t},b={fold:function(t,e){return t()},is:f,isSome:f,isNone:v,getOr:p,getOrThunk:g,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:g,map:d,each:c,bind:d,exists:f,forall:v,filter:d,equals:h,equals_:h,toArray:function(){return[]},toString:l("none()")},b)
var h,g,p,b
var y=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:v,isNone:f,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(f,(function(e){return n(t,e)}))}}
return o}
var w=function(t){return null===t||void 0===t?m:y(t)}
var x={some:y,none:d,from:w}
var C=function(t){return void 0!==t.style&&u(t.style.getPropertyValue)}
var S=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return _(r.childNodes[0])}
var k=function(t,e){var n=e||document
var r=n.createElement(t)
return _(r)}
var T=function(t,e){var n=e||document
var r=n.createTextNode(t)
return _(r)}
var _=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var O=function(t,e,n){return x.from(t.dom.elementFromPoint(e,n)).map(_)}
var E={fromHtml:S,fromTag:k,fromText:T,fromDom:_,fromPoint:O}
"undefined"!==typeof window?window:Function("return this;")()
var M=9
var A=11
var z=3
var D=function(t){return t.dom.nodeType}
var R=function(t){return function(e){return D(e)===t}}
var I=R(z)
var H=R(M)
var L=R(A)
var B=function(t){return E.fromDom(t.dom.ownerDocument)}
var P=function(t){return H(t)?t:B(t)}
var N=function(t){return L(t)&&i(t.dom.host)}
var F=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode)
var V=F?function(t){return E.fromDom(t.dom.getRootNode())}:P
var j=function(t){var e=V(t)
return N(e)?x.some(e):x.none()}
var U=function(t){return E.fromDom(t.dom.host)}
var W=function(t){var e=I(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return j(E.fromDom(e)).fold((function(){return n.body.contains(e)}),s(W,U))}
var q=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||W(t)?o:G(n,e)}
var G=function(t,e){return C(t)?t.style.getPropertyValue(e):""}
var $=function(t){return"rtl"===q(t,"direction")?"rtl":"ltr"}
var X=function(t,e){return function(n){var r=function(t){var r=E.fromDom(t.element)
n.setActive($(r)===e)}
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}}
var K=function(t){t.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return t.execCommand("mceDirectionLTR")},onSetup:X(t,"ltr")})
t.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return t.execCommand("mceDirectionRTL")},onSetup:X(t,"rtl")})}
function Z(){t.add("directionality",(function(t){r(t)
K(t)}))}Z()})()},50755:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){t.addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",false,"<hr />")}))}
var n=function(t){t.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})
t.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})}
function r(){t.add("hr",(function(t){e(t)
n(t)}))}r()})()},27384:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.VK")
var n=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var r=function(t){return function(e){return n(e)===t}}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return function(e){return t===e}}
var i=r("string")
var u=r("array")
var c=a(null)
var s=o("boolean")
var l=o("function")
var f=function(t){var e=t.getParam("link_assume_external_targets",false)
if(s(e)&&e)return 1
if(i(e)&&("http"===e||"https"===e))return e
return 0}
var v=function(t){return t.getParam("link_context_toolbar",false,"boolean")}
var d=function(t){return t.getParam("link_list")}
var m=function(t){return t.getParam("default_link_target")}
var h=function(t){return t.getParam("target_list",true)}
var g=function(t){return t.getParam("rel_list",[],"array")}
var p=function(t){return t.getParam("link_class_list",[],"array")}
var b=function(t){return t.getParam("link_title",true,"boolean")}
var y=function(t){return t.getParam("allow_unsafe_link_target",false,"boolean")}
var w=function(t){return t.getParam("link_quicklink",false,"boolean")}
var x=function(t){return t.getParam("link_default_protocol","http","string")}
var C=function(){}
var S=function(t){return function(){return t}}
var k=S(false)
var T=S(true)
var _=function(){return O}
var O=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:k,isSome:k,isNone:T,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:n,orThunk:e,map:_,each:C,bind:_,exists:k,forall:T,filter:_,equals:t,equals_:t,toArray:function(){return[]},toString:S("none()")}
return r}()
var E=function(t){var e=S(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:T,isNone:k,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return E(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:O},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(k,(function(e){return n(t,e)}))}}
return o}
var M=function(t){return null===t||void 0===t?O:E(t)}
var A={some:E,none:_,from:M}
var z=Array.prototype.indexOf
var D=Array.prototype.push
var R=function(t,e){return z.call(t,e)}
var I=function(t,e){return R(t,e)>-1}
var H=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var L=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var B=function(t,e,n){L(t,(function(t){n=e(n,t)}))
return n}
var P=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
D.apply(e,t[n])}return e}
var N=function(t,e){return P(H(t,e))}
var F=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return A.none()}
var V=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var j=function(t,e){return t?A.some(e):A.none()}
var U=tinymce.util.Tools.resolve("tinymce.util.Tools")
var W=function(t){return i(t.value)?t.value:""}
var q=function(t){return i(t.text)?t.text:i(t.title)?t.title:""}
var G=function(t,e){var n=[]
U.each(t,(function(t){var r=q(t)
if(void 0!==t.menu){var o=G(t.menu,e)
n.push({text:r,items:o})}else{var a=e(t)
n.push({text:r,value:a})}}))
return n}
var $=function(t){void 0===t&&(t=W)
return function(e){return A.from(e).map((function(e){return G(e,t)}))}}
var X=function(t){return $(W)(t)}
var K=function(t,e){return function(n){return{name:t,type:"listbox",label:e,items:n}}}
var Z={sanitize:X,sanitizeWith:$,createUi:K,getValue:W}
var Y=function(){Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return Y.apply(this,arguments)}
var J=Object.keys
var Q=Object.hasOwnProperty
var tt=function(t,e){var n=J(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var et=function(t){return function(e,n){t[n]=e}}
var nt=function(t,e,n,r){var o={}
tt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var rt=function(t,e){var n={}
nt(t,e,et(n),C)
return n}
var ot=function(t,e){return Q.call(t,e)}
var at=function(t,e){return ot(t,e)&&void 0!==t[e]&&null!==t[e]}
var it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var ut=function(t){return t&&"a"===t.nodeName.toLowerCase()}
var ct=function(t){return ut(t)&&!!ft(t)}
var st=function(t,e){if(t.collapsed)return[]
var n=t.cloneContents()
var r=new it(n.firstChild,n)
var o=[]
var a=n.firstChild
do{e(a)&&o.push(a)}while(a=r.next())
return o}
var lt=function(t){return/^\w+:/i.test(t)}
var ft=function(t){var e=t.getAttribute("data-mce-href")
return e||t.getAttribute("href")}
var vt=function(t,e){var n=["noopener"]
var r=t?t.split(/\s+/):[]
var o=function(t){return U.trim(t.sort().join(" "))}
var a=function(t){t=i(t)
return t.length>0?t.concat(n):n}
var i=function(t){return t.filter((function(t){return-1===U.inArray(n,t)}))}
var u=e?a(r):i(r)
return u.length>0?o(u):""}
var dt=function(t){return t.replace(/\uFEFF/g,"")}
var mt=function(t,e){e=e||t.selection.getNode()
return yt(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")}
var ht=function(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"})
return dt(n)}
var gt=function(t){return U.grep(t,ct).length>0}
var pt=function(t){return st(t,ct).length>0}
var bt=function(t){var e=t.schema.getTextInlineElements()
var n=function(t){return 1===t.nodeType&&!ut(t)&&!ot(e,t.nodeName.toLowerCase())}
var r=st(t.selection.getRng(),n)
return 0===r.length}
var yt=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)}
var wt=function(t){return B(["title","rel","class","target"],(function(e,n){t[n].each((function(t){e[n]=t.length>0?t:null}))
return e}),{href:t.href})}
var xt=function(t,e){if(("http"===e||"https"===e)&&!lt(t))return e+"://"+t
return t}
var Ct=function(t,e){var n=Y({},e)
if(!(g(t).length>0)&&false===y(t)){var r=vt(n.rel,"_blank"===n.target)
n.rel=r||null}A.from(n.target).isNone()&&false===h(t)&&(n.target=m(t))
n.href=xt(n.href,f(t))
return n}
var St=function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t}))
t.dom.setAttribs(e,r)
t.selection.select(e)}
var kt=function(t,e,n,r){yt(e)?Dt(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",false,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}
var Tt=function(t,e,n){var r=t.selection.getNode()
var o=mt(t,r)
var a=Ct(t,wt(n))
t.undoManager.transact((function(){n.href===e.href&&e.attach()
if(o){t.focus()
St(t,o,n.text,a)}else kt(t,r,n.text,a)}))}
var _t=function(t){var e=t.dom,n=t.selection
var r=n.getBookmark()
var o=n.getRng().cloneRange()
var a=e.getParent(o.startContainer,"a[href]",t.getBody())
var i=e.getParent(o.endContainer,"a[href]",t.getBody())
a&&o.setStartBefore(a)
i&&o.setEndAfter(i)
n.setRng(o)
t.execCommand("unlink")
n.moveToBookmark(r)}
var Ot=function(t){t.undoManager.transact((function(){var e=t.selection.getNode()
yt(e)?zt(t,e):_t(t)
t.focus()}))}
var Et=function(t){var e=t.class,n=t.href,r=t.rel,o=t.target,a=t.text,i=t.title
return rt({class:e.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},(function(t,e){return false===c(t)}))}
var Mt=function(t,e,n){t.hasPlugin("rtc",true)?t.execCommand("createlink",false,Et(n)):Tt(t,e,n)}
var At=function(t){t.hasPlugin("rtc",true)?t.execCommand("unlink"):Ot(t)}
var zt=function(t,e){var n=t.dom.select("img",e)[0]
if(n){var r=t.dom.getParents(n,"a[href]",e)[0]
if(r){r.parentNode.insertBefore(n,r)
t.dom.remove(r)}}}
var Dt=function(t,e,n){var r=t.dom.select("img",e)[0]
if(r){var o=t.dom.create("a",n)
r.parentNode.insertBefore(o,r)
o.appendChild(r)}}
var Rt=function(t){return at(t,"items")}
var It=function(t,e){return F(e,(function(e){return Rt(e)?It(t,e.items):j(e.value===t,e)}))}
var Ht=function(t,e,n,r){var o=r[e]
var a=t.length>0
return void 0!==o?It(o,n).map((function(e){return{url:{value:e.value,meta:{text:a?t:e.text,attach:C}},text:a?t:e.text}})):A.none()}
var Lt=function(t,e){return"link"===e?t.link:"anchor"===e?t.anchor:A.none()}
var Bt=function(t,e){var n={text:t.text,title:t.title}
var r=function(t){return j(n.title.length<=0,A.from(t.meta.title).getOr(""))}
var o=function(t){return j(n.text.length<=0,A.from(t.meta.text).getOr(t.value))}
var a=function(t){var e=o(t.url)
var n=r(t.url)
return e.isSome()||n.isSome()?A.some(Y(Y({},e.map((function(t){return{text:t}})).getOr({})),n.map((function(t){return{title:t}})).getOr({}))):A.none()}
var i=function(t,r){var o=Lt(e,r.name).getOr([])
return Ht(n.text,r.name,o,t)}
var u=function(t,e){var r=e.name
if("url"===r)return a(t())
if(I(["anchor","link"],r))return i(t(),e)
if("text"===r||"title"===r){n[r]=t()[r]
return A.none()}return A.none()}
return{onChange:u}}
var Pt={init:Bt,getDelta:Ht}
var Nt=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Ft=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Vt=function(t,e,n){var r=t.selection.getRng()
Nt.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r)
n(e)}))}))}
var jt=function(t){var e=t.href
var n=e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:")
return n?A.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return Y(Y({},t),{href:"mailto:"+e})}}):A.none()}
var Ut=function(t,e){return function(n){var r=n.href
var o=1===t&&!lt(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r)
return o?A.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return Y(Y({},t),{href:e+"://"+r})}}):A.none()}}
var Wt=function(t,e){return F([jt,Ut(f(t),x(t))],(function(t){return t(e)})).fold((function(){return Ft.resolve(e)}),(function(n){return new Ft((function(r){Vt(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))}
var qt={preprocess:Wt}
var Gt=function(t){var e=t.dom.select("a:not([href])")
var n=N(e,(function(t){var e=t.name||t.id
return e?[{text:e,value:"#"+e}]:[]}))
return n.length>0?A.some([{text:"None",value:""}].concat(n)):A.none()}
var $t={getAnchors:Gt}
var Xt=function(t){var e=p(t)
if(e.length>0)return Z.sanitize(e)
return A.none()}
var Kt={getClasses:Xt}
var Zt=tinymce.util.Tools.resolve("tinymce.util.XHR")
var Yt=function(t){try{return A.some(JSON.parse(t))}catch(t){return A.none()}}
var Jt=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")}
var n=d(t)
return new Ft((function(t){i(n)?Zt.send({url:n,success:function(e){return t(Yt(e))},error:function(e){return t(A.none())}}):l(n)?n((function(e){return t(A.some(e))})):t(A.from(n))})).then((function(t){return t.bind(Z.sanitizeWith(e)).map((function(t){if(t.length>0){var e=[{text:"None",value:""}]
return e.concat(t)}return t}))}))}
var Qt={getLinks:Jt}
var te=function(t,e){var n=g(t)
if(n.length>0){var r=e.is("_blank")
var o=false===y(t)
var a=function(t){return vt(Z.getValue(t),r)}
var i=o?Z.sanitizeWith(a):Z.sanitize
return i(n)}return A.none()}
var ee={getRels:te}
var ne=[{text:"Current window",value:""},{text:"New window",value:"_blank"}]
var re=function(t){var e=h(t)
if(u(e))return Z.sanitize(e).orThunk((function(){return A.some(ne)}))
if(false===e)return A.none()
return A.some(ne)}
var oe={getTargets:re}
var ae=function(t,e,n){var r=t.getAttrib(e,n)
return null!==r&&r.length>0?A.some(r):A.none()}
var ie=function(t,e){var n=t.dom
var r=bt(t)
var o=r?A.some(ht(t.selection,e)):A.none()
var a=e?A.some(n.getAttrib(e,"href")):A.none()
var i=e?A.from(n.getAttrib(e,"target")):A.none()
var u=ae(n,e,"rel")
var c=ae(n,e,"class")
var s=ae(n,e,"title")
return{url:a,text:o,title:s,target:i,rel:u,linkClass:c}}
var ue=function(t,e){return Qt.getLinks(t).then((function(n){var r=ie(t,e)
return{anchor:r,catalogs:{targets:oe.getTargets(t),rels:ee.getRels(t,r.target),classes:Kt.getClasses(t),anchor:$t.getAnchors(t),link:n},optNode:A.from(e),flags:{titleEnabled:b(t)}}}))}
var ce={collect:ue}
var se=function(t,e){return function(n){var r=n.getData()
if(!r.url.value){At(t)
n.close()
return}var o=function(t){return A.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))}
var a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")}
var i={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:C}
qt.preprocess(t,a).then((function(e){Mt(t,i,e)}))
n.close()}}
var le=function(t){var e=mt(t)
return ce.collect(t,e)}
var fe=function(t,e){var n=t.anchor
var r=n.url.getOr("")
return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(e).getOr(""),linkClass:n.linkClass.getOr("")}}
var ve=function(t,e,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}]
var o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray()
var a=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[]
var i=A.from(m(n))
var u=fe(t,i)
var c=t.catalogs
var s=Pt.init(u,c)
var l={type:"panel",items:P([r,o,a,V([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])}
return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:u,onChange:function(t,e){var n=e.name
s.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}}
var de=function(t){var e=le(t)
e.then((function(e){var n=se(t,e)
return ve(e,n,t)})).then((function(e){t.windowManager.open(e)}))}
var me=function(t,e){document.body.appendChild(t)
t.dispatchEvent(e)
document.body.removeChild(t)}
var he=function(t){var e=document.createElement("a")
e.target="_blank"
e.href=t
e.rel="noreferrer noopener"
var n=document.createEvent("MouseEvents")
n.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null)
me(e,n)}
var ge=function(t,e){return t.dom.getParent(e,"a[href]")}
var pe=function(t){return ge(t,t.selection.getStart())}
var be=function(t){return true===t.altKey&&false===t.shiftKey&&false===t.ctrlKey&&false===t.metaKey}
var ye=function(t,e){if(e){var n=ft(e)
if(/^#/.test(n)){var r=t.$(n)
r.length&&t.selection.scrollIntoView(r[0],true)}else he(e.href)}}
var we=function(t){return function(){de(t)}}
var xe=function(t){return function(){ye(t,pe(t))}}
var Ce=function(t){t.on("click",(function(n){var r=ge(t,n.target)
if(r&&e.metaKeyPressed(n)){n.preventDefault()
ye(t,r)}}))
t.on("keydown",(function(e){var n=pe(t)
if(n&&13===e.keyCode&&be(e)){e.preventDefault()
ye(t,n)}}))}
var Se=function(t,e){t.on("NodeChange",e)
return function(){return t.off("NodeChange",e)}}
var ke=function(t){return function(e){return Se(t,(function(){e.setActive(!t.mode.isReadOnly()&&null!==mt(t,t.selection.getNode()))}))}}
var Te=function(t){return function(e){var n=function(){return e.setDisabled(null===mt(t,t.selection.getNode()))}
n()
return Se(t,n)}}
var _e=function(t){return function(e){var n=function(e){return gt(e)||pt(t.selection.getRng())}
var r=t.dom.getParents(t.selection.getStart())
e.setDisabled(!n(r))
return Se(t,(function(t){return e.setDisabled(!n(t.parents))}))}}
var Oe=function(t){t.addCommand("mceLink",(function(){w(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):we(t)()}))}
var Ee=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}
var Me=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:we(t),onSetup:ke(t)})
t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:xe(t),onSetup:Te(t)})
t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return At(t)},onSetup:_e(t)})}
var Ae=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:xe(t),onSetup:Te(t)})
t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:we(t)})
t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return At(t)},onSetup:_e(t)})}
var ze=function(t){var e="link unlink openlink"
var n="link"
t.ui.registry.addContextMenu("link",{update:function(r){return gt(t.dom.getParents(r,"a"))?e:n}})}
var De=function(t){var e=function(t){t.selection.collapse(false)}
var n=function(e){var n=t.selection.getNode()
e.setDisabled(!mt(t,n))
return C}
t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:ke(t)},label:"Link",predicate:function(e){return!!mt(t,e)&&v(t)},initValue:function(){var e=mt(t)
return!e?"":ft(e)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:function(e){var n=t.selection.getNode()
e.setActive(!!mt(t,n))
return ke(t)(e)},onAction:function(n){var r=mt(t)
var o=n.getValue()
if(r)t.undoManager.transact((function(){t.dom.setAttrib(r,"href",o)
e(t)
n.hide()}))
else{var a={href:o,attach:C}
var i=bt(t)
var u=i?A.some(ht(t.selection,r)).filter((function(t){return t.length>0})).or(A.from(o)):A.none()
Mt(t,a,{href:o,text:u,title:A.none(),rel:A.none(),target:A.none(),class:A.none()})
n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(e){At(t)
e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(e){xe(t)()
e.hide()}}]})}
function Re(){t.add("link",(function(t){Me(t)
Ae(t)
ze(t)
De(t)
Ce(t)
Oe(t)
Ee(t)}))}Re()})()},77585:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var n=function(t){return function(n){return e(n)===t}}
var r=function(t){return function(e){return typeof e===t}}
var o=n("string")
var a=n("object")
var i=n("array")
var u=r("boolean")
var c=r("function")
var s=r("number")
var l=function(){}
var f=function(t){return function(){return t}}
var v=function(t){return function(e){return!t(e)}}
var d=f(false)
var m=f(true)
var h=function(){return g}
var g=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:d,isSome:d,isNone:m,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:n,orThunk:e,map:h,each:l,bind:h,exists:d,forall:m,filter:h,equals:t,equals_:t,toArray:function(){return[]},toString:f("none()")}
return r}()
var p=function(t){var e=f(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return p(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:g},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,(function(e){return n(t,e)}))}}
return o}
var b=function(t){return null===t||void 0===t?g:p(t)}
var y={some:p,none:h,from:b}
var w=Array.prototype.slice
var x=Array.prototype.push
var C=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var S=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var k=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var T=function(t,e){if(0===t.length)return[]
var n=e(t[0])
var r=[]
var o=[]
for(var a=0,i=t.length;a<i;a++){var u=t[a]
var c=e(u)
if(c!==n){r.push(o)
o=[]}n=c
o.push(u)}0!==o.length&&r.push(o)
return r}
var _=function(t,e,n){S(t,(function(t){n=e(n,t)}))
return n}
var O=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return y.some(a)
if(n(a,r))break}return y.none()}
var E=function(t,e){return O(t,e,d)}
var M=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
x.apply(e,t[n])}return e}
var A=function(t,e){return M(C(t,e))}
var z=function(t){var e=w.call(t,0)
e.reverse()
return e}
var D=function(t,e){return e>=0&&e<t.length?y.some(t[e]):y.none()}
var R=function(t){return D(t,0)}
var I=function(t){return D(t,t.length-1)}
var H=function(){H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return H.apply(this,arguments)}
function L(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var B=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var P=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var v=!s&&!c&&!l
return{isiPad:f(o),isiPhone:f(a),isTablet:f(c),isPhone:f(s),isTouch:f(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:f(l),isDesktop:f(v)}}
var N=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var F=function(t,e){var n=N(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return U(r(1),r(2))}
var V=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return j()
return F(t,n)}
var j=function(){return U(0,0)}
var U=function(t,e){return{major:t,minor:e}}
var W={nu:U,detect:V,unknown:j}
var q=function(t,e){var n=String(e).toLowerCase()
return E(t,(function(t){return t.search(n)}))}
var G=function(t,e){return q(t,e).map((function(t){var n=W.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var $=function(t,e){return q(t,e).map((function(t){var n=W.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var X={detectBrowser:G,detectOs:$}
var K=function(t,e){return-1!==t.indexOf(e)}
var Z=function(t){return function(e){return e.replace(t,"")}}
var Y=Z(/^\s+|\s+$/g)
var J=function(t){return t.length>0}
var Q=function(t){return!J(t)}
var tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var et=function(t){return function(e){return K(e,t)}}
var nt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return K(t,"edge/")&&K(t,"chrome")&&K(t,"safari")&&K(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tt],search:function(t){return K(t,"chrome")&&!K(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return K(t,"msie")||K(t,"trident")}},{name:"Opera",versionRegexes:[tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(K(t,"safari")||K(t,"mobile/"))&&K(t,"applewebkit")}}]
var rt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return K(t,"iphone")||K(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var ot={browsers:f(nt),oses:f(rt)}
var at="Edge"
var it="Chrome"
var ut="IE"
var ct="Opera"
var st="Firefox"
var lt="Safari"
var ft=function(){return vt({current:void 0,version:W.unknown()})}
var vt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(at),isChrome:r(it),isIE:r(ut),isOpera:r(ct),isFirefox:r(st),isSafari:r(lt)}}
var dt={unknown:ft,nu:vt,edge:f(at),chrome:f(it),ie:f(ut),opera:f(ct),firefox:f(st),safari:f(lt)}
var mt="Windows"
var ht="iOS"
var gt="Android"
var pt="Linux"
var bt="OSX"
var yt="Solaris"
var wt="FreeBSD"
var xt="ChromeOS"
var Ct=function(){return St({current:void 0,version:W.unknown()})}
var St=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(mt),isiOS:r(ht),isAndroid:r(gt),isOSX:r(bt),isLinux:r(pt),isSolaris:r(yt),isFreeBSD:r(wt),isChromeOS:r(xt)}}
var kt={unknown:Ct,nu:St,windows:f(mt),ios:f(ht),android:f(gt),linux:f(pt),osx:f(bt),solaris:f(yt),freebsd:f(wt),chromeos:f(xt)}
var Tt=function(t,e){var n=ot.browsers()
var r=ot.oses()
var o=X.detectBrowser(n,t).fold(dt.unknown,dt.nu)
var a=X.detectOs(r,t).fold(kt.unknown,kt.nu)
var i=P(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var _t={detect:Tt}
var Ot=function(t){return window.matchMedia(t).matches}
var Et=B((function(){return _t.detect(navigator.userAgent,Ot)}))
var Mt=function(){return Et()}
var At=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var zt=function(t,e){return At(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Dt=1
var Rt=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return Lt(r.childNodes[0])}
var It=function(t,e){var n=e||document
var r=n.createElement(t)
return Lt(r)}
var Ht=function(t,e){var n=e||document
var r=n.createTextNode(t)
return Lt(r)}
var Lt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var Bt=function(t,e,n){return y.from(t.dom.elementFromPoint(e,n)).map(Lt)}
var Pt={fromHtml:Rt,fromTag:It,fromText:Ht,fromDom:Lt,fromPoint:Bt}
var Nt=function(t,e){var n=t.dom
if(n.nodeType!==Dt)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var Ft=function(t,e){return t.dom===e.dom}
var Vt=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var jt=function(t,e){return zt(t.dom,e.dom)}
var Ut=function(t,e){return Mt().browser.isIE()?jt(t,e):Vt(t,e)}
var Wt=Nt
var qt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Gt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var $t=tinymce.util.Tools.resolve("tinymce.util.VK")
var Xt=Object.keys
var Kt=function(t,e){var n=Xt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Zt=function(t){return function(e,n){t[n]=e}}
var Yt=function(t,e,n,r){var o={}
Kt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Jt=function(t,e){var n={}
Yt(t,e,Zt(n),l)
return n}
"undefined"!==typeof window?window:Function("return this;")()
var Qt=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var te=function(t){return t.dom.nodeType}
var ee=function(t){return function(e){return te(e)===t}}
var ne=ee(Dt)
var re=function(t,e,n){if(!(o(n)||u(n)||s(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var oe=function(t,e){var n=t.dom
Kt(e,(function(t,e){re(n,e,t)}))}
var ae=function(t){return _(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var ie=function(t){return y.from(t.dom.parentNode).map(Pt.fromDom)}
var ue=function(t){return C(t.dom.childNodes,Pt.fromDom)}
var ce=function(t,e){var n=t.dom.childNodes
return y.from(n[e]).map(Pt.fromDom)}
var se=function(t){return ce(t,0)}
var le=function(t){return ce(t,t.dom.childNodes.length-1)}
var fe=function(t,e){var n=ie(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var ve=function(t,e){t.dom.appendChild(e.dom)}
var de=function(t,e){S(e,(function(e){fe(t,e)}))}
var me=function(t,e){S(e,(function(e){ve(t,e)}))}
var he=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var ge=function(t,e){return Pt.fromDom(t.dom.cloneNode(e))}
var pe=function(t){return ge(t,true)}
var be=function(t,e){var n=Pt.fromTag(e)
var r=ae(t)
oe(n,r)
return n}
var ye=function(t,e){var n=be(t,e)
fe(t,n)
var r=ue(t)
me(n,r)
he(t)
return n}
var we=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var xe=tinymce.util.Tools.resolve("tinymce.util.Tools")
var Ce=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}}
var Se=function(t){return function(e){return e&&t.test(e.nodeName)}}
var ke=function(t){return t&&3===t.nodeType}
var Te=Se(/^(OL|UL|DL)$/)
var _e=Se(/^(OL|UL)$/)
var Oe=Ce("ol")
var Ee=Se(/^(LI|DT|DD)$/)
var Me=Se(/^(DT|DD)$/)
var Ae=Se(/^(TH|TD)$/)
var ze=Ce("br")
var De=function(t){return t.parentNode.firstChild===t}
var Re=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]}
var Ie=function(t,e){return t&&t.nodeName in e}
var He=function(t,e){if(!ze(e))return false
return t.isBlock(e.nextSibling)&&!ze(e.previousSibling)}
var Le=function(t,e,n){var r=t.isEmpty(e)
if(n&&t.select("span[data-mce-type=bookmark]",e).length>0)return false
return r}
var Be=function(t,e){return t.isChildOf(e,t.getRoot())}
var Pe=function(t){return t.getParam("lists_indent_on_tab",true)}
var Ne=function(t){var e=t.getParam("forced_root_block","p")
return false===e?"":true===e?"p":e}
var Fe=function(t){return t.getParam("forced_root_block_attrs",{})}
var Ve=function(t,e){var n=t.dom
var r=t.schema.getBlockElements()
var o=n.createFragment()
var a=Ne(t)
var i,u,c
if(a){u=n.create(a)
u.tagName===a.toUpperCase()&&n.setAttribs(u,Fe(t))
Ie(e.firstChild,r)||o.appendChild(u)}if(e)while(i=e.firstChild){var s=i.nodeName
c||"SPAN"===s&&"bookmark"===i.getAttribute("data-mce-type")||(c=true)
if(Ie(i,r)){o.appendChild(i)
u=null}else if(a){if(!u){u=n.create(a)
o.appendChild(u)}u.appendChild(i)}else o.appendChild(i)}a?c||u.appendChild(n.create("br",{"data-mce-bogus":"1"})):o.appendChild(n.create("br"))
return o}
var je=we.DOM
var Ue=function(t,e,n){var r=function(t){xe.each(o,(function(e){t.parentNode.insertBefore(e,n.parentNode)}))
je.remove(t)}
var o=je.select('span[data-mce-type="bookmark"]',e)
var a=Ve(t,n)
var i=je.createRng()
i.setStartAfter(n)
i.setEndAfter(e)
var u=i.extractContents()
for(var c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&t.dom.isEmpty(c)){je.remove(c)
break}t.dom.isEmpty(u)||je.insertAfter(u,e)
je.insertAfter(a,e)
Le(t.dom,n.parentNode)&&r(n.parentNode)
je.remove(n)
Le(t.dom,e)&&je.remove(e)}
var We=function(t,e){Wt(e,"dd")?ye(e,"dt"):Wt(e,"dt")&&ie(e).each((function(n){return Ue(t,n.dom,e.dom)}))}
var qe=function(t){Wt(t,"dt")&&ye(t,"dd")}
var Ge=function(t,e,n){S(n,"Indent"===e?qe:function(e){return We(t,e)})}
var $e=function(t,e){if(ke(t))return{container:t,offset:e}
var n=qt.getNode(t,e)
if(ke(n))return{container:n,offset:e>=t.childNodes.length?n.data.length:0}
if(n.previousSibling&&ke(n.previousSibling))return{container:n.previousSibling,offset:n.previousSibling.data.length}
if(n.nextSibling&&ke(n.nextSibling))return{container:n.nextSibling,offset:0}
return{container:t,offset:e}}
var Xe=function(t){var e=t.cloneRange()
var n=$e(t.startContainer,t.startOffset)
e.setStart(n.container,n.offset)
var r=$e(t.endContainer,t.endOffset)
e.setEnd(r.container,r.offset)
return e}
var Ke=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var Ze=function(t,e){var n=e||t.selection.getStart(true)
return t.dom.getParent(n,"OL,UL,DL",rn(t,n))}
var Ye=function(t,e){return t&&1===e.length&&e[0]===t}
var Je=function(t){return xe.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return Te(t)}))}
var Qe=function(t){var e=Ze(t)
var n=t.selection.getSelectedBlocks()
return Ye(e,n)?Je(e):xe.grep(n,(function(t){return Te(t)&&e!==t}))}
var tn=function(t,e){var n=xe.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",rn(t,e))
return n||e}))
return Ke.unique(n)}
var en=function(t){var e=t.selection.getSelectedBlocks()
return xe.grep(tn(t,e),(function(t){return Ee(t)}))}
var nn=function(t){return k(en(t),Me)}
var rn=function(t,e){var n=t.dom.getParents(e,"TD,TH")
var r=n.length>0?n[0]:t.getBody()
return r}
var on=function(t,e){var n=t.dom.getParents(e,"ol,ul",rn(t,e))
return I(n)}
var an=function(t){var e=on(t,t.selection.getStart())
var n=k(t.selection.getSelectedBlocks(),_e)
return e.toArray().concat(n)}
var un=function(t){var e=an(t)
return cn(t,e)}
var cn=function(t,e){var n=C(e,(function(e){return on(t,e).getOr(e)}))
return Ke.unique(n)}
var sn=function(t,e,n){return t.isSome()&&e.isSome()?y.some(n(t.getOrDie(),e.getOrDie())):y.none()}
var ln=function(t,e){var n=e||document
var r=n.createDocumentFragment()
S(t,(function(t){r.appendChild(t.dom)}))
return Pt.fromDom(r)}
var fn=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})}
var vn=function(t){return void 0!==t.style&&c(t.style.getPropertyValue)}
var dn=function(t,e,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}vn(t)&&t.style.setProperty(e,n)}
var mn=function(t,e,n){var r=t.dom
dn(r,e,n)}
var hn=function(t,e){ve(t.item,e.list)}
var gn=function(t){for(var e=1;e<t.length;e++)hn(t[e-1],t[e])}
var pn=function(t,e){sn(I(t),R(e),hn)}
var bn=function(t,e){var n={list:Pt.fromTag(e,t),item:Pt.fromTag("li",t)}
ve(n.list,n.item)
return n}
var yn=function(t,e,n){var r=[]
for(var o=0;o<n;o++)r.push(bn(t,e.listType))
return r}
var wn=function(t,e){for(var n=0;n<t.length-1;n++)mn(t[n].item,"list-style-type","none")
I(t).each((function(t){oe(t.list,e.listAttributes)
oe(t.item,e.itemAttributes)
me(t.item,e.content)}))}
var xn=function(t,e){Qt(t.list)!==e.listType&&(t.list=ye(t.list,e.listType))
oe(t.list,e.listAttributes)}
var Cn=function(t,e,n){var r=Pt.fromTag("li",t)
oe(r,e)
me(r,n)
return r}
var Sn=function(t,e){ve(t.list,e)
t.item=e}
var kn=function(t,e,n){var r=e.slice(0,n.depth)
I(r).each((function(e){var r=Cn(t,n.itemAttributes,n.content)
Sn(e,r)
xn(e,n)}))
return r}
var Tn=function(t,e,n){var r=yn(t,n,n.depth-e.length)
gn(r)
wn(r,n)
pn(e,r)
return e.concat(r)}
var _n=function(t,e){var n=_(e,(function(e,n){return n.depth>e.length?Tn(t,e,n):kn(t,e,n)}),[])
return R(n).map((function(t){return t.list}))}
var On=function(t){return Wt(t,"OL,UL")}
var En=function(t){return se(t).map(On).getOr(false)}
var Mn=function(t){return le(t).map(On).getOr(false)}
var An=function(t){return t.depth>0}
var zn=function(t){return t.isSelected}
var Dn=function(t){var e=ue(t)
var n=Mn(t)?e.slice(0,-1):e
return C(n,pe)}
var Rn=function(t,e,n){return ie(t).filter(ne).map((function(r){return{depth:e,dirty:false,isSelected:n,content:Dn(t),itemAttributes:ae(t),listAttributes:ae(r),listType:Qt(r)}}))}
var In=function(t,e){switch(t){case"Indent":e.depth++
break
case"Outdent":e.depth--
break
case"Flatten":e.depth=0}e.dirty=true}
var Hn=function(t,e){t.listType=e.listType
t.listAttributes=H({},e.listAttributes)}
var Ln=function(t){t.listAttributes=Jt(t.listAttributes,(function(t,e){return"start"!==e}))}
var Bn=function(t,e){var n=t[e].depth
var r=function(t){return t.depth===n&&!t.dirty}
var o=function(t){return t.depth<n}
return O(z(t.slice(0,e)),r,o).orThunk((function(){return O(t.slice(e+1),r,o)}))}
var Pn=function(t){S(t,(function(e,n){Bn(t,n).fold((function(){e.dirty&&Ln(e)}),(function(t){return Hn(e,t)}))}))
return t}
var Nn=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Fn=function(t,e,n,r){return se(r).filter(On).fold((function(){e.each((function(t){Ft(t.start,r)&&n.set(true)}))
var o=Rn(r,t,n.get())
e.each((function(t){Ft(t.end,r)&&n.set(false)}))
var a=le(r).filter(On).map((function(r){return Vn(t,e,n,r)})).getOr([])
return o.toArray().concat(a)}),(function(r){return Vn(t,e,n,r)}))}
var Vn=function(t,e,n,r){return A(ue(r),(function(r){var o=On(r)?Vn:Fn
var a=t+1
return o(a,e,n,r)}))}
var jn=function(t,e){var n=Nn(false)
var r=0
return C(t,(function(t){return{sourceList:t,entries:Vn(r,e,n,t)}}))}
var Un=function(t,e){var n=Pn(e)
return C(n,(function(e){var n=ln(e.content)
return Pt.fromDom(Ve(t,n.dom))}))}
var Wn=function(t,e){var n=Pn(e)
return _n(t.contentDocument,n).toArray()}
var qn=function(t,e){return A(T(e,An),(function(e){var n=R(e).map(An).getOr(false)
return n?Wn(t,e):Un(t,e)}))}
var Gn=function(t,e){S(k(t,zn),(function(t){return In(e,t)}))}
var $n=function(t){var e=C(en(t),Pt.fromDom)
return sn(E(e,v(En)),E(z(e),v(En)),(function(t,e){return{start:t,end:e}}))}
var Xn=function(t,e,n){var r=jn(e,$n(t))
S(r,(function(e){Gn(e.entries,n)
var r=qn(t,e.entries)
S(r,(function(e){fn(t,"Indent"===n?"IndentList":"OutdentList",e.dom)}))
de(e.sourceList,r)
he(e.sourceList)}))}
var Kn=function(t,e){var n=C(un(t),Pt.fromDom)
var r=C(nn(t),Pt.fromDom)
var o=false
if(n.length||r.length){var a=t.selection.getBookmark()
Xn(t,n,e)
Ge(t,e,r)
t.selection.moveToBookmark(a)
t.selection.setRng(Xe(t.selection.getRng()))
t.nodeChanged()
o=true}return o}
var Zn=function(t){return Kn(t,"Indent")}
var Yn=function(t){return Kn(t,"Outdent")}
var Jn=function(t){return Kn(t,"Flatten")}
var Qn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager")
var tr=we.DOM
var er=function(t){var e={}
var n=function(n){var r,o,a
o=t[n?"startContainer":"endContainer"]
a=t[n?"startOffset":"endOffset"]
if(1===o.nodeType){r=tr.create("span",{"data-mce-type":"bookmark"})
if(o.hasChildNodes()){a=Math.min(a,o.childNodes.length-1)
n?o.insertBefore(r,o.childNodes[a]):tr.insertAfter(r,o.childNodes[a])}else o.appendChild(r)
o=r
a=0}e[n?"startContainer":"endContainer"]=o
e[n?"startOffset":"endOffset"]=a}
n(true)
t.collapsed||n()
return e}
var nr=function(t){var e=function(e){var n,r,o
var a=function(t){var e=t.parentNode.firstChild,n=0
while(e){if(e===t)return n
1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++
e=e.nextSibling}return-1}
n=o=t[e?"startContainer":"endContainer"]
r=t[e?"startOffset":"endOffset"]
if(!n)return
if(1===n.nodeType){r=a(n)
n=n.parentNode
tr.remove(o)
!n.hasChildNodes()&&tr.isBlock(n)&&n.appendChild(tr.create("br"))}t[e?"startContainer":"endContainer"]=n
t[e?"startOffset":"endOffset"]=r}
e(true)
e()
var n=tr.createRng()
n.setStart(t.startContainer,t.startOffset)
t.endContainer&&n.setEnd(t.endContainer,t.endOffset)
return Xe(n)}
var rr=function(t){switch(t){case"UL":return"ToggleUlList"
case"OL":return"ToggleOlList"
case"DL":return"ToggleDLList"}}
var or=function(t){return/\btox\-/.test(t.className)}
var ar=function(t,e,n){var r=function(t){var r=O(t.parents,Te,Ae).filter((function(t){return t.nodeName===e&&!or(t)})).isSome()
n(r)}
var o=t.dom.getParents(t.selection.getNode())
r({parents:o})
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}
var ir=function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null
t.setStyle(e,"list-style-type",r)}
var ur=function(t,e){xe.each(e,(function(e,n){t.setAttribute(n,e)}))}
var cr=function(t,e,n){ur(e,n["list-attributes"])
xe.each(t.select("li",e),(function(t){ur(t,n["list-item-attributes"])}))}
var sr=function(t,e,n){ir(t,e,n)
cr(t,e,n)}
var lr=function(t,e,n){xe.each(n,(function(n){var r
return t.setStyle(e,(r={},r[n]="",r))}))}
var fr=function(t,e,n,r){var o=e[n?"startContainer":"endContainer"]
var a=e[n?"startOffset":"endOffset"]
1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o)
!n&&ze(o.nextSibling)&&(o=o.nextSibling)
while(o.parentNode!==r){if(Re(t,o))return o
if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o
o=o.parentNode}return o}
var vr=function(t,e,n){var r=[],o=t.dom
var a=fr(t,e,true,n)
var i=fr(t,e,false,n)
var u
var c=[]
for(var s=a;s;s=s.nextSibling){c.push(s)
if(s===i)break}xe.each(c,(function(e){if(Re(t,e)){r.push(e)
u=null
return}if(o.isBlock(e)||ze(e)){ze(e)&&o.remove(e)
u=null
return}var a=e.nextSibling
if(Qn.isBookmarkNode(e)&&(Te(a)||Re(t,a)||!a&&e.parentNode===n)){u=null
return}if(!u){u=o.create("p")
e.parentNode.insertBefore(u,e)
r.push(u)}u.appendChild(e)}))
return r}
var dr=function(t,e,n){var r=t.getStyle(e,"list-style-type")
var o=n?n["list-style-type"]:""
o=null===o?"":o
return r===o}
var mr=function(t,e,n){var r=t.selection.getRng()
var o="LI"
var a=rn(t,t.selection.getStart(true))
var i=t.dom
if("false"===i.getContentEditable(t.selection.getNode()))return
e=e.toUpperCase()
"DL"===e&&(o="DT")
var u=er(r)
var c=vr(t,r,a)
xe.each(c,(function(r){var a
var u=r.previousSibling
var c=r.parentNode
if(!Ee(c)){if(u&&Te(u)&&u.nodeName===e&&dr(i,u,n)){a=u
r=i.rename(r,o)
u.appendChild(r)}else{a=i.create(e)
r.parentNode.insertBefore(a,r)
a.appendChild(r)
r=i.rename(r,o)}lr(i,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"])
sr(i,a,n)
yr(t.dom,a)}}))
t.selection.setRng(nr(u))}
var hr=function(t,e){return t&&e&&Te(t)&&t.nodeName===e.nodeName}
var gr=function(t,e,n){var r=t.getStyle(e,"list-style-type",true)
var o=t.getStyle(n,"list-style-type",true)
return r===o}
var pr=function(t,e){return t.className===e.className}
var br=function(t,e,n){return hr(e,n)&&gr(t,e,n)&&pr(e,n)}
var yr=function(t,e){var n,r
n=e.nextSibling
if(br(t,e,n)){while(r=n.firstChild)e.appendChild(r)
t.remove(n)}n=e.previousSibling
if(br(t,e,n)){while(r=n.lastChild)e.insertBefore(r,e.firstChild)
t.remove(n)}}
var wr=function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n)
sr(t.dom,o,r)
fn(t,rr(n),o)}else{sr(t.dom,e,r)
fn(t,rr(n),e)}}
var xr=function(t,e,n,r,o){var a=Te(e)
if(a&&e.nodeName===r&&!Cr(o))Jn(t)
else{mr(t,r,o)
var i=er(t.selection.getRng(true))
var u=a?L([e],n):n
xe.each(u,(function(e){wr(t,e,r,o)}))
t.selection.setRng(nr(i))}}
var Cr=function(t){return"list-style-type"in t}
var Sr=function(t,e,n,r){if(e===t.getBody())return
if(e)if(e.nodeName!==n||Cr(r)||or(e)){var o=er(t.selection.getRng(true))
sr(t.dom,e,r)
var a=t.dom.rename(e,n)
yr(t.dom,a)
t.selection.setRng(nr(o))
mr(t,n,r)
fn(t,rr(n),a)}else Jn(t)
else{mr(t,n,r)
fn(t,rr(n),e)}}
var kr=function(t,e,n){var r=Ze(t)
var o=Qe(t)
var i=a(n)?n:{}
o.length>0?xr(t,r,o,e,i):Sr(t,r,e,i)}
var Tr=we.DOM
var _r=function(t,e){var n
var r=e.parentNode
if("LI"===r.nodeName&&r.firstChild===e){n=r.previousSibling
if(n&&"LI"===n.nodeName){n.appendChild(e)
Le(t,r)&&Tr.remove(r)}else Tr.setStyle(r,"listStyleType","none")}if(Te(r)){n=r.previousSibling
n&&"LI"===n.nodeName&&n.appendChild(e)}}
var Or=function(t,e){xe.each(xe.grep(t.select("ol,ul",e)),(function(e){_r(t,e)}))}
var Er=function(t,e,n,r){var o=e.startContainer
var a=e.startOffset
if(ke(o)&&(n?a<o.data.length:a>0))return o
var i=t.schema.getNonEmptyElements()
1===o.nodeType&&(o=qt.getNode(o,a))
var u=new Gt(o,r)
n&&He(t.dom,o)&&u.next()
while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o
if(i[o.nodeName])return o
if(ke(o)&&o.data.length>0)return o}}
var Mr=function(t,e){var n=e.childNodes
return 1===n.length&&!Te(n[0])&&t.isBlock(n[0])}
var Ar=function(t,e){Mr(t,e)&&t.remove(e.firstChild,true)}
var zr=function(t,e,n){var r
var o=Mr(t,n)?n.firstChild:n
Ar(t,e)
if(!Le(t,e,true))while(r=e.firstChild)o.appendChild(r)}
var Dr=function(t,e,n){var r
var o=e.parentNode
if(!Be(t,e)||!Be(t,n))return
Te(n.lastChild)&&(r=n.lastChild)
o===n.lastChild&&ze(o.previousSibling)&&t.remove(o.previousSibling)
var a=n.lastChild
a&&ze(a)&&e.hasChildNodes()&&t.remove(a)
Le(t,n,true)&&t.$(n).empty()
zr(t,e,n)
r&&n.appendChild(r)
var i=Ut(Pt.fromDom(n),Pt.fromDom(e))
var u=i?t.getParents(e,Te,n):[]
t.remove(e)
S(u,(function(e){Le(t,e)&&e!==t.getRoot()&&t.remove(e)}))}
var Rr=function(t,e,n){t.dom.$(n).empty()
Dr(t.dom,e,n)
t.selection.setCursorLocation(n,0)}
var Ir=function(t,e,n,r){var o=t.dom
if(o.isEmpty(r))Rr(t,n,r)
else{var a=er(e)
Dr(o,n,r)
t.selection.setRng(nr(a))}}
var Hr=function(t,e,n,r){var o=er(e)
Dr(t.dom,n,r)
var a=nr(o)
t.selection.setRng(a)}
var Lr=function(t,e){var n=t.dom,r=t.selection
var o=r.getStart()
var a=rn(t,o)
var i=n.getParent(r.getStart(),"LI",a)
if(i){var u=i.parentNode
if(u===t.getBody()&&Le(n,u))return true
var c=Xe(r.getRng())
var s=n.getParent(Er(t,c,e,a),"LI",a)
if(s&&s!==i){t.undoManager.transact((function(){e?Ir(t,c,s,i):De(i)?Yn(t):Hr(t,c,i,s)}))
return true}if(!s&&!e&&0===c.startOffset&&0===c.endOffset){t.undoManager.transact((function(){Jn(t)}))
return true}}return false}
var Br=function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n)
t.remove(e)
r&&t.isEmpty(r)&&t.remove(r)}
var Pr=function(t,e){var n=t.dom
var r=t.selection.getStart()
var o=rn(t,r)
var a=n.getParent(r,n.isBlock,o)
if(a&&n.isEmpty(a)){var i=Xe(t.selection.getRng())
var u=n.getParent(Er(t,i,e,o),"LI",o)
if(u){t.undoManager.transact((function(){Br(n,a,o)
yr(n,u.parentNode)
t.selection.select(u,true)
t.selection.collapse(e)}))
return true}}return false}
var Nr=function(t,e){return Lr(t,e)||Pr(t,e)}
var Fr=function(t){var e=t.selection.getStart()
var n=rn(t,e)
var r=t.dom.getParent(e,"LI,DT,DD",n)
if(r||en(t).length>0){t.undoManager.transact((function(){t.execCommand("Delete")
Or(t.dom,t.getBody())}))
return true}return false}
var Vr=function(t,e){return t.selection.isCollapsed()?Nr(t,e):Fr(t)}
var jr=function(t){t.on("keydown",(function(e){e.keyCode===$t.BACKSPACE?Vr(t,false)&&e.preventDefault():e.keyCode===$t.DELETE&&Vr(t,true)&&e.preventDefault()}))}
var Ur=function(t){return{backspaceDelete:function(e){Vr(t,e)}}}
var Wr=function(t,e){var n=Ze(t)
t.undoManager.transact((function(){a(e.styles)&&t.dom.setStyles(n,e.styles)
a(e.attrs)&&Kt(e.attrs,(function(e,r){return t.dom.setAttrib(n,r,e)}))}))}
var qr=function(t){var e=z(Y(t).split(""))
var n=C(e,(function(t,e){var n=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1
return Math.pow(26,e)*n}))
return _(n,(function(t,e){return t+e}),0)}
var Gr=function(t){t--
if(t<0)return""
var e=t%26
var n=Math.floor(t/26)
var r=Gr(n)
var o=String.fromCharCode("A".charCodeAt(0)+e)
return r+o}
var $r=function(t){return/^[A-Z]+$/.test(t)}
var Xr=function(t){return/^[a-z]+$/.test(t)}
var Kr=function(t){return/^[0-9]+$/.test(t)}
var Zr=function(t){return Kr(t)?2:$r(t)?0:Xr(t)?1:Q(t)?3:4}
var Yr=function(t){switch(Zr(t)){case 2:return y.some({listStyleType:y.none(),start:t})
case 0:return y.some({listStyleType:y.some("upper-alpha"),start:qr(t).toString()})
case 1:return y.some({listStyleType:y.some("lower-alpha"),start:qr(t).toString()})
case 3:return y.some({listStyleType:y.none(),start:""})
case 4:return y.none()}}
var Jr=function(t){var e=parseInt(t.start,10)
return t.listStyleType.is("upper-alpha")?Gr(e):t.listStyleType.is("lower-alpha")?Gr(e).toLowerCase():t.start}
var Qr=function(t){var e=Ze(t)
if(!Oe(e))return
t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Jr({start:t.dom.getAttrib(e,"start","1"),listStyleType:y.some(t.dom.getStyle(e,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(e){var n=e.getData()
Yr(n.start).each((function(e){t.execCommand("mceListUpdate",false,{attrs:{start:"1"===e.start?"":e.start},styles:{"list-style-type":e.listStyleType.getOr("")}})}))
e.close()}})}
var to=function(t,e){return function(){var n=Ze(t)
return n&&n.nodeName===e}}
var eo=function(t){t.addCommand("mceListProps",(function(){Qr(t)}))}
var no=function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase()
"indent"===n?Zn(t):"outdent"===n&&Yn(t)}))
t.addCommand("InsertUnorderedList",(function(e,n){kr(t,"UL",n)}))
t.addCommand("InsertOrderedList",(function(e,n){kr(t,"OL",n)}))
t.addCommand("InsertDefinitionList",(function(e,n){kr(t,"DL",n)}))
t.addCommand("RemoveList",(function(){Jn(t)}))
eo(t)
t.addCommand("mceListUpdate",(function(e,n){a(n)&&Wr(t,n)}))
t.addQueryStateHandler("InsertUnorderedList",to(t,"UL"))
t.addQueryStateHandler("InsertOrderedList",to(t,"OL"))
t.addQueryStateHandler("InsertDefinitionList",to(t,"DL"))}
var ro=function(t){t.on("keydown",(function(e){if(e.keyCode!==$t.TAB||$t.metaKeyPressed(e))return
t.undoManager.transact((function(){(e.shiftKey?Yn(t):Zn(t))&&e.preventDefault()}))}))}
var oo=function(t){Pe(t)&&ro(t)
jr(t)}
var ao=function(t){var e=function(e){return function(){return t.execCommand(e)}}
if(!t.hasPlugin("advlist")){t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return ar(t,"OL",e.setActive)}})
t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return ar(t,"UL",e.setActive)}})}}
var io=function(t){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return t.execCommand("mceListProps")},onSetup:function(e){return ar(t,"OL",(function(t){return e.setDisabled(!t)}))}}
t.ui.registry.addMenuItem("listprops",e)
t.ui.registry.addContextMenu("lists",{update:function(e){var n=Ze(t,e)
return Oe(n)?["listprops"]:[]}})}
function uo(){t.add("lists",(function(t){if(false===t.hasPlugin("rtc",true)){oo(t)
no(t)}else eo(t)
ao(t)
io(t)
return Ur(t)}))}uo()})()},33167:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(){e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return e.apply(this,arguments)}
var n=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var r=function(t){return function(e){return n(e)===t}}
var o=r("string")
var a=r("object")
var i=r("array")
var u=function(t){return null===t||void 0===t}
var c=function(t){return!u(t)}
var s=function(){}
var l=function(t){return function(){return t}}
var f=l(false)
var v=l(true)
var d=function(){return m}
var m=(h=function(t){return t.isNone()},g=function(t){return t()},p=function(t){return t},b={fold:function(t,e){return t()},is:f,isSome:f,isNone:v,getOr:p,getOrThunk:g,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:g,map:d,each:s,bind:d,exists:f,forall:v,filter:d,equals:h,equals_:h,toArray:function(){return[]},toString:l("none()")},b)
var h,g,p,b
var y=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:v,isNone:f,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(f,(function(e){return n(t,e)}))}}
return o}
var w=function(t){return null===t||void 0===t?m:y(t)}
var x={some:y,none:d,from:w}
var C=Array.prototype.push
var S=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var k=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
C.apply(e,t[n])}return e}
var T=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var _=Object.keys
var O=Object.hasOwnProperty
var E=function(t,e){var n=_(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var M=function(t,e){return A(t,e)?x.from(t[e]):x.none()}
var A=function(t,e){return O.call(t,e)}
var z=function(t){return t.getParam("media_scripts")}
var D=function(t){return t.getParam("audio_template_callback")}
var R=function(t){return t.getParam("video_template_callback")}
var I=function(t){return t.getParam("media_live_embeds",true)}
var H=function(t){return t.getParam("media_filter_html",true)}
var L=function(t){return t.getParam("media_url_resolver")}
var B=function(t){return t.getParam("media_alt_source",true)}
var P=function(t){return t.getParam("media_poster",true)}
var N=function(t){return t.getParam("media_dimensions",true)}
var F=tinymce.util.Tools.resolve("tinymce.util.Tools")
var V=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var j=tinymce.util.Tools.resolve("tinymce.html.SaxParser")
var U=function(t,e){if(t)for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n].filter))return t[n]}
var W=V.DOM
var q=function(t){return t.replace(/px$/,"")}
var G=function(t){var e=t.map.style
var n=e?W.parseStyle(e):{}
return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:M(n,"max-width").map(q).getOr(""),height:M(n,"max-height").map(q).getOr("")}}
var $=function(t,e){var n=T(false)
var r={}
j({validate:false,allow_conditional_comments:true,start:function(e,o){if(n.get());else if(A(o.map,"data-ephox-embed-iri")){n.set(true)
r=G(o)}else{r.source||"param"!==e||(r.source=o.map.movie)
if("iframe"===e||"object"===e||"embed"===e||"video"===e||"audio"===e){r.type||(r.type=e)
r=F.extend(o.map,r)}if("script"===e){var a=U(t,o.map.src)
if(!a)return
r={type:"script",source:o.map.src,width:String(a.width),height:String(a.height)}}"source"===e&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src)
"img"!==e||r.poster||(r.poster=o.map.src)}}}).parse(e)
r.source=r.source||r.src||r.data
r.altsource=r.altsource||""
r.poster=r.poster||""
return r}
var X=function(t){var e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}
var n=t.toLowerCase().split(".").pop()
var r=e[n]
return r||""}
var K=tinymce.util.Tools.resolve("tinymce.html.Schema")
var Z=tinymce.util.Tools.resolve("tinymce.html.Writer")
var Y=V.DOM
var J=function(t){return/^[0-9.]+$/.test(t)?t+"px":t}
var Q=function(t,e){E(e,(function(e,n){var r=""+e
if(t.map[n]){var o=t.length
while(o--){var a=t[o]
if(a.name===n)if(r){t.map[n]=r
a.value=r}else{delete t.map[n]
t.splice(o,1)}}}else if(r){t.push({name:n,value:r})
t.map[n]=r}}))}
var tt=function(t,e){var n=e.map.style
var r=n?Y.parseStyle(n):{}
r["max-width"]=J(t.width)
r["max-height"]=J(t.height)
Q(e,{style:Y.serializeStyle(r)})}
var et=["source","altsource"]
var nt=function(t,e,n){var r=Z()
var o=T(false)
var a=0
var i
j({validate:false,allow_conditional_comments:true,comment:function(t){r.comment(t)},cdata:function(t){r.cdata(t)},text:function(t,e){r.text(t,e)},start:function(t,u,c){if(o.get());else if(A(u.map,"data-ephox-embed-iri")){o.set(true)
tt(e,u)}else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==e.height&&void 0!==e.width&&Q(u,{width:e.width,height:e.height})}if(n)switch(t){case"video":Q(u,{poster:e.poster,src:""})
e.altsource&&Q(u,{src:""})
break
case"iframe":Q(u,{src:e.source})
break
case"source":if(a<2){Q(u,{src:e[et[a]],type:e[et[a]+"mime"]})
if(!e[et[a]])return}a++
break
case"img":if(!e.poster)return
i=true}}r.start(t,u,c)},end:function(t){if(!o.get()){if("video"===t&&n)for(var u=0;u<2;u++)if(e[et[u]]){var c=[]
c.map={}
if(a<=u){Q(c,{src:e[et[u]],type:e[et[u]+"mime"]})
r.start("source",c,true)}}if(e.poster&&"object"===t&&n&&!i){var s=[]
s.map={}
Q(s,{src:e.poster,width:e.width,height:e.height})
r.start("img",s,true)}}r.end(t)}},K({})).parse(t)
return r.getContent()}
var rt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:true},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:true},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:true},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:false},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true}]
var ot=function(t){var e=t.match(/^(https?:\/\/|www\.)(.+)$/i)
return e&&e.length>1?"www."===e[1]?"https://":e[1]:"https://"}
var at=function(t,e){var n=ot(e)
var r=t.regex.exec(e)
var o=n+t.url
var a=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))}
for(var i=0;i<r.length;i++)a(i)
return o.replace(/\?$/,"")}
var it=function(t){var e=rt.filter((function(e){return e.regex.test(t)}))
return e.length>0?F.extend({},e[0],{url:at(e[0],t)}):null}
var ut=function(t){var e=t.allowfullscreen?' allowFullscreen="1"':""
return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+e+"></iframe>"}
var ct=function(t){var e='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">'
t.poster&&(e+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />')
e+="</object>"
return e}
var st=function(t,e){return e?e(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"}
var lt=function(t,e){return e?e(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"}
var ft=function(t){return'<script src="'+t.source+'"><\/script>'}
var vt=function(t,e){var n=F.extend({},e)
if(!n.source){F.extend(n,$(z(t),n.embed))
if(!n.source)return""}n.altsource||(n.altsource="")
n.poster||(n.poster="")
n.source=t.convertURL(n.source,"source")
n.altsource=t.convertURL(n.altsource,"source")
n.sourcemime=X(n.source)
n.altsourcemime=X(n.altsource)
n.poster=t.convertURL(n.poster,"poster")
var r=it(n.source)
if(r){n.source=r.url
n.type=r.type
n.allowfullscreen=r.allowFullscreen
n.width=n.width||String(r.w)
n.height=n.height||String(r.h)}if(n.embed)return nt(n.embed,n,true)
var o=U(z(t),n.source)
if(o){n.type="script"
n.width=String(o.width)
n.height=String(o.height)}var a=D(t)
var i=R(t)
n.width=n.width||"300"
n.height=n.height||"150"
F.each(n,(function(e,r){n[r]=t.dom.encode(""+e)}))
return"iframe"===n.type?ut(n):"application/x-shockwave-flash"===n.sourcemime?ct(n):-1!==n.sourcemime.indexOf("audio")?st(n,a):"script"===n.type?ft(n):lt(n,i)}
var dt=tinymce.util.Tools.resolve("tinymce.util.Promise")
var mt={}
var ht=function(t,e,n){return new dt((function(r,o){var a=function(n){n.html&&(mt[t.source]=n)
return r({url:t.source,html:n.html?n.html:e(t)})}
mt[t.source]?a(mt[t.source]):n({url:t.source},a,o)}))}
var gt=function(t,e){return new dt((function(n){n({html:e(t),url:t.source})}))}
var pt=function(t){return function(e){return vt(t,e)}}
var bt=function(t,e){var n=L(t)
return n?ht(e,pt(t),n):gt(e,pt(t))}
var yt=function(t){return mt.hasOwnProperty(t)}
var wt=function(t,e){return M(e,t).bind((function(t){return M(t,"meta")}))}
var xt=function(t,e,n){return function(r){var o
var i=function(){return M(t,r)}
var u=function(){return M(e,r)}
var c=function(t){return M(t,"value").bind((function(t){return t.length>0?x.some(t):x.none()}))}
var s=function(){return i().bind((function(t){return a(t)?c(t).orThunk(u):u().orThunk((function(){return x.from(t)}))}))}
var l=function(){return u().orThunk((function(){return i().bind((function(t){return a(t)?c(t):x.from(t)}))}))}
return o={},o[r]=(r===n?s():l()).getOr(""),o}}
var Ct=function(t,e){var n={}
M(t,"dimensions").each((function(t){S(["width","height"],(function(r){M(e,r).orThunk((function(){return M(t,r)})).each((function(t){return n[r]=t}))}))}))
return n}
var St=function(t,n){var r=n?wt(n,t).getOr({}):{}
var o=xt(t,r,n)
return e(e(e(e(e({},o("source")),o("altsource")),o("poster")),o("embed")),Ct(t,r))}
var kt=function(t){var n=e(e({},t),{source:{value:M(t,"source").getOr("")},altsource:{value:M(t,"altsource").getOr("")},poster:{value:M(t,"poster").getOr("")}})
S(["width","height"],(function(e){M(t,e).each((function(t){var r=n.dimensions||{}
r[e]=t
n.dimensions=r}))}))
return n}
var Tt=function(t){return function(e){var n=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error."
t.notificationManager.open({type:"error",text:n})}}
var _t=function(t,e){return $(z(t),e)}
var Ot=function(t){return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")}
var Et=function(t){var n=t.selection.getNode()
var r=Ot(n)?t.serializer.serialize(n,{selection:true}):""
return e({embed:r},$(z(t),r))}
var Mt=function(t,n){return function(r){if(o(r.url)&&r.url.trim().length>0){var a=r.html
var i=_t(n,a)
var u=e(e({},i),{source:r.url,embed:a})
t.setData(kt(u))}}}
var At=function(t,e){var n=t.dom.select("*[data-mce-object]")
for(var r=0;r<e.length;r++)for(var o=n.length-1;o>=0;o--)e[r]===n[o]&&n.splice(o,1)
t.selection.select(n[0])}
var zt=function(t,e){var n=t.dom.select("*[data-mce-object]")
t.insertContent(e)
At(t,n)
t.nodeChanged()}
var Dt=function(t,e,n){e.embed=nt(e.embed,e)
e.embed&&(t.source===e.source||yt(e.source))?zt(n,e.embed):bt(n,e).then((function(t){zt(n,t.html)})).catch(Tt(n))}
var Rt=function(t){var n=Et(t)
var r=T(n)
var o=kt(n)
var a=function(e,n){var r=St(n.getData(),"source")
if(e.source!==r.source){Mt(p,t)({url:r.source,html:""})
bt(t,r).then(Mt(p,t)).catch(Tt(t))}}
var i=function(e){var n=St(e.getData())
var r=_t(t,n.embed)
e.setData(kt(r))}
var u=function(n,r){var o=St(n.getData(),r)
var a=vt(t,o)
n.setData(kt(e(e({},o),{embed:a})))}
var c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}]
var s=N(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:true}]:[]
var l={title:"General",name:"general",items:k([c,s])}
var f={type:"textarea",name:"embed",label:"Paste your embed code below:"}
var v={title:"Embed",items:[f]}
var d=[]
B(t)&&d.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"})
P(t)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"})
var m={title:"Advanced",name:"advanced",items:d}
var h=[l,v]
d.length>0&&h.push(m)
var g={type:"tabpanel",tabs:h}
var p=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:g,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(e){var n=St(e.getData())
Dt(r.get(),n,t)
e.close()},onChange:function(t,e){switch(e.name){case"source":a(r.get(),t)
break
case"embed":i(t)
break
case"dimensions":case"altsource":case"poster":u(t,e.name)}r.set(St(t.getData()))},initialData:o})}
var It=function(t){var e=function(){Rt(t)}
return{showDialog:e}}
var Ht=function(t){var e=function(){Rt(t)}
t.addCommand("mceMedia",e)}
var Lt=tinymce.util.Tools.resolve("tinymce.html.Node")
var Bt=tinymce.util.Tools.resolve("tinymce.Env")
var Pt=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var Nt=function(t,e){if(false===H(t))return e
var n=Z()
var r
j({validate:false,allow_conditional_comments:false,comment:function(t){r||n.comment(t)},cdata:function(t){r||n.cdata(t)},text:function(t,e){r||n.text(t,e)},start:function(e,o,a){r=true
if("script"===e||"noscript"===e||"svg"===e)return
for(var i=o.length-1;i>=0;i--){var u=o[i].name
if(0===u.indexOf("on")){delete o.map[u]
o.splice(i,1)}"style"===u&&(o[i].value=t.dom.serializeStyle(t.dom.parseStyle(o[i].value),e))}n.start(e,o,a)
r=false},end:function(t){if(r)return
n.end(t)}},K({})).parse(e)
return n.getContent()}
var Ft=function(t){var e=t.name
return"iframe"===e||"video"===e||"audio"===e}
var Vt=function(t,e,n,r){void 0===r&&(r=null)
var o=t.attr(n)
return c(o)?o:A(e,n)?null:r}
var jt=function(t,e,n){var r="img"===e.name||"video"===t.name
var o=r?"300":null
var a="audio"===t.name?"30":"150"
var i=r?a:null
e.attr({width:Vt(t,n,"width",o),height:Vt(t,n,"height",i)})}
var Ut=function(t,e,n,r){var o=Pt({forced_root_block:false,validate:false},t.schema).parse(r,{context:e})
while(o.firstChild)n.append(o.firstChild)}
var Wt=function(t,e){var n=e.name
var r=new Lt("img",1)
r.shortEnded=true
Gt(t,e,r)
jt(e,r,{})
r.attr({style:e.attr("style"),src:Bt.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n})
return r}
var qt=function(t,e){var n=e.name
var r=new Lt("span",1)
r.attr({contentEditable:"false",style:e.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n})
Gt(t,e,r)
var o=t.dom.parseStyle(e.attr("style"))
var a=new Lt(n,1)
jt(e,a,o)
a.attr({src:e.attr("src"),style:e.attr("style"),class:e.attr("class")})
if("iframe"===n)a.attr({allowfullscreen:e.attr("allowfullscreen"),frameborder:"0"})
else{var i=["controls","crossorigin","currentTime","loop","muted","poster","preload"]
S(i,(function(t){a.attr(t,e.attr(t))}))
var u=r.attr("data-mce-html")
c(u)&&Ut(t,n,a,u)}var s=new Lt("span",1)
s.attr("class","mce-shim")
r.append(a)
r.append(s)
return r}
var Gt=function(t,e,n){var r=e.attributes
var o=r.length
while(o--){var a=r[o].name
var i=r[o].value
if("width"!==a&&"height"!==a&&"style"!==a){"data"!==a&&"src"!==a||(i=t.convertURL(i,a))
n.attr("data-mce-p-"+a,i)}}var u=e.firstChild&&e.firstChild.value
if(u){n.attr("data-mce-html",escape(Nt(t,u)))
n.firstChild=null}}
var $t=function(t){var e=t.attr("class")
return e&&/\btiny-pageembed\b/.test(e)}
var Xt=function(t){while(t=t.parent)if(t.attr("data-ephox-embed-iri")||$t(t))return true
return false}
var Kt=function(t){return function(e){var n=e.length
var r
var o
while(n--){r=e[n]
if(!r.parent)continue
if(r.parent.attr("data-mce-object"))continue
if("script"===r.name){o=U(z(t),r.attr("src"))
if(!o)continue}if(o){o.width&&r.attr("width",o.width.toString())
o.height&&r.attr("height",o.height.toString())}Ft(r)&&I(t)&&Bt.ceFalse?Xt(r)||r.replace(qt(t,r)):Xt(r)||r.replace(Wt(t,r))}}}
var Zt=function(t){t.on("preInit",(function(){var e=t.schema.getSpecialElements()
F.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}))
var n=t.schema.getBoolAttrs()
F.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){n[t]={}}))
t.parser.addNodeFilter("iframe,video,audio,object,embed,script",Kt(t))
t.serializer.addAttributeFilter("data-mce-object",(function(e,n){var r=e.length
var o
var a
var i
var u
var c
var s
var l
var f
while(r--){o=e[r]
if(!o.parent)continue
l=o.attr(n)
a=new Lt(l,1)
if("audio"!==l&&"script"!==l){f=o.attr("class")
f&&-1!==f.indexOf("mce-preview-object")?a.attr({width:o.firstChild.attr("width"),height:o.firstChild.attr("height")}):a.attr({width:o.attr("width"),height:o.attr("height")})}a.attr({style:o.attr("style")})
u=o.attributes
i=u.length
while(i--){var v=u[i].name
0===v.indexOf("data-mce-p-")&&a.attr(v.substr(11),u[i].value)}"script"===l&&a.attr("type","text/javascript")
c=o.attr("data-mce-html")
if(c){s=new Lt("#text",3)
s.raw=true
s.value=Nt(t,unescape(c))
a.append(s)}o.replace(a)}}))}))
t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(e,n){var r=t.$(n)
0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))}
var Yt=function(t){t.on("ResolveName",(function(t){var e
1===t.target.nodeType&&(e=t.target.getAttribute("data-mce-object"))&&(t.name=e)}))}
var Jt=function(t){t.on("click keyup touchend",(function(){var e=t.selection.getNode()
e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}))
t.on("ObjectSelected",(function(t){var e=t.target.getAttribute("data-mce-object")
"script"===e&&t.preventDefault()}))
t.on("ObjectResized",(function(t){var e=t.target
var n
if(e.getAttribute("data-mce-object")){n=e.getAttribute("data-mce-html")
if(n){n=unescape(n)
e.setAttribute("data-mce-html",escape(nt(n,{width:String(t.width),height:String(t.height)})))}}}))}
var Qt=function(t,e){return function(n){return t.selection.selectorChangedWithUnbind(e.join(","),n.setActive).unbind}}
var te=function(t){t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){t.execCommand("mceMedia")},onSetup:Qt(t,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])})
t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){t.execCommand("mceMedia")}})}
function ee(){t.add("media",(function(t){Ht(t)
te(t)
Yt(t)
Zt(t)
Jt(t)
return It(t)}))}ee()})()},67814:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")}
var r=function(t){return t.getParam("noneditable_editable_class","mceEditable")}
var o=function(t){var e=t.getParam("noneditable_regexp",[])
return e&&e.constructor===RegExp?[e]:e}
var a=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}}
var i=function(t,e,n){return function(r){var o=arguments,a=o[o.length-2]
var i=a>0?e.charAt(a-1):""
if('"'===i)return r
if(">"===i){var u=e.lastIndexOf("<",a)
if(-1!==u){var c=e.substring(u,a)
if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}}
var u=function(t,e,r){var o=e.length,a=r.content
if("raw"===r.format)return
while(o--)a=a.replace(e[o],i(t,a,n(t)))
r.content=a}
var c=function(t){var i="contenteditable"
var c=" "+e.trim(r(t))+" "
var s=" "+e.trim(n(t))+" "
var l=a(c)
var f=a(s)
var v=o(t)
t.on("PreInit",(function(){v.length>0&&t.on("BeforeSetContent",(function(e){u(t,v,e)}))
t.parser.addAttributeFilter("class",(function(t){var e,n=t.length
while(n--){e=t[n]
l(e)?e.attr(i,"true"):f(e)&&e.attr(i,"false")}}))
t.serializer.addAttributeFilter(i,(function(t){var e,n=t.length
while(n--){e=t[n]
if(!l(e)&&!f(e))continue
if(v.length>0&&e.attr("data-mce-content")){e.name="#text"
e.type=3
e.raw=true
e.value=e.attr("data-mce-content")}else e.attr(i,null)}}))}))}
function s(){t.add("noneditable",(function(t){c(t)}))}s()})()},25103:()=>{(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(t){if(t.hasPlugin("powerpaste",true)){"undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")
return true}return false}
var r=function(t,e){return{clipboard:t,quirks:e}}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return null===t||void 0===t}
var i=function(t){return!a(t)}
var u=o("function")
var c=function(){}
var s=function(t){return function(){return t}}
var l=s(false)
var f=s(true)
var v=function(){return d}
var d=(m=function(t){return t.isNone()},h=function(t){return t()},g=function(t){return t},p={fold:function(t,e){return t()},is:l,isSome:l,isNone:f,getOr:g,getOrThunk:h,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:g,orThunk:h,map:v,each:c,bind:v,exists:l,forall:f,filter:v,equals:m,equals_:m,toArray:function(){return[]},toString:s("none()")},p)
var m,h,g,p
var b=function(t){var e=s(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}}
return o}
var y=function(t){return null===t||void 0===t?d:b(t)}
var w={some:b,none:v,from:y}
var x=Array.prototype.slice
var C=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var S=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var k=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var T=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var _=function(t,e,n){k(t,(function(t){n=e(n,t)}))
return n}
var O=u(Array.from)?Array.from:function(t){return x.call(t)}
var E=function(){var e=t(w.none())
var n=function(){return e.set(w.none())}
var r=function(t){return e.set(w.some(t))}
var o=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:n,set:r,isSet:o,on:a}}
var M=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var A=function(t,e){return M(t,e,0)}
var z=function(t,e){return M(t,e,t.length-e.length)}
var D=function(t,e){return e<=0?"":new Array(e+1).join(t)}
var R=tinymce.util.Tools.resolve("tinymce.Env")
var I=tinymce.util.Tools.resolve("tinymce.util.Delay")
var H=tinymce.util.Tools.resolve("tinymce.util.Promise")
var L=tinymce.util.Tools.resolve("tinymce.util.VK")
var B=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})}
var P=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})}
var N=function(t,e){return t.fire("PastePlainTextToggle",{state:e})}
var F=function(t,e){return t.fire("paste",{ieFake:e})}
var V=tinymce.util.Tools.resolve("tinymce.util.Tools")
var j=function(t){return t.getParam("paste_block_drop",false)}
var U=function(t){return t.getParam("paste_data_images",false)}
var W=function(t){return t.getParam("paste_filter_drop",true)}
var q=function(t){return t.getParam("paste_preprocess")}
var G=function(t){return t.getParam("paste_postprocess")}
var $=function(t){return t.getParam("paste_webkit_styles")}
var X=function(t){return t.getParam("paste_remove_styles_if_webkit",true)}
var K=function(t){return t.getParam("paste_merge_formats",true)}
var Z=function(t){return t.getParam("smart_paste",true)}
var Y=function(t){return t.getParam("paste_as_text",false)}
var J=function(t){return t.getParam("paste_retain_style_properties")}
var Q=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"
return t.getParam("paste_word_valid_elements",e)}
var tt=function(t){return t.getParam("paste_convert_word_fake_lists",true)}
var et=function(t){return t.getParam("paste_enable_default_filters",true)}
var nt=function(t){return t.getParam("validate")}
var rt=function(t){return t.getParam("allow_html_data_urls",false,"boolean")}
var ot=function(t){return t.getParam("paste_data_images",false,"boolean")}
var at=function(t){return t.getParam("images_dataimg_filter")}
var it=function(t){return t.getParam("images_reuse_filename")}
var ut=function(t){return t.getParam("forced_root_block")}
var ct=function(t){return t.getParam("forced_root_block_attrs")}
var st=function(t){return t.getParam("paste_tab_spaces",4,"number")}
var lt=function(t){var e="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
return V.explode(t.getParam("images_file_types",e,"string"))}
var ft="x-tinymce/html"
var vt="\x3c!-- "+ft+" --\x3e"
var dt=function(t){return vt+t}
var mt=function(t){return t.replace(vt,"")}
var ht=function(t){return-1!==t.indexOf(vt)}
var gt=function(){return ft}
var pt=tinymce.util.Tools.resolve("tinymce.html.Entities")
var bt=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)}
var yt=function(t){return t.replace(/\r?\n/g,"<br>")}
var wt=function(t,e){var n
var r=[]
var o="<"+t
if("object"===typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+pt.encodeAllRaw(e[n])+'"')
r.length&&(o+=" "+r.join(" "))}return o+">"}
var xt=function(t,e,n){var r=t.split(/\n\n/)
var o=wt(e,n)
var a="</"+e+">"
var i=V.map(r,(function(t){return t.split(/\n/).join("<br />")}))
var u=function(t){return o+t+a}
return 1===i.length?i[0]:V.map(i,u).join("")}
var Ct=function(t,e,n){return e?xt(t,true===e?"p":e,n):yt(t)}
var St=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var kt=tinymce.util.Tools.resolve("tinymce.html.Serializer")
var Tt=" "
var _t=tinymce.util.Tools.resolve("tinymce.html.Node")
var Ot=tinymce.util.Tools.resolve("tinymce.html.Schema")
var Et=function(t,e){V.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}))
return t}
var Mt=function(t){var e=Ot()
var n=St({},e)
var r=""
var o=e.getShortEndedElements()
var a=V.makeMap("script noscript style textarea video audio iframe object"," ")
var i=e.getBlockElements()
var u=function(t){var e=t.name,n=t
if("br"===e){r+="\n"
return}if("wbr"===e)return
o[e]&&(r+=" ")
if(a[e]){r+=" "
return}3===t.type&&(r+=t.value)
if(!t.shortEnded&&(t=t.firstChild))do{u(t)}while(t=t.next)
if(i[e]&&n.next){r+="\n"
"p"===e&&(r+="\n")}}
t=Et(t,[/<!\[[^\]]+\]>/g])
u(n.parse(t))
return r}
var At=function(t){var e=function(t,e,n){if(!e&&!n)return" "
return Tt}
t=Et(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,e],/<br class="Apple-interchange-newline">/g,/<br>$/i])
return t}
var zt=function(t){var e=0
return function(){return t+e++}}
var Dt=function(t){var e=t.toLowerCase()
var n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"}
return V.hasOwn(n,e)?"image/"+n[e]:"image/"+e}
var Rt=function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}
var It=function(t){var e
var n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/]
t=t.replace(/^[\u00a0 ]+/,"")
V.each(n,(function(n){if(n.test(t)){e=true
return false}}))
return e}
var Ht=function(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}
var Lt=function(t){var e,n,r=1
var o=function(t){var e=""
if(3===t.type)return t.value
if(t=t.firstChild)do{e+=o(t)}while(t=t.next)
return e}
var a=function(t,e){if(3===t.type&&e.test(t.value)){t.value=t.value.replace(e,"")
return false}if(t=t.firstChild)do{if(!a(t,e))return false}while(t=t.next)
return true}
var i=function(t){if(t._listIgnore){t.remove()
return}if(t=t.firstChild)do{i(t)}while(t=t.next)}
var u=function(t,o,u){var c=t._listLevel||r
if(c!==r)if(c<r)e&&(e=e.parent.parent)
else{n=e
e=null}if(e&&e.name===o)e.append(t)
else{n=n||e
e=new _t(o,1)
u>1&&e.attr("start",""+u)
t.wrap(e)}t.name="li"
c>r&&n&&n.lastChild.append(e)
r=c
i(t)
a(t,/^\u00a0+/)
a(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/)
a(t,/^\u00a0+/)}
var c=[]
var s=t.firstChild
while("undefined"!==typeof s&&null!==s){c.push(s)
s=s.walk()
if(null!==s)while("undefined"!==typeof s&&s.parent!==t)s=s.walk()}for(var l=0;l<c.length;l++){t=c[l]
if("p"===t.name&&t.firstChild){var f=o(t)
if(Ht(f)){u(t,"ul")
continue}if(It(f)){var v=/([0-9]+)\./.exec(f)
var d=1
v&&(d=parseInt(v[1],10))
u(t,"ol",d)
continue}if(t._listLevel){u(t,"ul",1)
continue}e=null}else{n=e
e=null}}}
var Bt=function(t,e,n,r){var o,a={}
var i=t.dom.parseStyle(r)
V.each(i,(function(i,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r)
o&&(n._listLevel=parseInt(o[1],10))
if(/Ignore/i.test(i)&&n.firstChild){n._listIgnore=true
n.firstChild._listIgnore=true}break
case"horiz-align":u="text-align"
break
case"vert-align":u="vertical-align"
break
case"font-color":case"mso-foreground":u="color"
break
case"mso-background":case"mso-highlight":u="background"
break
case"font-weight":case"font-style":"normal"!==i&&(a[u]=i)
return
case"mso-element":if(/^(comment|comment-list)$/i.test(i)){n.remove()
return}}if(0===u.indexOf("mso-comment")){n.remove()
return}if(0===u.indexOf("mso-"))return;("all"===J(t)||e&&e[u])&&(a[u]=i)}))
if(/(bold)/i.test(a["font-weight"])){delete a["font-weight"]
n.wrap(new _t("b",1))}if(/(italic)/i.test(a["font-style"])){delete a["font-style"]
n.wrap(new _t("i",1))}a=t.dom.serializeStyle(a,n.name)
if(a)return a
return null}
var Pt=function(t,e){var n
var r=J(t)
r&&(n=V.makeMap(r.split(/[, ]/)))
e=Et(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Tt],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(Tt):""}]])
var o=Q(t)
var a=Ot({valid_elements:o,valid_children:"-li[p]"})
V.each(a.elements,(function(t){if(!t.attributes.class){t.attributes.class={}
t.attributesOrder.push("class")}if(!t.attributes.style){t.attributes.style={}
t.attributesOrder.push("style")}}))
var i=St({},a)
i.addAttributeFilter("style",(function(e){var r,o=e.length
while(o--){r=e[o]
r.attr("style",Bt(t,n,r,r.attr("style")))
"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()}}))
i.addAttributeFilter("class",(function(t){var e,n,r=t.length
while(r--){e=t[r]
n=e.attr("class");/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove()
e.attr("class",null)}}))
i.addNodeFilter("del",(function(t){var e=t.length
while(e--)t[e].remove()}))
i.addNodeFilter("a",(function(t){var e,n,r,o=t.length
while(o--){e=t[o]
n=e.attr("href")
r=e.attr("name")
if(n&&-1!==n.indexOf("#_msocom_")){e.remove()
continue}if(n&&0===n.indexOf("file://")){n=n.split("#")[1]
n&&(n="#"+n)}if(n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap()
continue}e.attr({href:n,name:r})}else e.unwrap()}}))
var u=i.parse(e)
tt(t)&&Lt(u)
e=kt({validate:nt(t)},a).serialize(u)
return e}
var Nt=function(t,e){return et(t)?Pt(t,e):e}
var Ft=function(t,e){var n=St({},t.schema)
n.addNodeFilter("meta",(function(t){V.each(t,(function(t){t.remove()}))}))
var r=n.parse(e,{forced_root_block:false,isRootContent:true})
return kt({validate:nt(t)},t.schema).serialize(r)}
var Vt=function(t,e){return{content:t,cancelled:e}}
var jt=function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e)
var a=P(t,o,n,r)
return Vt(a.node.innerHTML,a.isDefaultPrevented())}
var Ut=function(t,e,n,r){var o=B(t,e,n,r)
var a=Ft(t,o.content)
return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?jt(t,a,n,r):Vt(a,o.isDefaultPrevented())}
var Wt=function(t,e,n){var r=Rt(e)
var o=r?Nt(t,e):e
return Ut(t,o,n,r)}
var qt=function(t,e){t.insertContent(e,{merge:K(t),paste:true})
return true}
var Gt=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)}
var $t=function(t,e){return Gt(e)&&C(lt(t),(function(t){return z(e.toLowerCase(),"."+t.toLowerCase())}))}
var Xt=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')}))
return true}
var Kt=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",false,e)}))
return true}
var Zt=function(t,e,n){return!(false!==t.selection.isCollapsed()||!Gt(e))&&Kt(t,e,n)}
var Yt=function(t,e,n){return!!$t(t,e)&&Xt(t,e,n)}
var Jt=function(t,e){V.each([Zt,Yt,qt],(function(n){return true!==n(t,e,qt)}))}
var Qt=function(t,e,n){n||false===Z(t)?qt(t,e):Jt(t,e)}
var te=function(t){return-1!==" \f\t\v".indexOf(t)}
var ee=function(t){return"\n"===t||"\r"===t}
var ne=function(t,e){return e<t.length&&e>=0&&ee(t[e])}
var re=function(t,e){var n=D(" ",st(t))
var r=e.replace(/\t/g,n)
var o=_(r,(function(t,e){return te(e)||e===Tt?t.pcIsSpace||""===t.str||t.str.length===r.length-1||ne(r,t.str.length+1)?{pcIsSpace:false,str:t.str+Tt}:{pcIsSpace:true,str:t.str+" "}:{pcIsSpace:ee(e),str:t.str+e}}),{pcIsSpace:false,str:""})
return o.str}
var oe=function(t,e,n,r){var o=Wt(t,e,n)
false===o.cancelled&&Qt(t,o.content,r)}
var ae=function(t,e,n){var r=n||ht(e)
oe(t,mt(e),r,false)}
var ie=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n")
var r=re(t,n)
var o=Ct(r,ut(t),ct(t))
oe(t,o,false,true)}
var ue=function(t){var e={}
var n="data:text/mce-internal,"
if(t){if(t.getData){var r=t.getData("Text")
r&&r.length>0&&-1===r.indexOf(n)&&(e["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var a=t.types[o]
try{e[a]=t.getData(a)}catch(t){e[a]=""}}}return e}
var ce=function(t,e){return ue(e.clipboardData||t.getDoc().dataTransfer)}
var se=function(t,e){return e in t&&t[e].length>0}
var le=function(t){return se(t,"text/html")||se(t,"text/plain")}
var fe=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t)
return e?{type:e[1],data:decodeURIComponent(e[2])}:{type:null,data:null}}
var ve=function(t,e){var n=at(t)
return!n||n(e)}
var de=function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i)
return i(n)?t.dom.encode(n[1]):null}
var me=zt("mceclip")
var he=function(t,e){var n=fe(e.uri),r=n.data,o=n.type
var a=me()
var u=e.blob
var c=new Image
c.src=e.uri
if(ve(t,c)){var s=t.editorUpload.blobCache
var l=void 0
var f=s.getByData(r,o)
if(f)l=f
else{var v=it(t)&&i(u.name)
var d=v?de(t,u.name):a
var m=v?u.name:void 0
l=s.create(a,u,r,d,m)
s.add(l)}ae(t,'<img src="'+l.blobUri()+'">',false)}else ae(t,'<img src="'+e.uri+'">',false)}
var ge=function(t){return"paste"===t.type}
var pe=function(t){return i(t.getAsFile)}
var be=function(t){return H.all(S(t,(function(t){return new H((function(e){var n=pe(t)?t.getAsFile():t
var r=new window.FileReader
r.onload=function(){e({blob:n,uri:r.result})}
r.readAsDataURL(n)}))})))}
var ye=function(t){var e=lt(t)
return function(t){return A(t.type,"image/")&&C(e,(function(e){return Dt(e)===t.type}))}}
var we=function(t,e){var n=e.items?S(O(e.items),(function(t){return t.getAsFile()})):[]
var r=e.files?O(e.files):[]
return T(n.length>0?n:r,ye(t))}
var xe=function(t,e,n){var r=ge(e)?e.clipboardData:e.dataTransfer
if(ot(t)&&r){var o=we(t,r)
if(o.length>0){e.preventDefault()
be(o).then((function(e){n&&t.selection.setRng(n)
k(e,(function(e){he(t,e)}))}))
return true}}return false}
var Ce=function(t){var e=t.clipboardData
return-1!==navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length}
var Se=function(t){return L.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode}
var ke=function(t,e,n){var r=E()
var o=E()
var a
t.on("keyup",o.clear)
t.on("keydown",(function(n){var i=function(t){Se(t)&&!t.isDefaultPrevented()&&e.remove()}
if(Se(n)&&!n.isDefaultPrevented()){a=n.shiftKey&&86===n.keyCode
if(a&&R.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return
n.stopImmediatePropagation()
r.set(n)
o.set(true)
if(R.ie&&a){n.preventDefault()
F(t,true)
return}e.remove()
e.create()
t.once("keyup",i)
t.once("paste",(function(){t.off("keyup",i)}))}}))
var i=function(t,n,r,o,a){var i
if(se(n,"text/html"))i=n["text/html"]
else{i=e.getHtml()
a=a||ht(i)
e.isDefaultContent(i)&&(o=true)}i=At(i)
e.remove()
var u=false===a&&bt(i)
var c=Gt(i);(!i.length||u&&!c)&&(o=true);(o||c)&&(i=se(n,"text/plain")&&u?n["text/plain"]:Mt(i))
if(e.isDefaultContent(i)){r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")
return}o?ie(t,i):ae(t,i,a)}
var u=function(){return e.getLastRng()||t.selection.getRng()}
t.on("paste",(function(c){var s=r.isSet()||o.isSet()
s&&r.clear()
var l=ce(t,c)
var f="text"===n.get()||a
var v=se(l,gt())
a=false
if(c.isDefaultPrevented()||Ce(c)){e.remove()
return}if(!le(l)&&xe(t,c,u())){e.remove()
return}s||c.preventDefault()
if(R.ie&&(!s||c.ieFake)&&!se(l,"text/html")){e.create()
t.dom.bind(e.getEl(),"paste",(function(t){t.stopPropagation()}))
t.getDoc().execCommand("Paste",false,null)
l["text/html"]=e.getHtml()}if(se(l,"text/html")){c.preventDefault()
v||(v=ht(l["text/html"]))
i(t,l,s,f,v)}else I.setEditorTimeout(t,(function(){i(t,l,s,f,v)}),0)}))}
var Te=function(t,e,n){ke(t,e,n)
var r
t.parser.addNodeFilter("img",(function(e,n,o){var a=function(t){return t.data&&true===t.data.paste}
var i=function(t){t.attr("data-mce-object")||r===R.transparentSrc||t.remove()}
var u=function(t){return 0===t.indexOf("webkit-fake-url")}
var c=function(t){return 0===t.indexOf("data:")}
if(!ot(t)&&a(o)){var s=e.length
while(s--){r=e[s].attr("src")
if(!r)continue;(u(r)||!rt(t)&&c(r))&&i(e[s])}}}))}
var _e=function(t){return R.ie&&t.inline?document.body:t.getBody()}
var Oe=function(t){return _e(t)!==t.getBody()}
var Ee=function(t,e,n){Oe(t)&&t.dom.bind(e,"paste keyup",(function(e){Le(t,n)||t.fire("paste")}))}
var Me=function(t,e,n){var r=t.dom,o=t.getBody()
e.set(t.selection.getRng())
var a=t.dom.add(_e(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(R.ie||R.gecko)&&r.setStyle(a,"left","rtl"===r.getStyle(o,"direction",true)?65535:-65535)
r.bind(a,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()}))
Ee(t,a,n)
a.focus()
t.selection.select(a,true)}
var Ae=function(t,e){if(ze(t)){var n=void 0
var r=e.get()
while(n=t.dom.get("mcepastebin")){t.dom.remove(n)
t.dom.unbind(n)}r&&t.selection.setRng(r)}e.set(null)}
var ze=function(t){return t.dom.get("mcepastebin")}
var De=function(t){var e=function(e,n){e.appendChild(n)
t.dom.remove(n,true)}
var n=V.grep(_e(t).childNodes,(function(t){return"mcepastebin"===t.id}))
var r=n.shift()
V.each(n,(function(t){e(r,t)}))
var o=t.dom.select("div[id=mcepastebin]",r)
for(var a=o.length-1;a>=0;a--){var i=t.dom.create("div")
r.insertBefore(i,o[a])
e(i,o[a])}return r?r.innerHTML:""}
var Re=function(t){return t.get()}
var Ie=function(t,e){return e===t}
var He=function(t){return t&&"mcepastebin"===t.id}
var Le=function(t,e){var n=ze(t)
return He(n)&&Ie(e,n.innerHTML)}
var Be=function(e){var n=t(null)
var r="%MCEPASTEBIN%"
return{create:function(){return Me(e,n,r)},remove:function(){return Ae(e,n)},getEl:function(){return ze(e)},getHtml:function(){return De(e)},getLastRng:function(){return Re(n)},isDefault:function(){return Le(e,r)},isDefaultContent:function(t){return Ie(r,t)}}}
var Pe=function(t,e){var n=Be(t)
t.on("PreInit",(function(){return Te(t,n,e)}))
return{pasteFormat:e,pasteHtml:function(e,n){return ae(t,e,n)},pasteText:function(e){return ie(t,e)},pasteImageData:function(e,n){return xe(t,e,n)},getDataTransferItems:ue,hasHtmlOrText:le,hasContentType:se}}
var Ne=function(t,e){if("text"===e.pasteFormat.get()){e.pasteFormat.set("html")
N(t,false)}else{e.pasteFormat.set("text")
N(t,true)}t.focus()}
var Fe=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){Ne(t,e)}))
t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal)
n.text&&e.pasteText(n.text)}))}
var Ve=function(t){return false===R.iOS&&"function"===typeof(null===t||void 0===t?void 0:t.setData)}
var je=function(t,e,n){if(!Ve(t))return false
try{t.clearData()
t.setData("text/html",e)
t.setData("text/plain",n)
t.setData(gt(),e)
return true}catch(t){return false}}
var Ue=function(t,e,n,r){if(je(t.clipboardData,e.html,e.text)){t.preventDefault()
r()}else n(e.html,r)}
var We=function(t){return function(e,n){var r=dt(e)
var o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"})
var a=t.dom.create("div",{contenteditable:"true"},r)
t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"})
o.appendChild(a)
t.dom.add(t.getBody(),o)
var i=t.selection.getRng()
a.focus()
var u=t.dom.createRng()
u.selectNodeContents(a)
t.selection.setRng(u)
I.setTimeout((function(){t.selection.setRng(i)
o.parentNode.removeChild(o)
n()}),0)}}
var qe=function(t){return{html:t.selection.getContent({contextual:true}),text:t.selection.getContent({format:"text"})}}
var Ge=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}
var $e=function(t){return!t.selection.isCollapsed()||Ge(t)}
var Xe=function(t){return function(e){$e(t)&&Ue(e,qe(t),We(t),(function(){if(R.browser.isChrome()||R.browser.isFirefox()){var e=t.selection.getRng()
I.setEditorTimeout(t,(function(){t.selection.setRng(e)
t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}
var Ke=function(t){return function(e){$e(t)&&Ue(e,qe(t),We(t),c)}}
var Ze=function(t){t.on("cut",Xe(t))
t.on("copy",Ke(t))}
var Ye=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Je=function(t,e){return Ye.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())}
var Qe=function(t){var e=t["text/plain"]
return!!e&&0===e.indexOf("file://")}
var tn=function(t,e){t.focus()
t.selection.setRng(e)}
var en=function(t,e,n){j(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault()
t.stopPropagation()}))
U(t)||t.on("drop",(function(t){var e=t.dataTransfer
e&&e.files&&e.files.length>0&&t.preventDefault()}))
t.on("drop",(function(r){var o=Je(t,r)
if(r.isDefaultPrevented()||n.get())return
var a=e.getDataTransferItems(r.dataTransfer)
var i=e.hasContentType(a,gt())
if((!e.hasHtmlOrText(a)||Qe(a))&&e.pasteImageData(r,o))return
if(o&&W(t)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"]
if(u){r.preventDefault()
I.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a["mce-internal"]&&t.execCommand("Delete")
tn(t,o)
u=At(u)
a["text/html"]?e.pasteHtml(u,i):e.pasteText(u)}))}))}}}))
t.on("dragstart",(function(t){n.set(true)}))
t.on("dragover dragend",(function(e){if(U(t)&&false===n.get()){e.preventDefault()
tn(t,Je(t,e))}"dragend"===e.type&&n.set(false)}))}
var nn=function(t){var e=t.plugins.paste
var n=q(t)
n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}))
var r=G(t)
r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))}
var rn=function(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}
var on=function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}
var an=function(t,e){if(!Rt(e))return e
var n=[]
V.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}))
var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g")
e=Et(e,[[r,"$1"]])
e=Et(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])
return e}
var un=function(t,e,n,r){if(r||n)return e
var o=$(t)
var a
if(false===X(t)||"all"===o)return e
o&&(a=o.split(/[, ]/))
if(a){var i=t.dom,u=t.selection.getNode()
e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var o=i.parseStyle(i.decode(n))
var c={}
if("none"===a)return e+r
for(var s=0;s<a.length;s++){var l=o[a[s]],f=i.getStyle(u,a[s],true)
if(/color/.test(a[s])){l=i.toHex(l)
f=i.toHex(f)}f!==l&&(c[a[s]]=l)}c=i.serializeStyle(c,"span")
if(c)return e+' style="'+c+'"'+r
return e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")
e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))
return e}
var cn=function(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,true)}))}
var sn=function(t){R.webkit&&rn(t,un)
if(R.ie){rn(t,an)
on(t,cn)}}
var ln=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get())
var r=function(t){return n.setActive(t.state)}
t.on("PastePlainTextToggle",r)
return function(){return t.off("PastePlainTextToggle",r)}}}
var fn=function(t,e){t.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})
t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})}
function vn(){e.add("paste",(function(e){if(false===n(e)){var o=t(false)
var a=t(Y(e)?"text":"html")
var i=Pe(e,a)
var u=sn(e)
fn(e,i)
Fe(e,i)
nn(e)
Ze(e)
en(e,i,o)
return r(i,u)}}))}vn()})()},42590:()=>{(function(){"use strict"
var t=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var e=function(e){return function(n){return t(n)===e}}
var n=function(t){return function(e){return typeof e===t}}
var r=function(t){return function(e){return t===e}}
var o=e("string")
var a=e("object")
var i=e("array")
var u=n("boolean")
var c=r(void 0)
var s=function(t){return null===t||void 0===t}
var l=function(t){return!s(t)}
var f=n("function")
var v=n("number")
var d=function(){}
var m=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var h=function(t,e){return function(n){return t(e(n))}}
var g=function(t){return function(){return t}}
var p=function(t){return t}
function b(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var y=function(t){return function(e){return!t(e)}}
var w=function(t){return function(){throw new Error(t)}}
var x=g(false)
var C=g(true)
var S=function(){return k}
var k=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:x,isSome:x,isNone:C,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:n,orThunk:e,map:S,each:d,bind:S,exists:x,forall:C,filter:S,equals:t,equals_:t,toArray:function(){return[]},toString:g("none()")}
return r}()
var T=function(t){var e=g(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:C,isNone:x,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return T(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:k},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(x,(function(e){return n(t,e)}))}}
return o}
var _=function(t){return null===t||void 0===t?k:T(t)}
var O={some:T,none:S,from:_}
var E=Array.prototype.slice
var M=Array.prototype.indexOf
var A=Array.prototype.push
var z=function(t,e){return M.call(t,e)}
var D=function(t,e){return z(t,e)>-1}
var R=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var I=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var H=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var L=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var B=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var P=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var N=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var F=function(t,e,n){B(t,(function(t){n=e(n,t)}))
return n}
var V=function(t,e,n){L(t,(function(t){n=e(n,t)}))
return n}
var j=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return O.some(a)
if(n(a,r))break}return O.none()}
var U=function(t,e){return j(t,e,x)}
var W=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return O.some(n)}return O.none()}
var q=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
A.apply(e,t[n])}return e}
var G=function(t,e){return q(H(t,e))}
var $=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var X=function(t){var e=E.call(t,0)
e.reverse()
return e}
var K=function(t,e){var n={}
for(var r=0,o=t.length;r<o;r++){var a=t[r]
n[String(a)]=e(a,r)}return n}
var Z=function(t){return[t]}
var Y=function(t,e){var n=E.call(t,0)
n.sort(e)
return n}
var J=function(t,e){return e>=0&&e<t.length?O.some(t[e]):O.none()}
var Q=function(t){return J(t,0)}
var tt=function(t){return J(t,t.length-1)}
var et=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return O.none()}
var nt=function(){nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return nt.apply(this,arguments)}
function rt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var ot=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var at=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:g(o),isiPhone:g(a),isTablet:g(c),isPhone:g(s),isTouch:g(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:g(l),isDesktop:g(f)}}
var it=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var ut=function(t,e){var n=it(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return lt(r(1),r(2))}
var ct=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return st()
return ut(t,n)}
var st=function(){return lt(0,0)}
var lt=function(t,e){return{major:t,minor:e}}
var ft={nu:lt,detect:ct,unknown:st}
var vt=function(t,e){var n=String(e).toLowerCase()
return U(t,(function(t){return t.search(n)}))}
var dt=function(t,e){return vt(t,e).map((function(t){var n=ft.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var mt=function(t,e){return vt(t,e).map((function(t){var n=ft.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var ht={detectBrowser:dt,detectOs:mt}
var gt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var pt=function(t,e){return-1!==t.indexOf(e)}
var bt=function(t,e){return gt(t,e,0)}
var yt=function(t,e){return gt(t,e,t.length-e.length)}
var wt=function(t){return function(e){return e.replace(t,"")}}
var xt=wt(/^\s+|\s+$/g)
var Ct=function(t){return t.length>0}
var St=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var kt=function(t){return function(e){return pt(e,t)}}
var Tt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return pt(t,"edge/")&&pt(t,"chrome")&&pt(t,"safari")&&pt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,St],search:function(t){return pt(t,"chrome")&&!pt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return pt(t,"msie")||pt(t,"trident")}},{name:"Opera",versionRegexes:[St,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kt("firefox")},{name:"Safari",versionRegexes:[St,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(pt(t,"safari")||pt(t,"mobile/"))&&pt(t,"applewebkit")}}]
var _t=[{name:"Windows",search:kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return pt(t,"iphone")||pt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:kt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kt("linux"),versionRegexes:[]},{name:"Solaris",search:kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:kt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Ot={browsers:g(Tt),oses:g(_t)}
var Et="Edge"
var Mt="Chrome"
var At="IE"
var zt="Opera"
var Dt="Firefox"
var Rt="Safari"
var It=function(){return Ht({current:void 0,version:ft.unknown()})}
var Ht=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Et),isChrome:r(Mt),isIE:r(At),isOpera:r(zt),isFirefox:r(Dt),isSafari:r(Rt)}}
var Lt={unknown:It,nu:Ht,edge:g(Et),chrome:g(Mt),ie:g(At),opera:g(zt),firefox:g(Dt),safari:g(Rt)}
var Bt="Windows"
var Pt="iOS"
var Nt="Android"
var Ft="Linux"
var Vt="OSX"
var jt="Solaris"
var Ut="FreeBSD"
var Wt="ChromeOS"
var qt=function(){return Gt({current:void 0,version:ft.unknown()})}
var Gt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Bt),isiOS:r(Pt),isAndroid:r(Nt),isOSX:r(Vt),isLinux:r(Ft),isSolaris:r(jt),isFreeBSD:r(Ut),isChromeOS:r(Wt)}}
var $t={unknown:qt,nu:Gt,windows:g(Bt),ios:g(Pt),android:g(Nt),linux:g(Ft),osx:g(Vt),solaris:g(jt),freebsd:g(Ut),chromeos:g(Wt)}
var Xt=function(t,e){var n=Ot.browsers()
var r=Ot.oses()
var o=ht.detectBrowser(n,t).fold(Lt.unknown,Lt.nu)
var a=ht.detectOs(r,t).fold($t.unknown,$t.nu)
var i=at(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Kt={detect:Xt}
var Zt=function(t){return window.matchMedia(t).matches}
var Yt=ot((function(){return Kt.detect(navigator.userAgent,Zt)}))
var Jt=function(){return Yt()}
var Qt=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var te=function(t,e){return Qt(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var ee=8
var ne=9
var re=11
var oe=1
var ae=3
var ie=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return se(r.childNodes[0])}
var ue=function(t,e){var n=e||document
var r=n.createElement(t)
return se(r)}
var ce=function(t,e){var n=e||document
var r=n.createTextNode(t)
return se(r)}
var se=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var le=function(t,e,n){return O.from(t.dom.elementFromPoint(e,n)).map(se)}
var fe={fromHtml:ie,fromTag:ue,fromText:ce,fromDom:se,fromPoint:le}
var ve=function(t,e){var n=t.dom
if(n.nodeType!==oe)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var de=function(t){return t.nodeType!==oe&&t.nodeType!==ne&&t.nodeType!==re||0===t.childElementCount}
var me=function(t,e){var n=void 0===e?document:e.dom
return de(n)?[]:H(n.querySelectorAll(t),fe.fromDom)}
var he=function(t,e){var n=void 0===e?document:e.dom
return de(n)?O.none():O.from(n.querySelector(t)).map(fe.fromDom)}
var ge=function(t,e){return t.dom===e.dom}
var pe=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var be=function(t,e){return te(t.dom,e.dom)}
var ye=function(t,e){return Jt().browser.isIE()?be(t,e):pe(t,e)}
var we=ve
var xe=Object.keys
var Ce=Object.hasOwnProperty
var Se=function(t,e){var n=xe(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var ke=function(t,e){return Te(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var Te=function(t,e){var n={}
Se(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var _e=function(t){return function(e,n){t[n]=e}}
var Oe=function(t,e,n,r){var o={}
Se(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Ee=function(t,e){var n={}
Oe(t,e,_e(n),d)
return n}
var Me=function(t,e){var n=[]
Se(t,(function(t,r){n.push(e(t,r))}))
return n}
var Ae=function(t){return Me(t,(function(t){return t}))}
var ze=function(t){return xe(t).length}
var De=function(t,e){return Re(t,e)?O.from(t[e]):O.none()}
var Re=function(t,e){return Ce.call(t,e)}
var Ie=function(t,e){return Re(t,e)&&void 0!==t[e]&&null!==t[e]}
var He=function(t){for(var e in t)if(Ce.call(t,e))return false
return true}
var Le=["tfoot","thead","tbody","colgroup"]
var Be=function(t){return D(Le,t)}
var Pe=function(t,e){return{rows:t,columns:e}}
var Ne=function(t,e){return{row:t,column:e}}
var Fe=function(t,e,n){return{element:t,rowspan:e,colspan:n}}
var Ve=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}}
var je=function(t,e,n,r,o,a){return{element:t,rowspan:e,colspan:n,row:r,column:o,isLocked:a}}
var Ue=function(t,e,n){return{element:t,cells:e,section:n}}
var We=function(t,e,n){return{element:t,isNew:e,isLocked:n}}
var qe=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}}
var Ge=function(t,e){return{cells:t,section:e}}
var $e=function(t,e){return{details:t,section:e}}
var Xe=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}}
var Ke=function(t,e,n){return{element:t,colspan:e,column:n}}
"undefined"!==typeof window?window:Function("return this;")()
var Ze=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Ye=function(t){return t.dom.nodeType}
var Je=function(t){return function(e){return Ye(e)===t}}
var Qe=function(t){return Ye(t)===ee||"#comment"===Ze(t)}
var tn=Je(oe)
var en=Je(ae)
var nn=Je(ne)
var rn=Je(re)
var on=function(t){return function(e){return tn(e)&&Ze(e)===t}}
var an=function(t){return fe.fromDom(t.dom.ownerDocument)}
var un=function(t){return nn(t)?t:an(t)}
var cn=function(t){return fe.fromDom(un(t).dom.defaultView)}
var sn=function(t){return O.from(t.dom.parentNode).map(fe.fromDom)}
var ln=function(t,e){var n=f(e)?e:x
var r=t.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=fe.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var fn=function(t){return O.from(t.dom.offsetParent).map(fe.fromDom)}
var vn=function(t){return O.from(t.dom.previousSibling).map(fe.fromDom)}
var dn=function(t){return O.from(t.dom.nextSibling).map(fe.fromDom)}
var mn=function(t){return H(t.dom.childNodes,fe.fromDom)}
var hn=function(t,e){var n=t.dom.childNodes
return O.from(n[e]).map(fe.fromDom)}
var gn=function(t){return hn(t,0)}
var pn=function(t){return rn(t)&&l(t.dom.host)}
var bn=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)
var yn=g(bn)
var wn=bn?function(t){return fe.fromDom(t.dom.getRootNode())}:un
var xn=function(t){var e=wn(t)
return pn(e)?O.some(e):O.none()}
var Cn=function(t){return fe.fromDom(t.dom.host)}
var Sn=function(t){if(yn()&&l(t.target)){var e=fe.fromDom(t.target)
if(tn(e)&&kn(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return Q(n)}}return O.from(t.target)}
var kn=function(t){return l(t.dom.shadowRoot)}
var Tn=function(t){var e=en(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return xn(fe.fromDom(e)).fold((function(){return n.body.contains(e)}),h(Tn,Cn))}
var _n=function(){return On(fe.fromDom(document))}
var On=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return fe.fromDom(e)}
var En=function(t,e,n){return N(ln(t,n),e)}
var Mn=function(t,e){return N(mn(t),e)}
var An=function(t,e){var n=[]
L(mn(t),(function(t){e(t)&&(n=n.concat([t]))
n=n.concat(An(t,e))}))
return n}
var zn=function(t,e,n){return En(t,(function(t){return ve(t,e)}),n)}
var Dn=function(t,e){return Mn(t,(function(t){return ve(t,e)}))}
var Rn=function(t,e){return me(e,t)}
function In(t,e,n,r,o){return t(n,r)?O.some(n):f(o)&&o(n)?O.none():e(n,r,o)}var Hn=function(t,e,n){var r=t.dom
var o=f(n)?n:x
while(r.parentNode){r=r.parentNode
var a=fe.fromDom(r)
if(e(a))return O.some(a)
if(o(a))break}return O.none()}
var Ln=function(t,e,n){var r=function(t,e){return e(t)}
return In(r,Hn,t,e,n)}
var Bn=function(t,e){var n=function(t){return e(fe.fromDom(t))}
var r=U(t.dom.childNodes,n)
return r.map(fe.fromDom)}
var Pn=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=fe.fromDom(t.childNodes[r])
if(e(o))return O.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return O.none()}
return n(t.dom)}
var Nn=function(t,e,n){return Hn(t,(function(t){return ve(t,e)}),n)}
var Fn=function(t,e){return Bn(t,(function(t){return ve(t,e)}))}
var Vn=function(t,e){return he(e,t)}
var jn=function(t,e,n){var r=function(t,e){return ve(t,e)}
return In(r,Nn,t,e,n)}
var Un=function(t,e,n){if(!(o(n)||u(n)||v(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Wn=function(t,e,n){Un(t.dom,e,n)}
var qn=function(t,e){var n=t.dom
Se(e,(function(t,e){Un(n,e,t)}))}
var Gn=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var $n=function(t,e){return O.from(Gn(t,e))}
var Xn=function(t,e){t.dom.removeAttribute(e)}
var Kn=function(t){return V(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var Zn=function(t){return void 0!==t.style&&f(t.style.getPropertyValue)}
var Yn=function(t,e,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Zn(t)&&t.style.setProperty(e,n)}
var Jn=function(t,e){Zn(t)&&t.style.removeProperty(e)}
var Qn=function(t,e,n){var r=t.dom
Yn(r,e,n)}
var tr=function(t,e){var n=t.dom
Se(e,(function(t,e){Yn(n,e,t)}))}
var er=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||Tn(t)?o:nr(n,e)}
var nr=function(t,e){return Zn(t)?t.style.getPropertyValue(e):""}
var rr=function(t,e){var n=t.dom
var r=nr(n,e)
return O.from(r).filter((function(t){return t.length>0}))}
var or=function(t,e){var n=t.dom
Jn(n,e)
$n(t,"style").map(xt).is("")&&Xn(t,"style")}
var ar=function(t,e){var n=t.dom
var r=e.dom
Zn(n)&&Zn(r)&&(r.style.cssText=n.style.cssText)}
var ir=function(t,e,n){void 0===n&&(n=0)
return $n(t,e).map((function(t){return parseInt(t,10)})).getOr(n)}
var ur=function(t,e){return ir(t,e,1)}
var cr=function(t){return ur(t,"colspan")>1}
var sr=function(t){return ur(t,"rowspan")>1}
var lr=function(t,e){return parseInt(er(t,e),10)}
var fr=g(10)
var vr=g(10)
var dr=function(t,e){return mr(t,e,C)}
var mr=function(t,e,n){return G(mn(t),(function(t){return ve(t,e)?n(t)?[t]:[]:mr(t,e,n)}))}
var hr=function(t,e,n){void 0===n&&(n=x)
if(n(e))return O.none()
if(D(t,Ze(e)))return O.some(e)
var r=function(t){return ve(t,"table")||n(t)}
return Nn(e,t.join(","),r)}
var gr=function(t,e){return hr(["td","th"],t,e)}
var pr=function(t){return dr(t,"th,td")}
var br=function(t){return ve(t,"colgroup")?Dn(t,"col"):G(xr(t),(function(t){return Dn(t,"col")}))}
var yr=function(t,e){return jn(t,"table",e)}
var wr=function(t){return dr(t,"tr")}
var xr=function(t){return yr(t).fold(g([]),(function(t){return Dn(t,"colgroup")}))}
var Cr=function(t,e){return H(t,(function(t){if("colgroup"===Ze(t)){var n=H(br(t),(function(t){var e=ir(t,"span",1)
return Fe(t,1,e)}))
return Ue(t,n,"colgroup")}n=H(pr(t),(function(t){var e=ir(t,"rowspan",1)
var n=ir(t,"colspan",1)
return Fe(t,e,n)}))
return Ue(t,n,e(t))}))}
var Sr=function(t){return sn(t).map((function(t){var e=Ze(t)
return Be(e)?e:"tbody"})).getOr("tbody")}
var kr=function(t){var e=wr(t)
var n=xr(t)
var r=rt(n,e)
return Cr(r,Sr)}
var Tr=function(t,e){return Cr(t,(function(){return e}))}
var _r=function(t,e,n){var r=t.cells
var o=r.slice(0,e)
var a=r.slice(e)
var i=o.concat(n).concat(a)
return Mr(t,i)}
var Or=function(t,e,n){return _r(t,e,[n])}
var Er=function(t,e,n){var r=t.cells
r[e]=n}
var Mr=function(t,e){return Ge(e,t.section)}
var Ar=function(t,e){var n=t.cells
var r=H(n,e)
return Ge(r,t.section)}
var zr=function(t,e){return t.cells[e]}
var Dr=function(t,e){return zr(t,e).element}
var Rr=function(t){return t.cells.length}
var Ir=function(t){var e=P(t,(function(t){return"colgroup"===t.section}))
return{rows:e.fail,cols:e.pass}}
var Hr="data-snooker-locked-cols"
var Lr=function(t){return $n(t,Hr).bind((function(t){return O.from(t.match(/\d+/g))})).map((function(t){return K(t,C)}))}
var Br=function(t){var e=V(Ir(t).rows,(function(t,e){L(e.cells,(function(e,n){e.isLocked&&(t[n]=true)}))
return t}),{})
var n=Me(e,(function(t,e){return parseInt(e,10)}))
return Y(n)}
var Pr=function(t,e){return t+","+e}
var Nr=function(t,e,n){var r=t.access[Pr(e,n)]
return void 0!==r?O.some(r):O.none()}
var Fr=function(t,e,n){var r=Vr(t,(function(t){return n(e,t.element)}))
return r.length>0?O.some(r[0]):O.none()}
var Vr=function(t,e){var n=G(t.all,(function(t){return t.cells}))
return N(n,e)}
var jr=function(t){var e={}
var n=0
L(t.cells,(function(t){var r=t.colspan
I(r,(function(o){var a=n+o
e[a]=Ke(t.element,r,a)}))
n+=r}))
return e}
var Ur=function(t){var e={}
var n=[]
var r={}
var o=Q(t).map((function(t){return t.element})).bind(yr)
var a=o.bind(Lr).getOr({})
var i=0
var u=0
var c=0
L(t,(function(t){if("colgroup"===t.section)r=jr(t)
else{var o=[]
L(t.cells,(function(t){var n=0
while(void 0!==e[Pr(c,n)])n++
var r=Ie(a,n.toString())
var i=je(t.element,t.rowspan,t.colspan,c,n,r)
for(var s=0;s<t.colspan;s++)for(var l=0;l<t.rowspan;l++){var f=c+l
var v=n+s
var d=Pr(f,v)
e[d]=i
u=Math.max(u,v+1)}o.push(i)}))
i++
n.push(Ue(t.element,o,t.section))
c++}}))
var s=Pe(i,u)
return{grid:s,access:e,all:n,columns:r}}
var Wr=function(t){var e=kr(t)
return Ur(e)}
var qr=function(t){return G(t.all,(function(t){return t.cells}))}
var Gr=function(t){return Ae(t.columns)}
var $r=function(t){return xe(t.columns).length>0}
var Xr=function(t,e){return O.from(t.columns[e])}
var Kr={fromTable:Wr,generate:Ur,getAt:Nr,findItem:Fr,filterItems:Vr,justCells:qr,justColumns:Gr,hasColumns:$r,getColumnAt:Xr}
var Zr=function(t,e){var n=e.column
var r=e.column+e.colspan-1
var o=e.row
var a=e.row+e.rowspan-1
return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&a>=t.startRow}
var Yr=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow}
var Jr=function(t,e){var n=true
var r=b(Yr,e)
for(var o=e.startRow;o<=e.finishRow;o++)for(var a=e.startCol;a<=e.finishCol;a++)n=n&&Kr.getAt(t,o,a).exists(r)
return n?O.some(e):O.none()}
var Qr=function(t,e){return Xe(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))}
var to=function(t,e,n){var r=Kr.findItem(t,e,ge)
var o=Kr.findItem(t,n,ge)
return r.bind((function(t){return o.map((function(e){return Qr(t,e)}))}))}
var eo=function(t,e,n){return to(t,e,n).bind((function(e){return Jr(t,e)}))}
var no=function(t,e,n,r){return Kr.findItem(t,e,ge).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row
var a=r>0?e.column+e.colspan-1:e.column
var i=Kr.getAt(t,o+n,a+r)
return i.map((function(t){return t.element}))}))}
var ro=function(t,e,n){return to(t,e,n).map((function(e){var n=Kr.filterItems(t,b(Zr,e))
return H(n,(function(t){return t.element}))}))}
var oo=function(t,e){var n=function(t,e){return ye(e,t)}
return Kr.findItem(t,e,n).map((function(t){return t.element}))}
var ao=function(t,e,n){return yr(t).bind((function(r){var o=so(r)
return no(o,t,e,n)}))}
var io=function(t,e,n){var r=so(t)
return ro(r,e,n)}
var uo=function(t,e,n,r,o){var a=so(t)
var i=ge(t,n)?O.some(e):oo(a,e)
var u=ge(t,o)?O.some(r):oo(a,r)
return i.bind((function(t){return u.bind((function(e){return ro(a,t,e)}))}))}
var co=function(t,e,n){var r=so(t)
return eo(r,e,n)}
var so=Kr.fromTable
var lo=function(t,e){var n=sn(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var fo=function(t,e){var n=dn(t)
n.fold((function(){var n=sn(t)
n.each((function(t){mo(t,e)}))}),(function(t){lo(t,e)}))}
var vo=function(t,e){var n=gn(t)
n.fold((function(){mo(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var mo=function(t,e){t.dom.appendChild(e.dom)}
var ho=function(t,e){lo(t,e)
mo(e,t)}
var go=function(t,e){L(e,(function(e){lo(t,e)}))}
var po=function(t,e){L(e,(function(n,r){var o=0===r?t:e[r-1]
fo(o,n)}))}
var bo=function(t,e){L(e,(function(e){mo(t,e)}))}
var yo=function(t){t.dom.textContent=""
L(mn(t),(function(t){wo(t)}))}
var wo=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var xo=function(t){var e=mn(t)
e.length>0&&go(t,e)
wo(t)}
var Co=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?O.from(e.dom.nodeValue):O.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var So=Co(en,"text")
var ko=function(t){return So.get(t)}
var To=function(t){return So.getOption(t)}
var _o=function(t,e){return So.set(t,e)}
var Oo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
function Eo(){var t=function(t){return fe.fromDom(t.dom.cloneNode(false))}
var e=function(t){return un(t).dom}
var n=function(t){if(!tn(t))return false
if("body"===Ze(t))return true
return D(Oo,Ze(t))}
var r=function(t){if(!tn(t))return false
return D(["br","img","hr","input"],Ze(t))}
var o=function(t){return tn(t)&&"false"===Gn(t,"contenteditable")}
var a=function(t,e){return t.dom.compareDocumentPosition(e.dom)}
var i=function(t,e){var n=Kn(t)
qn(e,n)}
var u=function(t){var e=Ze(t)
return D(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)}
return{up:g({selector:Nn,closest:jn,predicate:Hn,all:ln}),down:g({selector:Rn,predicate:An}),styles:g({get:er,getRaw:rr,set:Qn,remove:or}),attrs:g({get:Gn,set:Wn,remove:Xn,copyTo:i}),insert:g({before:lo,after:fo,afterAll:po,append:mo,appendAll:bo,prepend:vo,wrap:ho}),remove:g({unwrap:xo,remove:wo}),create:g({nu:fe.fromTag,clone:t,text:fe.fromText}),query:g({comparePosition:a,prevSibling:vn,nextSibling:dn}),property:g({children:mn,name:Ze,parent:sn,document:e,isText:en,isComment:Qe,isElement:tn,isSpecial:u,getText:ko,setText:_o,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:ge,is:we}}var Mo=function(t,e,n,r){var o=n[0]
var a=n.slice(1)
return r(t,e,o,a)}
var Ao=function(t,e,n){return n.length>0?Mo(t,e,n,zo):O.none()}
var zo=function(t,e,n,r){var o=e(t,n)
return F(r,(function(n,r){var o=e(t,r)
return Do(t,n,o)}),o)}
var Do=function(t,e,n){return e.bind((function(e){return n.filter(b(t.eq,e))}))}
var Ro=function(t,e){return b(t.eq,e)}
var Io=function(t,e,n,r){void 0===r&&(r=x)
var o=[e].concat(t.up().all(e))
var a=[n].concat(t.up().all(n))
var i=function(t){var e=W(t,r)
return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))}
var u=i(o)
var c=i(a)
var s=U(u,(function(e){return R(c,Ro(t,e))}))
return{firstpath:u,secondpath:c,shared:s}}
var Ho=Ao
var Lo=Io
var Bo=Eo()
var Po=function(t,e){return Ho(Bo,(function(e,n){return t(n)}),e)}
var No=function(t,e,n){return Lo(Bo,t,e,n)}
var Fo=function(t){return Nn(t,"table")}
var Vo=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||ge(e,t)}}
return ge(t,e)?O.some({boxes:O.some([t]),start:t,finish:e}):Fo(t).bind((function(o){return Fo(e).bind((function(a){if(ge(o,a))return O.some({boxes:io(o,t,e),start:t,finish:e})
if(ye(o,a)){var i=zn(e,"td,th",r(o))
var u=i.length>0?i[i.length-1]:e
return O.some({boxes:uo(o,t,o,e,a),start:t,finish:u})}if(ye(a,o)){i=zn(t,"td,th",r(a))
var c=i.length>0?i[i.length-1]:t
return O.some({boxes:uo(a,t,o,e,a),start:t,finish:c})}return No(t,e).shared.bind((function(i){return jn(i,"table",n).bind((function(n){var i=zn(e,"td,th",r(n))
var u=i.length>0?i[i.length-1]:e
var c=zn(t,"td,th",r(n))
var s=c.length>0?c[c.length-1]:t
return O.some({boxes:uo(n,t,o,e,a),start:s,finish:u})}))}))}))}))}
var jo=function(t,e){var n=Rn(t,e)
return n.length>0?O.some(n):O.none()}
var Uo=function(t,e){return U(t,(function(t){return ve(t,e)}))}
var Wo=function(t,e,n){return Vn(t,e).bind((function(e){return Vn(t,n).bind((function(t){return Po(Fo,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))}
var qo=function(t,e){return Nn(t,"table").bind((function(n){return Vn(n,e).bind((function(e){return Vo(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))}
var Go=function(t,e,n,r,o){return Uo(t,o).bind((function(t){return ao(t,e,n).bind((function(t){return qo(t,r)}))}))}
var $o=function(t,e){return jo(t,e)}
var Xo=function(t,e,n){return Wo(t,e,n).bind((function(e){var n=function(e){return ge(t,e)}
var r="thead,tfoot,tbody,table"
var o=Nn(e.first,r,n)
var a=Nn(e.last,r,n)
return o.bind((function(t){return a.bind((function(n){return ge(t,n)?co(e.table,e.first,e.last):O.none()}))}))}))}
var Ko=function(t){if(!i(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
L(t,(function(r,o){var a=xe(r)
if(1!==a.length)throw new Error("one and only one name per case")
var u=a[0]
var c=r[u]
if(void 0!==n[u])throw new Error("duplicate key detected:"+u)
if("cata"===u)throw new Error("cannot have a case named cata (sorry)")
if(!i(c))throw new Error("case arguments must be an array")
e.push(u)
n[u]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+a)
var i=function(t){var r=xe(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=$(e,(function(t){return D(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[u].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:i,log:function(t){console.log(t,{constructors:e,constructor:u,params:n})}}}}))
return n}
var Zo={generate:Ko}
var Yo=Zo.generate([{none:[]},{multiple:["elements"]},{single:["element"]}])
var Jo=function(t,e,n,r){return t.fold(e,n,r)}
var Qo=Yo.none
var ta=Yo.multiple
var ea=Yo.single
var na=function(t,e,n){var r=function(){return $o(t(),n).fold((function(){return e().map(ea).getOrThunk(Qo)}),(function(t){return ta(t)}))}
return{get:r}}
var ra=tinymce.util.Tools.resolve("tinymce.PluginManager")
var oa=function(t,e){return fe.fromDom(t.dom.cloneNode(e))}
var aa=function(t){return oa(t,false)}
var ia=function(t){return oa(t,true)}
var ua=function(t,e){var n=fe.fromTag(e)
var r=Kn(t)
qn(n,r)
return n}
var ca=function(t,e){var n=ua(t,e)
var r=mn(ia(t))
bo(n,r)
return n}
var sa=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var la=function(t,e,n){return t.isSome()&&e.isSome()?O.some(n(t.getOrDie(),e.getOrDie())):O.none()}
var fa=function(t,e){return void 0!==t&&null!==t?e(t):O.none()}
var va=function(t,e){return t?O.some(e):O.none()}
var da=function(t,e){var n=function(e,n){if(!v(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Zn(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=er(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return V(e,(function(e,n){var r=er(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var ma=da("width",(function(t){return t.dom.offsetWidth}))
var ha=function(t){return ma.get(t)}
var ga=function(t){return ma.getOuter(t)}
var pa=function(t,e){void 0===e&&(e=C)
var n=t.grid
var r=I(n.columns,p)
var o=I(n.rows,p)
return H(r,(function(n){var r=function(){return G(o,(function(e){return Kr.getAt(t,e,n).filter((function(t){return t.column===n})).toArray()}))}
var a=function(t){return 1===t.colspan&&e(t.element)}
var i=function(){return Kr.getAt(t,0,n)}
return ba(r,a,i)}))}
var ba=function(t,e,n){var r=t()
var o=U(r,e)
var a=o.orThunk((function(){return O.from(r[0]).orThunk(n)}))
return a.map((function(t){return t.element}))}
var ya=function(t){var e=t.grid
var n=I(e.rows,p)
var r=I(e.columns,p)
return H(n,(function(e){var n=function(){return G(r,(function(n){return Kr.getAt(t,e,n).filter((function(t){return t.row===e})).fold(g([]),(function(t){return[t]}))}))}
var o=function(t){return 1===t.rowspan}
var a=function(){return Kr.getAt(t,e,0)}
return ba(n,o,a)}))}
var wa=function(t,e){if(e<0||e>=t.length-1)return O.none()
var n=t[e].fold((function(){var n=X(t.slice(0,e))
return et(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return O.some({value:t,delta:0})}))
var r=t[e+1].fold((function(){var n=t.slice(e+1)
return et(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return O.some({value:t,delta:1})}))
return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta
return Math.abs(e.value-t.value)/n}))}))}
var xa=function(t,e){return function(n){return"rtl"===Ca(n)?e:t}}
var Ca=function(t){return"rtl"===er(t,"direction")?"rtl":"ltr"}
var Sa=da("height",(function(t){var e=t.dom
return Tn(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var ka=function(t){return Sa.get(t)}
var Ta=function(t){return Sa.getOuter(t)}
var _a=function(t,e){var n=function(n,r){return _a(t+n,e+r)}
return{left:t,top:e,translate:n}}
var Oa=_a
var Ea=function(t){var e=t.getBoundingClientRect()
return Oa(e.left,e.top)}
var Ma=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var Aa=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return Oa(n.offsetLeft,n.offsetTop)
var a=Ma(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Ma(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Ma(o.clientTop,n.clientTop)
var c=Ma(o.clientLeft,n.clientLeft)
return za(t).translate(i-c,a-u)}
var za=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return Oa(r.offsetLeft,r.offsetTop)
if(!Tn(t))return Oa(0,0)
return Ea(e)}
var Da=function(t,e){return{row:t,y:e}}
var Ra=function(t,e){return{col:t,x:e}}
var Ia=function(t){var e=Aa(t)
return e.left+ga(t)}
var Ha=function(t){return Aa(t).left}
var La=function(t,e){return Ra(t,Ha(e))}
var Ba=function(t,e){return Ra(t,Ia(e))}
var Pa=function(t){return Aa(t).top}
var Na=function(t,e){return Da(t,Pa(e))}
var Fa=function(t,e){return Da(t,Pa(e)+Ta(e))}
var Va=function(t,e,n){if(0===n.length)return[]
var r=H(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))}))
var o=n[n.length-1].map((function(t){return e(n.length-1,t)}))
return r.concat([o])}
var ja=function(t){return-t}
var Ua={delta:p,positions:function(t){return Va(Na,Fa,t)},edge:Pa}
var Wa={delta:p,edge:Ha,positions:function(t){return Va(La,Ba,t)}}
var qa={delta:ja,edge:Ia,positions:function(t){return Va(Ba,La,t)}}
var Ga=xa(Wa,qa)
var $a={delta:function(t,e){return Ga(e).delta(t,e)},positions:function(t,e){return Ga(e).positions(t,e)},edge:function(t){return Ga(t).edge(t)}}
var Xa={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var Ka=(Za="[0-9]+",Ya="[+-]?"+Za,Ja="[eE]"+Ya,Qa="\\.",ti=function(t){return"(?:"+t+")?"},ei=["Infinity",Za+Qa+ti(Za)+ti(Ja),Qa+Za+ti(Ja),Za+ti(Ja)].join("|"),ni="[+-]?(?:"+ei+")",new RegExp("^("+ni+")(.*)$"))
var Za,Ya,Ja,Qa,ti,ei,ni
var ri=function(t,e){return R(e,(function(e){return R(Xa[e],(function(e){return t===e}))}))}
var oi=function(t,e){var n=O.from(Ka.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return ri(r,e)?O.some({value:n,unit:r}):O.none()}))}
var ai=function(){var t=Jt().browser
return t.isIE()||t.isEdge()}
var ii=function(t,e){var n=parseFloat(t)
return isNaN(n)?e:n}
var ui=function(t,e,n){return ii(er(t,e),n)}
var ci=function(t){var e=t.dom.getBoundingClientRect().height
var n=er(t,"box-sizing")
if("border-box"===n)return e
var r=ui(t,"padding-top",0)
var o=ui(t,"padding-bottom",0)
var a=ui(t,"border-top-width",0)
var i=ui(t,"border-bottom-width",0)
var u=a+i
return e-r-o-u}
var si=function(t){var e=t.dom.getBoundingClientRect().width
var n=er(t,"box-sizing")
if("border-box"===n)return e
var r=ui(t,"padding-left",0)
var o=ui(t,"padding-right",0)
var a=ui(t,"border-left-width",0)
var i=ui(t,"border-right-width",0)
var u=a+i
return e-r-o-u}
var li=function(t){return ai()?ci(t):ui(t,"height",ka(t))}
var fi=function(t){return ai()?si(t):ui(t,"width",ha(t))}
var vi=/(\d+(\.\d+)?)%/
var di=/(\d+(\.\d+)?)px|em/
var mi=function(t,e){var n=fn(t).getOr(On(an(t)))
return e(t)/e(n)*100}
var hi=function(t,e){Qn(t,"width",e+"px")}
var gi=function(t,e){Qn(t,"width",e+"%")}
var pi=function(t,e){Qn(t,"height",e+"px")}
var bi=function(t){return rr(t,"height").getOrThunk((function(){return li(t)+"px"}))}
var yi=function(t,e,n,r){var o=yr(t).map((function(t){var r=n(t)
return Math.floor(e/100*r)})).getOr(e)
r(t,o)
return o}
var wi=function(t,e,n,r){var o=parseInt(t,10)
return yt(t,"%")&&"table"!==Ze(e)?yi(e,o,n,r):o}
var xi=function(t){var e=bi(t)
if(!e)return ka(t)
return wi(e,t,ka,pi)}
var Ci=function(t,e,n){var r=n(t)
var o=ur(t,e)
return r/o}
var Si=function(t){var e=rr(t,"width")
return e.fold((function(){return O.from(Gn(t,"width"))}),(function(t){return O.some(t)}))}
var ki=function(t,e){return t/e.pixelWidth()*100}
var Ti=function(t,e,n){var r=vi.exec(e)
if(null!==r)return parseFloat(r[1])
var o=fi(t)
return ki(o,n)}
var _i=function(t,e){var n=Si(t)
return n.fold((function(){var n=ha(t)
return ki(n,e)}),(function(n){return Ti(t,n,e)}))}
var Oi=function(t,e){return t/100*e.pixelWidth()}
var Ei=function(t,e,n){var r=di.exec(e)
if(null!==r)return parseInt(r[1],10)
var o=vi.exec(e)
if(null!==o){var a=parseFloat(o[1])
return Oi(a,n)}return fi(t)}
var Mi=function(t,e){var n=Si(t)
return n.fold((function(){return fi(t)}),(function(n){return Ei(t,n,e)}))}
var Ai=function(t){return Ci(t,"rowspan",xi)}
var zi=function(t){var e=Si(t)
return e.bind((function(t){return oi(t,["fixed","relative","empty"])}))}
var Di=function(t,e,n){Qn(t,"width",e+n)}
var Ri=function(t){return ha(t)+"px"}
var Ii=function(t){return mi(t,ha)+"%"}
var Hi=function(t){return Si(t).exists((function(t){return vi.test(t)}))}
var Li=function(t){return Si(t).exists((function(t){return di.test(t)}))}
var Bi=function(t){return Si(t).isNone()}
var Pi=g(vi)
var Ni=g(di)
var Fi=on("col")
var Vi=function(t,e,n){return rr(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))}
var ji=function(t,e){var n=function(t){return Fi(t)?ha(t):Mi(t,e)}
return Vi(t,"width",n)}
var Ui=function(t){return Vi(t,"height",Ai)}
var Wi=function(t){return H(Kr.justColumns(t),(function(t){return O.from(t.element)}))}
var qi=function(t,e){return rr(t,e).isSome()}
var Gi=function(t){return!Fi(t)||qi(t,"width")}
var $i=function(t,e,n,r,o,a){return t.filter(r).fold((function(){return a(wa(n,e))}),(function(t){return o(t)}))}
var Xi=function(t,e,n,r,o){var a=pa(t,(function(t){return qi(t,"width")}))
var i=Kr.hasColumns(t)?Wi(t):a
var u=[O.some($a.edge(e))].concat(H($a.positions(a,e),(function(t){return t.map((function(t){return t.x}))})))
var c=y(cr)
return H(i,(function(t,e){return $i(t,e,u,c,(function(t){if(Gi(t))return n(t,o)
var i=fa(a[e],p)
return $i(i,e,u,c,(function(t){return r(O.some(ha(t)))}),r)}),r)}))}
var Ki=function(t){return t.map((function(t){return t+"px"})).getOr("")}
var Zi=function(t,e,n){return Xi(t,e,ji,Ki,n)}
var Yi=function(t,e,n){return Xi(t,e,_i,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)}
var Ji=function(t,e,n){return Xi(t,e,Mi,(function(t){return t.getOrThunk(n.minCellWidth)}),n)}
var Qi=function(t,e,n,r,o){var a=ya(t)
var i=[O.some(n.edge(e))].concat(H(n.positions(a,e),(function(t){return t.map((function(t){return t.y}))})))
return H(a,(function(t,e){return $i(t,e,i,y(sr),r,o)}))}
var tu=function(t,e,n){return Qi(t,e,n,Ai,(function(t){return t.getOrThunk(vr)}))}
var eu=function(t,e,n){return Qi(t,e,n,Ui,Ki)}
var nu=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var ru=function(t){var e=function(){return ha(t)}
var n=g(0)
var r=function(e,n){return Ji(e,t,n)}
return{width:e,pixelWidth:e,getWidths:r,getCellDelta:n,singleColumnWidth:g([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,isRelative:true,label:"none"}}
var ou=function(t,e){var n=nu(parseFloat(t))
var r=nu(ha(e))
var o=function(t){return t/r.get()*100}
var a=function(t,e){return[100-t]}
var i=function(){return fr()/r.get()*100}
var u=function(t){var o=n.get()
var a=t/100*o
var i=o+a
gi(e,i)
n.set(i)
r.set(ha(e))}
var c=function(t,n){return Yi(t,e,n)}
return{width:n.get,pixelWidth:r.get,getWidths:c,getCellDelta:o,singleColumnWidth:a,minCellWidth:i,setElementWidth:gi,adjustTableWidth:u,isRelative:true,label:"percent"}}
var au=function(t,e){var n=nu(t)
var r=n.get
var o=p
var a=function(t,e){var n=Math.max(fr(),t+e)
return[n-t]}
var i=function(t){var o=r()+t
hi(e,o)
n.set(o)}
var u=function(t,n){return Ji(t,e,n)}
return{width:r,pixelWidth:r,getWidths:u,getCellDelta:o,singleColumnWidth:a,minCellWidth:fr,setElementWidth:hi,adjustTableWidth:i,isRelative:false,label:"pixel"}}
var iu=function(t,e){var n=Pi().exec(e)
if(null!==n)return ou(n[1],t)
var r=Ni().exec(e)
if(null!==r){var o=parseInt(r[1],10)
return au(o,t)}var a=ha(t)
return au(a,t)}
var uu=function(t){var e=Si(t)
return e.fold((function(){return ru(t)}),(function(e){return iu(t,e)}))}
var cu={getTableSize:uu,pixelSize:au,percentageSize:ou,noneSize:ru}
var su=function(t,e,n,r,o,a){return{minRow:t,minCol:e,maxRow:n,maxCol:r,allCells:o,selectedCells:a}}
var lu=function(t,e){var n=t.grid.columns
var r=t.grid.rows
var o=r
var a=n
var i=0
var u=0
var c=[]
var s=[]
Se(t.access,(function(t){c.push(t)
if(e(t)){s.push(t)
var n=t.row
var r=n+t.rowspan-1
var l=t.column
var f=l+t.colspan-1
n<o?o=n:r>i&&(i=r)
l<a?a=l:f>u&&(u=f)}}))
return su(o,a,i,u,c,s)}
var fu=function(t,e,n){var r=t[n].element
var o=fe.fromTag("td")
mo(o,fe.fromTag("br"))
var a=e?mo:vo
a(r,o)}
var vu=function(t,e,n,r){var o=e.grid.columns
var a=e.grid.rows
for(var i=0;i<a;i++){var u=false
for(var c=0;c<o;c++)if(!(i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol)){var s=Kr.getAt(e,i,c).filter(r).isNone()
s?fu(t,u,i):u=true}}}
var du=function(t,e,n,r){Se(n.columns,(function(t){(t.column<e.minCol||t.column>e.maxCol)&&wo(t.element)}))
var o=N(dr(t,"tr"),(function(t){return 0===t.dom.childElementCount}))
L(o,wo)
e.minCol!==e.maxCol&&e.minRow!==e.maxRow||L(dr(t,"th,td"),(function(t){Xn(t,"rowspan")
Xn(t,"colspan")}))
Xn(t,Hr)
Xn(t,"data-snooker-col-series")
var a=cu.getTableSize(t)
a.adjustTableWidth(r)}
var mu=function(t,e,n,r){if(0===r.minCol&&e.grid.columns===r.maxCol+1)return 0
var o=Ji(e,t,n)
var a=V(o,(function(t,e){return t+e}),0)
var i=V(o.slice(r.minCol,r.maxCol+1),(function(t,e){return t+e}),0)
var u=i/a*n.pixelWidth()
var c=u-n.pixelWidth()
return n.getCellDelta(c)}
var hu=function(t,e){var n=function(t){return ve(t.element,e)}
var r=ia(t)
var o=kr(r)
var a=cu.getTableSize(t)
var i=Kr.generate(o)
var u=lu(i,n)
var c="th:not("+e+"),td:not("+e+")"
var s=mr(r,"th,td",(function(t){return ve(t,c)}))
L(s,wo)
vu(o,i,u,n)
var l=Kr.fromTable(t)
var f=mu(t,l,a,u)
du(r,u,i,f)
return r}
var gu=" "
var pu=function(t){return"img"===Ze(t)?1:To(t).fold((function(){return mn(t).length}),(function(t){return t.length}))}
var bu=function(t){return To(t).filter((function(t){return 0!==t.trim().length||t.indexOf(gu)>-1})).isSome()}
var yu=["img","br"]
var wu=function(t){var e=bu(t)
return e||D(yu,Ze(t))}
var xu=function(t){return Pn(t,wu)}
var Cu=function(t){return Su(t,wu)}
var Su=function(t,e){var n=function(t){var r=mn(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return O.some(a)
var i=n(a)
if(i.isSome())return i}return O.none()}
return n(t)}
var ku={scope:["row","col"]}
var Tu=function(){var t=fe.fromTag("td")
mo(t,fe.fromTag("br"))
return t}
var _u=function(){return fe.fromTag("col")}
var Ou=function(){return fe.fromTag("colgroup")}
var Eu=function(t,e,n){var r=ca(t,e)
Se(n,(function(t,e){null===t?Xn(r,e):Wn(r,e,t)}))
return r}
var Mu=function(t){return t}
var Au=function(t){return function(){return fe.fromTag("tr",t.dom)}}
var zu=function(t,e,n){var r=xu(t)
return r.map((function(r){var o=n.join(",")
var a=zn(r,o,(function(e){return ge(e,t)}))
return F(a,(function(t,e){var n=aa(e)
Xn(n,"contenteditable")
mo(t,n)
return n}),e)})).getOr(e)}
var Du=function(t,e){Se(ku,(function(n,r){return $n(t,r).filter((function(t){return D(n,t)})).each((function(t){return Wn(e,r,t)}))}))}
var Ru=function(t,e,n){var r=function(t,e){ar(t.element,e)
or(e,"height")
1!==t.colspan&&or(e,"width")}
var o=function(e){var o=an(e.element)
var a=fe.fromTag(Ze(e.element),o.dom)
var i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"])
var u=i.length>0?zu(e.element,a,i):a
mo(u,fe.fromTag("br"))
r(e,a)
Du(e.element,a)
t(e.element,a)
return a}
var a=function(e){var n=an(e.element)
var o=fe.fromTag(Ze(e.element),n.dom)
r(e,o)
t(e.element,o)
return o}
return{col:a,colgroup:Ou,row:Au(e),cell:o,replace:Eu,gap:Tu}}
var Iu=function(t){return{col:_u,colgroup:Ou,row:Au(t),cell:Tu,replace:Mu,gap:Tu}}
var Hu=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return mn(fe.fromDom(r))}
var Lu=function(t){return H(t,fe.fromDom)}
var Bu=function(t){return t.nodeName.toLowerCase()}
var Pu=function(t){return fe.fromDom(t.getBody())}
var Nu=function(t){return t.getBoundingClientRect().width}
var Fu=function(t){return t.getBoundingClientRect().height}
var Vu=function(t){return function(e){return ge(e,Pu(t))}}
var ju=function(t){return t?t.replace(/px$/,""):""}
var Uu=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t}
var Wu=function(t){Xn(t,"data-mce-style")
var e=function(t){return Xn(t,"data-mce-style")}
L(pr(t),e)
L(br(t),e)}
var qu=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width")
return O.from(n).filter(Ct)}
var Gu=function(t){return/^(\d+(\.\d+)?)%$/.test(t)}
var $u=function(t){return/^(\d+(\.\d+)?)px$/.test(t)}
var Xu=function(t){return fe.fromDom(t.selection.getStart())}
var Ku=function(t){return Jo(t.get(),g([]),p,Z)}
var Zu=function(t){var e=function(t,e){return $n(t,e).exists((function(t){return parseInt(t,10)>1}))}
var n=function(t){return e(t,"rowspan")||e(t,"colspan")}
var r=Ku(t)
return r.length>0&&$(r,n)?O.some(r):O.none()}
var Yu=function(t,e,n){return Jo(e.get(),O.none,(function(e){return e.length<=1?O.none():Xo(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),O.none)}
var Ju="data-mce-selected"
var Qu="td["+Ju+"],th["+Ju+"]"
var tc="["+Ju+"]"
var ec="data-mce-first-selected"
var nc="td["+ec+"],th["+ec+"]"
var rc="data-mce-last-selected"
var oc="td["+rc+"],th["+rc+"]"
var ac=tc
var ic={selected:Ju,selectedSelector:Qu,firstSelected:ec,firstSelectedSelector:nc,lastSelected:rc,lastSelectedSelector:oc}
var uc=function(t){return{element:t,mergable:O.none(),unmergable:O.none(),selection:[t]}}
var cc=function(t,e,n){return{element:n,mergable:Yu(e,t,ic),unmergable:Zu(t),selection:Ku(t)}}
var sc=function(t,e,n){return{element:t,clipboard:e,generators:n}}
var lc=function(t,e,n,r){return{selection:Ku(t),clipboard:n,generators:r}}
var fc=function(t){return yr(t[0]).map((function(t){var e=hu(t,ac)
Wu(e)
return[e]}))}
var vc=function(t,e){return H(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")}
var dc=function(t){return H(t,(function(t){return t.dom.innerText})).join("")}
var mc=function(t,e,n,r){t.on("BeforeGetContent",(function(n){var r=function(e){n.preventDefault()
fc(e).each((function(e){n.content="text"===n.format?dc(e):vc(t,e)}))}
true===n.selection&&Jo(e.get(),d,r,d)}))
t.on("BeforeSetContent",(function(e){if(true===e.selection&&true===e.paste){var o=O.from(t.dom.getParent(t.selection.getStart(),"th,td"))
o.each((function(o){var a=fe.fromDom(o)
yr(a).each((function(o){var i=N(Hu(e.content),(function(t){return"meta"!==Ze(t)}))
var u=function(t){return"table"===Ze(t)}
if(1===i.length&&u(i[0])){e.preventDefault()
var c=fe.fromDom(t.getDoc())
var s=Iu(c)
var l=sc(a,i[0],s)
n.pasteCells(o,l).each((function(e){t.selection.setRng(e.rng)
t.focus()
r.clear(o)}))}}))}))}}))}
var hc=Zo.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])
var gc=nt({},hc)
var pc=function(t,e){if(0===t.length)return gc.none()
if(1===t.length)return gc.only(0)
if(0===e)return gc.left(0,1)
if(e===t.length-1)return gc.right(e-1,e)
if(e>0&&e<t.length-1)return gc.middle(e-1,e,e+1)
return gc.none()}
var bc=function(t,e,n,r,o){var a=t.slice(0)
var i=pc(t,e)
var u=g(H(a,g(0)))
var c=function(t){return r.singleColumnWidth(a[t],n)}
var s=function(t,e){return o.calcLeftEdgeDeltas(a,t,e,n,r.minCellWidth(),r.isRelative)}
var l=function(t,e,i){return o.calcMiddleDeltas(a,t,e,i,n,r.minCellWidth(),r.isRelative)}
var f=function(t,e){return o.calcRightEdgeDeltas(a,t,e,n,r.minCellWidth(),r.isRelative)}
return i.fold(u,c,s,l,f)}
var yc=function(t,e,n){var r=0
for(var o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0
return r}
var wc=function(t,e){var n=Kr.justCells(t)
return H(n,(function(t){var n=yc(t.column,t.column+t.colspan,e)
return{element:t.element,width:n,colspan:t.colspan}}))}
var xc=function(t,e){var n=Kr.justColumns(t)
return H(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))}
var Cc=function(t,e){var n=Kr.justCells(t)
return H(n,(function(t){var n=yc(t.row,t.row+t.rowspan,e)
return{element:t.element,height:n,rowspan:t.rowspan}}))}
var Sc=function(t,e){return H(t.all,(function(t,n){return{element:t.element,height:e[n]}}))}
var kc=function(t){return F(t,(function(t,e){return t+e}),0)}
var Tc=function(t,e){return Kr.hasColumns(t)?xc(t,e):wc(t,e)}
var _c=function(t,e,n){var r=Tc(t,e)
L(r,(function(t){n.setElementWidth(t.element,t.width)}))}
var Oc=function(t,e,n,r,o){var a=Kr.fromTable(t)
var i=o.getCellDelta(e)
var u=o.getWidths(a,o)
var c=n===a.grid.columns-1
var s=r.clampTableDelta(u,n,i,o.minCellWidth(),c)
var l=bc(u,n,s,o,r)
var f=H(l,(function(t,e){return t+u[e]}))
_c(a,f,o)
r.resizeTable(o.adjustTableWidth,s,c)}
var Ec=function(t,e,n,r){var o=Kr.fromTable(t)
var a=tu(o,t,r)
var i=H(a,(function(t,r){return n===r?Math.max(e+t,vr()):t}))
var u=Cc(o,i)
var c=Sc(o,i)
L(c,(function(t){pi(t.element,t.height)}))
L(u,(function(t){pi(t.element,t.height)}))
var s=kc(i)
pi(t,s)}
var Mc=function(t,e,n,r,o){var a=Kr.generate(e)
var i=r.getWidths(a,r)
var u=r.pixelWidth()
var c=o.calcRedestributedWidths(i,u,n.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta
_c(a,s,r)
r.adjustTableWidth(l)}
var Ac=function(t,e,n,r){var o=Kr.generate(e)
var a=r.getWidths(o,r)
_c(o,a,r)}
var zc=function(t){return H(t,g(0))}
var Dc=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))}
var Rc=function(t){return function(e,n,r,o){if(t(r)){var a=Math.max(o,e[n]-Math.abs(r))
var i=Math.abs(a-e[n])
return r>=0?i:-i}return r}}
var Ic=Rc((function(t){return t<0}))
var Hc=Rc(C)
var Lc=function(){var t=function(t,e,n,r,o){var a=Ic(t,e,r,o)
return Dc(t,e,n+1,[a,0],zc)}
var e=function(t,e,n,r){var o=(100+n)/100
var a=Math.max(r,(t[e]+n)/o)
return H(t,(function(t,n){var r=n===e?a:t/o
return r-t}))}
var n=function(n,r,o,a,i,u){return u?e(n,r,a,i):t(n,r,o,a,i)}
var r=function(t,e,r,o,a,i,u){return n(t,r,o,a,i,u)}
var o=function(t,e){return t(e)}
var a=function(t,n,r,o,a,i){if(i)return e(t,r,o,a)
var u=Ic(t,r,o,a)
return zc(t.slice(0,r)).concat([u])}
var i=function(t,e,n,r){if(r){var o=e+n
var a=o/e
var i=H(t,(function(t){return t/a}))
return{delta:100*a-100,newSizes:i}}return{delta:n,newSizes:t}}
return{resizeTable:o,clampTableDelta:Ic,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:a,calcRedestributedWidths:i}}
var Bc=function(){var t=function(t,e,n,r,o){var a=r>=0?n:e
var i=Hc(t,a,r,o)
return Dc(t,e,n+1,[i,-i],zc)}
var e=function(e,n,r,o,a,i){return t(e,r,o,a,i)}
var n=function(t,e,n){n&&t(e)}
var r=function(t,e,n,r,o,a){if(a)return zc(t)
var i=r/t.length
return H(t,g(i))}
var o=function(t,e,n,r,o){if(o){if(n>=0)return n
var a=V(t,(function(t,e){return t+e-r}),0)
return Math.max(-a,n)}return Ic(t,e,n,r)}
var a=function(t,e,n,r){return{delta:0,newSizes:t}}
return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:r,calcRedestributedWidths:a}}
var Pc=function(t,e){var n=O.from(t.dom.documentElement).map(fe.fromDom).getOr(t)
return{parent:g(n),view:g(t),origin:g(Oa(0,0)),isResizable:e}}
var Nc=function(t,e,n){var r=function(){return Aa(e)}
return{parent:g(e),view:g(t),origin:r,isResizable:n}}
var Fc=function(t,e,n){return{parent:g(e),view:g(t),origin:g(Oa(0,0)),isResizable:n}}
var Vc={only:Pc,detached:Nc,body:Fc}
var jc=Zo.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}])
var Uc=function(t,e,n){var r=n.substring(0,n.length-t.length)
var o=parseFloat(r)
return r===o.toString()?e(o):jc.invalid(n)}
var Wc=function(t){if(yt(t,"%"))return Uc("%",jc.percent,t)
if(yt(t,"px"))return Uc("px",jc.pixels,t)
return jc.invalid(t)}
var qc=nt(nt({},jc),{from:Wc})
var Gc=function(t,e){return H(t,(function(t){var n=qc.from(t)
return n.fold((function(){return t}),(function(t){var n=t/e*100
return n+"%"}),(function(t){return t+"%"}))}))}
var $c=function(t,e,n){var r=n/e
return H(t,(function(t){var e=qc.from(t)
return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))}
var Xc=function(t,e){var n=t.fold((function(){return g("")}),(function(t){var n=t/e
return g(n+"px")}),(function(){var t=100/e
return g(t+"%")}))
return I(e,n)}
var Kc=function(t,e,n){return t.fold((function(){return e}),(function(t){return $c(e,n,t)}),(function(t){return Gc(e,n)}))}
var Zc=function(t,e,n){var r=qc.from(n)
var o=$(t,(function(t){return"0px"===t}))?Xc(r,t.length):Kc(r,t,e)
return ts(o)}
var Yc=function(t,e){if(0===t.length)return e
return F(t,(function(t,e){return qc.from(e).fold(g(0),p,p)+t}),0)}
var Jc=function(t,e){var n=Math.floor(t)
return{value:n+e,remainder:t-n}}
var Qc=function(t,e){return qc.from(t).fold(g(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))}
var ts=function(t){if(0===t.length)return t
var e=F(t,(function(t,e){var n=qc.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return Jc(t,"px")}),(function(t){return{value:t+"%",remainder:0}}))
return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0})
var n=e.output
return n.slice(0,n.length-1).concat([Qc(n[n.length-1],Math.round(e.remainder))])}
var es=qc.from
var ns=function(t,e,n){L(e,(function(e){var r=t.slice(e.column,e.colspan+e.column)
var o=Yc(r,fr())
Qn(e.element,"width",o+n)}))}
var rs=function(t,e,n){L(e,(function(e,r){var o=Yc([t[r]],fr())
Qn(e.element,"width",o+n)}))}
var os=function(t,e,n,r){L(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row)
var o=Yc(n,vr())
Qn(e.element,"height",o+r)}))
L(e,(function(e,n){Qn(e.element,"height",t[n])}))}
var as=function(t){return es(t).fold(g("px"),g("px"),g("%"))}
var is=function(t,e,n,r){var o=Kr.fromTable(t)
var a=o.all
var i=Kr.justCells(o)
var u=Kr.justColumns(o)
e.each((function(e){var n=as(e)
var a=ha(t)
var c=Zi(o,t,r)
var s=Zc(c,a,e)
Kr.hasColumns(o)?rs(s,u,n):ns(s,i,n)
Qn(t,"width",e)}))
n.each((function(e){var n=as(e)
var r=ka(t)
var u=eu(o,t,Ua)
var c=Zc(u,r,e)
os(c,a,i,n)
Qn(t,"height",e)}))}
var us=Hi
var cs=Li
var ss=Bi
var ls=Ii
var fs=function(t){var e=Kr.fromTable(t)
return e.grid}
var vs=function(t){var e=[]
var n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler")
e.push(t)}
var r=function(t){e=N(e,(function(e){return e!==t}))}
var o=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o={}
L(t,(function(t,e){o[t]=n[e]}))
L(e,(function(t){t(o)}))}
return{bind:n,unbind:r,trigger:o}}
var ds=function(t){var e=ke(t,(function(t){return{bind:t.bind,unbind:t.unbind}}))
var n=ke(t,(function(t){return t.trigger}))
return{registry:e,trigger:n}}
var ms=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var hs=function(t){return t.slice(0).sort()}
var gs=function(t,e){throw new Error("All required keys ("+hs(t).join(", ")+") were not specified. Specified keys were: "+hs(e).join(", ")+".")}
var ps=function(t){throw new Error("Unsupported keys for object: "+hs(t).join(", "))}
var bs=function(t,e){if(!i(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".")
L(e,(function(e){if(!o(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))}
var ys=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+hs(t).join(", ")+") were not.")}
var ws=function(t){var e=hs(t)
var n=U(e,(function(t,n){return n<e.length-1&&t===e[n+1]}))
n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}
var xs=function(t,e){return Cs(t,e,{validate:f,label:"function"})}
var Cs=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.")
bs("required",e)
ws(e)
return function(r){var o=xe(r)
var a=$(e,(function(t){return D(o,t)}))
a||gs(e,o)
t(e,o)
var i=N(e,(function(t){return!n.validate(r[t],t)}))
i.length>0&&ys(i,n.label)
return r}}
var Ss=function(t,e){var n=N(e,(function(e){return!D(t,e)}))
n.length>0&&ps(n)}
var ks=function(t){return xs(Ss,t)}
var Ts=ks(["compare","extract","mutate","sink"])
var _s=ks(["element","start","stop","destroy"])
var Os=ks(["forceDrop","drop","move","delayDrop"])
var Es=function(){var t=O.none()
var e=function(){t=O.none()}
var n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}))
t=O.some(n)
return r}
var r=function(t,e){var r=e.extract(t)
r.each((function(t){var r=n(e,t)
r.each((function(t){o.trigger.move(t)}))}))}
var o=ds({move:vs(["info"])})
return{onEvent:r,reset:e,events:o.registry}}
var Ms=function(){var t=ds({move:vs(["info"])})
return{onEvent:d,reset:d,events:t.registry}}
var As=function(){var t=Ms()
var e=Es()
var n=t
var r=function(){n.reset()
n=e}
var o=function(){n.reset()
n=t}
var a=function(t,e){n.onEvent(t,e)}
var i=function(){return n===e}
return{on:r,off:o,isOn:i,onEvent:a,events:e.events}}
var zs=function(t,e,n){var r=false
var o=ds({start:vs([]),stop:vs([])})
var a=As()
var i=function(){d.stop()
if(a.isOn()){a.off()
o.trigger.stop()}}
var u=ms(i,200)
var c=function(t){d.start(t)
a.on()
o.trigger.start()}
var s=function(t){u.cancel()
a.onEvent(t,e)}
a.events.move.bind((function(n){e.mutate(t,n.info)}))
var l=function(){r=true}
var f=function(){r=false}
var v=function(t){return function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
r&&t.apply(null,e)}}
var d=e.sink(Os({forceDrop:i,drop:v(i),move:v(s),delayDrop:v(u.throttle)}),n)
var m=function(){d.destroy()}
return{element:d.element,go:c,on:l,off:f,destroy:m,events:o.registry}}
var Ds=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Rs=function(t){var e=fe.fromDom(Sn(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var o=m(r,n)
return Ds(e,t.clientX,t.clientY,n,r,o,t)}
var Is=function(t,e){return function(n){t(n)&&e(Rs(n))}}
var Hs=function(t,e,n,r,o){var a=Is(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:b(Bs,t,e,a,o)}}
var Ls=function(t,e,n,r){return Hs(t,e,n,r,false)}
var Bs=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Ps=C
var Ns=function(t,e,n){return Ls(t,e,Ps,n)}
var Fs=Rs
var Vs=function(t,e){var n=Gn(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var js=function(t,e,n){var r=Vs(t,e)
var o=r.concat([n])
Wn(t,e,o.join(" "))
return true}
var Us=function(t,e,n){var r=N(Vs(t,e),(function(t){return t!==n}))
r.length>0?Wn(t,e,r.join(" ")):Xn(t,e)
return false}
var Ws=function(t){return void 0!==t.dom.classList}
var qs=function(t){return Vs(t,"class")}
var Gs=function(t,e){return js(t,"class",e)}
var $s=function(t,e){return Us(t,"class",e)}
var Xs=function(t,e){Ws(t)?t.dom.classList.add(e):Gs(t,e)}
var Ks=function(t){var e=Ws(t)?t.dom.classList:qs(t)
0===e.length&&Xn(t,"class")}
var Zs=function(t,e){if(Ws(t)){var n=t.dom.classList
n.remove(e)}else $s(t,e)
Ks(t)}
var Ys=function(t,e){return Ws(t)&&t.dom.classList.contains(e)}
var Js=function(t){var e=t.replace(/\./g,"-")
var n=function(t){return e+"-"+t}
return{resolve:n}}
var Qs=Js("ephox-dragster")
var tl=Qs.resolve
var el=function(t){var e=nt({layerClass:tl("blocker")},t)
var n=fe.fromTag("div")
Wn(n,"role","presentation")
tr(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"})
Xs(n,tl("blocker"))
Xs(n,e.layerClass)
var r=function(){return n}
var o=function(){wo(n)}
return{element:r,destroy:o}}
var nl=function(t,e){return Oa(e.left-t.left,e.top-t.top)}
var rl=function(t){return O.some(Oa(t.x,t.y))}
var ol=function(t,e){t.mutate(e.left,e.top)}
var al=function(t,e){var n=el(e)
var r=Ns(n.element(),"mousedown",t.forceDrop)
var o=Ns(n.element(),"mouseup",t.drop)
var a=Ns(n.element(),"mousemove",t.move)
var i=Ns(n.element(),"mouseout",t.delayDrop)
var u=function(){n.destroy()
o.unbind()
a.unbind()
i.unbind()
r.unbind()}
var c=function(t){mo(t,n.element())}
var s=function(){wo(n.element())}
return _s({element:n.element,start:c,stop:s,destroy:u})}
var il=Ts({compare:nl,extract:rl,sink:al,mutate:ol})
var ul=function(t,e){void 0===e&&(e={})
var n=void 0!==e.mode?e.mode:il
return zs(t,n,e)}
var cl=function(t){return"true"===Gn(t,"contenteditable")}
var sl=function(t,e){return jn(t,"[contenteditable]",e)}
var ll=Js("ephox-snooker")
var fl=ll.resolve
var vl=function(){var t=ds({drag:vs(["xDelta","yDelta"])})
var e=function(e,n){t.trigger.drag(e,n)}
return{mutate:e,events:t.registry}}
var dl=function(){var t=ds({drag:vs(["xDelta","yDelta","target"])})
var e=O.none()
var n=vl()
n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}))
var r=function(t){e=O.some(t)}
var o=function(){return e}
return{assign:r,get:o,mutate:n.mutate,events:t.registry}}
var ml=function(t,e,n,r,o){var a=fe.fromTag("div")
tr(a,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"})
qn(a,{"data-column":t,role:"presentation"})
return a}
var hl=function(t,e,n,r,o){var a=fe.fromTag("div")
tr(a,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"})
qn(a,{"data-row":t,role:"presentation"})
return a}
var gl=fl("resizer-bar")
var pl=fl("resizer-rows")
var bl=fl("resizer-cols")
var yl=7
var wl=function(t,e){return G(t.all,(function(t,n){return e(t.element)?[n]:[]}))}
var xl=function(t,e){var n=[]
I(t.grid.columns,(function(r){var o=Kr.getColumnAt(t,r).map((function(t){return t.element}))
o.forall(e)&&n.push(r)}))
return N(n,(function(n){var r=Kr.filterItems(t,(function(t){return t.column===n}))
return $(r,(function(t){return e(t.element)}))}))}
var Cl=function(t){var e=Rn(t.parent(),"."+gl)
L(e,wo)}
var Sl=function(t,e,n){var r=t.origin()
L(e,(function(e){e.each((function(e){var o=n(r,e)
Xs(o,gl)
mo(t.parent(),o)}))}))}
var kl=function(t,e,n,r){Sl(t,e,(function(t,e){var o=ml(e.col,e.x-t.left,n.top-t.top,yl,r)
Xs(o,bl)
return o}))}
var Tl=function(t,e,n,r){Sl(t,e,(function(t,e){var o=hl(e.row,n.left-t.left,e.y-t.top,r,yl)
Xs(o,pl)
return o}))}
var _l=function(t,e,n,r,o){var a=Aa(n)
var i=e.isResizable
var u=r.length>0?Ua.positions(r,n):[]
var c=u.length>0?wl(t,i):[]
var s=N(u,(function(t,e){return R(c,(function(t){return e===t}))}))
Tl(e,s,a,ga(n))
var l=o.length>0?$a.positions(o,n):[]
var f=l.length>0?xl(t,i):[]
var v=N(l,(function(t,e){return R(f,(function(t){return e===t}))}))
kl(e,v,a,Ta(n))}
var Ol=function(t,e){Cl(t)
if(t.isResizable(e)){var n=Kr.fromTable(e)
var r=ya(n)
var o=pa(n)
_l(n,t,e,r,o)}}
var El=function(t,e){var n=Rn(t.parent(),"."+gl)
L(n,e)}
var Ml=function(t){El(t,(function(t){Qn(t,"display","none")}))}
var Al=function(t){El(t,(function(t){Qn(t,"display","block")}))}
var zl=function(t){return Ys(t,pl)}
var Dl=function(t){return Ys(t,bl)}
var Rl=fl("resizer-bar-dragging")
var Il=function(t){var e=dl()
var n=ul(e,{})
var r=O.none()
var o=function(t,e){return O.from(Gn(t,e))}
e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=lr(t.target,"top")
Qn(t.target,"top",n+t.yDelta+"px")}))
o(t.target,"data-column").each((function(e){var n=lr(t.target,"left")
Qn(t.target,"left",n+t.xDelta+"px")}))}))
var a=function(t,e){var n=lr(t,e)
var r=ir(t,"data-initial-"+e,0)
return n-r}
n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=a(e,"top")
Xn(e,"data-initial-top")
d.trigger.adjustHeight(n,r,parseInt(t,10))}))
o(e,"data-column").each((function(t){var r=a(e,"left")
Xn(e,"data-initial-left")
d.trigger.adjustWidth(n,r,parseInt(t,10))}))
Ol(t,n)}))}))}))
var i=function(r,o){d.trigger.startAdjust()
e.assign(r)
Wn(r,"data-initial-"+o,lr(r,o))
Xs(r,Rl)
Qn(r,"opacity","0.2")
n.go(t.parent())}
var u=Ns(t.parent(),"mousedown",(function(t){zl(t.target)&&i(t.target,"top")
Dl(t.target)&&i(t.target,"left")}))
var c=function(e){return ge(e,t.view())}
var s=function(t){return jn(t,"table",c).filter((function(t){return sl(t,c).exists(cl)}))}
var l=Ns(t.view(),"mouseover",(function(e){s(e.target).fold((function(){Tn(e.target)&&Cl(t)}),(function(e){r=O.some(e)
Ol(t,e)}))}))
var f=function(){u.unbind()
l.unbind()
n.destroy()
Cl(t)}
var v=function(e){Ol(t,e)}
var d=ds({adjustHeight:vs(["table","delta","row"]),adjustWidth:vs(["table","delta","column"]),startAdjust:vs([])})
return{destroy:f,refresh:v,on:n.on,off:n.off,hideBars:b(Ml,t),showBars:b(Al,t),events:d.registry}}
var Hl=function(t,e,n){var r=Ua
var o=$a
var a=Il(t)
var i=ds({beforeResize:vs(["table","type"]),afterResize:vs(["table","type"]),startDrag:vs([])})
a.events.adjustHeight.bind((function(t){var e=t.table
i.trigger.beforeResize(e,"row")
var n=r.delta(t.delta,e)
Ec(e,n,t.row,r)
i.trigger.afterResize(e,"row")}))
a.events.startAdjust.bind((function(t){i.trigger.startDrag()}))
a.events.adjustWidth.bind((function(t){var r=t.table
i.trigger.beforeResize(r,"col")
var a=o.delta(t.delta,r)
var u=n(r)
Oc(r,a,t.column,e,u)
i.trigger.afterResize(r,"col")}))
return{on:a.on,off:a.off,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:i.registry}}
var Ll={create:Hl}
var Bl=function(t,e){return t.fire("newrow",{node:e})}
var Pl=function(t,e){return t.fire("newcell",{node:e})}
var Nl=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})}
var Fl=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})}
var Vl=function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})}
var jl=function(t){t.fire("TableSelectionClear")}
var Ul=function(t,e,n){t.fire("TableModified",nt(nt({},n),{table:e}))}
var Wl={structure:false,style:true}
var ql={structure:true,style:false}
var Gl="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"
var $l={"border-collapse":"collapse",width:"100%"}
var Xl=function(t){if(mf(t)){var e=t.getBody().offsetWidth
return nt(nt({},$l),{width:e+"px"})}return hf(t)?Ee($l,(function(t,e){return"width"!==e})):$l}
var Kl={border:"1"}
var Zl="preservetable"
var Yl=function(t){return t.getParam("table_sizing_mode","auto")}
var Jl=function(t){return t.getParam("table_responsive_width")}
var Ql=function(t){return t.getParam("table_default_attributes",Kl,"object")}
var tf=function(t){return t.getParam("table_default_styles",Xl(t),"object")}
var ef=function(t){return t.getParam("table_resize_bars",true,"boolean")}
var nf=function(t){return t.getParam("table_tab_navigation",true,"boolean")}
var rf=function(t){return t.getParam("table_cell_advtab",true,"boolean")}
var of=function(t){return t.getParam("table_row_advtab",true,"boolean")}
var af=function(t){return t.getParam("table_advtab",true,"boolean")}
var uf=function(t){return t.getParam("table_appearance_options",true,"boolean")}
var cf=function(t){return t.getParam("table_grid",true,"boolean")}
var sf=function(t){return t.getParam("table_style_by_css",false,"boolean")}
var lf=function(t){return t.getParam("table_cell_class_list",[],"array")}
var ff=function(t){return t.getParam("table_row_class_list",[],"array")}
var vf=function(t){return t.getParam("table_class_list",[],"array")}
var df=function(t){return"relative"===Yl(t)||true===Jl(t)}
var mf=function(t){return"fixed"===Yl(t)||false===Jl(t)}
var hf=function(t){return"responsive"===Yl(t)}
var gf=function(t){return t.getParam("table_toolbar",Gl)}
var pf=function(t){return t.getParam("table_use_colgroups",false,"boolean")}
var bf=function(t){var e="section"
var n=t.getParam("table_header_type",e,"string")
var r=["section","cells","sectionCells","auto"]
return D(r,n)?n:e}
var yf=function(t){var e=["preservetable","resizetable"]
var n=t.getParam("table_column_resizing",Zl,"string")
return U(e,(function(t){return t===n})).getOr(Zl)}
var wf=function(t){return"preservetable"===yf(t)}
var xf=function(t){return"resizetable"===yf(t)}
var Cf=function(t){var e=t.getParam("table_clone_elements")
return o(e)?O.some(e.split(/[ ,]/)):Array.isArray(e)?O.some(e):O.none()}
var Sf=function(t){var e=t.getParam("object_resizing",true)
return o(e)?"table"===e:e}
var kf=function(t,e){if(df(t)){var n=qu(t,e.dom).filter(Gu).getOrThunk((function(){return ls(e)}))
return cu.percentageSize(n,e)}return mf(t)?cu.pixelSize(ha(e),e):cu.getTableSize(e)}
var Tf=function(t){Xn(t,"width")}
var _f=function(t,e){var n=Ii(t)
is(t,O.some(n),O.none(),e)
Tf(t)}
var Of=function(t,e){var n=Ri(t)
is(t,O.some(n),O.none(),e)
Tf(t)}
var Ef=function(t){or(t,"width")
var e=br(t)
var n=e.length>0?e:pr(t)
L(n,(function(t){or(t,"width")
Tf(t)}))
Tf(t)}
var Mf=function(t,e){var n=kf(t,e)
_f(e,n)}
var Af=function(t,e){var n=kf(t,e)
Of(e,n)}
var zf=Ef
var Df=function(t){var e=Kr.fromTable(t)
Kr.hasColumns(e)||L(pr(t),(function(t){var e=er(t,"width")
Qn(t,"width",e)
Xn(t,"width")}))}
var Rf=function(){var t=fe.fromTag("div")
tr(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"})
mo(_n(),t)
return t}
var If=function(t,e){return t.inline?Vc.body(Pu(t),Rf(),e):Vc.only(fe.fromDom(t.getDoc()),e)}
var Hf=function(t,e){t.inline&&wo(e.parent())}
var Lf="bar-"
var Bf=function(t){return"false"!==Gn(t,"data-mce-resize")}
var Pf=function(t){var e=O.none()
var n=O.none()
var r=O.none()
var o
var a
var i=function(t){return"TABLE"===t.nodeName}
var u=function(){return n}
var c=function(){return r.getOr(Vc.only(fe.fromDom(t.getBody()),Bf))}
var s=function(e){return kf(t,e)}
var l=function(){return wf(t)?Bc():Lc()}
var f=function(t){return fs(t).columns}
var v=function(e,n,r){var i=yt(n,"e")
""===a&&Mf(t,e)
if(r!==o&&""!==a){Qn(e,"width",a)
var u=l()
var c=s(e)
var v=wf(t)||i?f(e)-1:0
Oc(e,r-o,v,u,c)}else if(Gu(a)){var d=parseFloat(a.replace("%",""))
var m=r*d/o
Qn(e,"width",m+"%")}$u(a)&&Df(e)}
var d=function(){n.each((function(t){t.destroy()}))
r.each((function(e){Hf(t,e)}))}
t.on("init",(function(){var o=If(t,Bf)
r=O.some(o)
if(Sf(t)&&ef(t)){var a=l()
var i=Ll.create(o,a,s)
i.on()
i.events.startDrag.bind((function(n){e=O.some(t.selection.getRng())}))
i.events.beforeResize.bind((function(e){var n=e.table.dom
Nl(t,n,Nu(n),Fu(n),Lf+e.type)}))
i.events.afterResize.bind((function(n){var r=n.table
var o=r.dom
Wu(r)
e.each((function(e){t.selection.setRng(e)
t.focus()}))
Fl(t,o,Nu(o),Fu(o),Lf+n.type)
t.undoManager.add()}))
n=O.some(i)}}))
t.on("ObjectResizeStart",(function(e){var n=e.target
if(i(n)){var r=fe.fromDom(n)
L(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+yf(t)+"-columns")}))
!cs(r)&&mf(t)?Af(t,r):!us(r)&&df(t)&&Mf(t,r)
ss(r)&&bt(e.origin,Lf)&&Mf(t,r)
o=e.width
a=hf(t)?"":qu(t,n).getOr("")}}))
t.on("ObjectResized",(function(e){var n=e.target
if(i(n)){var r=fe.fromDom(n)
var o=e.origin
bt(o,"corner-")&&v(r,o,e.width)
Wu(r)
Ul(t,r.dom,Wl)}}))
t.on("SwitchMode",(function(){u().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))}))
return{lazyResize:u,lazyWire:c,destroy:d}}
var Nf=function(t,e){return{element:t,offset:e}}
var Ff=function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return Ff(t,e,n).orThunk((function(){return O.some(e)}))})):O.none()}
var Vf=function(t,e){if(t.property().isText(e))return t.property().getText(e).length
var n=t.property().children(e)
return n.length}
var jf=function(t,e){var n=Ff(t,e,t.query().prevSibling).getOr(e)
if(t.property().isText(n))return Nf(n,Vf(t,n))
var r=t.property().children(n)
return r.length>0?jf(t,r[r.length-1]):Nf(n,Vf(t,n))}
var Uf=jf
var Wf=Eo()
var qf=function(t){return Uf(Wf,t)}
var Gf=function(t,e){var n=ur(t,"colspan")
if(1===n){var r=zi(t)
r.each((function(n){var r=n.value/2
Di(t,r,n.unit)
Di(e,r,n.unit)}))}}
var $f=function(t,e,n,r){n===r?Xn(t,e):Wn(t,e,n)}
var Xf=function(t,e,n){tt(Dn(t,e)).fold((function(){return vo(t,n)}),(function(t){return fo(t,n)}))}
var Kf=function(t,e){var n=Fn(t,e).getOrThunk((function(){var n=fe.fromTag(e,an(t).dom)
"thead"===e?Xf(t,"caption,colgroup",n):"colgroup"===e?Xf(t,"caption",n):mo(t,n)
return n}))
yo(n)
return n}
var Zf=function(t,e){var n=[]
var r=[]
var o=function(t){return H(t,(function(t){t.isNew&&n.push(t.element)
var e=t.element
yo(e)
L(t.cells,(function(t){t.isNew&&r.push(t.element)
$f(t.element,"colspan",t.colspan,1)
$f(t.element,"rowspan",t.rowspan,1)
mo(e,t.element)}))
return e}))}
var a=function(t){return G(t,(function(t){return H(t.cells,(function(t){$f(t.element,"span",t.colspan,1)
return t.element}))}))}
var i=function(e,n){var r=Kf(t,n)
var i="colgroup"===n?a:o
var u=i(e)
bo(r,u)}
var u=function(e){Fn(t,e).each(wo)}
var c=function(t,e){t.length>0?i(t,e):u(e)}
var s=[]
var l=[]
var f=[]
var v=[]
L(e,(function(t){switch(t.section){case"thead":s.push(t)
break
case"tbody":l.push(t)
break
case"tfoot":f.push(t)
break
case"colgroup":v.push(t)}}))
c(v,"colgroup")
c(s,"thead")
c(l,"tbody")
c(f,"tfoot")
return{newRows:n,newCells:r}}
var Yf=function(t){return H(t,(function(t){var e=aa(t.element)
L(t.cells,(function(t){var n=ia(t.element)
$f(n,"colspan",t.colspan,1)
$f(n,"rowspan",t.rowspan,1)
mo(e,n)}))
return e}))}
var Jf=function(t,e){return H(t,(function(t){return zr(t,e)}))}
var Qf=function(t,e){return t[e]}
var tv=function(t,e){if(0===t.length)return 0
var n=t[0]
var r=W(t,(function(t){return!e(n.element,t.element)}))
return r.fold((function(){return t.length}),(function(t){return t}))}
var ev=function(t,e,n,r){var o=Qf(t,e).cells.slice(n)
var a=tv(o,r)
var i=Jf(t,n).slice(e)
var u=tv(i,r)
return{colspan:a,rowspan:u}}
var nv=function(t,e){var n=H(t,(function(t){return H(t.cells,x)}))
var r=function(t,e,r,o){for(var a=t;a<t+r;a++)for(var i=e;i<e+o;i++)n[a][i]=true}
return H(t,(function(o,a){var i=G(o.cells,(function(o,i){if(false===n[a][i]){var u=ev(t,a,i,e)
r(a,i,u.rowspan,u.colspan)
return[Ve(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}))
return $e(i,o.section)}))}
var rv=function(t,e,n){var r=[]
if(Kr.hasColumns(t)){var o=H(Kr.justColumns(t),(function(t){return We(t.element,n,false)}))
r.push(Ge(o,"colgroup"))}for(var a=0;a<t.grid.rows;a++){var i=[]
for(var u=0;u<t.grid.columns;u++){var c=Kr.getAt(t,a,u).map((function(t){return We(t.element,n,t.isLocked)})).getOrThunk((function(){return We(e.gap(),true,false)}))
i.push(c)}var s=Ge(i,t.all[a].section)
r.push(s)}return r}
var ov=function(t,e){return rv(t,e,false)}
var av=function(t,e){var n=function(t){var n=et(t,(function(t){return sn(t.element).map((function(t){var e=sn(t).isNone()
return We(t,e,false)}))}))
return n.getOrThunk((function(){return We(e.row(),true,false)}))}
return H(t,(function(t){var e=n(t.details)
return qe(e.element,t.details,t.section,e.isNew)}))}
var iv=function(t,e){var n=nv(t,ge)
return av(n,e)}
var uv=function(t,e){return et(t.all,(function(t){return U(t.cells,(function(t){return ge(e,t.element)}))}))}
var cv=function(t,e,n){var r=H(e.selection,(function(e){return gr(e).bind((function(e){return uv(t,e)})).filter(n)}))
var o=sa(r)
return va(o.length>0,o)}
var sv=function(t,e,n,r,o){return function(a,i,u,c,s,l){var f=Kr.fromTable(i)
var v=e(f,u).map((function(e){var n=ov(f,c)
var r=t(n,e,ge,o(c))
var a=Br(r.grid)
var i=iv(r.grid,c)
return{info:e,grid:i,cursor:r.cursor,lockedColumns:a}}))
return v.bind((function(t){var e=Zf(i,t.grid)
var o=O.from(s).getOrThunk((function(){return cu.getTableSize(i)}))
var u=O.from(l).getOrThunk(Bc)
n(i,t.grid,t.info,o,u)
r(i)
Ol(a,i)
Xn(i,Hr)
t.lockedColumns.length>0&&Wn(i,Hr,t.lockedColumns.join(","))
return O.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}}
var lv=function(t,e){return gr(e.element).bind((function(e){return uv(t,e)}))}
var fv=function(t,e){return gr(e.element).bind((function(n){return uv(t,n).map((function(t){var n=nt(nt({},t),{generators:e.generators,clipboard:e.clipboard})
return n}))}))}
var vv=function(t,e){return cv(t,e,C).map((function(t){return{cells:t,generators:e.generators,clipboard:e.clipboard}}))}
var dv=function(t,e){return e.mergable}
var mv=function(t,e){return e.unmergable}
var hv=function(t,e){return cv(t,e,C)}
var gv=function(t,e){return lv(t,e).filter((function(t){return!t.isLocked}))}
var pv=function(t,e){return cv(t,e,(function(t){return!t.isLocked}))}
var bv=function(t,e){return uv(t,e).exists((function(t){return!t.isLocked}))}
var yv=function(t,e){return $(e,(function(e){return bv(t,e)}))}
var wv=function(t,e){return dv(t,e).filter((function(e){return yv(t,e.cells)}))}
var xv=function(t,e){return mv(t,e).filter((function(e){return yv(t,e)}))}
var Cv=function(t,e,n,r){var o=Ir(t).rows
if(0===o.length)return t
for(var a=e.startRow;a<=e.finishRow;a++)for(var i=e.startCol;i<=e.finishCol;i++){var u=o[a]
var c=zr(u,i).isLocked
Er(u,i,We(r(),false,c))}return t}
var Sv=function(t,e,n,r){var o=Ir(t).rows
var a=true
for(var i=0;i<o.length;i++)for(var u=0;u<Rr(o[0]);u++){var c=o[i]
var s=zr(c,u)
var l=s.element
var f=n(l,e)
true===f&&false===a?Er(c,u,We(r(),true,s.isLocked)):true===f&&(a=false)}return t}
var kv=function(t,e){return V(t,(function(t,n){return R(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])}
var Tv=function(t,e,n,r){e>0&&e<t[0].cells.length&&L(t,(function(t){var o=t.cells[e-1]
var a=t.cells[e]
var i=n(a.element,o.element)
i&&Er(t,e,We(r(),true,a.isLocked))}))
return t}
var _v=function(t,e,n,r){var o=Ir(t).rows
if(e>0&&e<o.length){var a=o[e-1].cells
var i=kv(a,n)
L(i,(function(t){var a=O.none()
for(var i=e;i<o.length;i++){var u=function(e){var u=o[i]
var c=zr(u,e)
var s=n(c.element,t.element)
if(s){a.isNone()&&(a=O.some(r()))
a.each((function(t){Er(u,e,We(t,true,c.isLocked))}))}}
for(var c=0;c<Rr(o[0]);c++)u(c)}}))}return t}
var Ov=function(t){var e=function(e){return t===e}
var n=function(e){return Ov(t)}
var r=function(e){return Ov(t)}
var o=function(e){return Ov(e(t))}
var a=function(e){return Ov(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var l=function(e){return e(t)}
var f=function(){return O.some(t)}
return{is:e,isValue:C,isError:x,getOr:g(t),getOrThunk:g(t),getOrDie:g(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:f}}
var Ev=function(t){var e=function(t){return t()}
var n=function(){return w(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return Ev(t)}
var i=function(e){return Ev(e(t))}
var u=function(e){return Ev(t)}
var c=function(e,n){return e(t)}
return{is:x,isValue:x,isError:C,getOr:p,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:d,bind:u,exists:x,forall:C,toOptional:O.none}}
var Mv=function(t,e){return t.fold((function(){return Ev(e)}),Ov)}
var Av={value:Ov,error:Ev,fromOption:Mv}
var zv=function(t,e,n){if(t.row>=e.length||t.column>Rr(e[0]))return Av.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column)
var r=e.slice(t.row)
var o=r[0].cells.slice(t.column)
var a=Rr(n[0])
var i=n.length
return Av.value({rowDelta:r.length-i,colDelta:o.length-a})}
var Dv=function(t,e){var n=Rr(t[0])
var r=Rr(e[0])
return{rowDelta:0,colDelta:n-r}}
var Rv=function(t,e){var n=t.length
var r=e.length
return{rowDelta:n-r,colDelta:0}}
var Iv=function(t,e,n,r){var o="colgroup"===e.section?n.col:n.cell
return I(t,(function(t){return We(o(),true,r(t))}))}
var Hv=function(t,e,n,r){return t.concat(I(e,(function(){var e=t[t.length-1]
var o=Iv(e.cells.length,e,n,(function(t){return Re(r,t.toString())}))
return Mr(e,o)})))}
var Lv=function(t,e,n,r){return H(t,(function(t){var o=Iv(e,t,n,x)
return _r(t,r,o)}))}
var Bv=function(t,e,n){return H(t,(function(t){return V(n,(function(n,r){var o=Iv(1,t,e,C)[0]
return Or(n,r,o)}),t)}))}
var Pv=function(t,e,n){var r=e.colDelta<0?Lv:p
var o=e.rowDelta<0?Hv:p
var a=Br(t)
var i=Rr(t[0])
var u=R(a,(function(t){return t===i-1}))
var c=r(t,Math.abs(e.colDelta),n,u?i-1:i)
var s=Br(c)
return o(c,Math.abs(e.rowDelta),n,K(s,C))}
var Nv=function(t,e,n,r){var o=zr(t[e],n)
var a=b(r,o.element)
var i=t[e]
return t.length>1&&Rr(i)>1&&(n>0&&a(Dr(i,n-1))||n<i.cells.length-1&&a(Dr(i,n+1))||e>0&&a(Dr(t[e-1],n))||e<t.length-1&&a(Dr(t[e+1],n)))}
var Fv=function(t,e,n,r,o,a){var i=t.row
var u=t.column
var c=n.length
var s=Rr(n[0])
var l=i+c
var f=u+s+a.length
var v=K(a,C)
for(var d=i;d<l;d++){var m=0
for(var h=u;h<f;h++){if(v[h]){m++
continue}Nv(e,d,h,o)&&Sv(e,Dr(e[d],h),o,r.cell)
var g=h-u-m
var p=zr(n[d-i],g)
var b=p.element
var y=r.replace(b)
Er(e[d],h,We(y,true,p.isLocked))}}return e}
var Vv=function(t,e,n){var r=Rr(e[0])
var o=I(r-t.column,(function(e){return e+t.column}))
var a=U(o,(function(t){return $(n,(function(e){return e!==t}))})).getOr(r-1)
return nt(nt({},t),{column:a})}
var jv=function(t,e,n){return N(n,(function(n){return n>=t.column&&n<=Rr(e[0])+t.column}))}
var Uv=function(t,e,n,r,o){var a=Br(e)
var i=Vv(t,e,a)
var u=jv(i,n,a)
var c=zv(i,e,n)
return c.map((function(t){var a=nt(nt({},t),{colDelta:t.colDelta-u.length})
var c=Pv(e,a,r)
var s=Br(c)
var l=jv(i,n,s)
return Fv(i,c,n,r,o,l)}))}
var Wv=function(t,e,n,r,o){Tv(e,t,o,r.cell)
var a=Rv(n,e)
var i=Pv(n,a,r)
var u=Rv(e,i)
var c=Pv(e,u,r)
return H(c,(function(e,n){return _r(e,t,i[n].cells)}))}
var qv=function(t,e,n,r,o){_v(e,t,o,r.cell)
var a=Br(e)
var i=Dv(e,n)
var u=nt(nt({},i),{colDelta:i.colDelta-a.length})
var c=Pv(e,u,r)
var s=Ir(c),l=s.cols,f=s.rows
var v=Br(c)
var d=Dv(n,e)
var m=nt(nt({},d),{colDelta:d.colDelta+v.length})
var h=Bv(n,r,v)
var g=Pv(h,m,r)
return l.concat(f.slice(0,t)).concat(g).concat(f.slice(t,f.length))}
var Gv=function(t,e,n,r,o){var a=Ir(t),i=a.rows,u=a.cols
var c=i.slice(0,e)
var s=i.slice(e)
var l=Ar(i[n],(function(t,n){var a=e>0&&e<i.length&&r(Dr(i[e-1],n),Dr(i[e],n))
var u=a?zr(i[e],n):We(o(t.element,r),true,t.isLocked)
return u}))
return u.concat(c).concat([l]).concat(s)}
var $v=function(t,e,n,r,o,a,i){if("colgroup"!==n&&r)return zr(t,e)
var u=zr(t,o)
return We(i(u.element,a),true,false)}
var Xv=function(t,e,n,r,o){return H(t,(function(t){var a=e>0&&e<Rr(t)&&r(Dr(t,e-1),Dr(t,e))
var i=$v(t,e,t.section,a,n,r,o)
return Or(t,e,i)}))}
var Kv=function(t,e){return G(t,(function(t){var n=t.cells
var r=F(e,(function(t,e){return e>=0&&e<t.length?t.slice(0,e).concat(t.slice(e+1)):t}),n)
return r.length>0?[Ge(r,t.section)]:[]}))}
var Zv=function(t,e,n){var r=Ir(t),o=r.rows,a=r.cols
return a.concat(o.slice(0,e)).concat(o.slice(n+1))}
var Yv=function(t,e,n,r){var o=function(t){return R(e,(function(e){return n(t.element,e.element)}))}
return H(t,(function(t){return Ar(t,(function(t){return o(t)?We(r(t.element,n),true,t.isLocked):t}))}))}
var Jv=function(t,e,n,r){return void 0!==Dr(t[e],n)&&e>0&&r(Dr(t[e-1],n),Dr(t[e],n))}
var Qv=function(t,e,n){return e>0&&n(Dr(t,e-1),Dr(t,e))}
var td=function(t,e,n,r){var o=Ir(t).rows
var a=G(o,(function(r,o){var a=Jv(t,o,e,n)||Qv(r,e,n)
return a?[]:[zr(r,e)]}))
return Yv(t,a,n,r)}
var ed=function(t,e,n,r){var o=Ir(t).rows
var a=o[e]
var i=G(a.cells,(function(t,r){var i=Jv(o,e,r,n)||Qv(a,r,n)
return i?[]:[t]}))
return Yv(t,i,n,r)}
var nd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.column===e.column}))
return n?t:t.concat([e])}
return V(t,e,[]).sort((function(t,e){return t.column-e.column}))}
var rd=function(t){var e=ir(t,"colspan",1)
var n=ir(t,"rowspan",1)
return{element:t,colspan:e,rowspan:n}}
var od=function(t,e){void 0===e&&(e=rd)
var n=nu(O.none())
var r=function(e){if("col"===Ze(e.element))return t.col(e)
return t.cell(e)}
var o=function(t){var n=e(t)
return r(n)}
var a=function(t){var e=o(t)
n.get().isNone()&&n.set(O.some(e))
i=O.some({item:t,replacement:e})
return e}
var i=O.none()
var u=function(t,e){return i.fold((function(){return a(t)}),(function(n){return e(t,n.item)?n.replacement:a(t)}))}
return{getOrInit:u,cursor:n.get}}
var ad=function(t,e){return function(n){var r=nu(O.none())
var o=[]
var a=function(t,e){return U(o,(function(n){return e(n.item,t)}))}
var i=function(a){var i={scope:t}
var u=n.replace(a,e,i)
o.push({item:a,sub:u})
r.get().isNone()&&r.set(O.some(u))
return u}
var u=function(t,e){return"col"===Ze(t)?t:a(t,e).fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.sub:i(t)}))}
return{replaceOrInit:u,cursor:r.get}}}
var id=function(t){return $n(t,"scope").map((function(t){return t.substr(0,3)}))}
var ud=function(t){var e=nu(O.none())
var n=function(n){e.get().isNone()&&e.set(O.some(n))
var r=id(n)
r.each((function(t){return Wn(n,"scope",t)}))
return function(){var e=t.cell({element:n,colspan:1,rowspan:1})
or(e,"width")
or(n,"width")
r.each((function(t){return Wn(e,"scope",t)}))
return e}}
var r=function(t){var e=function(){var e=sa(H(t,id))
if(0===e.length)return O.none()
var n=e[0]
var r=["row","col"]
var o=R(e,(function(t){return t!==n&&D(r,t)}))
return o?O.none():O.from(n)}
or(t[0],"width")
e().fold((function(){return Xn(t[0],"scope")}),(function(e){return Wn(t[0],"scope",e+"group")}))
return g(t[0])}
return{unmerge:n,merge:r,cursor:e.get}}
var cd={modification:od,transform:ad,merging:ud}
var sd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
var ld=function(t,e){var n=t.property().name(e)
return D(["ol","ul"],n)}
var fd=function(t,e){var n=t.property().name(e)
return D(sd,n)}
var vd=function(t,e){return D(["br","img","hr","input"],t.property().name(e))}
var dd=Eo()
var md=function(t){return fd(dd,t)}
var hd=function(t){return ld(dd,t)}
var gd=function(t){return vd(dd,t)}
var pd=function(t){var e=function(t){return"br"===Ze(t)}
var n=function(t){return $(t,(function(t){return e(t)||en(t)&&0===ko(t).trim().length}))}
var r=function(t){return"li"===Ze(t)||Hn(t,hd).isSome()}
var o=function(t){return dn(t).map((function(t){if(md(t))return true
if(gd(t))return"img"!==Ze(t)
return false})).getOr(false)}
var a=function(t){return Cu(t).bind((function(n){var a=o(n)
return sn(n).map((function(o){return true===a||r(o)||e(n)||md(o)&&!ge(t,o)?[]:[fe.fromTag("br")]}))})).getOr([])}
var i=function(){var e=G(t,(function(t){var e=mn(t)
return n(e)?[]:e.concat(a(t))}))
return 0===e.length?[fe.fromTag("br")]:e}
var u=i()
yo(t[0])
bo(t[0],u)}
var bd=function(t){var e=pr(t)
0===e.length&&wo(t)}
var yd=function(t,e){return{grid:t,cursor:e}}
var wd=function(t,e,n){var r=Ir(t).rows
return xd(r,e,n).orThunk((function(){return xd(r,0,0)}))}
var xd=function(t,e,n){return O.from(t[e]).bind((function(t){return O.from(t.cells[n]).bind((function(t){return O.from(t.element)}))}))}
var Cd=function(t,e,n){var r=Ir(t).rows
return yd(t,xd(r,e,n))}
var Sd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.row===e.row}))
return n?t:t.concat([e])}
return V(t,e,[]).sort((function(t,e){return t.row-e.row}))}
var kd=function(t,e,n,r){var o=e[0].row
var a=Sd(e)
var i=F(a,(function(t,e){var a=Gv(t.grid,o,e.row+t.delta,n,r.getOrInit)
return{grid:a,delta:t.delta+1}}),{grid:t,delta:0}).grid
return Cd(i,o,e[0].column)}
var Td=function(t,e,n,r){var o=Sd(e)
var a=o[o.length-1]
var i=a.row+a.rowspan
var u=F(o,(function(t,e){return Gv(t,i,e.row,n,r.getOrInit)}),t)
return Cd(u,i,e[0].column)}
var _d=function(t,e,n,r){var o=e.details
var a=nd(o)
var i=a[0].column
var u=F(a,(function(t,e){var o=Xv(t.grid,i,e.column+t.delta,n,r.getOrInit)
return{grid:o,delta:t.delta+1}}),{grid:t,delta:0}).grid
return Cd(u,o[0].row,i)}
var Od=function(t,e,n,r){var o=e.details
var a=o[o.length-1]
var i=a.column+a.colspan
var u=nd(o)
var c=F(u,(function(t,e){return Xv(t,i,e.column,n,r.getOrInit)}),t)
return Cd(c,o[0].row,i)}
var Ed=function(t,e,n,r){var o=ed(t,e.row,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Md=function(t,e,n,r){var o=Sd(e)
var a=function(t,e){return ed(t,e.row,n,r.replaceOrInit)}
var i=V(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Ad=function(t,e,n,r){var o=td(t,e.column,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var zd=function(t,e,n,r){var o=nd(e)
var a=function(t,e){return td(t,e.column,n,r.replaceOrInit)}
var i=V(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Dd=function(t,e,n,r){var o=ed(t,e.row,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Rd=function(t,e,n,r){var o=Sd(e)
var a=function(t,e){return ed(t,e.row,n,r.replaceOrInit)}
var i=V(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Id=function(t,e,n,r){var o=td(t,e.column,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Hd=function(t,e,n,r){var o=nd(e)
var a=function(t,e){return td(t,e.column,n,r.replaceOrInit)}
var i=V(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Ld=function(t,e,n,r){var o=nd(e.details)
var a=Kv(t,H(o,(function(t){return t.column})))
var i=wd(a,o[0].row,o[0].column)
return yd(a,i)}
var Bd=function(t,e,n,r){var o=Sd(e)
var a=Zv(t,o[0].row,o[o.length-1].row)
var i=wd(a,e[0].row,e[0].column)
return yd(a,i)}
var Pd=function(t,e,n,r){var o=e.cells
pd(o)
var a=Cv(t,e.bounds,n,r.merge(o))
return yd(a,O.from(o[0]))}
var Nd=function(t,e,n,r){var o=function(t,e){return Sv(t,e,n,r.unmerge(e))}
var a=F(e,o,t)
return yd(a,O.from(e[0]))}
var Fd=function(t,e,n,r){var o=function(t,e){var n=Kr.fromTable(t)
return rv(n,e,true)}
var a=o(e.clipboard,e.generators)
var i=Ne(e.row,e.column)
var u=Uv(i,t,a,e.generators,n)
return u.fold((function(){return yd(t,O.some(e.element))}),(function(t){var n=wd(t,e.row,e.column)
return yd(t,n)}))}
var Vd=function(t,e,n){var r=Tr(t,n.section)
var o=Kr.generate(r)
return rv(o,e,true)}
var jd=function(t,e,n,r){var o=Ir(t).rows
var a=e.cells[0].column
var i=o[e.cells[0].row]
var u=Vd(e.clipboard,e.generators,i)
var c=Wv(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Ud=function(t,e,n,r){var o=Ir(t).rows
var a=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan
var i=o[e.cells[0].row]
var u=Vd(e.clipboard,e.generators,i)
var c=Wv(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Wd=function(t,e,n,r){var o=Ir(t).rows
var a=e.cells[0].row
var i=o[a]
var u=Vd(e.clipboard,e.generators,i)
var c=qv(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var qd=function(t,e,n,r){var o=Ir(t).rows
var a=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan
var i=o[e.cells[0].row]
var u=Vd(e.clipboard,e.generators,i)
var c=qv(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Gd=function(t,e){var n=Kr.fromTable(t)
var r=hv(n,e)
return r.bind((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=q(H(n.all,(function(t){return N(t.cells,(function(t){return t.column>=r&&t.column<o}))})))
return $d(a,(function(t){return"th"===Ze(t.element)}))})).getOr("")}
var $d=function(t,e){var n=N(t,e)
return 0===n.length?O.some("td"):n.length===t.length?O.some("th"):O.none()}
var Xd=Ac
var Kd=Mc
var Zd=function(t,e){return R(e,(function(t){return 0===t.column&&t.isLocked}))}
var Yd=function(t,e){return R(e,(function(e){return e.column+e.colspan>=t.grid.columns&&e.isLocked}))}
var Jd=function(t,e){var n=pa(t)
var r=nd(e)
return V(r,(function(t,e){var r=n[e.column]
var o=r.map(ga).getOr(0)
return t+o}),0)}
var Qd=function(t){return function(e,n){return hv(e,n).filter((function(n){var r=t?Zd:Yd
return!r(e,n)})).map((function(t){return{details:t,pixelDelta:Jd(e,t)}}))}}
var tm=function(t,e){return pv(t,e).map((function(e){return{details:e,pixelDelta:-Jd(t,e)}}))}
var em=function(t){return function(e,n){return vv(e,n).filter((function(n){var r=t?Zd:Yd
return!r(e,n.cells)}))}}
var nm=sv(kd,hv,d,d,cd.modification)
var rm=sv(Td,hv,d,d,cd.modification)
var om=sv(_d,Qd(true),Kd,d,cd.modification)
var am=sv(Od,Qd(false),Kd,d,cd.modification)
var im=sv(Ld,tm,Kd,bd,cd.modification)
var um=sv(Bd,hv,d,bd,cd.modification)
sv(Ad,gv,d,d,cd.transform("row","th"))
var cm=sv(zd,pv,d,d,cd.transform("row","th"))
sv(Id,gv,d,d,cd.transform(null,"td"))
var sm=sv(Hd,pv,d,d,cd.transform(null,"td"))
sv(Ed,lv,d,d,cd.transform("col","th"))
sv(Md,hv,d,d,cd.transform("col","th"))
sv(Dd,lv,d,d,cd.transform(null,"td"))
sv(Rd,hv,d,d,cd.transform(null,"td"))
var lm=sv(Pd,wv,Xd,d,cd.merging)
var fm=sv(Nd,xv,Xd,d,cd.merging)
var vm=sv(Fd,fv,Xd,d,cd.modification)
var dm=sv(jd,em(true),d,d,cd.modification)
var mm=sv(Ud,em(false),d,d,cd.modification)
var hm=sv(Wd,vv,d,d,cd.modification)
var gm=sv(qd,vv,d,d,cd.modification)
var pm=Gd
var bm=function(t){return Bu(t.parentNode)}
var ym=function(t){return"thead"===t?"header":"tfoot"===t?"footer":"body"}
var wm=function(t,e){var n="thead"===bm(e)
var r=!R(e.cells,(function(t){return"th"!==Bu(t)}))
return n||r?O.some({thead:n,ths:r}):O.none()}
var xm=function(t,e){return ym(wm(t,e).fold((function(){return bm(e)}),(function(t){return"thead"})))}
var Cm=function(t,e,n){var r=t.getParent(e,"table")
var o=e.parentNode
var a=Bu(o)
if(n!==a){var i=t.select(n,r)[0]
if(!i){i=t.create(n)
var u=r.firstChild
"thead"===n?tt(Dn(fe.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(i,u)}),(function(e){return t.insertAfter(i,e.dom)})):r.appendChild(i)}"tbody"===n&&"thead"===a&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e)
o.hasChildNodes()||t.remove(o)}}
var Sm=function(t,e,n){if(l(n)&&Bu(e)!==n){var r=t.dom.rename(e,n)
Pl(t,r)
return r}return e}
var km=function(t,e,n,r){var o=t.dom
var a=Sm(t,e,n)
c(r)||o.setAttrib(a,"scope",r)
return a}
var Tm=function(t,e,n,r){return L(e,(function(e){return km(t,e,n,r)}))}
var _m=function(t,e,n){var r=function(){var n=yr(fe.fromDom(e.cells[0])).map((function(t){return wr(t)})).getOr([])
return et(n,(function(e){return wm(t,e.dom)})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")}
var o=t.dom
if("header"===n){var a=bf(t)
var i="auto"===a?r():a
Tm(t,e.cells,"section"===i?"td":"th","col")
Cm(o,e,"cells"===i?"tbody":"thead")}else{Tm(t,e.cells,"td",null)
Cm(o,e,"footer"===n?"tfoot":"tbody")}}
var Om=function(t){return yr(t).bind((function(t){return $o(t,ic.firstSelectedSelector)})).fold((function(){return t}),(function(t){return t[0]}))}
var Em=function(t){return function(e,n){var r=Ze(e)
var o="col"===r||"colgroup"===r?Om(e):e
return jn(o,t,n)}}
var Mm=Em("th,td")
var Am=Em("th,td,caption")
var zm=function(t,e,n){return Mm(t,n).map((function(t){return Ku(e)})).getOr([])}
var Dm=function(t,e){var n=Mm(t)
var r=n.bind((function(t){return yr(t)})).map((function(t){return wr(t)}))
return la(n,r,(function(t,n){return N(n,(function(n){return R(Lu(n.dom.cells),(function(n){return"1"===Gn(n,e)||ge(n,t)}))}))})).getOr([])}
var Rm=function(t,e,n){var r=function(t){return"table"===Ze(Pu(t))}
var o=function(e){return false===r(t)||fs(e).rows>1}
var a=function(e){return false===r(t)||fs(e).columns>1}
var i=Cf(t)
var u=xf(t)?d:Gf
var c=function(e,n,r,o,a){return function(u,c){Wu(u)
var s=o()
var l=fe.fromDom(t.getDoc())
var f=Ru(r,l,i)
var v=kf(t,u)
var d=xf(t)?Lc():Bc()
return n(u)?e(s,u,c,f,v,d).bind((function(e){L(e.newRows,(function(e){Bl(t,e.dom)}))
L(e.newCells,(function(e){Pl(t,e.dom)}))
return e.cursor.map((function(e){var n=qf(e)
var r=t.dom.createRng()
r.setStart(n.element.dom,n.offset)
r.setEnd(n.element.dom,n.offset)
return{rng:r,effect:a}}))})):O.none()}}
var s=c(um,o,d,e,ql)
var l=c(im,a,d,e,ql)
var f=c(nm,C,d,e,ql)
var v=c(rm,C,d,e,ql)
var m=c(om,C,u,e,ql)
var h=c(am,C,u,e,ql)
var g=c(lm,C,d,e,ql)
var p=c(fm,C,d,e,ql)
var b=c(dm,C,d,e,ql)
var y=c(mm,C,d,e,ql)
var w=c(hm,C,d,e,ql)
var x=c(gm,C,d,e,ql)
var S=c(vm,C,d,e,ql)
var k=function(t,e){return De(t,"type").filter((function(t){return D(e,t)}))}
var T=function(t,e){return k(e,["td","th"]).each((function(e){var r=H(zm(Xu(t),n),(function(t){return t.dom}))
Tm(t,r,e,null)}))}
var _=function(t,e){return k(e,["header","body","footer"]).each((function(e){H(Dm(Xu(t),ic.selected),(function(n){return _m(t,n.dom,e)}))}))}
var E=c(cm,C,d,e,ql)
var M=c(sm,C,d,e,ql)
var A=function(t){var e=Dm(Xu(t),ic.selected)
if(e.length>0){var n=H(e,(function(e){return xm(t,e.dom)}))
var r=D(n,"header")
var o=D(n,"footer")
if(r||o){var a=D(n,"body")
return!r||a||o?r||a||!o?"":"footer":"header"}return"body"}}
var z=function(t){return $d(zm(Xu(t),n),(function(t){return"th"===Ze(t)})).getOr("")}
var R=pm
return{deleteRow:s,deleteColumn:l,insertRowsBefore:f,insertRowsAfter:v,insertColumnsBefore:m,insertColumnsAfter:h,mergeCells:g,unmergeCells:p,pasteColsBefore:b,pasteColsAfter:y,pasteRowsBefore:w,pasteRowsAfter:x,pasteCells:S,setTableCellType:T,setTableRowType:_,makeColumnsHeader:E,unmakeColumnsHeader:M,getTableRowType:A,getTableCellType:z,getTableColType:R}}
var Im={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false}
var Hm=function(){return fe.fromTag("th")}
var Lm=function(){return fe.fromTag("td")}
var Bm=function(){return fe.fromTag("col")}
var Pm=function(t,e,n,r){var o=fe.fromTag("tr")
for(var a=0;a<t;a++){var i=r<e||a<n?Hm():Lm()
a<n&&Wn(i,"scope","row")
r<e&&Wn(i,"scope","col")
mo(i,fe.fromTag("br"))
mo(o,i)}return o}
var Nm=function(t){var e=fe.fromTag("colgroup")
I(t,(function(){return mo(e,Bm())}))
return e}
var Fm=function(t,e,n,r){return I(t,(function(t){return Pm(e,n,r,t)}))}
var Vm=function(t,e,n,r,o,a){void 0===a&&(a=Im)
var i=fe.fromTag("table")
var u="cells"!==o
tr(i,a.styles)
qn(i,a.attributes)
a.colGroups&&mo(i,Nm(e))
var c=Math.min(t,n)
if(u&&n>0){var s=fe.fromTag("thead")
mo(i,s)
var l="sectionCells"===o?c:0
var f=Fm(n,e,l,r)
bo(s,f)}var v=fe.fromTag("tbody")
mo(i,v)
var d=u?t-c:t
var m=u?0:n
var h=Fm(d,e,m,r)
bo(v,h)
return i}
var jm=function(t){return t.dom.innerHTML}
var Um=function(t){var e=fe.fromTag("div")
var n=fe.fromDom(t.dom.cloneNode(true))
mo(e,n)
return jm(e)}
var Wm=function(t,e){t.selection.select(e.dom,true)
t.selection.collapse(true)}
var qm=function(t,e){Vn(e,"td,th").each(b(Wm,t))}
var Gm=function(t,e){L(Rn(e,"tr"),(function(e){Bl(t,e.dom)
L(Rn(e,"th,td"),(function(e){Pl(t,e.dom)}))}))}
var $m=function(t){return o(t)&&-1!==t.indexOf("%")}
var Xm=function(t,e,n,r,o){var a=tf(t)
var i={styles:a,attributes:Ql(t),colGroups:pf(t)}
t.undoManager.ignore((function(){var a=Vm(n,e,o,r,bf(t),i)
Wn(a,"data-mce-id","__mce")
var u=Um(a)
t.insertContent(u)
t.addVisual()}))
return Vn(Pu(t),'table[data-mce-id="__mce"]').map((function(e){mf(t)?Af(t,e):hf(t)?zf(e):(df(t)||$m(a.width))&&Mf(t,e)
Wu(e)
Xn(e,"data-mce-id")
Gm(t,e)
qm(t,e)
return e.dom})).getOr(null)}
var Km=function(t,e,n,r,o){void 0===r&&(r={})
var a=function(t){return v(t)&&t>0}
if(a(e)&&a(n)){var i=r.headerRows||0
var u=r.headerColumns||0
return Xm(t,n,e,u,i)}console.error(o)
return null}
var Zm=function(t){return function(){return t().fold((function(){return[]}),(function(t){return H(t,(function(t){return t.dom}))}))}}
var Ym=function(t){return function(e){var n=e.length>0?O.some(Lu(e)):O.none()
t(n)}}
var Jm=function(t){return function(e,n,r){void 0===r&&(r={})
var o=Km(t,n,e,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")
t.undoManager.add()
return o}}
var Qm=function(t,e,n,r){return{insertTable:Jm(t),setClipboardRows:Ym(e.setRows),getClipboardRows:Zm(e.getRows),setClipboardCols:Ym(e.setColumns),getClipboardCols:Zm(e.getColumns),resizeHandler:n,selectionTargets:r}}
var th=function(t,e,n){var r=ir(t,e,1)
1===n||r<=1?Xn(t,e):Wn(t,e,Math.min(n,r))}
var eh=function(t,e,n){if(Kr.hasColumns(t)){var r=N(Kr.justColumns(t),(function(t){return t.column>=e&&t.column<n}))
var o=H(r,(function(t){var r=ia(t.element)
th(r,"span",n-e)
return r}))
var a=fe.fromTag("colgroup")
bo(a,o)
return[a]}return[]}
var nh=function(t,e,n){return H(t.all,(function(t){var r=N(t.cells,(function(t){return t.column>=e&&t.column<n}))
var o=H(r,(function(t){var r=ia(t.element)
th(r,"colspan",n-e)
return r}))
var a=fe.fromTag("tr")
bo(a,o)
return a}))}
var rh=function(t,e){var n=Kr.fromTable(t)
var r=pv(n,e)
return r.map((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=eh(n,r,o)
var i=nh(n,r,o)
return rt(a,i)}))}
var oh=function(t,e,n){var r=Kr.fromTable(t)
var o=hv(r,e)
return o.bind((function(t){var e=rv(r,n,false)
var o=Ir(e).rows
var a=o.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan)
var i=G(a,(function(t){var e=N(t.cells,(function(t){return!t.isLocked}))
return e.length>0?[nt(nt({},t),{cells:e})]:[]}))
var u=iv(i,n)
return va(u.length>0,u)})).map((function(t){return Yf(t)}))}
var ah=tinymce.util.Tools.resolve("tinymce.util.Tools")
var ih=function(t,e,n){var r=t.select("td,th",e)
var o
var a=function(e,r){for(var o=0;o<r.length;o++){var a=t.getStyle(r[o],n)
"undefined"===typeof e&&(e=a)
if(e!==a)return""}return e}
return a(o,r)}
var uh=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)}
var ch=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)}
var sh=function(t,e){ah.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))}
var lh=function(t,e){ah.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))}
var fh=function(t){return Ie(t,"menu")}
var vh=function(t,e){var n=function(t,e){return e.concat(H(t,(function(t){var e=t.text||t.title
return fh(t)?{text:e,items:vh(t.menu)}:{text:e,value:t.value}})))}
return n(t,e||[])}
var dh=function(t){return function(e){return bt(e,"rgb")?t.toHex(e):e}}
var mh=function(t,e){var n=fe.fromDom(e)
return{borderwidth:rr(n,"border-width").getOr(""),borderstyle:rr(n,"border-style").getOr(""),bordercolor:rr(n,"border-color").map(dh(t)).getOr(""),backgroundcolor:rr(n,"background-color").map(dh(t)).getOr("")}}
var hh=function(t){var e=t[0]
var n=t.slice(1)
L(n,(function(t){L(xe(e),(function(n){Se(t,(function(t,r){var o=e[n]
""!==o&&n===r&&o!==t&&(e[n]="")}))}))}))
return e}
var gh=function(t){var e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}]
var n={name:"borderwidth",type:"input",label:"Border width"}
var r="cell"===t?[n].concat(e):e
return{title:"Advanced",name:"advanced",items:r}}
var ph=function(t,e,n,r){return U(t,(function(t){return n.formatter.matchNode(r,e+t)})).getOr("")}
var bh=b(ph,["left","center","right"],"align")
var yh=b(ph,["top","middle","bottom"],"valign")
var wh=function(t,e){var n=tf(t)
var r=Ql(t)
var o=function(t){return{borderstyle:De(n,"border-style").getOr(""),bordercolor:dh(t)(De(n,"border-color").getOr("")),backgroundcolor:dh(t)(De(n,"background-color").getOr(""))}}
var a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""}
var i=function(){var e=n["border-width"]
if(sf(t)&&e)return{border:e}
return De(r,"border").fold((function(){return{}}),(function(t){return{border:t}}))}
var u=e?o(t.dom):{}
var c=function(){var t=De(n,"border-spacing").or(De(r,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}}))
var e=De(n,"border-padding").or(De(r,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}}))
return nt(nt({},t),e)}
var s=nt(nt(nt(nt(nt(nt({},a),n),r),u),i()),c())
return s}
var xh=function(t,e,n){var r=function(e,n){var r=rr(fe.fromDom(n),"border-width")
if(sf(t)&&r.isSome())return r.getOr("")
return e.getAttrib(n,"border")||ih(t.dom,n,"border-width")||ih(t.dom,n,"border")}
var o=t.dom
return nt({width:o.getStyle(e,"width")||o.getAttrib(e,"width"),height:o.getStyle(e,"height")||o.getAttrib(e,"height"),cellspacing:o.getStyle(e,"border-spacing")||o.getAttrib(e,"cellspacing"),cellpadding:o.getAttrib(e,"cellpadding")||ih(t.dom,e,"padding"),border:r(o,e),caption:!!o.select("caption",e)[0],class:o.getAttrib(e,"class",""),align:bh(t,e)},n?mh(o,e):{})}
var Ch=function(t,e,n){var r=t.dom
return nt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),class:r.getAttrib(e,"class",""),type:xm(t,e),align:bh(t,e)},n?mh(r,e):{})}
var Sh=function(t,e,n,r){var o=t.dom
var a=r.getOr(e)
var i=function(t,e){return o.getStyle(t,e)||o.getAttrib(t,e)}
return nt({width:i(a,"width"),height:i(e,"height"),scope:o.getAttrib(e,"scope"),celltype:Bu(e),class:o.getAttrib(e,"class",""),halign:bh(t,e),valign:yh(t,e)},n?mh(o,e):{})}
var kh=function(t){var e=vh(lf(t))
if(e.length>0)return O.some({name:"class",type:"listbox",label:"Class",items:e})
return O.none()}
var Th=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]
var _h=function(t){return Th.concat(kh(t).toArray())}
var Oh=function(t){return function(e,n){var r=e.dom
var o=function(e,o){t&&!o||r.setAttrib(n,e,o)}
var a=function(e,o){t&&!o||r.setStyle(n,e,o)}
var i=function(r,o){t&&!o||(""===o?e.formatter.remove(r,{value:null},n,true):e.formatter.apply(r,{value:o},n))}
return{setAttrib:o,setStyle:a,setFormat:i}}}
var Eh={normal:Oh(false),ifTruthy:Oh(true)}
var Mh=function(t){return yr(t[0]).map((function(e){var n=Kr.fromTable(e)
var r=Kr.justCells(n)
var o=N(r,(function(e){return R(t,(function(t){return ge(e.element,t)}))}))
return H(o,(function(t){return{element:t.element.dom,column:Kr.getColumnAt(n,t.column).map((function(t){return t.element.dom}))}}))}))}
var Ah=function(t,e,n){t.setAttrib("scope",n.scope)
t.setAttrib("class",n.class)
t.setStyle("height",Uu(n.height))
e.setStyle("width",Uu(n.width))}
var zh=function(t,e){t.setFormat("tablecellbackgroundcolor",e.backgroundcolor)
t.setFormat("tablecellbordercolor",e.bordercolor)
t.setFormat("tablecellborderstyle",e.borderstyle)
t.setFormat("tablecellborderwidth",Uu(e.borderwidth))}
var Dh=function(t,e,n,r){var o=1===e.length
var a=Ee(r,(function(t,e){return n[e]!==t}))
if(ze(a)>0&&e.length>=1){var i=yr(e[0])
Mh(e).each((function(e){L(e,(function(e){var n=km(t,e.element,r.celltype)
var a=o?Eh.normal(t,n):Eh.ifTruthy(t,n)
var i=e.column.map((function(e){return o?Eh.normal(t,e):Eh.ifTruthy(t,e)})).getOr(a)
Ah(a,i,r)
rf(t)&&zh(a,r)
if(o){sh(t,n)
lh(t,n)}r.halign&&uh(t,n,r.halign)
r.valign&&ch(t,n,r.valign)}))}))
var u=ze(Ee(a,(function(t,e){return"scope"!==e&&"celltype"!==e})))>0
i.each((function(e){return Ul(t,e.dom,{structure:Re(a,"celltype"),style:u})}))}}
var Rh=function(t,e,n,r){var o=r.getData()
r.close()
t.undoManager.transact((function(){Dh(t,e,n,o)
t.focus()}))}
var Ih=function(t,e){var n=Mh(e).map((function(e){return H(e,(function(e){return Sh(t,e.element,rf(t),e.column)}))}))
return hh(n.getOrDie())}
var Hh=function(t,e){var n=zm(Xu(t),e)
if(0===n.length)return
var r=Ih(t,n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:_h(t)},gh("cell")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:_h(t)}]}
t.windowManager.open({title:"Cell Properties",size:"normal",body:rf(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(Rh,t,n,r)})}
var Lh=function(t){var e=vh(ff(t))
if(e.length>0)return O.some({name:"class",type:"listbox",label:"Class",items:e})
return O.none()}
var Bh=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}]
var Ph=function(t){return Bh.concat(Lh(t).toArray())}
var Nh=function(t,e){t.setAttrib("class",e.class)
t.setStyle("height",Uu(e.height))}
var Fh=function(t,e){t.setStyle("background-color",e.backgroundcolor)
t.setStyle("border-color",e.bordercolor)
t.setStyle("border-style",e.borderstyle)}
var Vh=function(t,e,n,r){var o=1===e.length
var a=Ee(r,(function(t,e){return n[e]!==t}))
if(ze(a)>0){L(e,(function(e){r.type!==Bu(e.parentNode)&&_m(t,e,r.type)
var a=o?Eh.normal(t,e):Eh.ifTruthy(t,e)
Nh(a,r)
of(t)&&Fh(a,r)
if(r.align!==n.align){sh(t,e)
uh(t,e,r.align)}}))
var i=Re(a,"type")
var u=!i||ze(a)>1
yr(fe.fromDom(e[0])).each((function(e){return Ul(t,e.dom,{structure:i,style:u})}))}}
var jh=function(t,e,n,r){var o=r.getData()
r.close()
t.undoManager.transact((function(){Vh(t,e,n,o)
t.focus()}))}
var Uh=function(t){var e=Dm(Xu(t),ic.selected)
if(0===e.length)return
var n=H(e,(function(e){return Ch(t,e.dom,of(t))}))
var r=hh(n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ph(t)},gh("row")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:Ph(t)}]}
t.windowManager.open({title:"Row Properties",size:"normal",body:of(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(jh,t,H(e,(function(t){return t.dom})),r)})}
var Wh=tinymce.util.Tools.resolve("tinymce.Env")
var qh=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[]
var o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]
var a=uf(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]
var i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]
var u=e.length>0?[{type:"listbox",name:"class",label:"Class",items:e}]:[]
return r.concat(o).concat(a).concat(i).concat(u)}
var Gh=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)o(n)?t.setStyle(e,n,r):t.setStyle(e,n)
else if(e.children)for(var a=0;a<e.children.length;a++)Gh(t,e.children[a],n,r)}
var $h=function(t,e,n){var r=t.dom
var o={}
var a={}
o.class=n.class
a.height=Uu(n.height)
r.getAttrib(e,"width")&&!sf(t)?o.width=ju(n.width):a.width=Uu(n.width)
if(sf(t)){a["border-width"]=Uu(n.border)
a["border-spacing"]=Uu(n.cellspacing)}else{o.border=n.border
o.cellpadding=n.cellpadding
o.cellspacing=n.cellspacing}if(sf(t)&&e.children)for(var i=0;i<e.children.length;i++){Gh(r,e.children[i],{"border-width":Uu(n.border),padding:Uu(n.cellpadding)})
af(t)&&Gh(r,e.children[i],{"border-color":n.bordercolor})}if(af(t)){a["background-color"]=n.backgroundcolor
a["border-color"]=n.bordercolor
a["border-style"]=n.borderstyle}o.style=r.serializeStyle(nt(nt({},tf(t)),a))
r.setAttribs(e,nt(nt({},Ql(t)),o))}
var Xh=function(t,e,n,r){var o=t.dom
var a
var i=r.getData()
var u=Ee(i,(function(t,e){return n[e]!==t}))
r.close()
""===i.class&&delete i.class
t.undoManager.transact((function(){if(!e){var n=parseInt(i.cols,10)||1
var r=parseInt(i.rows,10)||1
e=Xm(t,n,r,0,0)}if(ze(u)>0){$h(t,e,i)
a=o.select("caption",e)[0]
a&&!i.caption&&o.remove(a)
if(!a&&i.caption){a=o.create("caption")
a.innerHTML=Wh.ie?gu:'<br data-mce-bogus="1"/>'
e.insertBefore(a,e.firstChild)}""===i.align?sh(t,e):uh(t,e,i.align)}t.focus()
t.addVisual()
if(ze(u)>0){var c=Re(u,"caption")
var s=!c||ze(u)>1
Ul(t,e,{structure:c,style:s})}}))}
var Kh=function(t,e){var n=t.dom
var r
var o=wh(t,af(t))
if(false===e){r=n.getParent(t.selection.getStart(),"table",t.getBody())
if(r)o=xh(t,r,af(t))
else if(af(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}else{o.cols="1"
o.rows="1"
if(af(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}var a=vh(vf(t))
a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""))
var i={type:"grid",columns:2,items:qh(t,a,e)}
var u=function(){return{type:"panel",items:[i]}}
var c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},gh("table")]}}
var s=af(t)?c():u()
t.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:b(Xh,t,r,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o})}
var Zh=function(t){return Am(Xu(t),Vu(t))}
var Yh=function(t){return Mm(Xu(t),Vu(t))}
var Jh=function(t,e,n,r,i){var u=Vu(t)
var c=function(){return Zh(t).each((function(e){yr(e,u).filter(y(u)).each((function(e){var n=fe.fromText("")
fo(e,n)
wo(e)
if(t.dom.isEmpty(t.getBody())){t.setContent("")
t.selection.setCursorLocation()}else{var r=t.dom.createRng()
r.setStart(n.dom,0)
r.setEnd(n.dom,0)
t.selection.setRng(r)
t.nodeChanged()}}))}))}
var s=function(e){return Zh(t).each((function(n){var r=hf(t)||mf(t)||df(t)
r||yr(n,u).each((function(n){"relative"!==e||us(n)?"fixed"!==e||cs(n)?"responsive"!==e||ss(n)||zf(n):Af(t,n):Mf(t,n)
Wu(n)
Ul(t,n.dom,ql)}))}))}
var l=function(t){return yr(t,u)}
var f=function(e){return function(r){t.selection.setRng(r.rng)
t.focus()
n.clear(e)
Wu(e)
Ul(t,e.dom,r.effect)}}
var v=function(e){return Yh(t).each((function(t){l(t).each((function(n){var o=cc(r,n,t)
e(n,o).each(f(n))}))}))}
var m=function(){return Yh(t).map((function(e){return l(e).bind((function(n){var o=cc(r,n,e)
var a=Ru(d,fe.fromDom(t.getDoc()),O.none())
return oh(n,o,a)}))}))}
var h=function(){return Yh(t).map((function(t){return l(t).bind((function(e){var n=cc(r,e,t)
return rh(e,n)}))}))}
var g=function(e,n){return n().each((function(n){var o=H(n,(function(t){return ia(t)}))
Yh(t).each((function(n){return l(n).each((function(a){var i=Iu(fe.fromDom(t.getDoc()))
var u=lc(r,n,o,i)
e(a,u).each(f(a))}))}))}))}
Se({mceTableSplitCells:function(){return v(e.unmergeCells)},mceTableMergeCells:function(){return v(e.mergeCells)},mceTableInsertRowBefore:function(){return v(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return v(e.insertRowsAfter)},mceTableInsertColBefore:function(){return v(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return v(e.insertColumnsAfter)},mceTableDeleteCol:function(){return v(e.deleteColumn)},mceTableDeleteRow:function(){return v(e.deleteRow)},mceTableCutCol:function(t){return h().each((function(t){i.setColumns(t)
v(e.deleteColumn)}))},mceTableCutRow:function(t){return m().each((function(t){i.setRows(t)
v(e.deleteRow)}))},mceTableCopyCol:function(t){return h().each((function(t){return i.setColumns(t)}))},mceTableCopyRow:function(t){return m().each((function(t){return i.setRows(t)}))},mceTablePasteColBefore:function(t){return g(e.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(t){return g(e.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(t){return g(e.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(t){return g(e.pasteRowsAfter,i.getRows)},mceTableDelete:c,mceTableSizingMode:function(t,e){return s(e)}},(function(e,n){return t.addCommand(n,e)}))
var p=function(t,e){e.each((function(e){Ul(t,e.dom,ql)}))}
Se({mceTableCellType:function(n,r){var o=yr(Xu(t),u)
e.setTableCellType(t,r)
p(t,o)},mceTableRowType:function(n,r){var o=yr(Xu(t),u)
e.setTableRowType(t,r)
p(t,o)}},(function(e,n){return t.addCommand(n,e)}))
t.addCommand("mceTableColType",(function(t,n){return De(n,"type").each((function(t){return v("th"===t?e.makeColumnsHeader:e.unmakeColumnsHeader)}))}))
Se({mceTableProps:b(Kh,t,false),mceTableRowProps:b(Uh,t),mceTableCellProps:b(Hh,t,r)},(function(e,n){return t.addCommand(n,(function(){return e()}))}))
t.addCommand("mceInsertTable",(function(e,n){a(n)&&xe(n).length>0?Km(t,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Kh(t,true)}))
t.addCommand("mceTableApplyCellStyle",(function(e,n){var i=function(t){return"tablecell"+t.toLowerCase().replace("-","")}
if(!a(n))return
var c=zm(Xu(t),r,u)
if(0===c.length)return
var s=Ee(n,(function(e,n){return t.formatter.has(i(n))&&o(e)}))
if(He(s))return
Se(s,(function(e,n){L(c,(function(r){Eh.normal(t,r.dom).setFormat(i(n),e)}))}))
l(c[0]).each((function(e){return Ul(t,e.dom,Wl)}))}))}
var Qh=function(t,e,n){var r=Vu(t)
var o=function(t){return yr(t,r)}
Se({mceTableRowType:function(){return e.getTableRowType(t)},mceTableCellType:function(){return e.getTableCellType(t)},mceTableColType:function(){return Mm(Xu(t)).bind((function(t){return o(t).map((function(r){var o=cc(n,r,t)
return e.getTableColType(r,o)}))})).getOr("")}},(function(e,n){return t.addQueryValueHandler(n,e)}))}
var tg=function(){var t=nu(O.none())
var e=nu(O.none())
var n=function(t){t.set(O.none())}
return{getRows:t.get,setRows:function(r){t.set(r)
n(e)},clearRows:function(){return n(t)},getColumns:e.get,setColumns:function(r){e.set(r)
n(t)},clearColumns:function(){return n(e)}}}
var eg={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:true},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:true},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:true},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:true}}
var ng=function(t){t.formatter.register(eg)}
var rg=Zo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}])
var og=function(t){void 0===t&&(t=void 0)
return rg.none(t)}
var ag=nt(nt({},rg),{none:og})
var ig=function(t,e){return yr(t,e).bind((function(e){var n=pr(e)
var r=W(n,(function(e){return ge(t,e)}))
return r.map((function(t){return{index:t,all:n}}))}))}
var ug=function(t,e){var n=ig(t,e)
return n.fold((function(){return ag.none(t)}),(function(e){return e.index+1<e.all.length?ag.middle(t,e.all[e.index+1]):ag.last(t)}))}
var cg=function(t,e){var n=ig(t,e)
return n.fold((function(){return ag.none()}),(function(e){return e.index-1>=0?ag.middle(t,e.all[e.index-1]):ag.first(t)}))}
var sg=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var lg={create:sg}
var fg=Zo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var vg=function(t,e,n,r){return t.fold(e,n,r)}
var dg=function(t){return t.fold(p,p,p)}
var mg=fg.before
var hg=fg.on
var gg=fg.after
var pg={before:mg,on:hg,after:gg,cata:vg,getStart:dg}
var bg=Zo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var yg=function(t){return bg.exact(t.start,t.soffset,t.finish,t.foffset)}
var wg=function(t){return t.match({domRange:function(t){return fe.fromDom(t.startContainer)},relative:function(t,e){return pg.getStart(t)},exact:function(t,e,n,r){return t}})}
var xg=bg.domRange
var Cg=bg.relative
var Sg=bg.exact
var kg=function(t){var e=wg(t)
return cn(e)}
var Tg=lg.create
var _g={domRange:xg,relative:Cg,exact:Sg,exactFromRange:yg,getWin:kg,range:Tg}
var Og=function(t,e){var n=t.document.createRange()
Eg(n,e)
return n}
var Eg=function(t,e){return t.selectNodeContents(e.dom)}
var Mg=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var Ag=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var zg=function(t,e,n){var r=t.document.createRange()
Mg(r,e)
Ag(r,n)
return r}
var Dg=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var Rg=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var Ig=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?O.some(n).map(Rg):O.none()}
var Hg=Zo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var Lg=function(t,e,n){return e(fe.fromDom(n.startContainer),n.startOffset,fe.fromDom(n.endContainer),n.endOffset)}
var Bg=function(t,e){return e.match({domRange:function(t){return{ltr:g(t),rtl:O.none}},relative:function(e,n){return{ltr:ot((function(){return zg(t,e,n)})),rtl:ot((function(){return O.some(zg(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:ot((function(){return Dg(t,e,n,r,o)})),rtl:ot((function(){return O.some(Dg(t,r,o,e,n))}))}}})}
var Pg=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return Hg.rtl(fe.fromDom(t.endContainer),t.endOffset,fe.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Lg(t,Hg.ltr,n)}))}return Lg(t,Hg.ltr,n)}
var Ng=function(t,e){var n=Bg(t,e)
return Pg(t,n)}
var Fg=function(t,e){var n=Ng(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
Hg.ltr
Hg.rtl
var Vg=function(t,e,n,r,o){if(0===o)return 0
if(e===r)return o-1
var a=r
for(var i=1;i<o;i++){var u=t(i)
var c=Math.abs(e-u.left)
if(n<=u.bottom){if(n<u.top||c>a)return i-1
a=c}}return 0}
var jg=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}
var Ug=function(t,e,n,r,o){var a=function(n){var r=t.dom.createRange()
r.setStart(e.dom,n)
r.collapse(true)
return r}
var i=function(t){var e=a(t)
return e.getBoundingClientRect()}
var u=ko(e).length
var c=Vg(i,n,r,o.right,u)
return a(c)}
var Wg=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getClientRects()
var i=et(a,(function(t){return jg(t,n,r)?O.some(t):O.none()}))
return i.map((function(o){return Ug(t,e,n,r,o)}))}
var qg=function(t,e,n,r){var o=t.dom.createRange()
var a=mn(e)
return et(a,(function(e){o.selectNode(e.dom)
return jg(o.getBoundingClientRect(),n,r)?Gg(t,e,n,r):O.none()}))}
var Gg=function(t,e,n,r){return en(e)?Wg(t,e,n,r):qg(t,e,n,r)}
var $g=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return Gg(t,e,i,u)}
var Xg=true
var Kg=false
var Zg=function(t,e){return e-t.left<t.right-e?Xg:Kg}
var Yg=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
r.collapse(n)
return r}
var Jg=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
var o=r.getBoundingClientRect()
var a=Zg(o,n)
var i=a===Xg?xu:Cu
return i(e).map((function(e){return Yg(t,e,a)}))}
var Qg=function(t,e,n){var r=e.dom.getBoundingClientRect()
var o=Zg(r,n)
return O.some(Yg(t,e,o))}
var tp=function(t,e,n){var r=0===mn(e).length?Qg:Jg
return r(t,e,n)}
var ep=function(t,e,n){return O.from(t.dom.caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return O.none()
var n=t.dom.createRange()
n.setStart(e.offsetNode,e.offset)
n.collapse()
return O.some(n)}))}
var np=function(t,e,n){return O.from(t.dom.caretRangeFromPoint(e,n))}
var rp=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return $g(t,e,i,u)}
var op=function(t,e,n){return fe.fromPoint(t,e,n).bind((function(r){var o=function(){return tp(t,r,e)}
return 0===mn(r).length?o():rp(t,r,e,n).orThunk(o)}))}
var ap=document.caretPositionFromPoint?ep:document.caretRangeFromPoint?np:op
var ip=function(t,e,n){var r=fe.fromDom(t.document)
return ap(r,e,n).map((function(t){return lg.create(fe.fromDom(t.startContainer),t.startOffset,fe.fromDom(t.endContainer),t.endOffset)}))}
var up=function(t,e){var n=Ze(t)
return"input"===n?pg.after(t):D(["br","img"],n)?0===e?pg.before(t):pg.after(t):pg.on(t,e)}
var cp=function(t,e){var n=t.fold(pg.before,up,pg.after)
var r=e.fold(pg.before,up,pg.after)
return _g.relative(n,r)}
var sp=function(t,e,n,r){var o=up(t,e)
var a=up(n,r)
return _g.relative(o,a)}
var lp=function(t){return t.match({domRange:function(t){var e=fe.fromDom(t.startContainer)
var n=fe.fromDom(t.endContainer)
return sp(e,t.startOffset,n,t.endOffset)},relative:cp,exact:sp})}
var fp=function(t,e,n,r){var o=an(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var vp=function(t,e,n,r){var o=fp(t,e,n,r)
var a=ge(t,n)&&e===r
return o.collapsed&&!a}
var dp=function(t){return O.from(t.getSelection())}
var mp=function(t,e){dp(t).each((function(t){t.removeAllRanges()
t.addRange(e)}))}
var hp=function(t,e,n,r,o){var a=Dg(t,e,n,r,o)
mp(t,a)}
var gp=function(t,e,n,r,o,a){e.collapse(n.dom,r)
e.extend(o.dom,a)}
var pp=function(t,e){return Ng(t,e).match({ltr:function(e,n,r,o){hp(t,e,n,r,o)},rtl:function(e,n,r,o){dp(t).each((function(a){if(a.setBaseAndExtent)a.setBaseAndExtent(e.dom,n,r.dom,o)
else if(a.extend)try{gp(t,a,e,n,r,o)}catch(a){hp(t,r,o,e,n)}else hp(t,r,o,e,n)}))}})}
var bp=function(t,e,n,r,o){var a=sp(e,n,r,o)
pp(t,a)}
var yp=function(t,e,n){var r=cp(e,n)
pp(t,r)}
var wp=function(t){var e=_g.getWin(t).dom
var n=function(t,n,r,o){return Dg(e,t,n,r,o)}
var r=lp(t)
return Ng(e,r).match({ltr:n,rtl:n})}
var xp=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return O.some(lg.create(fe.fromDom(e.startContainer),e.startOffset,fe.fromDom(n.endContainer),n.endOffset))}return O.none()}
var Cp=function(t){if(null===t.anchorNode||null===t.focusNode)return xp(t)
var e=fe.fromDom(t.anchorNode)
var n=fe.fromDom(t.focusNode)
return vp(e,t.anchorOffset,n,t.focusOffset)?O.some(lg.create(e,t.anchorOffset,n,t.focusOffset)):xp(t)}
var Sp=function(t,e){var n=Og(t,e)
mp(t,n)}
var kp=function(t){return dp(t).filter((function(t){return t.rangeCount>0})).bind(Cp)}
var Tp=function(t){return kp(t).map((function(t){return _g.exact(t.start,t.soffset,t.finish,t.foffset)}))}
var _p=function(t,e){var n=Fg(t,e)
return Ig(n)}
var Op=function(t,e,n){return ip(t,e,n)}
var Ep=function(t){dp(t).each((function(t){return t.removeAllRanges()}))}
var Mp=tinymce.util.Tools.resolve("tinymce.util.VK")
var Ap=function(t,e,n){return Ip(t,e,ug(n))}
var zp=function(t,e,n){return Ip(t,e,cg(n))}
var Dp=function(t,e){var n=_g.exact(e,0,e,0)
return wp(n)}
var Rp=function(t,e){var n=Rn(e,"tr")
return tt(n).bind((function(e){return Vn(e,"td,th").map((function(e){return Dp(t,e)}))}))}
var Ip=function(t,e,n){return n.fold(O.none,O.none,(function(e,n){return xu(n).map((function(e){return Dp(t,e)}))}),(function(n){return yr(n,e).bind((function(e){t.execCommand("mceTableInsertRowAfter")
return Rp(t,e)}))}))}
var Hp=["table","li","dl"]
var Lp=function(t,e,n){if(t.keyCode===Mp.TAB){var r=Pu(e)
var o=function(t){var e=Ze(t)
return ge(t,r)||D(Hp,e)}
var a=e.selection.getRng()
var i=fe.fromDom(t.shiftKey?a.startContainer:a.endContainer)
gr(i,o).each((function(r){t.preventDefault()
yr(r,o).each(n.clear)
e.selection.collapse(t.shiftKey)
var a=t.shiftKey?zp:Ap
var i=a(e,o,r)
i.each((function(t){e.selection.setRng(t)}))}))}}
var Bp=function(t,e){return{selection:t,kill:e}}
var Pp={create:Bp}
var Np=function(t,e,n,r){return{start:pg.on(t,e),finish:pg.on(n,r)}}
var Fp={create:Np}
var Vp=function(t,e){var n=Fg(t,e)
return lg.create(fe.fromDom(n.startContainer),n.startOffset,fe.fromDom(n.endContainer),n.endOffset)}
var jp=Fp.create
var Up=function(t,e,n,r,o,a,i){return ge(n,o)&&r===a?O.none():jn(n,"td,th",e).bind((function(n){return jn(o,"td,th",e).bind((function(r){return Wp(t,e,n,r,i)}))}))}
var Wp=function(t,e,n,r,o){return ge(n,r)?O.none():Vo(n,r,e).bind((function(e){var r=e.boxes.getOr([])
if(r.length>0){o(t,r,e.start,e.finish)
return O.some(Pp.create(O.some(jp(n,0,n,pu(n))),true))}return O.none()}))}
var qp=function(t,e,n,r,o){var a=function(t){o.clearBeforeUpdate(n)
o.selectRange(n,t.boxes,t.start,t.finish)
return t.boxes}
return Go(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(a)}
var Gp=function(t,e){return{item:t,mode:e}}
var $p=function(t,e,n,r){void 0===r&&(r=Xp)
return t.property().parent(e).map((function(t){return Gp(t,r)}))}
var Xp=function(t,e,n,r){void 0===r&&(r=Kp)
return n.sibling(t,e).map((function(t){return Gp(t,r)}))}
var Kp=function(t,e,n,r){void 0===r&&(r=Kp)
var o=t.property().children(e)
var a=n.first(o)
return a.map((function(t){return Gp(t,r)}))}
var Zp=[{current:$p,next:Xp,fallback:O.none()},{current:Xp,next:Kp,fallback:O.some($p)},{current:Kp,next:Kp,fallback:O.some(Xp)}]
var Yp=function(t,e,n,r,o){void 0===o&&(o=Zp)
var a=U(o,(function(t){return t.current===n}))
return a.bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Yp(t,e,n,r)}))}))}))}
var Jp=function(){var t=function(t,e){return t.query().prevSibling(e)}
var e=function(t){return t.length>0?O.some(t[t.length-1]):O.none()}
return{sibling:t,first:e}}
var Qp=function(){var t=function(t,e){return t.query().nextSibling(e)}
var e=function(t){return t.length>0?O.some(t[0]):O.none()}
return{sibling:t,first:e}}
var tb={left:Jp,right:Qp}
var eb=function(t,e,n,r,o,a){var i=Yp(t,e,r,o)
return i.bind((function(e){return a(e.item)?O.none():n(e.item)?O.some(e.item):eb(t,e.item,n,e.mode,o,a)}))}
var nb=function(t,e,n,r){return eb(t,e,n,Xp,tb.left(),r)}
var rb=function(t,e,n,r){return eb(t,e,n,Xp,tb.right(),r)}
var ob=function(t){return function(e){return 0===t.property().children(e).length}}
var ab=function(t,e,n){return ub(t,e,ob(t),n)}
var ib=function(t,e,n){return cb(t,e,ob(t),n)}
var ub=nb
var cb=rb
var sb=Eo()
var lb=function(t,e){return ab(sb,t,e)}
var fb=function(t,e){return ib(sb,t,e)}
var vb=function(t,e,n){return ub(sb,t,e,n)}
var db=function(t,e,n){return cb(sb,t,e,n)}
var mb=function(t,e,n){return Hn(t,e,n).isSome()}
var hb=Zo.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])
var gb=function(t,e,n){var r=t.getRect(e)
var o=t.getRect(n)
return o.right>r.left&&o.left<r.right}
var pb=function(t){return jn(t,"tr")}
var bb=function(t,e,n,r,o,a,i){return jn(r,"td,th",i).bind((function(n){return jn(e,"td,th",i).map((function(e){return ge(n,e)?ge(r,n)&&pu(n)===o?a(e):hb.none("in same cell"):Po(pb,[n,e]).fold((function(){return gb(t,e,n)?hb.success():a(e)}),(function(t){return a(e)}))}))})).getOr(hb.none("default"))}
var yb=function(t,e,n,r,o){return t.fold(e,n,r,o)}
var wb=nt(nt({},hb),{verify:bb,cata:yb})
var xb=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}}
var Cb=function(t){return sn(t).bind((function(e){var n=mn(e)
return Sb(n,t).map((function(r){return xb(e,n,t,r)}))}))}
var Sb=function(t,e){return W(t,b(ge,e))}
var kb=function(t){return"br"===Ze(t)}
var Tb=function(t,e,n){return e(t,n).bind((function(t){return en(t)&&0===ko(t).trim().length?Tb(t,e,n):O.some(t)}))}
var _b=function(t,e,n){return n.traverse(e).orThunk((function(){return Tb(e,n.gather,t)})).map(n.relative)}
var Ob=function(t,e){return hn(t,e).filter(kb).orThunk((function(){return hn(t,e-1).filter(kb)}))}
var Eb=function(t,e,n,r){return Ob(e,n).bind((function(e){return r.traverse(e).fold((function(){return Tb(e,r.gather,t).map(r.relative)}),(function(t){return Cb(t).map((function(t){return pg.on(t.parent,t.index)}))}))}))}
var Mb=function(t,e,n,r){var o=kb(e)?_b(t,e,r):Eb(t,e,n,r)
return o.map((function(t){return{start:t,finish:t}}))}
var Ab=function(t){return wb.cata(t,(function(t){return O.none()}),(function(){return O.none()}),(function(t){return O.some(Nf(t,0))}),(function(t){return O.some(Nf(t,pu(t)))}))}
var zb=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}}
var Db=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}}
var Rb=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}}
var Ib=function(t){return t.top}
var Hb=function(t){return t.bottom}
var Lb=function(t,e,n){if(n>=0&&n<pu(e))return t.getRangedRect(e,n,e,n+1)
if(n>0)return t.getRangedRect(e,n-1,e,n)
return O.none()}
var Bb=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}
var Pb=function(t,e){return O.some(t.getRect(e))}
var Nb=function(t,e,n){return tn(e)?Pb(t,e).map(Bb):en(e)?Lb(t,e,n).map(Bb):O.none()}
var Fb=function(t,e){return tn(e)?Pb(t,e).map(Bb):en(e)?t.getRangedRect(e,0,e,pu(e)).map(Bb):O.none()}
var Vb=5
var jb=100
var Ub=Zo.generate([{none:[]},{retry:["caret"]}])
var Wb=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right}
var qb=function(t,e,n){return Ln(e,md).fold(x,(function(e){return Fb(t,e).exists((function(t){return Wb(n,t)}))}))}
var Gb=function(t,e,n,r,o){var a=zb(o,Vb)
return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Ub.retry(a):n.top===o.bottom?Ub.retry(zb(o,1)):qb(t,e,o)?Ub.retry(Rb(a,Vb,0)):Ub.none()}
var $b=function(t,e,n,r,o){var a=Db(o,Vb)
return Math.abs(n.top-r.top)<1||n.bottom<o.top?Ub.retry(a):n.bottom===o.top?Ub.retry(Db(o,1)):qb(t,e,o)?Ub.retry(Rb(a,Vb,0)):Ub.none()}
var Xb={point:Ib,adjuster:$b,move:Db,gather:lb}
var Kb={point:Hb,adjuster:Gb,move:zb,gather:fb}
var Zb=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Ze(t)})).isSome()}
var Yb=function(t,e,n,r,o){return Jb(t,e,n,e.move(r,Vb),o)}
var Jb=function(t,e,n,r,o){if(0===o)return O.some(r)
if(Zb(t,r.left,e.point(r)))return Yb(t,e,n,r,o-1)
return t.situsFromPoint(r.left,e.point(r)).bind((function(a){return a.start.fold(O.none,(function(a){return Fb(t,a).bind((function(i){return e.adjuster(t,a,i,n,r).fold(O.none,(function(r){return Jb(t,e,n,r,o-1)}))})).orThunk((function(){return O.some(r)}))}),O.none)}))}
var Qb=function(t,e){return t.situsFromPoint(e.left,e.bottom+Vb)}
var ty=function(t,e){return t.situsFromPoint(e.left,e.top-Vb)}
var ey=function(t,e,n){return t.point(e)>n.getInnerHeight()?O.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?O.some(-t.point(e)):O.none()}
var ny=function(t,e,n){var r=t.move(n,Vb)
var o=Jb(e,t,n,r,jb).getOr(r)
return ey(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){e.scrollBy(0,n)
return e.situsFromPoint(o.left,t.point(o)-n)}))}
var ry={tryUp:b(ny,Xb),tryDown:b(ny,Kb),ieTryUp:ty,ieTryDown:Qb,getJumpSize:g(Vb)}
var oy=20
var ay=function(t,e,n){return t.getSelection().bind((function(r){return Mb(e,r.finish,r.foffset,n).fold((function(){return O.some(Nf(r.finish,r.foffset))}),(function(o){var a=t.fromSitus(o)
var i=wb.verify(t,r.finish,r.foffset,a.finish,a.foffset,n.failure,e)
return Ab(i)}))}))}
var iy=function(t,e,n,r,o,a){if(0===a)return O.none()
return sy(t,e,n,r,o).bind((function(i){var u=t.fromSitus(i)
var c=wb.verify(t,n,r,u.finish,u.foffset,o.failure,e)
return wb.cata(c,(function(){return O.none()}),(function(){return O.some(i)}),(function(i){return ge(n,i)&&0===r?uy(t,n,r,Db,o):iy(t,e,i,0,o,a-1)}),(function(i){return ge(n,i)&&r===pu(i)?uy(t,n,r,zb,o):iy(t,e,i,pu(i),o,a-1)}))}))}
var uy=function(t,e,n,r,o){return Nb(t,e,n).bind((function(e){return cy(t,o,r(e,ry.getJumpSize()))}))}
var cy=function(t,e,n){var r=Jt().browser
return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?e.otherRetry(t,n):r.isIE()?e.ieRetry(t,n):O.none()}
var sy=function(t,e,n,r,o){return Nb(t,n,r).bind((function(e){return cy(t,o,e)}))}
var ly=function(t,e,n){return ay(t,e,n).bind((function(r){return iy(t,e,r.element,r.offset,n,oy).map(t.fromSitus)}))}
var fy=function(t,e){return mb(t,(function(t){return sn(t).exists((function(t){return ge(t,e)}))}))}
var vy=function(t,e,n,r,o){return jn(r,"td,th",e).bind((function(r){return jn(r,"table",e).bind((function(a){if(!fy(o,a))return O.none()
return ly(t,e,n).bind((function(t){return jn(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))}))}))}))}
var dy=function(t,e,n,r,o,a){return Jt().browser.isIE()?O.none():a(r,e).orThunk((function(){return vy(t,e,n,r,o).map((function(t){var e=t.range
return Pp.create(O.some(jp(e.start,e.soffset,e.finish,e.foffset)),true)}))}))}
var my=function(t,e){return jn(t,"tr",e).bind((function(t){return jn(t,"table",e).bind((function(n){var r=Rn(n,"tr")
return ge(t,r[0])?vb(n,(function(t){return Cu(t).isSome()}),e).map((function(t){var e=pu(t)
return Pp.create(O.some(jp(t,e,t,e)),true)})):O.none()}))}))}
var hy=function(t,e){return jn(t,"tr",e).bind((function(t){return jn(t,"table",e).bind((function(n){var r=Rn(n,"tr")
return ge(t,r[r.length-1])?db(n,(function(t){return xu(t).isSome()}),e).map((function(t){return Pp.create(O.some(jp(t,0,t,0)),true)})):O.none()}))}))}
var gy=function(t,e,n,r,o,a,i){return vy(t,n,r,o,a).bind((function(t){return Wp(e,n,t.start,t.finish,i)}))}
var py=function(){var t=nu(O.none())
var e=function(){return t.set(O.none())}
var n=function(e){return t.set(O.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var by=function(t,e){return jn(t,"td,th",e)}
var yy=function(t,e,n,r){var o=py()
var a=o.clear
var i=function(a){o.on((function(o){r.clearBeforeUpdate(e)
by(a.target,n).each((function(a){Vo(o,a,n).each((function(n){var i=n.boxes.getOr([])
if(i.length>1||1===i.length&&!ge(o,a)){r.selectRange(e,i,n.start,n.finish)
t.selectContents(a)}}))}))}))}
var u=function(t){r.clear(e)
by(t.target,n).each(o.set)}
var c=function(t){i(t)}
var s=function(t){i(t)
a()}
return{clearstate:a,mousedown:u,mouseover:c,mouseup:s}}
var wy={traverse:dn,gather:fb,relative:pg.before,otherRetry:ry.tryDown,ieRetry:ry.ieTryDown,failure:wb.failedDown}
var xy={traverse:vn,gather:lb,relative:pg.before,otherRetry:ry.tryUp,ieRetry:ry.ieTryUp,failure:wb.failedUp}
var Cy=function(t){return function(e){return e===t}}
var Sy=Cy(38)
var ky=Cy(40)
var Ty=function(t){return t>=37&&t<=40}
var _y={isBackward:Cy(37),isForward:Cy(39)}
var Oy={isBackward:Cy(39),isForward:Cy(37)}
var Ey=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return Oa(n,r)}
var My=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollBy(t,e)}
var Ay=function(t){var e=function(e,n){return fe.fromPoint(fe.fromDom(t.document),e,n)}
var n=function(t){return t.dom.getBoundingClientRect()}
var r=function(e,n,r,o){var a=_g.exact(e,n,r,o)
return _p(t,a)}
var o=function(){return Tp(t).map((function(e){return Vp(t,e)}))}
var a=function(e){var n=_g.relative(e.start,e.finish)
return Vp(t,n)}
var i=function(e,n){return Op(t,e,n).map((function(t){return Fp.create(t.start,t.soffset,t.finish,t.foffset)}))}
var u=function(){Ep(t)}
var c=function(e){void 0===e&&(e=false)
Tp(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r
yp(t,o,o)}),(function(n,r,o,a){var i=e?n:o
var u=e?r:a
bp(t,i,u,i,u)}))}))}
var s=function(e){Sp(t,e)}
var l=function(e){bp(t,e.start,e.soffset,e.finish,e.foffset)}
var f=function(e,n){yp(t,e,n)}
var v=function(){return t.innerHeight}
var d=function(){var e=Ey(fe.fromDom(t.document))
return e.top}
var m=function(e,n){My(e,n,fe.fromDom(t.document))}
return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:a,situsFromPoint:i,clearSelection:u,collapseSelection:c,setSelection:l,setRelativeSelection:f,selectContents:s,getInnerHeight:v,getScrollY:d,scrollBy:m}}
var zy=function(t,e){return{rows:t,cols:e}}
var Dy=function(t,e,n,r){var o=Ay(t)
var a=yy(o,e,n,r)
return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}}
var Ry=function(t,e,n,r){var o=Ay(t)
var a=function(){r.clear(e)
return O.none()}
var i=function(t,i,u,c,s,l){var f=t.raw
var v=f.which
var d=true===f.shiftKey
var m=jo(e,r.selectedSelector).fold((function(){return ky(v)&&d?b(gy,o,e,n,wy,c,i,r.selectRange):Sy(v)&&d?b(gy,o,e,n,xy,c,i,r.selectRange):ky(v)?b(dy,o,n,wy,c,i,hy):Sy(v)?b(dy,o,n,xy,c,i,my):O.none}),(function(t){var n=function(n){return function(){var a=et(n,(function(n){return qp(n.rows,n.cols,e,t,r)}))
return a.fold((function(){return Wo(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=ky(v)||l.isForward(v)?pg.after:pg.before
o.setRelativeSelection(pg.on(t.first,0),n(t.table))
r.clear(e)
return Pp.create(O.none(),true)}))}),(function(t){return O.some(Pp.create(O.none(),true))}))}}
return ky(v)&&d?n([zy(1,0)]):Sy(v)&&d?n([zy(-1,0)]):l.isBackward(v)&&d?n([zy(0,-1),zy(-1,0)]):l.isForward(v)&&d?n([zy(0,1),zy(1,0)]):Ty(v)&&false===d?a:O.none}))
return m()}
var u=function(t,o,a,i,u){return jo(e,r.selectedSelector).fold((function(){var c=t.raw
var s=c.which
var l=true===c.shiftKey
if(false===l)return O.none()
return Ty(s)?Up(e,n,o,a,i,u,r.selectRange):O.none()}),O.none)}
return{keydown:i,keyup:u}}
var Iy=function(t,e,n,r){var o=Ay(t)
return function(t,a){r.clearBeforeUpdate(e)
Vo(t,a,n).each((function(t){var n=t.boxes.getOr([])
r.selectRange(e,n,t.start,t.finish)
o.selectContents(a)
o.collapseSelection()}))}}
var Hy=function(t,e){L(e,(function(e){Zs(t,e)}))}
var Ly=function(t){return function(e){Xs(e,t)}}
var By=function(t){return function(e){Hy(e,t)}}
var Py=function(t){var e=Ly(t.selected)
var n=By([t.selected,t.lastSelected,t.firstSelected])
var r=function(e){var r=Rn(e,t.selectedSelector)
L(r,n)}
var o=function(n,o,a,i){r(n)
L(o,e)
Xs(a,t.firstSelected)
Xs(i,t.lastSelected)}
return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var Ny=function(t,e,n){var r=function(e){Xn(e,t.selected)
Xn(e,t.firstSelected)
Xn(e,t.lastSelected)}
var o=function(e){Wn(e,t.selected,"1")}
var a=function(t){i(t)
n()}
var i=function(e){var n=Rn(e,t.selectedSelector)
L(n,r)}
var u=function(n,r,i,u){a(n)
L(r,o)
Wn(i,t.firstSelected,"1")
Wn(u,t.lastSelected,"1")
e(r,i,u)}
return{clearBeforeUpdate:i,clear:a,selectRange:u,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var Fy={byClass:Py,byAttr:Ny}
var Vy=function(t,e,n){var r=t.slice(0,e[e.length-1].row+1)
var o=iv(r,n)
return G(o,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1)
return H(n,(function(t){return t.element}))}))}
var jy=function(t,e,n){var r=t.slice(e[0].row+e[0].rowspan-1,t.length)
var o=iv(r,n)
return G(o,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length)
return H(n,(function(t){return t.element}))}))}
var Uy=function(t,e,n){var r=Kr.fromTable(t)
var o=hv(r,e)
return o.map((function(t){var e=rv(r,n,false)
var o=Vy(e,t,n)
var a=jy(e,t,n)
return{upOrLeftCells:o,downOrRightCells:a}}))}
var Wy=function(t){return false===Ys(fe.fromDom(t.target),"ephox-snooker-resizer-bar")}
function qy(t,e,n){var r=function(e,r,o){n.targets().each((function(n){var a=yr(r)
a.each((function(a){var i=Cf(t)
var u=Ru(d,fe.fromDom(t.getDoc()),i)
var c=Uy(a,n,u)
Vl(t,e,r,o,c)}))}))}
var o=function(){return jl(t)}
var a=Fy.byAttr(ic,r,o)
t.on("init",(function(n){var r=t.getWin()
var o=Pu(t)
var i=Vu(t)
var u=function(){var e=t.selection
var n=fe.fromDom(e.getStart())
var r=fe.fromDom(e.getEnd())
var i=Po(yr,[n,r])
i.fold((function(){return a.clear(o)}),d)}
var c=Dy(r,o,i,a)
var s=Ry(r,o,i,a)
var l=Iy(r,o,i,a)
var f=function(t){return true===t.raw.shiftKey}
t.on("TableSelectorChange",(function(t){return l(t.start,t.finish)}))
var v=function(e,n){if(!f(e))return
n.kill&&e.kill()
n.selection.each((function(e){var n=_g.relative(e.start,e.finish)
var o=Fg(r,n)
t.selection.setRng(o)}))}
var m=function(e){var n=Fs(e)
if(n.raw.shiftKey&&Ty(n.raw.which)){var r=t.selection.getRng()
var o=fe.fromDom(r.startContainer)
var a=fe.fromDom(r.endContainer)
s.keyup(n,o,r.startOffset,a,r.endOffset).each((function(t){v(n,t)}))}}
var h=function(n){var r=Fs(n)
e().each((function(t){return t.hideBars()}))
var o=t.selection.getRng()
var a=fe.fromDom(o.startContainer)
var i=fe.fromDom(o.endContainer)
var u=xa(_y,Oy)(fe.fromDom(t.selection.getStart()))
s.keydown(r,a,o.startOffset,i,o.endOffset,u).each((function(t){v(r,t)}))
e().each((function(t){return t.showBars()}))}
var g=function(t){return 0===t.button}
var p=function(t){if(void 0===t.buttons)return true
if(Wh.browser.isEdge()&&0===t.buttons)return true
return 0!==(1&t.buttons)}
var b=function(t){c.clearstate()}
var y=function(t){g(t)&&Wy(t)&&c.mousedown(Fs(t))}
var w=function(t){p(t)&&Wy(t)&&c.mouseover(Fs(t))}
var x=function(t){g(t)&&Wy(t)&&c.mouseup(Fs(t))}
var C=function(){var t=nu(fe.fromDom(o))
var e=nu(0)
var n=function(n){var r=fe.fromDom(n.target)
if("td"===Ze(r)||"th"===Ze(r)){var o=t.get()
var a=e.get()
if(ge(o,r)&&n.timeStamp-a<300){n.preventDefault()
l(r,r)}}t.set(r)
e.set(n.timeStamp)}
return{touchEnd:n}}
var S=C()
t.on("dragstart",b)
t.on("mousedown",y)
t.on("mouseover",w)
t.on("mouseup",x)
t.on("touchend",S.touchEnd)
t.on("keyup",m)
t.on("keydown",h)
t.on("NodeChange",u)}))
return{clear:a.clear}}var Gy=function(t,e){var n=nu(O.none())
var r=nu([])
var o=O.none()
var a=on("caption")
var i=function(t){return o.forall((function(e){return!e[t]}))}
var u=function(){return Am(Xu(t),Vu(t)).bind((function(t){var n=yr(t)
return n.map((function(n){return a(t)?uc(t):cc(e,n,t)}))}))}
var c=function(t){var e=yr(t.element)
return e.map((function(e){var n=Kr.fromTable(e)
var r=hv(n,t).getOr([])
var o=V(r,(function(t,e){if(e.isLocked){t.onAny=true
0===e.column?t.onFirst=true:e.column+e.colspan>=n.grid.columns&&(t.onLast=true)}return t}),{onAny:false,onFirst:false,onLast:false})
return{mergeable:wv(n,t).isSome(),unmergeable:xv(n,t).isSome(),locked:o}}))}
var s=function(){n.set(ot(u)())
o=n.get().bind(c)
L(r.get(),(function(t){return t()}))}
var l=function(t,e){var o=function(){return n.get().fold((function(){t.setDisabled(true)}),(function(n){t.setDisabled(e(n))}))}
o()
r.set(r.get().concat([o]))
return function(){r.set(N(r.get(),(function(t){return t!==o})))}}
var f=function(t){return o.exists((function(e){return e.locked[t]}))}
var v=function(t){return l(t,(function(t){return false}))}
var d=function(t){return l(t,(function(t){return a(t.element)}))}
var m=function(t){return function(e){return l(e,(function(e){return a(e.element)||f(t)}))}}
var h=function(t){return function(e){return l(e,(function(e){return a(e.element)||t().isNone()}))}}
var g=function(t,e){return function(n){return l(n,(function(n){return a(n.element)||t().isNone()||f(e)}))}}
var p=function(t){return l(t,(function(t){return i("mergeable")}))}
var b=function(t){return l(t,(function(t){return i("unmergeable")}))}
t.on("NodeChange ExecCommand TableSelectorChange",s)
return{onSetupTable:v,onSetupCellOrRow:d,onSetupColumn:m,onSetupPasteable:h,onSetupPasteableColumn:g,onSetupMergeable:p,onSetupUnmergeable:b,resetTargets:s,targets:function(){return n.get()}}}
var $y=function(t,e,n){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}})
var r=function(e){return function(){return t.execCommand(e)}}
t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable})
t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable})
t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupColumn("onFirst")})
t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupColumn("onLast")})
t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onFirst")})
t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onLast")})
t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}
var Xy=function(t){var e=function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)}
var n=gf(t)
n.length>0&&t.ui.registry.addContextToolbar("table",{predicate:e,items:n,scope:"node",position:"node"})}
var Ky=function(t,e,n){var r=function(e){return function(){return t.execCommand(e)}}
var o=function(e){t.execCommand("mceInsertTable",false,{rows:e.numRows,columns:e.numColumns})}
var a={text:"Table properties",onSetup:e.onSetupTable,onAction:r("mceTableProps")}
var i={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:r("mceTableDelete")}
t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}
t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:e.onSetupColumn("onFirst")})
t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:e.onSetupColumn("onLast")})
t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onFirst")})
t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onLast")})
var c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}
t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:e.onSetupMergeable})
t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:e.onSetupUnmergeable})
var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}
false===cf(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}})
t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")})
t.ui.registry.addMenuItem("tableprops",a)
t.ui.registry.addMenuItem("deletetable",i)
t.ui.registry.addNestedMenuItem("row",u)
t.ui.registry.addNestedMenuItem("column",c)
t.ui.registry.addNestedMenuItem("cell",s)
t.ui.registry.addContextMenu("table",{update:function(){e.resetTargets()
return e.targets().fold((function(){return""}),(function(t){return"caption"===Ze(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}
var Zy=function(t){var e=na((function(){return Pu(t)}),(function(){return Am(Xu(t))}),ic.selectedSelector)
var n=Gy(t,e)
var r=Pf(t)
var o=qy(t,r.lazyResize,n)
var a=Rm(t,r.lazyWire,e)
var i=tg()
Jh(t,a,o,e,i)
Qh(t,a,e)
mc(t,e,a,o)
Ky(t,n,i)
$y(t,n,i)
Xy(t)
t.on("PreInit",(function(){t.serializer.addTempAttr(ic.firstSelected)
t.serializer.addTempAttr(ic.lastSelected)
ng(t)}))
nf(t)&&t.on("keydown",(function(e){Lp(e,t,o)}))
t.on("remove",(function(){r.destroy()}))
return Qm(t,i,r,n)}
function Yy(){ra.add("table",Zy)}Yy()})()},52738:()=>{(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(){n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return n.apply(this,arguments)}
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var o=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var a=function(t){return function(e){return o(e)===t}}
var i=a("string")
var u=a("object")
var c=a("array")
var s=function(){}
var l=function(t){return function(){return t}}
var f=function(t){return t}
var v=function(t){return function(){throw new Error(t)}}
var d=l(false)
var m=l(true)
var h=function(){return g}
var g=(p=function(t){return t.isNone()},b=function(t){return t()},y=function(t){return t},w={fold:function(t,e){return t()},is:d,isSome:d,isNone:m,getOr:y,getOrThunk:b,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:y,orThunk:b,map:h,each:s,bind:h,exists:d,forall:m,filter:h,equals:p,equals_:p,toArray:function(){return[]},toString:l("none()")},w)
var p,b,y,w
var x=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return x(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:g},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,(function(e){return n(t,e)}))}}
return o}
var C=function(t){return null===t||void 0===t?g:x(t)}
var S={some:x,none:h,from:C}
var k=Array.prototype.slice
var T=Array.prototype.indexOf
var _=function(t,e){return T.call(t,e)}
var O=function(t,e){return _(t,e)>-1}
var E=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var M=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var A=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var z=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var D=function(t,e,n){A(t,(function(t){n=e(n,t)}))
return n}
var R=function(t,e,n){M(t,(function(t){n=e(n,t)}))
return n}
var I=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return S.some(a)
if(n(a,r))break}return S.none()}
var H=function(t,e){return I(t,e,d)}
var L=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var B=function(t,e){var n=k.call(t,0)
n.sort(e)
return n}
var P=function(t,e){return e>=0&&e<t.length?S.some(t[e]):S.none()}
var N=function(t){return P(t,0)}
var F=Object.keys
var V=Object.hasOwnProperty
var j=function(t,e){return V.call(t,e)}
var U=function(t){if(!c(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
M(t,(function(r,o){var a=F(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!c(u))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+a)
var c=function(t){var r=F(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=L(e,(function(t){return O(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:c,log:function(t){console.log(t,{constructors:e,constructor:i,params:n})}}}}))
return n}
var W={generate:U}
W.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var q=function(t){var e=[]
var n=[]
M(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))}))
return{errors:e,values:n}}
var G=function(t){var e=function(e){return t===e}
var n=function(e){return G(t)}
var r=function(e){return G(t)}
var o=function(e){return G(e(t))}
var a=function(e){return G(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var f=function(e){return e(t)}
var v=function(){return S.some(t)}
return{is:e,isValue:m,isError:d,getOr:l(t),getOrThunk:l(t),getOrDie:l(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:f,toOptional:v}}
var $=function(t){var e=function(t){return t()}
var n=function(){return v(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return $(t)}
var i=function(e){return $(e(t))}
var u=function(e){return $(t)}
var c=function(e,n){return e(t)}
return{is:d,isValue:d,isError:m,getOr:f,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:s,bind:u,exists:d,forall:m,toOptional:S.none}}
var X=function(t,e){return t.fold((function(){return $(e)}),G)}
var K={value:G,error:$,fromOption:X}
var Z=function(t){return"inline-command"===t.type||"inline-format"===t.type}
var Y=function(t){return"block-command"===t.type||"block-format"===t.type}
var J=function(t){return B(t,(function(t,e){if(t.start.length===e.start.length)return 0
return t.start.length>e.start.length?-1:1}))}
var Q=function(t){var e=function(e){return K.error({message:e,pattern:t})}
var n=function(n,r,o){if(void 0!==t.format){var a=void 0
if(c(t.format)){if(!L(t.format,i))return e(n+" pattern has non-string items in the `format` array")
a=t.format}else{if(!i(t.format))return e(n+" pattern has non-string `format` parameter")
a=[t.format]}return K.value(r(a))}if(void 0!==t.cmd){if(!i(t.cmd))return e(n+" pattern has non-string `cmd` parameter")
return K.value(o(t.cmd,t.value))}return e(n+" pattern is missing both `format` and `cmd` parameters")}
if(!u(t))return e("Raw pattern is not an object")
if(!i(t.start))return e("Raw pattern is missing `start` parameter")
if(void 0!==t.end){if(!i(t.end))return e("Inline pattern has non-string `end` parameter")
if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters")
var r=t.start
var o=t.end
if(0===o.length){o=r
r=""}return n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}if(void 0!==t.replacement){if(!i(t.replacement))return e("Replacement pattern has non-string `replacement` parameter")
if(0===t.start.length)return e("Replacement pattern has empty `start` parameter")
return K.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement})}if(0===t.start.length)return e("Block pattern has empty `start` parameter")
return n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))}
var tt=function(t){if("block-command"===t.type)return{start:t.start,cmd:t.cmd,value:t.value}
if("block-format"===t.type)return{start:t.start,format:t.format}
if("inline-command"===t.type)return"mceInsertContent"===t.cmd&&""===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}
if("inline-format"===t.type)return{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}}
var et=function(t){return{inlinePatterns:z(t,Z),blockPatterns:J(z(t,Y))}}
var nt=function(t){var e=function(e){var n=q(E(e,Q))
if(n.errors.length>0){var r=n.errors[0]
throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}t.set(et(n.values))}
var n=function(){return r(E(t.get().inlinePatterns,tt),E(t.get().blockPatterns,tt))}
return{setPatterns:e,getPatterns:n}}
var rt="undefined"!==typeof window?window:Function("return this;")()
var ot=function(){var t=[]
for(var e=0;e<arguments.length;e++)t[e]=arguments[e]
var n=rt.console
n&&(n.error?n.error.apply(n,t):n.log.apply(n,t))}
var at=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]
var it=function(t){var e=t.getParam("textpattern_patterns",at,"array")
if(!c(e)){ot("The setting textpattern_patterns should be an array")
return{inlinePatterns:[],blockPatterns:[]}}var n=q(E(e,Q))
M(n.errors,(function(t){return ot(t.message,t.pattern)}))
return et(n.values)}
var ut=function(t){var e=t.getParam("forced_root_block","p")
return false===e?"":true===e?"p":e}
var ct=tinymce.util.Tools.resolve("tinymce.util.Delay")
var st=tinymce.util.Tools.resolve("tinymce.util.VK")
var lt="\ufeff"
var ft=" "
var vt=tinymce.util.Tools.resolve("tinymce.util.Tools")
var dt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var mt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var ht=function(t,e){return{container:t,offset:e}}
var gt=function(t){return t.nodeType===Node.TEXT_NODE}
var pt=function(t,e,n){if(e&&t.isEmpty(e)&&!n(e)){var r=e.parentNode
t.remove(e)
pt(t,r,n)}}
var bt=function(t,e,n,r){void 0===r&&(r=true)
var o=e.startContainer.parentNode
var a=e.endContainer.parentNode
e.deleteContents()
if(r&&!n(e.startContainer)){gt(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer)
gt(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer)
pt(t,o,n)
o!==a&&pt(t,a,n)}}
var yt=function(t,e){var n=e.get(t)
return c(n)&&N(n).exists((function(t){return j(t,"block")}))}
var wt=function(t){return 0===t.start.length}
var xt=function(t,e){var n=S.from(t.dom.getParent(e.startContainer,t.dom.isBlock))
return""===ut(t)?n.orThunk((function(){return S.some(t.getBody())})):n}
var Ct=dt.DOM
var St=function(t){return function(e){return t===e?-1:0}}
var kt=function(t){return function(e){return t.isBlock(e)||O(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}}
var Tt=function(t,e,n){if(gt(t)&&e>=0)return S.some(ht(t,e))
var r=mt(Ct)
return S.from(r.backwards(t,e,St(t),n)).map((function(t){return ht(t.container,t.container.data.length)}))}
var _t=function(t,e,n){if(gt(t)&&e>=t.length)return S.some(ht(t,e))
var r=mt(Ct)
return S.from(r.forwards(t,e,St(t),n)).map((function(t){return ht(t.container,0)}))}
var Ot=function(t,e,n){if(!gt(t))return S.none()
var r=t.textContent
if(e>=0&&e<=r.length)return S.some(ht(t,e))
var o=mt(Ct)
return S.from(o.backwards(t,e,St(t),n)).bind((function(t){var r=t.container.data
return Ot(t.container,e+r.length,n)}))}
var Et=function(t,e,n){if(!gt(t))return S.none()
var r=t.textContent
if(e<=r.length)return S.some(ht(t,e))
var o=mt(Ct)
return S.from(o.forwards(t,e,St(t),n)).bind((function(t){return Et(t.container,e-r.length,n)}))}
var Mt=function(t,e,n,r,o){var a=mt(t,kt(t))
return S.from(a.backwards(e,n,r,o))}
var At=function(t,e,n){if(gt(e)&&(n<0||n>e.data.length))return[]
var r=[n]
var o=e
while(o!==t&&o.parentNode){var a=o.parentNode
for(var i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){r.push(i)
break}o=a}return o===t?r.reverse():[]}
var zt=function(t,e,n,r,o){var a=At(t,e,n)
var i=At(t,r,o)
return{start:a,end:i}}
var Dt=function(t,e){var n=e.slice()
var r=n.pop()
var o=R(n,(function(t,e){return t.bind((function(t){return S.from(t.childNodes[e])}))}),S.some(t))
return o.bind((function(t){return gt(t)&&(r<0||r>t.data.length)?S.none():S.some({node:t,offset:r})}))}
var Rt=function(t,e){return Dt(t,e.start).bind((function(n){var r=n.node,o=n.offset
return Dt(t,e.end).map((function(t){var e=t.node,n=t.offset
var a=document.createRange()
a.setStart(r,o)
a.setEnd(e,n)
return a}))}))}
var It=function(t,e){return zt(t,e.startContainer,e.startOffset,e.endContainer,e.endOffset)}
var Ht=function(t,e,n){var r=_t(e,0,e)
r.each((function(r){var o=r.container
Et(o,n.start.length,e).each((function(n){var r=t.createRng()
r.setStart(o,0)
r.setEnd(n.container,n.offset)
bt(t,r,(function(t){return t===e}))}))}))}
var Lt=function(t,e){var n=t.dom
var r=e.pattern
var o=Rt(n.getRoot(),e.range).getOrDie("Unable to resolve path range")
xt(t,o).each((function(e){"block-format"===r.type?yt(r.format,t.formatter)&&t.undoManager.transact((function(){Ht(t.dom,e,r)
t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){Ht(t.dom,e,r)
t.execCommand(r.cmd,false,r.value)}))}))
return true}
var Bt=function(t,e){var n=e.replace(ft," ")
return H(t,(function(t){return 0===e.indexOf(t.start)||0===n.indexOf(t.start)}))}
var Pt=function(t,e){var n=t.dom
var r=t.selection.getRng()
return xt(t,r).filter((function(e){var r=ut(t)
var o=""===r&&n.is(e,"body")||n.is(e,r)
return null!==e&&o})).bind((function(t){var r=t.textContent
var o=Bt(e,r)
return o.map((function(e){if(vt.trim(r).length===e.start.length)return[]
return[{pattern:e,range:zt(n.getRoot(),t,0,t,0)}]}))})).getOr([])}
var Nt=function(t,e){if(0===e.length)return
var n=t.selection.getBookmark()
M(e,(function(e){return Lt(t,e)}))
t.selection.moveToBookmark(n)}
var Ft=0
var Vt=function(t){var e=new Date
var n=e.getTime()
var r=Math.floor(1e9*Math.random())
Ft++
return t+"_"+r+Ft+String(n)}
var jt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var Ut=function(t,e){return jt(t,e,t.length-e.length)}
var Wt=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})}
var qt=function(t,e){var n=t.createRng()
n.setStartAfter(e.start)
n.setEndBefore(e.end)
return n}
var Gt=function(t,e,n){var r=Rt(t.getRoot(),n).getOrDie("Unable to resolve path range")
var o=r.startContainer
var a=r.endContainer
var i=0===r.endOffset?a:a.splitText(r.endOffset)
var u=0===r.startOffset?o:o.splitText(r.startOffset)
return{prefix:e,end:i.parentNode.insertBefore(Wt(t,e+"-end"),i),start:u.parentNode.insertBefore(Wt(t,e+"-start"),u)}}
var $t=function(t,e,n){pt(t,t.get(e.prefix+"-end"),n)
pt(t,t.get(e.prefix+"-start"),n)}
var Xt=function(t,e,n){return function(t,e){var r=t.data
var o=r.substring(0,e)
var a=o.lastIndexOf(n.charAt(n.length-1))
var i=o.lastIndexOf(n)
return-1!==i?i+n.length:-1!==a?a+1:-1}}
var Kt=function(t,e,n,r){var o=e.start
var a=Mt(t,r.container,r.offset,Xt(t,n,o),n)
return a.bind((function(r){if(r.offset>=o.length){var a=t.createRng()
a.setStart(r.container,r.offset-o.length)
a.setEnd(r.container,r.offset)
return S.some(a)}var i=r.offset-o.length
return Ot(r.container,i,n).map((function(e){var n=t.createRng()
n.setStart(e.container,e.offset)
n.setEnd(r.container,r.offset)
return n})).filter((function(t){return t.toString()===o})).orThunk((function(){return Kt(t,e,n,ht(r.container,0))}))}))}
var Zt=function(t,e,n,r,o,a){void 0===a&&(a=false)
if(0===e.start.length&&!a){var i=t.createRng()
i.setStart(n,r)
i.setEnd(n,r)
return S.some(i)}return Tt(n,r,o).bind((function(n){var r=Kt(t,e,o,n)
return r.bind((function(t){if(a){if(t.endContainer===n.container&&t.endOffset===n.offset)return S.none()
if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return S.none()}return S.some(t)}))}))}
var Yt=function(t,e,n){var r=t.dom
var o=r.getRoot()
var a=n.pattern
var i=n.position.container
var u=n.position.offset
return Ot(i,u-n.pattern.end.length,e).bind((function(c){var s=zt(o,c.container,c.offset,i,u)
if(wt(a))return S.some({matches:[{pattern:a,startRng:s,endRng:s}],position:c})
var l=Jt(t,n.remainingPatterns,c.container,c.offset,e)
var f=l.getOr({matches:[],position:c})
var v=f.position
var d=Zt(r,a,v.container,v.offset,e,l.isNone())
return d.map((function(t){var e=It(o,t)
return{matches:f.matches.concat([{pattern:a,startRng:e,endRng:s}]),position:ht(t.startContainer,t.startOffset)}}))}))}
var Jt=function(t,e,n,r,o){var a=t.dom
return Tt(n,r,a.getRoot()).bind((function(i){var u=a.createRng()
u.setStart(o,0)
u.setEnd(n,r)
var c=u.toString()
for(var s=0;s<e.length;s++){var l=e[s]
if(!Ut(c,l.end))continue
var f=e.slice()
f.splice(s,1)
var v=Yt(t,o,{pattern:l,remainingPatterns:f,position:i})
if(v.isSome())return v}return S.none()}))}
var Qt=function(t,e,n){t.selection.setRng(n)
"inline-format"===e.type?M(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,false,e.value)}
var te=function(t,e,n,r){var o=qt(t.dom,n)
bt(t.dom,o,r)
Qt(t,e,o)}
var ee=function(t,e,n,r,o){var a=t.dom
var i=qt(a,r)
var u=qt(a,n)
bt(a,u,o)
bt(a,i,o)
var c={prefix:n.prefix,start:n.end,end:r.start}
var s=qt(a,c)
Qt(t,e,s)}
var ne=function(t,e){var r=Vt("mce_textpattern")
var o=D(e,(function(e,o){var a=Gt(t,r+"_end"+e.length,o.endRng)
return e.concat([n(n({},o),{endMarker:a})])}),[])
return D(o,(function(e,a){var i=o.length-e.length-1
var u=wt(a.pattern)?a.endMarker:Gt(t,r+"_start"+i,a.startRng)
return e.concat([n(n({},a),{startMarker:u})])}),[])}
var re=function(t,e,n){var r=t.selection.getRng()
if(false===r.collapsed)return[]
return xt(t,r).bind((function(o){var a=r.startOffset-(n?1:0)
return Jt(t,e,r.startContainer,a,o)})).fold((function(){return[]}),(function(t){return t.matches}))}
var oe=function(t,e){if(0===e.length)return
var n=t.dom
var r=t.selection.getBookmark()
var o=ne(n,e)
M(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock)
var o=function(t){return t===r}
wt(e.pattern)?te(t,e.pattern,e.endMarker,o):ee(t,e.pattern,e.startMarker,e.endMarker,o)
$t(n,e.endMarker,o)
$t(n,e.startMarker,o)}))
t.selection.moveToBookmark(r)}
var ae=function(t,e){if(!t.selection.isCollapsed())return false
var n=re(t,e.inlinePatterns,false)
var r=Pt(t,e.blockPatterns)
if(r.length>0||n.length>0){t.undoManager.add()
t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent(lt)
oe(t,n)
Nt(t,r)
var e=t.selection.getRng()
var o=Tt(e.startContainer,e.startOffset,t.dom.getRoot())
t.execCommand("mceInsertNewLine")
o.each((function(e){var n=e.container
if(n.data.charAt(e.offset-1)===lt){n.deleteData(e.offset-1,1)
pt(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()}))}}))}))
return true}return false}
var ie=function(t,e){var n=re(t,e.inlinePatterns,true)
n.length>0&&t.undoManager.transact((function(){oe(t,n)}))}
var ue=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return true}
var ce=function(t,e){return ue(t,e,(function(t,e){return t===e.keyCode&&false===st.modifierPressed(e)}))}
var se=function(t,e){return ue(t,e,(function(t,e){return t.charCodeAt(0)===e.charCode}))}
var le=function(t,e){var n=[",",".",";",":","!","?"]
var r=[32]
t.on("keydown",(function(n){13!==n.keyCode||st.modifierPressed(n)||ae(t,e.get())&&n.preventDefault()}),true)
t.on("keyup",(function(n){ce(r,n)&&ie(t,e.get())}))
t.on("keypress",(function(r){se(n,r)&&ct.setEditorTimeout(t,(function(){ie(t,e.get())}))}))}
function fe(){e.add("textpattern",(function(e){var n=t(it(e))
le(e,n)
return nt(n)}))}fe()})()},43562:()=>{(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){return t}
var n=function(){n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return n.apply(this,arguments)}
var r="\ufeff"
var o=function(t){return t.replace(/\uFEFF/g,"")}
var a=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var i="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"
var u={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:i}
var c={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13}
var s=[new RegExp(u.aletter),new RegExp(u.midnumlet),new RegExp(u.midletter),new RegExp(u.midnum),new RegExp(u.numeric),new RegExp(u.cr),new RegExp(u.lf),new RegExp(u.newline),new RegExp(u.extend),new RegExp(u.format),new RegExp(u.katakana),new RegExp(u.extendnumlet),new RegExp("@")]
var l=""
var f=new RegExp("^"+u.punctuation+"$")
var v=/^\s+$/
var d=s
var m=c.OTHER
var h=function(t){var e=m
var n=d.length
for(var r=0;r<n;++r){var o=d[r]
if(o&&o.test(t)){e=r
break}}return e}
var g=function(t){var e={}
return function(n){if(e[n])return e[n]
var r=t(n)
e[n]=r
return r}}
var p=function(t){var e=g(h)
return a(t,e)}
var b=function(t,e){var n=t[e]
var r=t[e+1]
if(e<0||e>t.length-1&&0!==e)return false
if(n===c.ALETTER&&r===c.ALETTER)return false
var o=t[e+2]
if(n===c.ALETTER&&(r===c.MIDLETTER||r===c.MIDNUMLET||r===c.AT)&&o===c.ALETTER)return false
var a=t[e-1]
if((n===c.MIDLETTER||n===c.MIDNUMLET||r===c.AT)&&r===c.ALETTER&&a===c.ALETTER)return false
if((n===c.NUMERIC||n===c.ALETTER)&&(r===c.NUMERIC||r===c.ALETTER))return false
if((n===c.MIDNUM||n===c.MIDNUMLET)&&r===c.NUMERIC&&a===c.NUMERIC)return false
if(n===c.NUMERIC&&(r===c.MIDNUM||r===c.MIDNUMLET)&&o===c.NUMERIC)return false
if(n===c.EXTEND||n===c.FORMAT||a===c.EXTEND||a===c.FORMAT||r===c.EXTEND||r===c.FORMAT)return false
if(n===c.CR&&r===c.LF)return false
if(n===c.NEWLINE||n===c.CR||n===c.LF)return true
if(r===c.NEWLINE||r===c.CR||r===c.LF)return true
if(n===c.KATAKANA&&r===c.KATAKANA)return false
if(r===c.EXTENDNUMLET&&(n===c.ALETTER||n===c.NUMERIC||n===c.KATAKANA||n===c.EXTENDNUMLET))return false
if(n===c.EXTENDNUMLET&&(r===c.ALETTER||r===c.NUMERIC||r===c.KATAKANA))return false
if(n===c.AT)return false
return true}
var y=l
var w=v
var x=f
var C=function(t){return"http"===t||"https"===t}
var S=function(t,e){var n
for(n=e;n<t.length;n++)if(w.test(t[n]))break
return n}
var k=function(t,e){var n=S(t,e+1)
var r=t.slice(e+1,n).join(y)
return"://"===r.substr(0,3)?n:e}
var T=function(t,e,n,r){var o=[]
var a=[]
for(var i=0;i<n.length;++i){a.push(t[i])
if(b(n,i)){var u=e[i]
if((r.includeWhitespace||!w.test(u))&&(r.includePunctuation||!x.test(u))){var c=i-a.length+1
var s=i+1
var l=e.slice(c,s).join(y)
if(C(l)){var f=k(e,i)
var v=t.slice(s,f)
Array.prototype.push.apply(a,v)
i=f}o.push(a)}a=[]}}return o}
var _=function(){return{includeWhitespace:false,includePunctuation:false}}
var O=function(t,e,o){o=n(n({},_()),o)
var a=[]
var i=[]
for(var u=0;u<t.length;u++){var c=e(t[u])
if(c!==r){a.push(t[u])
i.push(c)}}var s=p(i)
return T(a,i,s,o)}
var E=O
var M=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var A=function(t,e){var n=e.getBlockElements()
var r=e.getShortEndedElements()
var a=function(t){return n[t.nodeName]||r[t.nodeName]}
var i=[]
var u=""
var c=new M(t,t)
while(t=c.next())if(3===t.nodeType)u+=o(t.data)
else if(a(t)&&u.length){i.push(u)
u=""}u.length&&i.push(u)
return i}
var z=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}
var D=function(t,n){var r=A(t,n).join("\n")
return E(r.split(""),e).length}
var R=function(t,e){var n=A(t,e).join("")
return z(n)}
var I=function(t,e){var n=A(t,e).join("").replace(/\s/g,"")
return z(n)}
var H=function(t,e){return function(){return e(t.getBody(),t.schema)}}
var L=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}}
var B=function(t){return H(t,D)}
var P=function(t){return{body:{getWordCount:B(t),getCharacterCount:H(t,R),getCharacterCountWithoutSpaces:H(t,I)},selection:{getWordCount:L(t,D),getCharacterCount:L(t,R),getCharacterCountWithoutSpaces:L(t,I)},getCount:B(t)}}
var N=tinymce.util.Tools.resolve("tinymce.util.Delay")
var F=function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})}
var V=function(t,e){F(t,e)}
var j=function(t,e,n){var r=N.debounce((function(){return V(t,e)}),n)
t.on("init",(function(){V(t,e)
N.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}
var U=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:true}]})}
var W=function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return U(t,e)}})
t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return U(t,e)}})}
function q(e){void 0===e&&(e=300)
t.add("wordcount",(function(t){var n=P(t)
W(t,n)
j(t,n,e)
return n}))}q()})()},51768:(t,e,n)=>{(function(){"use strict"
var t=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var e=function(e){return function(n){return t(n)===e}}
var r=function(t){return function(e){return typeof e===t}}
var o=function(t){return function(e){return t===e}}
var a=e("string")
var i=e("object")
var u=e("array")
var c=r("boolean")
var s=o(void 0)
var l=function(t){return null===t||void 0===t}
var f=function(t){return!l(t)}
var v=r("function")
var d=r("number")
var m=function(t,e){if(u(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return false
return true}return false}
var h=function(){}
var g=function(t){return function(){return t()}}
var p=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var b=function(t,e){return function(n){return t(e(n))}}
var y=function(t){return function(){return t}}
var w=function(t){return t}
function x(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var C=function(t){return function(e){return!t(e)}}
var S=function(t){return function(){throw new Error(t)}}
var k=y(false)
var T=y(true)
var _=tinymce.util.Tools.resolve("tinymce.ThemeManager")
var O=function(){O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return O.apply(this,arguments)}
function E(t,e){var n={}
for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r])
if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0
for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function M(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var A=function(){return z}
var z=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:k,isSome:k,isNone:T,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:n,orThunk:e,map:A,each:h,bind:A,exists:k,forall:T,filter:A,equals:t,equals_:t,toArray:function(){return[]},toString:y("none()")}
return r}()
var D=function(t){var e=y(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:T,isNone:k,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return D(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:z},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(k,(function(e){return n(t,e)}))}}
return o}
var R=function(t){return null===t||void 0===t?z:D(t)}
var I={some:D,none:A,from:R}
var H=Array.prototype.slice
var L=Array.prototype.indexOf
var B=Array.prototype.push
var P=function(t,e){return L.call(t,e)}
var N=function(t,e){var n=P(t,e)
return-1===n?I.none():I.some(n)}
var F=function(t,e){return P(t,e)>-1}
var V=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var j=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var U=function(t,e){var n=[]
for(var r=0;r<t.length;r+=e){var o=H.call(t,r,r+e)
n.push(o)}return n}
var W=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var G=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var $=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var X=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var K=function(t,e,n){G(t,(function(t){n=e(n,t)}))
return n}
var Z=function(t,e,n){q(t,(function(t){n=e(n,t)}))
return n}
var Y=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return I.some(a)
if(n(a,r))break}return I.none()}
var J=function(t,e){return Y(t,e,k)}
var Q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return I.some(n)}return I.none()}
var tt=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
B.apply(e,t[n])}return e}
var et=function(t,e){return tt(W(t,e))}
var nt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var rt=function(t){var e=H.call(t,0)
e.reverse()
return e}
var ot=function(t,e){return X(t,(function(t){return!F(e,t)}))}
var at=function(t,e){var n={}
for(var r=0,o=t.length;r<o;r++){var a=t[r]
n[String(a)]=e(a,r)}return n}
var it=function(t,e){var n=H.call(t,0)
n.sort(e)
return n}
var ut=function(t,e){return e>=0&&e<t.length?I.some(t[e]):I.none()}
var ct=function(t){return ut(t,0)}
var st=function(t){return ut(t,t.length-1)}
var lt=v(Array.from)?Array.from:function(t){return H.call(t)}
var ft=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return I.none()}
var vt=function(t){var e=function(e){return t===e}
var n=function(e){return vt(t)}
var r=function(e){return vt(t)}
var o=function(e){return vt(e(t))}
var a=function(e){return vt(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var l=function(e){return e(t)}
var f=function(){return I.some(t)}
return{is:e,isValue:T,isError:k,getOr:y(t),getOrThunk:y(t),getOrDie:y(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:f}}
var dt=function(t){var e=function(t){return t()}
var n=function(){return S(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return dt(t)}
var i=function(e){return dt(e(t))}
var u=function(e){return dt(t)}
var c=function(e,n){return e(t)}
return{is:k,isValue:k,isError:T,getOr:w,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:h,bind:u,exists:k,forall:T,toOptional:I.none}}
var mt=function(t,e){return t.fold((function(){return dt(e)}),vt)}
var ht={value:vt,error:dt,fromOption:mt}
var gt;(function(t){t[t["Error"]=0]="Error"
t[t["Value"]=1]="Value"})(gt||(gt={}))
var pt=function(t,e,n){return t.stype===gt.Error?e(t.serror):n(t.svalue)}
var bt=function(t){var e=[]
var n=[]
q(t,(function(t){pt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))}))
return{values:e,errors:n}}
var yt=function(t,e){return t.stype===gt.Error?{stype:gt.Error,serror:e(t.serror)}:t}
var wt=function(t,e){return t.stype===gt.Value?{stype:gt.Value,svalue:e(t.svalue)}:t}
var xt=function(t,e){return t.stype===gt.Value?e(t.svalue):t}
var Ct=function(t,e){return t.stype===gt.Error?e(t.serror):t}
var St=function(t){return{stype:gt.Value,svalue:t}}
var kt=function(t){return{stype:gt.Error,serror:t}}
var Tt=function(t){return pt(t,ht.error,ht.value)}
var _t=function(t){return t.fold(kt,St)}
var Ot={fromResult:_t,toResult:Tt,svalue:St,partition:bt,serror:kt,bind:xt,bindError:Ct,map:wt,mapError:yt,fold:pt}
var Et=Object.keys
var Mt=Object.hasOwnProperty
var At=function(t,e){var n=Et(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var zt=function(t,e){return Dt(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var Dt=function(t,e){var n={}
At(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var Rt=function(t){return function(e,n){t[n]=e}}
var It=function(t,e,n,r){var o={}
At(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Ht=function(t,e){var n={}
It(t,e,Rt(n),h)
return n}
var Lt=function(t,e){var n=[]
At(t,(function(t,r){n.push(e(t,r))}))
return n}
var Bt=function(t,e){var n=Et(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
if(e(i,a,t))return I.some(i)}return I.none()}
var Pt=function(t){return Lt(t,(function(t){return t}))}
var Nt=function(t,e){return Ft(t,e)?I.from(t[e]):I.none()}
var Ft=function(t,e){return Mt.call(t,e)}
var Vt=function(t,e){return Ft(t,e)&&void 0!==t[e]&&null!==t[e]}
var jt=function(t){if(!u(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
q(t,(function(r,o){var a=Et(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var c=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!u(c))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+c.length+" ("+c+"), got "+a)
var u=function(t){var r=Et(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=nt(e,(function(t){return F(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:u,log:function(t){console.log(t,{constructors:e,constructor:i,params:n})}}}}))
return n}
var Ut={generate:jt}
var Wt=Object.prototype.hasOwnProperty
var qt=function(t,e){return e}
var Gt=function(t,e){var n=i(t)&&i(e)
return n?Xt(t,e):e}
var $t=function(t){return function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
if(0===e.length)throw new Error("Can't merge zero objects")
var r={}
for(var o=0;o<e.length;o++){var a=e[o]
for(var i in a)Wt.call(a,i)&&(r[i]=t(r[i],a[i]))}return r}}
var Xt=$t(Gt)
var Kt=$t(qt)
var Zt=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var Yt=Ut.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}])
var Jt=function(t){return Yt.defaultedThunk(y(t))}
var Qt=function(t){return Yt.mergeWithThunk(y(t))}
var te=Yt.strict
var ee=Yt.asOption
var ne=Yt.defaultedThunk
Yt.asDefaultedOptionThunk
var re=Yt.mergeWithThunk
Ut.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var oe=function(t){var e=[]
var n=[]
q(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))}))
return{errors:e,values:n}}
var ae=function(t,e){var n={}
At(t,(function(t,r){F(e,r)||(n[r]=t)}))
return n}
var ie=function(t,e){var n
return n={},n[t]=e,n}
var ue=function(t){var e={}
q(t,(function(t){e[t.key]=t.value}))
return e}
var ce=function(t,e){return ae(t,e)}
var se=function(t,e){return ie(t,e)}
var le=function(t){return ue(t)}
var fe=function(t,e){return 0===t.length?ht.value(e):ht.value(Xt(e,Kt.apply(void 0,t)))}
var ve=function(t){return ht.error(tt(t))}
var de=function(t,e){var n=oe(t)
return n.errors.length>0?ve(n.errors):fe(n.values,e)}
var me=function(t,e){return t.length>0?Ot.svalue(Xt(e,Kt.apply(void 0,t))):Ot.svalue(e)}
var he=function(t){return p(Ot.serror,tt)(t)}
var ge=function(t,e){var n=Ot.partition(t)
return n.errors.length>0?he(n.errors):me(n.values,e)}
var pe=function(t){var e=Ot.partition(t)
return e.errors.length>0?he(e.errors):Ot.svalue(e.values)}
var be={consolidateObj:ge,consolidateArr:pe}
var ye=function(t){return i(t)&&Et(t).length>100?" removed due to size":JSON.stringify(t,null,2)}
var we=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t
return W(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))}
var xe=function(t,e){return Ot.serror([{path:t,getErrorInfo:e}])}
var Ce=function(t,e,n){return xe(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+ye(n)}))}
var Se=function(t,e){return xe(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}
var ke=function(t,e,n){return xe(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ye(e)}))}
var Te=function(t,e){return xe(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}
var _e=function(t,e){return xe(t,(function(){return e}))}
var Oe=Ut.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}])
var Ee=function(t,e,n){return Nt(e,n).fold((function(){return Ce(t,n,e)}),Ot.svalue)}
var Me=function(t,e,n){var r=Nt(t,e).fold((function(){return n(t)}),w)
return Ot.svalue(r)}
var Ae=function(t,e){return Ot.svalue(Nt(t,e))}
var ze=function(t,e,n){var r=Nt(t,e).map((function(e){return true===e?n(t):e}))
return Ot.svalue(r)}
var De=function(t,e,n,r){return n.fold((function(n,o,a,i){var u=function(e){var a=i.extract(t.concat([n]),r,e)
return Ot.map(a,(function(t){return ie(o,r(t))}))}
var c=function(e){return e.fold((function(){var t=ie(o,r(I.none()))
return Ot.svalue(t)}),(function(e){var a=i.extract(t.concat([n]),r,e)
return Ot.map(a,(function(t){return ie(o,r(I.some(t)))}))}))}
return a.fold((function(){return Ot.bind(Ee(t,e,n),u)}),(function(t){return Ot.bind(Me(e,n,t),u)}),(function(){return Ot.bind(Ae(e,n),c)}),(function(t){return Ot.bind(ze(e,n,t),c)}),(function(t){var r=t(e)
var o=Ot.map(Me(e,n,y({})),(function(t){return Xt(r,t)}))
return Ot.bind(o,u)}))}),(function(t,n){var o=n(e)
return Ot.svalue(ie(t,r(o)))}))}
var Re=function(t,e,n,r){var o=W(n,(function(n){return De(t,e,n,r)}))
return be.consolidateObj(o,{})}
var Ie=function(t){var e=function(e,n,r){return t().extract(e,n,r)}
var n=function(){return t().toString()}
return{extract:e,toString:n}}
var He=function(t){var e=function(e,n,r){return Ot.bindError(t(r,n),(function(t){return _e(e,t)}))}
var n=function(){return"val"}
return{extract:e,toString:n}}
var Le=function(t){return Et(Ht(t,(function(t){return void 0!==t&&null!==t})))}
var Be=function(t){var e=Pe(t)
var n=K(t,(function(t,e){return e.fold((function(e){return Xt(t,se(e,true))}),y(t))}),{})
var r=function(t,r,o){var a=c(o)?[]:Le(o)
var i=X(a,(function(t){return!Vt(n,t)}))
return 0===i.length?e.extract(t,r,o):Te(t,i)}
return{extract:r,toString:e.toString}}
var Pe=function(t){var e=function(e,n,r){return Re(e,r,t,n)}
var n=function(){var e=W(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}))
return"obj{\n"+e.join("\n")+"}"}
return{extract:e,toString:n}}
var Ne=function(t){var e=function(e,n,r){var o=W(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}))
return be.consolidateArr(o)}
var n=function(){return"array("+t.toString()+")"}
return{extract:e,toString:n}}
var Fe=function(t){var e=function(e,n,r){var o=[]
for(var a=0,i=t;a<i.length;a++){var u=i[a]
var c=u.extract(e,n,r)
if(c.stype===gt.Value)return c
o.push(c)}return be.consolidateArr(o)}
var n=function(){return"oneOf("+W(t,(function(t){return t.toString()})).join(", ")+")"}
return{extract:e,toString:n}}
var Ve=function(t,e){var n=function(e,n){return Ne(He(t)).extract(e,w,n)}
var r=function(t,r,o){var a=Et(o)
var i=n(t,a)
return Ot.bind(i,(function(n){var a=W(n,(function(t){return Oe.field(t,t,te(),e)}))
return Pe(a).extract(t,r,o)}))}
var o=function(){return"setOf("+e.toString()+")"}
return{extract:r,toString:o}}
var je=function(t,e){var n=Zt((function(){return e()}))
var r=function(t,e,r){return n().extract(t,e,r)}
var o=function(){return n().toString()}
return{extract:r,toString:o}}
var Ue=y(He(Ot.svalue))
var We=p(Ne,Pe)
var qe=Oe.state
var Ge=Oe.field
var $e=function(t,e,n,r,o){var a=Nt(r,o)
return a.fold((function(){return ke(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))}
var Xe=function(t,e){var n=function(n,r,o){var a=Nt(o,t)
return a.fold((function(){return Se(n,t)}),(function(t){return $e(n,r,o,e,t)}))}
var r=function(){return"chooseOn("+t+"). Possible values: "+Et(e)}
return{extract:n,toString:r}}
var Ke=He(Ot.svalue)
var Ze=function(t){return We(t)}
var Ye=function(){return Ne(Ke)}
var Je=Ie
var Qe=function(t){return He((function(e){return t(e).fold(Ot.serror,Ot.svalue)}))}
var tn=function(t,e){return Ve((function(e){return Ot.fromResult(t(e))}),e)}
var en=function(t,e,n,r){var o=e.extract([t],n,r)
return Ot.mapError(o,(function(t){return{input:r,errors:t}}))}
var nn=function(t,e,n){return Ot.toResult(en(t,e,w,n))}
var rn=function(t){return t.fold((function(t){throw new Error(an(t))}),w)}
var on=function(t,e,n){return rn(nn(t,e,n))}
var an=function(t){return"Errors: \n"+we(t.errors).join("\n")+"\n\nInput object: "+ye(t.input)}
var un=function(t,e){return Xe(t,e)}
var cn=function(t,e){return Xe(t,zt(e,Pe))}
var sn=function(t,e){return je(t,e)}
var ln=y(Ke)
var fn=function(t,e){return He((function(n){var r=typeof n
return t(n)?Ot.svalue(n):Ot.serror("Expected type: "+e+" but got: "+r)}))}
var vn=fn(d,"number")
var dn=fn(a,"string")
var mn=fn(c,"boolean")
var hn=fn(v,"function")
var gn=function(t){var e=function(t,e){var n=t.next()
while(!n.done){if(!e(n.value))return false
n=t.next()}return true}
if(Object(t)!==t)return true
switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true
case"Array":case"Object":return Object.keys(t).every((function(e){return gn(t[e])}))
case"Map":return e(t.keys(),gn)&&e(t.values(),gn)
case"Set":return e(t.keys(),gn)
default:return false}}
var pn=He((function(t){return gn(t)?Ot.svalue(t):Ot.serror("Expected value to be acceptable for sending via postMessage")}))
var bn=function(t){return Qe((function(e){return F(t,e)?ht.value(e):ht.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))}
var yn=function(t){return Ge(t,t,te(),Ue())}
var wn=function(t,e){return Ge(t,t,te(),e)}
var xn=function(t){return wn(t,vn)}
var Cn=function(t){return wn(t,dn)}
var Sn=function(t,e){return Ge(t,t,te(),bn(e))}
var kn=function(t){return wn(t,mn)}
var Tn=function(t){return wn(t,hn)}
var _n=function(t,e){return Ge(t,t,ee(),He((function(n){return Ot.serror("The field: "+t+" is forbidden. "+e)})))}
var On=function(t,e){return Ge(t,t,te(),Pe(e))}
var En=function(t,e){return Ge(t,t,te(),We(e))}
var Mn=function(t,e){return Ge(t,t,te(),Ne(e))}
var An=function(t){return Ge(t,t,ee(),Ue())}
var zn=function(t,e){return Ge(t,t,ee(),e)}
var Dn=function(t){return zn(t,vn)}
var Rn=function(t){return zn(t,dn)}
var In=function(t){return zn(t,hn)}
var Hn=function(t,e){return zn(t,Ne(e))}
var Ln=function(t,e){return zn(t,Pe(e))}
var Bn=function(t,e){return zn(t,Be(e))}
var Pn=function(t,e){return Ge(t,t,Jt(e),Ue())}
var Nn=function(t,e,n){return Ge(t,t,Jt(e),n)}
var Fn=function(t,e){return Nn(t,e,vn)}
var Vn=function(t,e){return Nn(t,e,dn)}
var jn=function(t,e,n){return Nn(t,e,bn(n))}
var Un=function(t,e){return Nn(t,e,mn)}
var Wn=function(t,e){return Nn(t,e,hn)}
var qn=function(t,e){return Nn(t,e,pn)}
var Gn=function(t,e,n){return Nn(t,e,Ne(n))}
var $n=function(t,e,n){return Nn(t,e,Pe(n))}
var Xn=function(t,e){return qe(t,e)}
var Kn=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Zn=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return Qn(r.childNodes[0])}
var Yn=function(t,e){var n=e||document
var r=n.createElement(t)
return Qn(r)}
var Jn=function(t,e){var n=e||document
var r=n.createTextNode(t)
return Qn(r)}
var Qn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var tr=function(t,e,n){return I.from(t.dom.elementFromPoint(e,n)).map(Qn)}
var er={fromHtml:Zn,fromTag:Yn,fromText:Jn,fromDom:Qn,fromPoint:tr}
var nr=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:y(o),isiPhone:y(a),isTablet:y(c),isPhone:y(s),isTouch:y(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:y(l),isDesktop:y(f)}}
var rr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var or=function(t,e){var n=rr(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return ur(r(1),r(2))}
var ar=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return ir()
return or(t,n)}
var ir=function(){return ur(0,0)}
var ur=function(t,e){return{major:t,minor:e}}
var cr={nu:ur,detect:ar,unknown:ir}
var sr=function(t,e){var n=String(e).toLowerCase()
return J(t,(function(t){return t.search(n)}))}
var lr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var fr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var vr={detectBrowser:lr,detectOs:fr}
var dr=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var mr=function(t,e){return-1!==t.indexOf(e)}
var hr=function(t,e){return dr(t,e,t.length-e.length)}
var gr=function(t){return function(e){return e.replace(t,"")}}
var pr=gr(/^\s+|\s+$/g)
var br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var yr=function(t){return function(e){return mr(e,t)}}
var wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mr(t,"edge/")&&mr(t,"chrome")&&mr(t,"safari")&&mr(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,br],search:function(t){return mr(t,"chrome")&&!mr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mr(t,"msie")||mr(t,"trident")}},{name:"Opera",versionRegexes:[br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yr("firefox")},{name:"Safari",versionRegexes:[br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mr(t,"safari")||mr(t,"mobile/"))&&mr(t,"applewebkit")}}]
var xr=[{name:"Windows",search:yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mr(t,"iphone")||mr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yr("linux"),versionRegexes:[]},{name:"Solaris",search:yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Cr={browsers:y(wr),oses:y(xr)}
var Sr="Edge"
var kr="Chrome"
var Tr="IE"
var _r="Opera"
var Or="Firefox"
var Er="Safari"
var Mr=function(){return Ar({current:void 0,version:cr.unknown()})}
var Ar=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Sr),isChrome:r(kr),isIE:r(Tr),isOpera:r(_r),isFirefox:r(Or),isSafari:r(Er)}}
var zr={unknown:Mr,nu:Ar,edge:y(Sr),chrome:y(kr),ie:y(Tr),opera:y(_r),firefox:y(Or),safari:y(Er)}
var Dr="Windows"
var Rr="iOS"
var Ir="Android"
var Hr="Linux"
var Lr="OSX"
var Br="Solaris"
var Pr="FreeBSD"
var Nr="ChromeOS"
var Fr=function(){return Vr({current:void 0,version:cr.unknown()})}
var Vr=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Dr),isiOS:r(Rr),isAndroid:r(Ir),isOSX:r(Lr),isLinux:r(Hr),isSolaris:r(Br),isFreeBSD:r(Pr),isChromeOS:r(Nr)}}
var jr={unknown:Fr,nu:Vr,windows:y(Dr),ios:y(Rr),android:y(Ir),linux:y(Hr),osx:y(Lr),solaris:y(Br),freebsd:y(Pr),chromeos:y(Nr)}
var Ur=function(t,e){var n=Cr.browsers()
var r=Cr.oses()
var o=vr.detectBrowser(n,t).fold(zr.unknown,zr.nu)
var a=vr.detectOs(r,t).fold(jr.unknown,jr.nu)
var i=nr(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Wr={detect:Ur}
var qr=function(t){return window.matchMedia(t).matches}
var Gr=Zt((function(){return Wr.detect(navigator.userAgent,qr)}))
var $r=function(){return Gr()}
var Xr=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var Kr=function(t,e){return Xr(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Zr=9
var Yr=11
var Jr=1
var Qr=3
var to=function(t,e){var n=t.dom
if(n.nodeType!==Jr)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var eo=function(t){return t.nodeType!==Jr&&t.nodeType!==Zr&&t.nodeType!==Yr||0===t.childElementCount}
var no=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?[]:W(n.querySelectorAll(t),er.fromDom)}
var ro=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?I.none():I.from(n.querySelector(t)).map(er.fromDom)}
var oo=function(t,e){return t.dom===e.dom}
var ao=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var io=function(t,e){return Kr(t.dom,e.dom)}
var uo=function(t,e){return $r().browser.isIE()?io(t,e):ao(t,e)}
var co=function(t){return v(t)?t:k}
var so=function(t,e,n){var r=t.dom
var o=co(n)
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
var i=e(a)
if(i.isSome())return i
if(o(a))break}return I.none()}
var lo=function(t,e,n){var r=e(t)
var o=co(n)
return r.orThunk((function(){return o(t)?I.none():so(t,e,o)}))}
var fo=function(t,e){return oo(t.element,e.event.target)}
var vo=function(t){if(!Vt(t,"can")&&!Vt(t,"abort")&&!Vt(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!")
return on("Extracting event.handler",Be([Pn("can",T),Pn("abort",k),Pn("run",h)]),t)}
var mo=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Z(t,(function(t,r){return t&&e(r).apply(void 0,n)}),true)}}
var ho=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Z(t,(function(t,r){return t||e(r).apply(void 0,n)}),false)}}
var go=function(t){return v(t)?{can:T,abort:k,run:t}:t}
var po=function(t){var e=mo(t,(function(t){return t.can}))
var n=ho(t,(function(t){return t.abort}))
var r=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
q(t,(function(t){t.run.apply(void 0,e)}))}
return vo({can:e,abort:n,run:r})}
var bo=y
var yo=bo("touchstart")
var wo=bo("touchmove")
var xo=bo("touchend")
var Co=bo("touchcancel")
var So=bo("mousedown")
var ko=bo("mousemove")
var To=bo("mouseout")
var _o=bo("mouseup")
var Oo=bo("mouseover")
var Eo=bo("focusin")
var Mo=bo("focusout")
var Ao=bo("keydown")
var zo=bo("keyup")
var Do=bo("input")
var Ro=bo("change")
var Io=bo("click")
var Ho=bo("transitionend")
var Lo=bo("selectstart")
var Bo=function(t){return y("alloy."+t)}
var Po={tap:Bo("tap")}
var No=Bo("focus")
var Fo=Bo("blur.post")
var Vo=Bo("paste.post")
var jo=Bo("receive")
var Uo=Bo("execute")
var Wo=Bo("focus.item")
var qo=Po.tap
var Go=Bo("longpress")
var $o=Bo("sandbox.close")
var Xo=Bo("typeahead.cancel")
var Ko=Bo("system.init")
var Zo=Bo("system.touchmove")
var Yo=Bo("system.touchend")
var Jo=Bo("system.scroll")
var Qo=Bo("system.resize")
var ta=Bo("system.attached")
var ea=Bo("system.detached")
var na=Bo("system.dismissRequested")
var ra=Bo("system.repositionRequested")
var oa=Bo("focusmanager.shifted")
var aa=Bo("slotcontainer.visibility")
var ia=Bo("change.tab")
var ua=Bo("dismiss.tab")
var ca=Bo("highlight")
var sa=Bo("dehighlight")
var la=function(t,e){ma(t,t.element,e,{})}
var fa=function(t,e,n){ma(t,t.element,e,n)}
var va=function(t){la(t,Uo())}
var da=function(t,e,n){ma(t,e,n,{})}
var ma=function(t,e,n,r){var o=O({target:e},r)
t.getSystem().triggerEvent(n,e,o)}
var ha=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)}
var ga=function(t){return le(t)}
var pa=function(t,e){return{key:t,value:vo({abort:e})}}
var ba=function(t,e){return{key:t,value:vo({can:e})}}
var ya=function(t){return{key:t,value:vo({run:function(t,e){e.event.prevent()}})}}
var wa=function(t,e){return{key:t,value:vo({run:e})}}
var xa=function(t,e,n){return{key:t,value:vo({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}}
var Ca=function(t){return function(e){return wa(t,e)}}
var Sa=function(t){return function(e){return{key:t,value:vo({run:function(t,n){fo(t,n)&&e(t,n)}})}}}
var ka=function(t,e){return wa(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){ha(e,e.element,t,r)}))}))}
var Ta=function(t,e,n){var r=e.partUids[n]
return ka(t,r)}
var _a=function(t,e){return wa(t,(function(t,n){var r=n.event
var o=t.getSystem().getByDom(r.target).fold((function(){var e=lo(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),k)
return e.getOr(t)}),(function(t){return t}))
e(t,o,n)}))}
var Oa=function(t){return wa(t,(function(t,e){e.cut()}))}
var Ea=function(t){return wa(t,(function(t,e){e.stop()}))}
var Ma=function(t,e){return Sa(t)(e)}
var Aa=Sa(ta())
var za=Sa(ea())
var Da=Sa(Ko())
var Ra=Ca(Uo())
"undefined"!==typeof window?window:Function("return this;")()
var Ia=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Ha=function(t){return t.dom.nodeType}
var La=function(t){return function(e){return Ha(e)===t}}
var Ba=La(Jr)
var Pa=La(Qr)
var Na=La(Zr)
var Fa=La(Yr)
var Va=function(t){return er.fromDom(t.dom.ownerDocument)}
var ja=function(t){return Na(t)?t:Va(t)}
var Ua=function(t){return er.fromDom(ja(t).dom.documentElement)}
var Wa=function(t){return er.fromDom(ja(t).dom.defaultView)}
var qa=function(t){return I.from(t.dom.parentNode).map(er.fromDom)}
var Ga=function(t){return qa(t)}
var $a=function(t){return I.from(t.dom.offsetParent).map(er.fromDom)}
var Xa=function(t){return I.from(t.dom.nextSibling).map(er.fromDom)}
var Ka=function(t){return W(t.dom.childNodes,er.fromDom)}
var Za=function(t,e){var n=t.dom.childNodes
return I.from(n[e]).map(er.fromDom)}
var Ya=function(t){return Za(t,0)}
var Ja=function(t){return Fa(t)&&f(t.dom.host)}
var Qa=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode)
var ti=y(Qa)
var ei=Qa?function(t){return er.fromDom(t.dom.getRootNode())}:ja
var ni=function(t){return Ja(t)?t:er.fromDom(ja(t).dom.body)}
var ri=function(t){return oi(t).isSome()}
var oi=function(t){var e=ei(t)
return Ja(e)?I.some(e):I.none()}
var ai=function(t){return er.fromDom(t.dom.host)}
var ii=function(t){if(ti()&&f(t.target)){var e=er.fromDom(t.target)
if(Ba(e)&&ui(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return ct(n)}}return I.from(t.target)}
var ui=function(t){return f(t.dom.shadowRoot)}
var ci=function(t,e){var n=qa(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var si=function(t,e){var n=Xa(t)
n.fold((function(){var n=qa(t)
n.each((function(t){fi(t,e)}))}),(function(t){ci(t,e)}))}
var li=function(t,e){var n=Ya(t)
n.fold((function(){fi(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var fi=function(t,e){t.dom.appendChild(e.dom)}
var vi=function(t,e,n){Za(t,n).fold((function(){fi(t,e)}),(function(t){ci(t,e)}))}
var di=function(t,e){q(e,(function(e){ci(t,e)}))}
var mi=function(t,e){q(e,(function(e){fi(t,e)}))}
var hi=function(t){t.dom.textContent=""
q(Ka(t),(function(t){gi(t)}))}
var gi=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var pi=function(t){var e=Ka(t)
e.length>0&&di(t,e)
gi(t)}
var bi=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return Ka(er.fromDom(r))}
var yi=function(t){return t.dom.innerHTML}
var wi=function(t,e){var n=Va(t)
var r=n.dom
var o=er.fromDom(r.createDocumentFragment())
var a=bi(e,r)
mi(o,a)
hi(t)
fi(t,o)}
var xi=function(t){var e=er.fromTag("div")
var n=er.fromDom(t.dom.cloneNode(true))
fi(e,n)
return yi(e)}
var Ci=function(t,e,n){if(!(a(n)||c(n)||d(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Si=function(t,e,n){Ci(t.dom,e,n)}
var ki=function(t,e){var n=t.dom
At(e,(function(t,e){Ci(n,e,t)}))}
var Ti=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var _i=function(t,e){return I.from(Ti(t,e))}
var Oi=function(t,e){var n=t.dom
return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}
var Ei=function(t,e){t.dom.removeAttribute(e)}
var Mi=function(t,e){return er.fromDom(t.dom.cloneNode(e))}
var Ai=function(t){return Mi(t,false)}
var zi=function(t){if(Ja(t))return"#shadow-root"
var e=Ai(t)
return xi(e)}
var Di=function(t){return zi(t)}
var Ri=function(t,e,n){return oo(e,t.element)&&!oo(e,n)}
var Ii=ga([ba(No(),(function(t,e){var n=e.event
var r=n.originator
var o=n.target
if(Ri(t,r,o)){console.warn(No()+" did not get interpreted by the desired target. \nOriginator: "+Di(r)+"\nTarget: "+Di(o)+"\nCheck the "+No()+" event handlers")
return false}return true}))])
var Hi=Object.freeze({__proto__:null,events:Ii})
var Li=0
var Bi=function(t){var e=new Date
var n=e.getTime()
var r=Math.floor(1e9*Math.random())
Li++
return t+"_"+r+Li+String(n)}
var Pi=y("alloy-id-")
var Ni=y("data-alloy-id")
var Fi=Pi()
var Vi=Ni()
var ji=function(t,e){var n=Bi(Fi+t)
Ui(e,n)
return n}
var Ui=function(t,e){Object.defineProperty(t.dom,Vi,{value:e,writable:true})}
var Wi=function(t){var e=Ba(t)?t.dom[Vi]:null
return I.from(e)}
var qi=function(t){return Bi(t)}
var Gi=w
var $i=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+Di(t().element)+" is not in context.":""))}}
return{debugInfo:y("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:k}}
var Xi=$i()
var Ki=function(t,e,n){var r=n.toString()
var o=r.indexOf(")")+1
var a=r.indexOf("(")
var i=r.substring(a+1,o-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Zi(i.slice(0,1).concat(i.slice(3)))}}
return t}
var Zi=function(t){return W(t,(function(t){return hr(t,"/*")?t.substring(0,t.length-"/*".length):t}))}
var Yi=function(t,e){var n=t.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Zi(a)}}
return t}
var Ji=function(t,e){var n=e.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Zi(a.slice(1))}}
return t}
var Qi=Bi("alloy-premade")
var tu=function(t){return se(Qi,t)}
var eu=function(t){return Nt(t,Qi)}
var nu=function(t){return Ji((function(e){var n=[]
for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r]
return t.apply(void 0,M([e.getApis(),e],n))}),t)}
var ru={init:function(){return ou({readState:function(){return"No State required"}})}}
var ou=function(t){return t}
var au=function(t,e){var n=W(e,(function(t){return Ln(t.name(),[yn("config"),Pn("state",ru)])}))
var r=nn("component.behaviours",Pe(n),t.behaviours).fold((function(e){throw new Error(an(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}))
return{list:e,data:zt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}))
return function(){return e}}))}}
var iu=function(t){return t.list}
var uu=function(t){return t.data}
var cu=function(t,e){var n={}
At(t,(function(t,r){At(t,(function(t,o){var a=Nt(n,o).getOr([])
n[o]=a.concat([e(r,t)])}))}))
return n}
var su=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}}
var lu=function(t,e){return O(O({},t),{attributes:O(O({},t.attributes),e.attributes),styles:O(O({},t.styles),e.styles),classes:t.classes.concat(e.classes)})}
var fu=function(t,e,n,r){var o=O({},e)
q(n,(function(e){o[e.name()]=e.exhibit(t,r)}))
var a=cu(o,(function(t,e){return{name:t,modification:e}}))
var i=function(t){return K(t,(function(t,e){return O(O({},e.modification),t)}),{})}
var u=K(a.classes,(function(t,e){return e.modification.concat(t)}),[])
var c=i(a.attributes)
var s=i(a.styles)
return su({classes:u,attributes:c,styles:s})}
var vu=function(t,e,n,r){try{var o=it(n,(function(n,o){var a=n[e]
var i=o[e]
var u=r.indexOf(a)
var c=r.indexOf(i)
if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2))
if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2))
return u<c?-1:c<u?1:0}))
return ht.value(o)}catch(t){return ht.error([t])}}
var du=function(t,e){return{handler:t,purpose:e}}
var mu=function(t,e){return{cHandler:t,purpose:e}}
var hu=function(t,e){return mu(x.apply(void 0,[t.handler].concat(e)),t.purpose)}
var gu=function(t){return t.cHandler}
var pu=function(t,e){return{name:t,handler:e}}
var bu=function(t,e){var n={}
q(t,(function(t){n[t.name()]=t.handlers(e)}))
return n}
var yu=function(t,e,n){var r=O(O({},n),bu(e,t))
return cu(r,pu)}
var wu=function(t,e,n,r){var o=yu(t,n,r)
return ku(o,e)}
var xu=function(t){var e=go(t)
return function(t,n){var r=[]
for(var o=2;o<arguments.length;o++)r[o-2]=arguments[o]
var a=[t,n].concat(r)
e.abort.apply(void 0,a)?n.stop():e.can.apply(void 0,a)&&e.run.apply(void 0,a)}}
var Cu=function(t,e){return ht.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(W(e,(function(t){return t.name})),null,2)])}
var Su=function(t,e,n){var r=e[n]
return r?vu("Event: "+n,"name",t,r).map((function(t){var e=W(t,(function(t){return t.handler}))
return po(e)})):Cu(n,t)}
var ku=function(t,e){var n=Lt(t,(function(t,n){var r=1===t.length?ht.value(t[0].handler):Su(t,e,n)
return r.map((function(r){var o=xu(r)
var a=t.length>1?X(e[n],(function(e){return V(t,(function(t){return t.name===e}))})).join(" > "):t[0].name
return se(n,du(o,a))}))}))
return de(n,{})}
var Tu="alloy.base.behaviour"
var _u=function(t){var e
return nn("custom.definition",Pe([Ge("dom","dom",te(),Pe([yn("tag"),Pn("styles",{}),Pn("classes",[]),Pn("attributes",{}),An("value"),An("innerHtml")])),yn("components"),yn("uid"),Pn("events",{}),Pn("apis",{}),Ge("eventOrder","eventOrder",Qt((e={},e[Uo()]=["disabling",Tu,"toggling","typeaheadevents"],e[No()]=[Tu,"focusing","keying"],e[Ko()]=[Tu,"disabling","toggling","representing"],e[Do()]=[Tu,"representing","streaming","invalidating"],e[ea()]=[Tu,"representing","item-events","tooltipping"],e[So()]=["focusing",Tu,"item-type-events"],e[yo()]=["focusing",Tu,"item-type-events"],e[Oo()]=["item-type-events","tooltipping"],e[jo()]=["receiving","reflecting","tooltipping"],e)),ln()),An("domModification")]),t)}
var Ou=function(t){return O(O({},t.dom),{uid:t.uid,domChildren:W(t.components,(function(t){return t.element}))})}
var Eu=function(t){return t.domModification.fold((function(){return su({})}),su)}
var Mu=function(t){return t.events}
var Au=function(t,e){var n=Ti(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var zu=function(t,e,n){var r=Au(t,e)
var o=r.concat([n])
Si(t,e,o.join(" "))
return true}
var Du=function(t,e,n){var r=X(Au(t,e),(function(t){return t!==n}))
r.length>0?Si(t,e,r.join(" ")):Ei(t,e)
return false}
var Ru=function(t){return void 0!==t.dom.classList}
var Iu=function(t){return Au(t,"class")}
var Hu=function(t,e){return zu(t,"class",e)}
var Lu=function(t,e){return Du(t,"class",e)}
var Bu=function(t,e){Ru(t)?t.dom.classList.add(e):Hu(t,e)}
var Pu=function(t){var e=Ru(t)?t.dom.classList:Iu(t)
0===e.length&&Ei(t,"class")}
var Nu=function(t,e){if(Ru(t)){var n=t.dom.classList
n.remove(e)}else Lu(t,e)
Pu(t)}
var Fu=function(t,e){return Ru(t)&&t.dom.classList.contains(e)}
var Vu=function(t,e){q(e,(function(e){Bu(t,e)}))}
var ju=function(t,e){q(e,(function(e){Nu(t,e)}))}
var Uu=function(t){return void 0!==t.style&&v(t.style.getPropertyValue)}
var Wu=function(t){var e=Pa(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return oi(er.fromDom(e)).fold((function(){return n.body.contains(e)}),b(Wu,ai))}
var qu=function(){return Gu(er.fromDom(document))}
var Gu=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return er.fromDom(e)}
var $u=function(t,e,n){if(!a(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Uu(t)&&t.style.setProperty(e,n)}
var Xu=function(t,e){Uu(t)&&t.style.removeProperty(e)}
var Ku=function(t,e,n){var r=t.dom
$u(r,e,n)}
var Zu=function(t,e){var n=t.dom
At(e,(function(t,e){$u(n,e,t)}))}
var Yu=function(t,e){var n=t.dom
At(e,(function(t,e){t.fold((function(){Xu(n,e)}),(function(t){$u(n,e,t)}))}))}
var Ju=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||Wu(t)?o:Qu(n,e)}
var Qu=function(t,e){return Uu(t)?t.style.getPropertyValue(e):""}
var tc=function(t,e){var n=t.dom
var r=Qu(n,e)
return I.from(r).filter((function(t){return t.length>0}))}
var ec=function(t){var e={}
var n=t.dom
if(Uu(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r)
e[o]=n.style[o]}return e}
var nc=function(t,e,n){var r=er.fromTag(t)
Ku(r,e,n)
var o=tc(r,e)
return o.isSome()}
var rc=function(t,e){var n=t.dom
Xu(n,e)
_i(t,"style").map(pr).is("")&&Ei(t,"style")}
var oc=function(t){return t.dom.offsetWidth}
var ac=function(t){return t.dom.value}
var ic=function(t,e){if(void 0===e)throw new Error("Value.set was undefined")
t.dom.value=e}
var uc=function(t){var e=er.fromTag(t.tag)
ki(e,t.attributes)
Vu(e,t.classes)
Zu(e,t.styles)
t.innerHtml.each((function(t){return wi(e,t)}))
var n=t.domChildren
mi(e,n)
t.value.each((function(t){ic(e,t)}))
t.uid
Ui(e,t.uid)
return e}
var cc=function(t){var e=Nt(t,"behaviours").getOr({})
var n=X(Et(e),(function(t){return void 0!==e[t]}))
return W(n,(function(t){return e[t].me}))}
var sc=function(t,e){return au(t,e)}
var lc=function(t){var e=cc(t)
return sc(t,e)}
var fc=function(t,e,n){var r=Ou(t)
var o=Eu(t)
var a={"alloy.base.modification":o}
var i=e.length>0?fu(n,a,e,r):o
return lu(r,i)}
var vc=function(t,e,n){var r={"alloy.base.behaviour":Mu(t)}
return wu(n,t.eventOrder,e,r).getOrDie()}
var dc=function(t){var e=function(){return y}
var n=Kn(Xi)
var r=rn(_u(t))
var o=lc(t)
var a=iu(o)
var i=uu(o)
var u=fc(r,a,i)
var c=uc(u)
var s=vc(r,a,i)
var l=Kn(r.components)
var f=function(t){n.set(t)}
var d=function(){n.set($i(e))}
var m=function(){var t=Ka(c)
var e=et(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}))
l.set(e)}
var h=function(e){var n=i
var r=v(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))}
return r()}
var g=function(t){return v(i[t.name()])}
var p=function(){return r.apis}
var b=function(t){return i[t]().map((function(t){return t.state.readState()})).getOr("not enabled")}
var y={getSystem:n.get,config:h,hasConfigured:g,spec:t,readState:b,getApis:p,connect:f,disconnect:d,element:c,syncComponents:m,components:l.get,events:s}
return y}
var mc=function(t){var e=Nt(t,"components").getOr([])
return W(e,yc)}
var hc=function(t){var e=Gi(t),n=e.events,r=E(e,["events"])
var o=mc(r)
var a=O(O({},r),{events:O(O({},Hi),n),components:o})
return ht.value(dc(a))}
var gc=function(t){var e=er.fromText(t)
return pc({element:e})}
var pc=function(t){var e=on("external.component",Be([yn("element"),An("uid")]),t)
var n=Kn($i())
var r=function(t){n.set(t)}
var o=function(){n.set($i((function(){return a})))}
e.uid.each((function(t){Ui(e.element,t)}))
var a={getSystem:n.get,config:I.none,hasConfigured:k,connect:r,disconnect:o,getApis:function(){return{}},element:e.element,spec:t,readState:y("No state"),syncComponents:h,components:y([]),events:{}}
return tu(a)}
var bc=qi
var yc=function(t){return eu(t).fold((function(){var e=t.hasOwnProperty("uid")?t:O({uid:bc("")},t)
return hc(e).getOrDie()}),(function(t){return t}))}
var wc=tu
var xc=function(t,e){var n=function(e,n){if(!d(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Uu(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=Ju(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return Z(e,(function(e,n){var r=Ju(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var Cc=xc("height",(function(t){var e=t.dom
return Wu(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var Sc=function(t){return Cc.get(t)}
var kc=function(t){return Cc.getOuter(t)}
var Tc=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]
var r=Cc.max(t,e,n)
Ku(t,"max-height",r+"px")}
var _c=function(t,e){var n=function(n,r){return _c(t+n,e+r)}
return{left:t,top:e,translate:n}}
var Oc=_c
var Ec=function(t){var e=t.getBoundingClientRect()
return Oc(e.left,e.top)}
var Mc=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var Ac=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return Oc(n.offsetLeft,n.offsetTop)
var a=Mc(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Mc(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Mc(o.clientTop,n.clientTop)
var c=Mc(o.clientLeft,n.clientLeft)
return zc(t).translate(i-c,a-u)}
var zc=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return Oc(r.offsetLeft,r.offsetTop)
if(!Wu(t))return Oc(0,0)
return Ec(e)}
var Dc=xc("width",(function(t){return t.dom.offsetWidth}))
var Rc=function(t,e){return Dc.set(t,e)}
var Ic=function(t){return Dc.get(t)}
var Hc=function(t){return Dc.getOuter(t)}
var Lc=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]
var r=Dc.max(t,e,n)
Ku(t,"max-width",r+"px")}
var Bc=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Pc=function(t){var e=er.fromDom(ii(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var o=p(r,n)
return Bc(e,t.clientX,t.clientY,n,r,o,t)}
var Nc=function(t,e){return function(n){t(n)&&e(Pc(n))}}
var Fc=function(t,e,n,r,o){var a=Nc(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:x(Uc,t,e,a,o)}}
var Vc=function(t,e,n,r){return Fc(t,e,n,r,false)}
var jc=function(t,e,n,r){return Fc(t,e,n,r,true)}
var Uc=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Wc=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return Oc(n,r)}
var qc=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollTo(t,e)}
var Gc=function(t){var e=void 0===t?window:t
return I.from(e["visualViewport"])}
var $c=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var Xc=function(t){var e=void 0===t?window:t
var n=e.document
var r=Wc(er.fromDom(n))
return Gc(e).fold((function(){var t=e.document.documentElement
var n=t.clientWidth
var o=t.clientHeight
return $c(r.left,r.top,n,o)}),(function(t){return $c(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))}
var Kc=function(t,e){var n=t.view(e)
return n.fold(y([]),(function(e){var n=t.owner(e)
var r=Kc(t,n)
return[e].concat(r)}))}
var Zc=function(t,e){var n=e.owner(t)
var r=Kc(e,n)
return I.some(r)}
var Yc=function(t){var e
var n=t.dom===document?I.none():I.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)
return n.map(er.fromDom)}
var Jc=function(t){return Va(t)}
var Qc=Object.freeze({__proto__:null,view:Yc,owner:Jc})
var ts=function(t){var e=er.fromDom(document)
var n=Wc(e)
var r=Zc(t,Qc)
return r.fold(x(Ac,t),(function(e){var r=zc(t)
var o=K(e,(function(t,e){var n=zc(e)
return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0})
return Oc(o.left+r.left+n.left,o.top+r.top+n.top)}))}
var es=function(t,e,n){return{point:t,width:e,height:n}}
var ns=function(t,e,n,r){return{x:t,y:e,width:n,height:r}}
var rs=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var os=function(t){var e=Ac(t)
var n=Hc(t)
var r=kc(t)
return rs(e.left,e.top,n,r)}
var as=function(t){var e=ts(t)
var n=Hc(t)
var r=kc(t)
return rs(e.left,e.top,n,r)}
var is=function(){return Xc(window)}
function us(t,e,n,r,o){return t(n,r)?I.some(n):v(o)&&o(n)?I.none():e(n,r,o)}var cs=function(t,e,n){var r=t.dom
var o=v(n)?n:k
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
if(e(a))return I.some(a)
if(o(a))break}return I.none()}
var ss=function(t,e,n){var r=function(t,e){return e(t)}
return us(r,cs,t,e,n)}
var ls=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=er.fromDom(t.childNodes[r])
if(e(o))return I.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return I.none()}
return n(t.dom)}
var fs=function(t,e,n){return ss(t,e,n).isSome()}
var vs=function(t,e,n){return cs(t,(function(t){return to(t,e)}),n)}
var ds=function(t,e){return ro(e,t)}
var ms=function(t,e,n){var r=function(t,e){return to(t,e)}
return us(r,vs,t,e,n)}
var hs=function(t){var e=ss(t,(function(t){if(!Ba(t))return false
var e=Ti(t,"id")
return void 0!==e&&e.indexOf("aria-owns")>-1}))
return e.bind((function(t){var e=Ti(t,"id")
var n=ei(t)
return ds(n,'[aria-owns="'+e+'"]')}))}
var gs=function(){var t=Bi("aria-owns")
var e=function(e){Si(e,"aria-owns",t)}
var n=function(t){Ei(t,"aria-owns")}
return{id:t,link:e,unlink:n}}
var ps=function(t,e){return hs(e).exists((function(e){return bs(t,e)}))}
var bs=function(t,e){return fs(e,(function(e){return oo(e,t.element)}),k)||ps(t,e)}
var ys="unknown"
var ws;(function(t){t[t["STOP"]=0]="STOP"
t[t["NORMAL"]=1]="NORMAL"
t[t["LOGGING"]=2]="LOGGING"})(ws||(ws={}))
var xs=Kn({})
var Cs=function(t,e){var n=[]
var r=(new Date).getTime()
return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime()
if(F(["mousemove","mouseover","mouseout",Ko()],t))return
console.log(t,{event:t,time:o-r,target:e.dom,sequence:W(n,(function(t){return F(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Di(t.target)+")":t.outcome}))})}}}
var Ss=function(t,e,n){var r=Nt(xs.get(),t).orThunk((function(){var e=Et(xs.get())
return ft(e,(function(e){return t.indexOf(e)>-1?I.some(xs.get()[e]):I.none()}))})).getOr(ws.NORMAL)
switch(r){case ws.NORMAL:return n(Es())
case ws.LOGGING:var o=Cs(t,e)
var a=n(o)
o.write()
return a
case ws.STOP:return true}}
var ks=["alloy/data/Fields","alloy/debugging/Debugging"]
var Ts=function(){var t=new Error
if(void 0!==t.stack){var e=t.stack.split("\n")
return J(e,(function(t){return t.indexOf("alloy")>0&&!V(ks,(function(e){return t.indexOf(e)>-1}))})).getOr(ys)}return ys}
var _s={logEventCut:h,logEventStopped:h,logNoParent:h,logEventNoHandlers:h,logEventResponse:h,write:h}
var Os=function(t,e,n){return Ss(t,e,n)}
var Es=y(_s)
var Ms=y([yn("menu"),yn("selectedMenu")])
var As=y([yn("item"),yn("selectedItem")])
y(Pe(As().concat(Ms())))
var zs=y(Pe(As()))
var Ds=On("initSize",[yn("numColumns"),yn("numRows")])
var Rs=function(){return wn("markers",zs())}
var Is=function(){return On("markers",[yn("backgroundMenu")].concat(Ms()).concat(As()))}
var Hs=function(t){return On("markers",W(t,yn))}
var Ls=function(t,e,n){Ts()
return Ge(e,e,n,Qe((function(t){return ht.value((function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
return t.apply(void 0,e)}))})))}
var Bs=function(t){return Ls("onHandler",t,Jt(h))}
var Ps=function(t){return Ls("onKeyboardHandler",t,Jt(I.none))}
var Ns=function(t){return Ls("onHandler",t,te())}
var Fs=function(t){return Ls("onKeyboardHandler",t,te())}
var Vs=function(t,e){return Xn(t,y(e))}
var js=function(t){return Xn(t,w)}
var Us=y(Ds)
var Ws=function(t,e,n,r,o,a){return{x:t,y:e,bubble:n,direction:r,boundsRestriction:o,label:a}}
var qs=Ut.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}])
var Gs=function(t,e,n,r,o,a,i,u,c){return t.fold(e,n,r,o,a,i,u,c)}
var $s=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}
var Xs=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}
var Ks=qs.southeast
var Zs=qs.southwest
var Ys=qs.northeast
var Js=qs.northwest
var Qs=qs.south
var tl=qs.north
var el=qs.east
var nl=qs.west
var rl=function(t,e){switch(e){case 1:return t.x
case 0:return t.x+t.width
case 2:return t.y
case 3:return t.y+t.height}}
var ol=function(t,e){return at(["left","right","top","bottom"],(function(n){return Nt(e,n).map((function(e){return rl(t,e)}))}))}
var al=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top:n.left
return Nt(e,t).bind(w).bind((function(e){return"left"===t||"top"===t?e>=r?I.some(e):I.none():e<=r?I.some(e):I.none()})).map((function(t){return t+o})).getOr(r)}
var o=r("left",t.x)
var a=r("top",t.y)
var i=r("right",t.right)
var u=r("bottom",t.bottom)
return rs(o,a,i-o,u-a)}
var il=function(t){return t.x}
var ul=function(t,e){return t.x+t.width/2-e.width/2}
var cl=function(t,e){return t.x+t.width-e.width}
var sl=function(t,e){return t.y-e.height}
var ll=function(t){return t.y+t.height}
var fl=function(t,e){return t.y+t.height/2-e.height/2}
var vl=function(t){return t.x+t.width}
var dl=function(t,e){return t.x-e.width}
var ml=function(t,e,n){return Ws(il(t),ll(t),n.southeast(),Ks(),ol(t,{left:1,top:3}),"layout-se")}
var hl=function(t,e,n){return Ws(cl(t,e),ll(t),n.southwest(),Zs(),ol(t,{right:0,top:3}),"layout-sw")}
var gl=function(t,e,n){return Ws(il(t),sl(t,e),n.northeast(),Ys(),ol(t,{left:1,bottom:2}),"layout-ne")}
var pl=function(t,e,n){return Ws(cl(t,e),sl(t,e),n.northwest(),Js(),ol(t,{right:0,bottom:2}),"layout-nw")}
var bl=function(t,e,n){return Ws(ul(t,e),sl(t,e),n.north(),tl(),ol(t,{bottom:2}),"layout-n")}
var yl=function(t,e,n){return Ws(ul(t,e),ll(t),n.south(),Qs(),ol(t,{top:3}),"layout-s")}
var wl=function(t,e,n){return Ws(vl(t),fl(t,e),n.east(),el(),ol(t,{left:0}),"layout-e")}
var xl=function(t,e,n){return Ws(dl(t,e),fl(t,e),n.west(),nl(),ol(t,{right:1}),"layout-w")}
var Cl=function(){return[ml,hl,gl,pl,yl,bl,wl,xl]}
var Sl=function(){return[hl,ml,pl,gl,yl,bl,wl,xl]}
var kl=function(){return[gl,pl,ml,hl,bl,yl]}
var Tl=function(){return[pl,gl,hl,ml,bl,yl]}
var _l=function(){return[ml,hl,gl,pl,yl,bl]}
var Ol=function(){return[hl,ml,pl,gl,yl,bl]}
var El=function(t,e){return e.universal?t:X(t,(function(t){return F(e.channels,t)}))}
var Ml=function(t){return ga([wa(jo(),(function(e,n){var r=t.channels
var o=Et(r)
var a=n
var i=El(o,a)
q(i,(function(t){var n=r[t]
var o=n.schema
var i=on("channel["+t+"] data\nReceiver: "+Di(e.element),o,a.data)
n.onReceive(e,i)}))}))])}
var Al=Object.freeze({__proto__:null,events:Ml})
var zl=[wn("channels",tn(ht.value,Be([Ns("onReceive"),Pn("schema",ln())])))]
var Dl=function(t,e,n){return Ra((function(r){n(r,t,e)}))}
var Rl=function(t,e,n){return Da((function(r,o){n(r,t,e)}))}
var Il=function(t,e,n,r,o,a){var i=Be(t)
var u=Ln(e,[Bn("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Hl=function(t,e,n,r,o,a){var i=t
var u=Ln(e,[zn("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Ll=function(t,e,n){var r=function(r){var o=[]
for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a]
var i=[r].concat(o)
return r.config({name:y(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(i,1)
return e.apply(void 0,[r,t.config,t.state].concat(n))}))}
return Ki(r,n,e)}
var Bl=function(t){return{key:t,value:void 0}}
var Pl=function(t,e,n,r,o,a,i){var u=function(t){return Vt(t,n)?t[n]():I.none()}
var c=zt(o,(function(t,e){return Ll(n,t,e)}))
var s=zt(a,(function(t,e){return Yi(t,e)}))
var l=O(O(O({},s),c),{revoke:x(Bl,n),config:function(e){var r=on(n+"-config",t,e)
return{key:n,value:{config:r,me:l,configAsRaw:Zt((function(){return on(n+"-config",t,e)})),initialConfig:e,state:i}}},schema:y(e),exhibit:function(t,e){return u(t).bind((function(t){return Nt(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(su({}))},name:y(n),handlers:function(t){return u(t).map((function(t){var e=Nt(r,"events").getOr((function(){return{}}))
return e(t.config,t.state)})).getOr({})}})
return l}
var Nl=function(t){return le(t)}
var Fl=Be([yn("fields"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",ru),Pn("extra",{})])
var Vl=function(t){var e=on("Creating behaviour: "+t.name,Fl,t)
return Il(e.fields,e.name,e.active,e.apis,e.extra,e.state)}
var jl=Be([yn("branchKey"),yn("branches"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",ru),Pn("extra",{})])
var Ul=function(t){var e=on("Creating behaviour: "+t.name,jl,t)
return Hl(cn(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)}
var Wl=y(void 0)
var ql=Vl({fields:zl,name:"receiving",active:Al})
var Gl=function(t,e){return su({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}
var $l=Object.freeze({__proto__:null,exhibit:Gl})
var Xl=function(){return er.fromDom(document)}
var Kl=function(t){return t.dom.focus()}
var Zl=function(t){return t.dom.blur()}
var Yl=function(t){var e=ei(t).dom
return t.dom===e.activeElement}
var Jl=function(t){void 0===t&&(t=Xl())
return I.from(t.dom.activeElement).map(er.fromDom)}
var Ql=function(t){return Jl(ei(t)).filter((function(e){return t.dom.contains(e.dom)}))}
var tf=function(t,e){var n=ei(e)
var r=Jl(n).bind((function(t){var n=function(e){return oo(t,e)}
return n(e)?I.some(e):ls(e,n)}))
var o=t(e)
r.each((function(t){Jl(n).filter((function(e){return oo(e,t)})).fold((function(){Kl(t)}),h)}))
return o}
var ef=function(t,e,n,r,o){return{position:t,left:e,top:n,right:r,bottom:o}}
var nf=function(t,e){var n=function(t){return t+"px"}
Yu(t,{position:I.some(e.position),left:e.left.map(n),top:e.top.map(n),right:e.right.map(n),bottom:e.bottom.map(n)})}
var rf=Ut.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}])
var of=function(t,e,n,r,o,a){var i=e.x-n
var u=e.y-r
var c=e.width
var s=e.height
var l=o-(i+c)
var f=a-(u+s)
var v=I.some(i)
var d=I.some(u)
var m=I.some(l)
var h=I.some(f)
var g=I.none()
return Gs(e.direction,(function(){return ef(t,v,d,g,g)}),(function(){return ef(t,g,d,m,g)}),(function(){return ef(t,v,g,g,h)}),(function(){return ef(t,g,g,m,h)}),(function(){return ef(t,v,d,g,g)}),(function(){return ef(t,v,g,g,h)}),(function(){return ef(t,v,d,g,g)}),(function(){return ef(t,g,d,m,g)}))}
var af=function(t,e){return t.fold((function(){return ef("absolute",I.some(e.x),I.some(e.y),I.none(),I.none())}),(function(t,n,r,o){return of("absolute",e,t,n,r,o)}),(function(t,n,r,o){return of("fixed",e,t,n,r,o)}))}
var uf=function(t,e){var n=x(ts,e)
var r=t.fold(n,n,(function(){var t=Wc()
return ts(e).translate(-t.left,-t.top)}))
var o=Hc(e)
var a=kc(e)
return rs(r.left,r.top,o,a)}
var cf=function(t,e){return e.fold((function(){return t.fold(is,is,rs)}),(function(e){return t.fold(e,e,(function(){var n=e()
var r=sf(t,n.x,n.y)
return rs(r.left,r.top,n.width,n.height)}))}))}
var sf=function(t,e,n){var r=Oc(e,n)
var o=function(){var t=Wc()
return r.translate(-t.left,-t.top)}
return t.fold(y(r),y(r),o)}
var lf=function(t,e,n,r){return t.fold(e,n,r)}
rf.none
var ff=rf.relative
var vf=rf.fixed
var df=function(t,e){return{anchorBox:t,origin:e}}
var mf=function(t,e){return df(t,e)}
var hf=function(t,e,n,r){var o=t+e
return o>r?n:o<n?r:o}
var gf=function(t,e,n){return Math.min(Math.max(t,e),n)}
var pf=Ut.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}])
var bf=function(t,e,n,r,o){var a=o.x
var i=o.y
var u=o.width
var c=o.height
var s=t>=a
var l=e>=i
var f=s&&l
var v=t+n<=a+u
var d=e+r<=i+c
var m=v&&d
var h=Math.abs(Math.min(n,s?a+u-t:a-(t+n)))
var g=Math.abs(Math.min(r,l?i+c-e:i-(e+r)))
var p=Math.max(o.x,o.right-n)
var b=Math.max(o.y,o.bottom-r)
var y=gf(t,o.x,p)
var w=gf(e,o.y,b)
return{originInBounds:f,sizeInBounds:m,limitX:y,limitY:w,deltaW:h,deltaH:g}}
var yf=function(t,e,n,r){var o=t.x
var a=t.y
var i=t.bubble.offset
var u=i.left
var c=i.top
var s=al(r,t.boundsRestriction,i)
var l=s.y
var f=s.bottom
var v=s.x
var d=s.right
var m=o+u
var h=a+c
var g=bf(m,h,e,n,s),p=g.originInBounds,b=g.sizeInBounds,w=g.limitX,x=g.limitY,C=g.deltaW,S=g.deltaH
var k=y(x+S-l)
var T=y(f-x)
var _=$s(t.direction,T,T,k)
var O=y(w+C-v)
var E=y(d-w)
var M=Xs(t.direction,E,E,O)
var A={x:w,y:x,width:C,height:S,maxHeight:_,maxWidth:M,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:h}
return p&&b?pf.fit(A):pf.nofit(A,C,S)}
var wf=function(t,e,n,r,o){var a=n.width
var i=n.height
var u=function(t,u,c,s){var l=t(e,n,r)
var f=yf(l,a,i,o)
return f.fold(pf.fit,(function(t,e,n){var r=n>s||e>c
return r?pf.nofit(t,e,n):pf.nofit(u,c,s)}))}
var c=Z(t,(function(t,e){var n=x(u,e)
return t.fold(pf.fit,n)}),pf.nofit({x:e.x,y:e.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Ks(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y},-1,-1))
return c.fold(w,w)}
var xf=function(t){return{width:Hc(t),height:kc(t)}}
var Cf=function(t,e,n,r){rc(e,"max-height")
rc(e,"max-width")
var o=xf(e)
return wf(r.preference,t,o,n,r.bounds)}
var Sf=function(t,e){var n=e.classes
ju(t,n.off)
Vu(t,n.on)}
var kf=function(t,e,n){var r=n.maxHeightFunction
r(t,e.maxHeight)}
var Tf=function(t,e,n){var r=n.maxWidthFunction
r(t,e.maxWidth)}
var _f=function(t,e,n){nf(t,af(n.origin,e))}
var Of=function(t,e){Tc(t,Math.floor(e))}
var Ef=y((function(t,e){Of(t,e)
Zu(t,{"overflow-x":"hidden","overflow-y":"auto"})}))
var Mf=y((function(t,e){Of(t,e)}))
var Af=function(t,e,n){return void 0===t[e]?n:t[e]}
var zf=function(t,e,n,r,o,a){var i=Af(a,"maxHeightFunction",Ef())
var u=Af(a,"maxWidthFunction",h)
var c=t.anchorBox
var s=t.origin
var l={bounds:cf(s,o),origin:s,preference:r,maxHeightFunction:i,maxWidthFunction:u}
Df(c,e,n,l)}
var Df=function(t,e,n,r){var o=Cf(t,e,n,r)
_f(e,o,r)
Sf(e,o)
kf(e,o,r)
Tf(e,o,r)}
var Rf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"]
var If=function(t,e,n){var r=function(t){return Nt(n,t).getOr([])}
var o=function(t,e,n){var o=ot(Rf,n)
return{offset:Oc(t,e),classesOn:et(n,r),classesOff:et(o,r)}}
return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}}
var Hf=function(){return If(0,0,{})}
var Lf=function(t){return t}
var Bf=function(t,e){return function(n){return"rtl"===Pf(n)?e:t}}
var Pf=function(t){return"rtl"===Ju(t,"direction")?"rtl":"ltr"}
var Nf;(function(t){t["TopToBottom"]="toptobottom"
t["BottomToTop"]="bottomtotop"})(Nf||(Nf={}))
var Ff="data-alloy-vertical-dir"
var Vf=function(t){return fs(t,(function(t){return Ba(t)&&Ti(t,"data-alloy-vertical-dir")===Nf.BottomToTop}))}
var jf=function(){return Ln("layouts",[yn("onLtr"),yn("onRtl"),An("onBottomLtr"),An("onBottomRtl")])}
var Uf=function(t,e,n,r,o,a,i){var u=i.map(Vf).getOr(false)
var c=e.layouts.map((function(e){return e.onLtr(t)}))
var s=e.layouts.map((function(e){return e.onRtl(t)}))
var l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n)
var f=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(a):s.getOr(r)
var v=Bf(l,f)
return v(t)}
var Wf=function(t,e,n){var r=e.hotspot
var o=uf(n,r.element)
var a=Uf(t.element,e,_l(),Ol(),kl(),Tl(),I.some(e.hotspot.element))
return I.some(Lf({anchorBox:o,bubble:e.bubble.getOr(Hf()),overrides:e.overrides,layouts:a,placer:I.none()}))}
var qf=[yn("hotspot"),An("bubble"),Pn("overrides",{}),jf(),Vs("placement",Wf)]
var Gf=function(t,e,n){var r=sf(n,e.x,e.y)
var o=rs(r.left,r.top,e.width,e.height)
var a=Uf(t.element,e,Cl(),Sl(),Cl(),Sl(),I.none())
return I.some(Lf({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:a,placer:I.none()}))}
var $f=[yn("x"),yn("y"),Pn("height",0),Pn("width",0),Pn("bubble",Hf()),Pn("overrides",{}),jf(),Vs("placement",Gf)]
var Xf=Ut.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}])
var Kf=function(t){return t.fold(w,(function(t,e,n){return t.translate(-e,-n)}))}
var Zf=function(t){return t.fold(w,w)}
var Yf=function(t){return Z(t,(function(t,e){return t.translate(e.left,e.top)}),Oc(0,0))}
var Jf=function(t){var e=W(t,Kf)
return Yf(e)}
var Qf=function(t){var e=W(t,Zf)
return Yf(e)}
var tv=Xf.screen
var ev=Xf.absolute
var nv=function(t,e,n){var r=Wa(n.root).dom
var o=function(e){var n=Va(e)
var r=Va(t.element)
return oo(n,r)}
return I.from(r.frameElement).map(er.fromDom).filter(o).map(Ac)}
var rv=function(t,e,n){var r=Va(t.element)
var o=Wc(r)
var a=nv(t,e,n).getOr(o)
return ev(a,o.left,o.top)}
var ov=function(t,e,n,r){var o=t,a=e,i=n,u=r
if(t<0){o=0
i=n+t}if(e<0){a=0
u=r+e}var c=tv(Oc(o,a))
return I.some(es(c,i,u))}
var av=function(t,e,n,r,o){return t.map((function(t){var a=[e,t.point]
var i=lf(r,(function(){return Qf(a)}),(function(){return Qf(a)}),(function(){return Jf(a)}))
var u=ns(i.left,i.top,t.width,t.height)
var c=n.showAbove?kl():_l()
var s=n.showAbove?Tl():Ol()
var l=Uf(o,n,c,s,c,s,I.none())
return Lf({anchorBox:u,bubble:n.bubble.getOr(Hf()),overrides:n.overrides,layouts:l,placer:I.none()})}))}
var iv=function(t,e,n){var r=rv(t,n,e)
return e.node.filter(Wu).bind((function(o){var a=o.dom.getBoundingClientRect()
var i=ov(a.left,a.top,a.width,a.height)
var u=e.node.getOr(t.element)
return av(i,r,e,n,u)}))}
var uv=[yn("node"),yn("root"),An("bubble"),jf(),Pn("overrides",{}),Pn("showAbove",false),Vs("placement",iv)]
var cv="\ufeff"
var sv=" "
var lv=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var fv={create:lv}
var vv=Ut.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var dv=function(t,e,n,r){return t.fold(e,n,r)}
var mv=function(t){return t.fold(w,w,w)}
var hv=vv.before
var gv=vv.on
var pv=vv.after
var bv={before:hv,on:gv,after:pv,cata:dv,getStart:mv}
var yv=Ut.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var wv=function(t){return yv.exact(t.start,t.soffset,t.finish,t.foffset)}
var xv=function(t){return t.match({domRange:function(t){return er.fromDom(t.startContainer)},relative:function(t,e){return bv.getStart(t)},exact:function(t,e,n,r){return t}})}
var Cv=yv.domRange
var Sv=yv.relative
var kv=yv.exact
var Tv=function(t){var e=xv(t)
return Wa(e)}
var _v=fv.create
var Ov={domRange:Cv,relative:Sv,exact:kv,exactFromRange:wv,getWin:Tv,range:_v}
var Ev=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var Mv=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var Av=function(t,e,n){var r=t.document.createRange()
Ev(r,e)
Mv(r,n)
return r}
var zv=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var Dv=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var Rv=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?I.some(n).map(Dv):I.none()}
var Iv=Ut.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var Hv=function(t,e,n){return e(er.fromDom(n.startContainer),n.startOffset,er.fromDom(n.endContainer),n.endOffset)}
var Lv=function(t,e){return e.match({domRange:function(t){return{ltr:y(t),rtl:I.none}},relative:function(e,n){return{ltr:Zt((function(){return Av(t,e,n)})),rtl:Zt((function(){return I.some(Av(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Zt((function(){return zv(t,e,n,r,o)})),rtl:Zt((function(){return I.some(zv(t,r,o,e,n))}))}}})}
var Bv=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return Iv.rtl(er.fromDom(t.endContainer),t.endOffset,er.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Hv(t,Iv.ltr,n)}))}return Hv(t,Iv.ltr,n)}
var Pv=function(t,e){var n=Lv(t,e)
return Bv(t,n)}
var Nv=function(t,e){var n=Pv(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
Iv.ltr
Iv.rtl
var Fv=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?I.from(e.dom.nodeValue):I.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var Vv=Fv(Pa,"text")
var jv=function(t){return Vv.get(t)}
var Uv=function(t){return Vv.getOption(t)}
var Wv=function(t){return"img"===Ia(t)?1:Uv(t).fold((function(){return Ka(t).length}),(function(t){return t.length}))}
var qv=function(t){return Uv(t).filter((function(t){return 0!==t.trim().length||t.indexOf(sv)>-1})).isSome()}
var Gv=["img","br"]
var $v=function(t){var e=qv(t)
return e||F(Gv,Ia(t))}
var Xv=function(t){return Kv(t,$v)}
var Kv=function(t,e){var n=function(t){var r=Ka(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return I.some(a)
var i=n(a)
if(i.isSome())return i}return I.none()}
return n(t)}
var Zv=function(t,e){return no(e,t)}
var Yv=function(t,e,n,r){var o=Va(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var Jv=function(t,e,n,r){var o=Yv(t,e,n,r)
var a=oo(t,n)&&e===r
return o.collapsed&&!a}
var Qv=function(t){return I.from(t.getSelection())}
var td=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return I.some(fv.create(er.fromDom(e.startContainer),e.startOffset,er.fromDom(n.endContainer),n.endOffset))}return I.none()}
var ed=function(t){if(null===t.anchorNode||null===t.focusNode)return td(t)
var e=er.fromDom(t.anchorNode)
var n=er.fromDom(t.focusNode)
return Jv(e,t.anchorOffset,n,t.focusOffset)?I.some(fv.create(e,t.anchorOffset,n,t.focusOffset)):td(t)}
var nd=function(t){return Qv(t).filter((function(t){return t.rangeCount>0})).bind(ed)}
var rd=function(t,e){var n=Nv(t,e)
return Rv(n)}
var od=function(t,e){return{element:t,offset:e}}
var ad=function(t,e){var n=Ka(t)
if(0===n.length)return od(t,e)
if(e<n.length)return od(n[e],0)
var r=n[n.length-1]
var o=Pa(r)?jv(r).length:Ka(r).length
return od(r,o)}
var id=function(t,e){return Pa(t)?od(t,e):ad(t,e)}
var ud=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return nd(t)}}))
return n().map((function(t){var e=id(t.start,t.soffset)
var n=id(t.finish,t.foffset)
return Ov.range(e.element,e.offset,n.element,n.offset)}))}
var cd=function(t,e,n){var r=Wa(e.root).dom
var o=rv(t,n,e)
var a=ud(r,e).bind((function(t){var e=rd(r,Ov.exactFromRange(t)).orThunk((function(){var e=er.fromText(cv)
ci(t.start,e)
return rd(r,Ov.exact(e,0,e,1)).map((function(t){gi(e)
return t}))}))
return e.bind((function(t){return ov(t.left,t.top,t.width,t.height)}))}))
var i=ud(r,e).bind((function(t){return Ba(t.start)?I.some(t.start):Ga(t.start)}))
var u=i.getOr(t.element)
return av(a,o,e,n,u)}
var sd=[An("getSelection"),yn("root"),An("bubble"),jf(),Pn("overrides",{}),Pn("showAbove",false),Vs("placement",cd)]
var ld=function(t){return t.x+t.width}
var fd=function(t,e){return t.x-e.width}
var vd=function(t,e){return t.y-e.height+t.height}
var dd=function(t){return t.y}
var md=function(t,e,n){return Ws(ld(t),dd(t),n.southeast(),Ks(),ol(t,{left:0,top:2}),"link-layout-se")}
var hd=function(t,e,n){return Ws(fd(t,e),dd(t),n.southwest(),Zs(),ol(t,{right:1,top:2}),"link-layout-sw")}
var gd=function(t,e,n){return Ws(ld(t),vd(t,e),n.northeast(),Ys(),ol(t,{left:0,bottom:3}),"link-layout-ne")}
var pd=function(t,e,n){return Ws(fd(t,e),vd(t,e),n.northwest(),Js(),ol(t,{right:1,bottom:3}),"link-layout-nw")}
var bd=function(){return[md,hd,gd,pd]}
var yd=function(){return[hd,md,pd,gd]}
var wd=function(t,e,n){var r=uf(n,e.item.element)
var o=Uf(t.element,e,bd(),yd(),bd(),yd(),I.none())
return I.some(Lf({anchorBox:r,bubble:Hf(),overrides:e.overrides,layouts:o,placer:I.none()}))}
var xd=[yn("item"),jf(),Pn("overrides",{}),Vs("placement",wd)]
var Cd=cn("anchor",{selection:sd,node:uv,hotspot:qf,submenu:xd,makeshift:$f})
var Sd=function(){var t=document.documentElement
return vf(0,0,t.clientWidth,t.clientHeight)}
var kd=function(t){var e=Ac(t.element)
var n=t.element.dom.getBoundingClientRect()
return ff(e.left,e.top,n.width,n.height)}
var Td=function(t,e,n,r,o){var a=mf(n.anchorBox,e)
zf(a,o.element,n.bubble,n.layouts,r,n.overrides)}
var _d=function(t,e,n,r,o){Od(t,e,n,r,o,I.none())}
var Od=function(t,e,n,r,o,a){var i=a.map(os)
return Ed(t,e,n,r,o,i)}
var Ed=function(t,e,n,r,o,a){var i=on("positioning anchor.info",Cd,r)
tf((function(){Ku(o.element,"position","fixed")
var n=tc(o.element,"visibility")
Ku(o.element,"visibility","hidden")
var r=e.useFixed()?Sd():kd(t)
var u=i.placement
var c=a.map(y).or(e.getBounds)
u(t,i,r).each((function(e){var n=e.placer.getOr(Td)
n(t,r,e,c,o)}))
n.fold((function(){rc(o.element,"visibility")}),(function(t){Ku(o.element,"visibility",t)}))
tc(o.element,"left").isNone()&&tc(o.element,"top").isNone()&&tc(o.element,"right").isNone()&&tc(o.element,"bottom").isNone()&&tc(o.element,"position").is("fixed")&&rc(o.element,"position")}),o.element)}
var Md=function(t,e,n){return e.useFixed()?"fixed":"absolute"}
var Ad=Object.freeze({__proto__:null,position:_d,positionWithin:Od,positionWithinBounds:Ed,getMode:Md})
var zd=[Pn("useFixed",k),An("getBounds")]
var Dd=Vl({fields:zd,name:"positioning",active:$l,apis:Ad})
var Rd=function(t){la(t,ea())
var e=t.components()
q(e,Rd)}
var Id=function(t){var e=t.components()
q(e,Id)
la(t,ta())}
var Hd=function(t,e){fi(t.element,e.element)}
var Ld=function(t){q(t.components(),(function(t){return gi(t.element)}))
hi(t.element)
t.syncComponents()}
var Bd=function(t,e){var n=t.components()
Ld(t)
var r=ot(n,e)
q(r,(function(e){Rd(e)
t.getSystem().removeFromWorld(e)}))
q(e,(function(e){if(e.getSystem().isConnected())Hd(t,e)
else{t.getSystem().addToWorld(e)
Hd(t,e)
Wu(t.element)&&Id(e)}t.syncComponents()}))}
var Pd=function(t,e){Nd(t,e,fi)}
var Nd=function(t,e,n){t.getSystem().addToWorld(e)
n(t.element,e.element)
Wu(t.element)&&Id(e)
t.syncComponents()}
var Fd=function(t){Rd(t)
gi(t.element)
t.getSystem().removeFromWorld(t)}
var Vd=function(t){var e=qa(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))
Fd(t)
e.each((function(t){t.syncComponents()}))}
var jd=function(t){var e=t.components()
q(e,Fd)
hi(t.element)
t.syncComponents()}
var Ud=function(t,e){qd(t,e,fi)}
var Wd=function(t,e){qd(t,e,si)}
var qd=function(t,e,n){n(t,e.element)
var r=Ka(e.element)
q(r,(function(t){e.getByDom(t).each(Id)}))}
var Gd=function(t){var e=Ka(t.element)
q(e,(function(e){t.getByDom(e).each(Rd)}))
gi(t.element)}
var $d=function(t,e,n,r){n.get().each((function(e){jd(t)}))
var o=e.getAttachPoint(t)
Pd(o,t)
var a=t.getSystem().build(r)
Pd(t,a)
n.set(a)
return a}
var Xd=function(t,e,n,r){var o=$d(t,e,n,r)
e.onOpen(t,o)
return o}
var Kd=function(t,e,n,r){return n.get().map((function(){return $d(t,e,n,r)}))}
var Zd=function(t,e,n,r,o){rm(t,e)
Xd(t,e,n,r)
o()
am(t,e)}
var Yd=function(t,e,n){n.get().each((function(r){jd(t)
Vd(t)
e.onClose(t,r)
n.clear()}))}
var Jd=function(t,e,n){return n.isOpen()}
var Qd=function(t,e,n,r){return Jd(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))}
var tm=function(t,e,n){return n.get()}
var em=function(t,e,n,r){tc(t.element,e).fold((function(){Ei(t.element,n)}),(function(e){Si(t.element,n,e)}))
Ku(t.element,e,r)}
var nm=function(t,e,n){_i(t.element,n).fold((function(){return rc(t.element,e)}),(function(n){return Ku(t.element,e,n)}))}
var rm=function(t,e,n){var r=e.getAttachPoint(t)
Ku(t.element,"position",Dd.getMode(r))
em(t,"visibility",e.cloakVisibilityAttr,"hidden")}
var om=function(t){return V(["top","left","right","bottom"],(function(e){return tc(t,e).isSome()}))}
var am=function(t,e,n){om(t.element)||rc(t.element,"position")
nm(t,"visibility",e.cloakVisibilityAttr)}
var im=Object.freeze({__proto__:null,cloak:rm,decloak:am,open:Xd,openWhileCloaked:Zd,close:Yd,isOpen:Jd,isPartOf:Qd,getState:tm,setContent:Kd})
var um=function(t,e){return ga([wa($o(),(function(n,r){Yd(n,t,e)}))])}
var cm=Object.freeze({__proto__:null,events:um})
var sm=[Bs("onOpen"),Bs("onClose"),yn("isPartOf"),yn("getAttachPoint"),Pn("cloakVisibilityAttr","data-precloak-visibility")]
var lm=function(){var t=Kn(I.none())
var e=y("not-implemented")
var n=function(){return t.get().isSome()}
var r=function(e){t.set(I.some(e))}
var o=function(){return t.get()}
var a=function(){t.set(I.none())}
return ou({readState:e,isOpen:n,clear:a,set:r,get:o})}
var fm=Object.freeze({__proto__:null,init:lm})
var vm=Vl({fields:sm,name:"sandboxing",active:cm,apis:im,state:fm})
var dm=y("dismiss.popups")
var mm=y("reposition.popups")
var hm=y("mouse.released")
var gm=Be([Pn("isExtraPart",k),Ln("fireEventInstead",[Pn("event",na())])])
var pm=function(t){var e
var n=on("Dismissal",gm,t)
return e={},e[dm()]={schema:Be([yn("target")]),onReceive:function(t,e){if(vm.isOpen(t)){var r=vm.isPartOf(t,e.target)||n.isExtraPart(t,e.target)
r||n.fireEventInstead.fold((function(){return vm.close(t)}),(function(e){return la(t,e.event)}))}}},e}
var bm=Be([Ln("fireEventInstead",[Pn("event",ra())]),Tn("doReposition")])
var ym=function(t){var e
var n=on("Reposition",bm,t)
return e={},e[mm()]={onReceive:function(t){vm.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return la(t,e.event)}))}},e}
var wm=function(t,e,n){e.store.manager.onLoad(t,e,n)}
var xm=function(t,e,n){e.store.manager.onUnload(t,e,n)}
var Cm=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)}
var Sm=function(t,e,n){return e.store.manager.getValue(t,e,n)}
var km=function(t,e,n){return n}
var Tm=Object.freeze({__proto__:null,onLoad:wm,onUnload:xm,setValue:Cm,getValue:Sm,getState:km})
var _m=function(t,e){var n=t.resetOnDom?[Aa((function(n,r){wm(n,t,e)})),za((function(n,r){xm(n,t,e)}))]:[Rl(t,e,wm)]
return ga(n)}
var Om=Object.freeze({__proto__:null,events:_m})
var Em=function(){var t=Kn(null)
var e=function(){return{mode:"memory",value:t.get()}}
var n=function(){return null===t.get()}
var r=function(){t.set(null)}
return ou({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})}
var Mm=function(){var t=h
return ou({readState:t})}
var Am=function(){var t=Kn({})
var e=Kn({})
var n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}}
var r=function(){t.set({})
e.set({})}
var o=function(n){return Nt(t.get(),n).orThunk((function(){return Nt(e.get(),n)}))}
var a=function(n){var r=t.get()
var o=e.get()
var a={}
var i={}
q(n,(function(t){a[t.value]=t
Nt(t,"meta").each((function(e){Nt(e,"text").each((function(e){i[e]=t}))}))}))
t.set(O(O({},r),a))
e.set(O(O({},o),i))}
return ou({readState:n,lookup:o,update:a,clear:r})}
var zm=function(t){return t.store.manager.state(t)}
var Dm=Object.freeze({__proto__:null,memory:Em,dataset:Am,manual:Mm,init:zm})
var Rm=function(t,e,n,r){var o=e.store
n.update([r])
o.setValue(t,r)
e.onSetValue(t,r)}
var Im=function(t,e,n){var r=e.store
var o=r.getDataKey(t)
return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))}
var Hm=function(t,e,n){var r=e.store
r.initialValue.each((function(r){Rm(t,e,n,r)}))}
var Lm=function(t,e,n){n.clear()}
var Bm=[An("initialValue"),yn("getFallbackEntry"),yn("getDataKey"),yn("setValue"),Vs("manager",{setValue:Rm,getValue:Im,onLoad:Hm,onUnload:Lm,state:Am})]
var Pm=function(t,e,n){return e.store.getValue(t)}
var Nm=function(t,e,n,r){e.store.setValue(t,r)
e.onSetValue(t,r)}
var Fm=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))}
var Vm=[yn("getValue"),Pn("setValue",h),An("initialValue"),Vs("manager",{setValue:Nm,getValue:Pm,onLoad:Fm,onUnload:h,state:ru.init})]
var jm=function(t,e,n,r){n.set(r)
e.onSetValue(t,r)}
var Um=function(t,e,n){return n.get()}
var Wm=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))}
var qm=function(t,e,n){n.clear()}
var Gm=[An("initialValue"),Vs("manager",{setValue:jm,getValue:Um,onLoad:Wm,onUnload:qm,state:Em})]
var $m=[Nn("store",{mode:"memory"},cn("mode",{memory:Gm,manual:Vm,dataset:Bm})),Bs("onSetValue"),Pn("resetOnDom",false)]
var Xm=Vl({fields:$m,name:"representing",active:Om,apis:Tm,extra:{setValueFrom:function(t,e){var n=Xm.getValue(e)
Xm.setValue(t,n)}},state:Dm})
var Km=function(t,e){return $n(t,{},W(e,(function(e){return _n(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Xn("dump",w)]))}
var Zm=function(t){return t.dump}
var Ym=function(t,e){return O(O({},t.dump),Nl(e))}
var Jm={field:Km,augment:Ym,get:Zm}
var Qm="placeholder"
var th=Ut.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}])
var eh=function(t){return Ft(t,"uiType")}
var nh=function(t,e,n,r){if(t.exists((function(t){return t!==n.owner})))return th.single(true,y(n))
return Nt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Et(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}
var rh=function(t,e,n,r){return eh(n)&&n.uiType===Qm?nh(t,e,n,r):th.single(false,y(n))}
var oh=function(t,e,n,r){var o=rh(t,e,n,r)
return o.fold((function(o,a){var i=eh(n)?a(e,n.config,n.validated):a(e)
var u=Nt(i,"components").getOr([])
var c=et(u,(function(n){return oh(t,e,n,r)}))
return[O(O({},i),{components:c})]}),(function(t,r){if(eh(n)){var o=r(e,n.config,n.validated)
var a=n.validated.preprocess.getOr(w)
return a(o)}return r(e)}))}
var ah=function(t,e,n,r){return et(n,(function(n){return oh(t,e,n,r)}))}
var ih=function(t,e){var n=false
var r=function(){return n}
var o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t)
n=true
return e}
var a=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))}
return{name:y(t),required:a,used:r,replace:o}}
var uh=function(t,e,n,r){var o=zt(r,(function(t,e){return ih(e,t)}))
var a=ah(t,e,n,o)
At(o,(function(n){if(false===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))}))
return a}
var ch=th.single
var sh=th.multiple
var lh=y(Qm)
var fh=Ut.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}])
var vh=Pn("factory",{sketch:w})
var dh=Pn("schema",[])
var mh=yn("name")
var hh=Ge("pname","pname",ne((function(t){return"<alloy."+Bi(t.name)+">"})),ln())
var gh=Xn("schema",(function(){return[An("preprocess")]}))
var ph=Pn("defaults",y({}))
var bh=Pn("overrides",y({}))
var yh=Pe([vh,dh,mh,hh,ph,bh])
var wh=Pe([vh,dh,mh,ph,bh])
var xh=Pe([vh,dh,mh,hh,ph,bh])
var Ch=Pe([vh,gh,mh,yn("unit"),hh,ph,bh])
var Sh=function(t){return t.fold(I.some,I.none,I.some,I.some)}
var kh=function(t){var e=function(t){return t.name}
return t.fold(e,e,e,e)}
var Th=function(t){return t.fold(w,w,w,w)}
var _h=function(t,e){return function(n){var r=on("Converting part type",e,n)
return t(r)}}
var Oh=_h(fh.required,yh)
var Eh=_h(fh.external,wh)
var Mh=_h(fh.optional,xh)
var Ah=_h(fh.group,Ch)
var zh=y("entirety")
var Dh=Object.freeze({__proto__:null,required:Oh,external:Eh,optional:Mh,group:Ah,asNamedPart:Sh,name:kh,asCommon:Th,original:zh})
var Rh=function(t,e,n,r){return Xt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))}
var Ih=function(t,e,n){var r={}
var o={}
q(n,(function(t){t.fold((function(t){r[t.pname]=ch(true,(function(e,n,r){return t.factory.sketch(Rh(e,t,n,r))}))}),(function(t){var n=e.parts[t.name]
o[t.name]=y(t.factory.sketch(Rh(e,t,n[zh()]),n))}),(function(t){r[t.pname]=ch(false,(function(e,n,r){return t.factory.sketch(Rh(e,t,n,r))}))}),(function(t){r[t.pname]=sh(true,(function(e,n,r){var o=e[t.name]
return W(o,(function(n){return t.factory.sketch(Xt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))}))
return{internals:y(r),externals:y(o)}}
var Hh=function(t,e){var n={}
q(e,(function(e){Sh(e).each((function(e){var r=Lh(t,e.pname)
n[e.name]=function(n){var o=on("Part: "+e.name+" in "+t,Pe(e.schema),n)
return O(O({},r),{config:n,validated:o})}}))}))
return n}
var Lh=function(t,e){return{uiType:lh(),owner:t,name:e}}
var Bh=function(t,e,n){return{uiType:lh(),owner:t,name:e,config:n,validated:{}}}
var Ph=function(t){return et(t,(function(t){return t.fold(I.none,I.some,I.none,I.none).map((function(t){return On(t.name,t.schema.concat([js(zh())]))})).toArray()}))}
var Nh=function(t){return W(t,kh)}
var Fh=function(t,e,n){return Ih(t,e,n)}
var Vh=function(t,e,n){return uh(I.some(t),e,e.components,n)}
var jh=function(t,e,n){var r=e.partUids[n]
return t.getSystem().getByUid(r).toOptional()}
var Uh=function(t,e,n){return jh(t,e,n).getOrDie("Could not find part: "+n)}
var Wh=function(t,e,n){var r={}
var o=e.partUids
var a=t.getSystem()
q(n,(function(t){r[t]=y(a.getByUid(o[t]))}))
return r}
var qh=function(t,e){var n=t.getSystem()
return zt(e.partUids,(function(t,e){return y(n.getByUid(t))}))}
var Gh=function(t){return Et(t.partUids)}
var $h=function(t,e,n){var r={}
var o=e.partUids
var a=t.getSystem()
q(n,(function(t){r[t]=y(a.getByUid(o[t]).getOrDie())}))
return r}
var Xh=function(t,e){var n=Nh(e)
return le(W(n,(function(e){return{key:e,value:t+"-"+e}})))}
var Kh=function(t){return Ge("partUids","partUids",re((function(e){return Xh(e.uid,t)})),ln())}
var Zh=Object.freeze({__proto__:null,generate:Hh,generateOne:Bh,schemas:Ph,names:Nh,substitutes:Fh,components:Vh,defaultUids:Xh,defaultUidsSchema:Kh,getAllParts:qh,getAllPartNames:Gh,getPart:jh,getPartOrDie:Uh,getParts:Wh,getPartsOrDie:$h})
var Yh=function(t,e){var n=t.length>0?[On("parts",t)]:[]
return n.concat([yn("uid"),Pn("dom",{}),Pn("components",[]),js("originalSpec"),Pn("debug.sketcher",{})]).concat(e)}
var Jh=function(t,e,n,r,o){var a=Yh(r,o)
return on(t+" [SpecSchema]",Be(a.concat(e)),n)}
var Qh=function(t,e,n,r){var o=ng(r)
var a=Jh(t,e,o,[],[])
return n(a,o)}
var tg=function(t,e,n,r,o){var a=ng(o)
var i=Ph(n)
var u=Kh(n)
var c=Jh(t,e,a,i,[u])
var s=Fh(t,c,n)
var l=Vh(t,c,s.internals())
return r(c,l,a,s.externals())}
var eg=function(t){return Ft(t,"uid")}
var ng=function(t){return eg(t)?t:O(O({},t),{uid:qi("uid")})}
var rg=function(t){return void 0!==t.uid}
var og=Be([yn("name"),yn("factory"),yn("configFields"),Pn("apis",{}),Pn("extraApis",{})])
var ag=Be([yn("name"),yn("factory"),yn("configFields"),yn("partFields"),Pn("apis",{}),Pn("extraApis",{})])
var ig=function(t){var e=on("Sketcher for "+t.name,og,t)
var n=function(t){return Qh(e.name,e.configFields,e.factory,t)}
var r=zt(e.apis,nu)
var o=zt(e.extraApis,(function(t,e){return Yi(t,e)}))
return O(O({name:e.name,configFields:e.configFields,sketch:n},r),o)}
var ug=function(t){var e=on("Sketcher for "+t.name,ag,t)
var n=function(t){return tg(e.name,e.configFields,e.partFields,e.factory,t)}
var r=Hh(e.name,e.partFields)
var o=zt(e.apis,nu)
var a=zt(e.extraApis,(function(t,e){return Yi(t,e)}))
return O(O({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),a)}
var cg=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var sg=function(t){var e=[]
for(var n=0;n<t.length;n++){var r=t[n]
if(!r.isSome())return I.none()
e.push(r.getOrDie())}return I.some(e)}
var lg=function(t,e,n){return t.isSome()&&e.isSome()?I.some(n(t.getOrDie(),e.getOrDie())):I.none()}
var fg=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?I.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):I.none()}
var vg=function(t,e){return void 0!==t&&null!==t?I.some(e(t)):I.none()}
var dg=function(t,e){return t?I.some(e):I.none()}
var mg=function(t){return"input"===Ia(t)&&"radio"!==Ti(t,"type")||"textarea"===Ia(t)}
var hg=function(t,e,n){return e.find(t)}
var gg=Object.freeze({__proto__:null,getCurrent:hg})
var pg=[yn("find")]
var bg=Vl({fields:pg,name:"composing",apis:gg})
var yg=function(t,e,n,r){var o=Zv(t.element,"."+e.highlightClass)
q(o,(function(n){if(!V(r,(function(t){return t.element===n}))){Nu(n,e.highlightClass)
t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n)
la(n,sa())}))}}))}
var wg=function(t,e,n){return yg(t,e,n,[])}
var xg=function(t,e,n,r){if(Og(t,e,n,r)){Nu(r.element,e.highlightClass)
e.onDehighlight(t,r)
la(r,sa())}}
var Cg=function(t,e,n,r){yg(t,e,n,[r])
if(!Og(t,e,n,r)){Bu(r.element,e.highlightClass)
e.onHighlight(t,r)
la(r,ca())}}
var Sg=function(t,e,n){Ag(t,e).each((function(r){Cg(t,e,n,r)}))}
var kg=function(t,e,n){zg(t,e).each((function(r){Cg(t,e,n,r)}))}
var Tg=function(t,e,n,r){Mg(t,e,n,r).fold((function(t){throw t}),(function(r){Cg(t,e,n,r)}))}
var _g=function(t,e,n,r){var o=Hg(t,e)
var a=J(o,r)
a.each((function(r){Cg(t,e,n,r)}))}
var Og=function(t,e,n,r){return Fu(r.element,e.highlightClass)}
var Eg=function(t,e,n){return ds(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Mg=function(t,e,n,r){var o=Zv(t.element,"."+e.itemClass)
return I.from(o[r]).fold((function(){return ht.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)}
var Ag=function(t,e,n){return ds(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var zg=function(t,e,n){var r=Zv(t.element,"."+e.itemClass)
var o=r.length>0?I.some(r[r.length-1]):I.none()
return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Dg=function(t,e,n,r){var o=Zv(t.element,"."+e.itemClass)
var a=Q(o,(function(t){return Fu(t,e.highlightClass)}))
return a.bind((function(e){var n=hf(e,r,0,o.length-1)
return t.getSystem().getByDom(o[n]).toOptional()}))}
var Rg=function(t,e,n){return Dg(t,e,n,-1)}
var Ig=function(t,e,n){return Dg(t,e,n,1)}
var Hg=function(t,e,n){var r=Zv(t.element,"."+e.itemClass)
return cg(W(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))}
var Lg=Object.freeze({__proto__:null,dehighlightAll:wg,dehighlight:xg,highlight:Cg,highlightFirst:Sg,highlightLast:kg,highlightAt:Tg,highlightBy:_g,isHighlighted:Og,getHighlighted:Eg,getFirst:Ag,getLast:zg,getPrevious:Rg,getNext:Ig,getCandidates:Hg})
var Bg=[yn("highlightClass"),yn("itemClass"),Bs("onHighlight"),Bs("onDehighlight")]
var Pg=Vl({fields:Bg,name:"highlighting",apis:Lg})
var Ng=[8]
var Fg=[9]
var Vg=[13]
var jg=[27]
var Ug=[32]
var Wg=[37]
var qg=[38]
var Gg=[39]
var $g=[40]
var Xg=function(t,e,n){var r=rt(t.slice(0,e))
var o=rt(t.slice(e+1))
return J(r.concat(o),n)}
var Kg=function(t,e,n){var r=rt(t.slice(0,e))
return J(r,n)}
var Zg=function(t,e,n){var r=t.slice(0,e)
var o=t.slice(e+1)
return J(o.concat(r),n)}
var Yg=function(t,e,n){var r=t.slice(e+1)
return J(r,n)}
var Jg=function(t){return function(e){var n=e.raw
return F(t,n.which)}}
var Qg=function(t){return function(e){return nt(t,(function(t){return t(e)}))}}
var tp=function(t){var e=t.raw
return true===e.shiftKey}
var ep=function(t){var e=t.raw
return true===e.ctrlKey}
var np=C(tp)
var rp=function(t,e){return{matches:t,classification:e}}
var op=function(t,e){var n=J(t,(function(t){return t.matches(e)}))
return n.map((function(t){return t.classification}))}
var ap=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return oo(e,t)}))}))
r||fa(t,oa(),{prevFocus:e,newFocus:n})}
var ip=function(){var t=function(t){return Ql(t.element)}
var e=function(e,n){var r=t(e)
e.getSystem().triggerFocus(n,e.element)
var o=t(e)
ap(e,r,o)}
return{get:t,set:e}}
var up=function(){var t=function(t){return Pg.getHighlighted(t).map((function(t){return t.element}))}
var e=function(e,n){var r=t(e)
e.getSystem().getByDom(n).fold(h,(function(t){Pg.highlight(e,t)}))
var o=t(e)
ap(e,r,o)}
return{get:t,set:e}}
var cp;(function(t){t["OnFocusMode"]="onFocus"
t["OnEnterOrSpaceMode"]="onEnterOrSpace"
t["OnApiMode"]="onApi"})(cp||(cp={}))
var sp=function(t,e,n,r,o){var a=function(){return t.concat([Pn("focusManager",ip()),Nn("focusInside","onFocus",Qe((function(t){return F(["onFocus","onEnterOrSpace","onApi"],t)?ht.value(t):ht.error("Invalid value for focusInside")}))),Vs("handler",c),Vs("state",e),Vs("sendFocusIn",o)])}
var i=function(t,e,n,r,o){var a=n(t,e,r,o)
return op(a,e.event).bind((function(n){return n(t,e,r,o)}))}
var u=function(t,e){var a=t.focusInside!==cp.OnFocusMode?I.none():o(t).map((function(n){return wa(No(),(function(r,o){n(r,t,e)
o.stop()}))}))
var u=function(n,r){var a=Jg(Ug.concat(Vg))(r.event)
t.focusInside===cp.OnEnterOrSpaceMode&&a&&fo(n,r)&&o(t).each((function(o){o(n,t,e)
r.stop()}))}
var c=[wa(Ao(),(function(r,o){i(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),wa(zo(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))]
return ga(a.toArray().concat(c))}
var c={schema:a,processKey:i,toEvents:u}
return c}
var lp=function(t){var e=[An("onEscape"),An("onEnter"),Pn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pn("firstTabstop",0),Pn("useTabstopAt",T),An("visibilitySelector")].concat([t])
var n=function(t,e){var n=t.visibilitySelector.bind((function(t){return ms(e,t)})).getOr(e)
return Sc(n)>0}
var r=function(t,e){var r=Zv(t.element,e.selector)
var o=X(r,(function(t){return n(e,t)}))
return I.from(o[e.firstTabstop])}
var o=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var a=function(t,e){return n(t,e)&&t.useTabstopAt(e)}
var i=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))}
var u=function(t,e,n,r,o){return o(e,n,(function(t){return a(r,t)})).fold((function(){return r.cyclic?I.some(true):I.none()}),(function(e){r.focusManager.set(t,e)
return I.some(true)}))}
var c=function(t,e,n,r){var a=Zv(t.element,n.selector)
return o(t,n).bind((function(e){var o=Q(a,x(oo,e))
return o.bind((function(e){return u(t,a,e,n,r)}))}))}
var s=function(t,e,n){var r=n.cyclic?Xg:Kg
return c(t,e,n,r)}
var l=function(t,e,n){var r=n.cyclic?Zg:Yg
return c(t,e,n,r)}
var f=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}
var v=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))}
var d=y([rp(Qg([tp,Jg(Fg)]),s),rp(Jg(Fg),l),rp(Jg(jg),v),rp(Qg([np,Jg(Vg)]),f)])
var m=y([])
return sp(e,ru.init,d,m,(function(){return I.some(i)}))}
var fp=lp(Xn("cyclic",k))
var vp=lp(Xn("cyclic",T))
var dp=function(t,e,n){da(t,n,Uo())
return I.some(true)}
var mp=function(t,e,n){var r=mg(n)&&Jg(Ug)(e.event)
return r?I.none():dp(t,e,n)}
var hp=function(t,e){return I.some(true)}
var gp=[Pn("execute",mp),Pn("useSpace",false),Pn("useEnter",true),Pn("useControlEnter",false),Pn("useDown",false)]
var pp=function(t,e,n){return n.execute(t,e,t.element)}
var bp=function(t,e,n,r){var o=n.useSpace&&!mg(t.element)?Ug:[]
var a=n.useEnter?Vg:[]
var i=n.useDown?$g:[]
var u=o.concat(a).concat(i)
return[rp(Jg(u),pp)].concat(n.useControlEnter?[rp(Qg([ep,Jg(Vg)]),pp)]:[])}
var yp=function(t,e,n,r){return n.useSpace&&!mg(t.element)?[rp(Jg(Ug),hp)]:[]}
var wp=sp(gp,ru.init,bp,yp,(function(){return I.none()}))
var xp=function(){var t=Kn(I.none())
var e=function(e,n){t.set(I.some({numRows:e,numColumns:n}))}
var n=function(){return t.get().map((function(t){return t.numRows}))}
var r=function(){return t.get().map((function(t){return t.numColumns}))}
return ou({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})}
var Cp=function(t){return t.state(t)}
var Sp=Object.freeze({__proto__:null,flatgrid:xp,init:Cp})
var kp=function(t){return function(e,n,r,o){var a=t(e.element)
return Ep(a,e,n,r,o)}}
var Tp=function(t,e){var n=Bf(t,e)
return kp(n)}
var _p=function(t,e){var n=Bf(e,t)
return kp(n)}
var Op=function(t){return function(e,n,r,o){return Ep(t,e,n,r,o)}}
var Ep=function(t,e,n,r,o){var a=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}))
return a.map((function(t){r.focusManager.set(e,t)
return true}))}
var Mp=Op
var Ap=Op
var zp=Op
var Dp=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}
var Rp=function(t){return!Dp(t.dom)}
var Ip=function(t,e){return Q(t,e).map((function(e){return{index:e,candidates:t}}))}
var Hp=function(t,e,n){var r=function(t){return oo(t,e)}
var o=Zv(t,n)
var a=X(o,Rp)
return Ip(a,r)}
var Lp=function(t,e){return Q(t,(function(t){return oo(e,t)}))}
var Bp=function(t,e,n,r){var o=Math.floor(e/n)
var a=e%n
return r(o,a).bind((function(e){var r=e.row*n+e.column
return r>=0&&r<t.length?I.some(t[r]):I.none()}))}
var Pp=function(t,e,n,r,o){return Bp(t,e,r,(function(e,a){var i=e===n-1
var u=i?t.length-e*r:r
var c=hf(a,o,0,u-1)
return I.some({row:e,column:c})}))}
var Np=function(t,e,n,r,o){return Bp(t,e,r,(function(e,a){var i=hf(e,o,0,n-1)
var u=i===n-1
var c=u?t.length-i*r:r
var s=gf(a,0,c-1)
return I.some({row:i,column:s})}))}
var Fp=function(t,e,n,r){return Pp(t,e,n,r,1)}
var Vp=function(t,e,n,r){return Pp(t,e,n,r,-1)}
var jp=function(t,e,n,r){return Np(t,e,n,r,-1)}
var Up=function(t,e,n,r){return Np(t,e,n,r,1)}
var Wp=[yn("selector"),Pn("execute",mp),Ps("onEscape"),Pn("captureTab",false),Us()]
var qp=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Gp=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var $p=function(t,e,n,r){return Gp(t,n).bind((function(r){return n.execute(t,e,r)}))}
var Xp=function(t){return function(e,n,r,o){return Hp(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}}
var Kp=function(t,e,n){return n.captureTab?I.some(true):I.none()}
var Zp=function(t,e,n){return n.onEscape(t,e)}
var Yp=Xp(Vp)
var Jp=Xp(Fp)
var Qp=Xp(jp)
var tb=Xp(Up)
var eb=y([rp(Jg(Wg),Tp(Yp,Jp)),rp(Jg(Gg),_p(Yp,Jp)),rp(Jg(qg),Mp(Qp)),rp(Jg($g),Ap(tb)),rp(Qg([tp,Jg(Fg)]),Kp),rp(Qg([np,Jg(Fg)]),Kp),rp(Jg(jg),Zp),rp(Jg(Ug.concat(Vg)),$p)])
var nb=y([rp(Jg(Ug),hp)])
var rb=sp(Wp,xp,eb,nb,(function(){return I.some(qp)}))
var ob=function(t,e,n,r){var o=function(t){return"button"===Ia(t)&&"disabled"===Ti(t,"disabled")}
var a=function(t,e,n){var i=hf(e,r,0,n.length-1)
return i===t?I.none():o(n[i])?a(t,i,n):I.from(n[i])}
return Hp(t,n,e).bind((function(t){var e=t.index
var n=t.candidates
return a(e,e,n)}))}
var ab=[yn("selector"),Pn("getInitial",I.none),Pn("execute",mp),Ps("onEscape"),Pn("executeOnMove",false),Pn("allowVertical",true)]
var ib=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var ub=function(t,e,n){return ib(t,n).bind((function(r){return n.execute(t,e,r)}))}
var cb=function(t,e,n){e.getInitial(t).orThunk((function(){return ds(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))}
var sb=function(t,e,n){return ob(t,n.selector,e,-1)}
var lb=function(t,e,n){return ob(t,n.selector,e,1)}
var fb=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?ub(e,n,r):I.some(true)}))}}
var vb=function(t,e,n){return n.onEscape(t,e)}
var db=function(t,e,n,r){var o=Wg.concat(n.allowVertical?qg:[])
var a=Gg.concat(n.allowVertical?$g:[])
return[rp(Jg(o),fb(Tp(sb,lb))),rp(Jg(a),fb(_p(sb,lb))),rp(Jg(Vg),ub),rp(Jg(Ug),ub),rp(Jg(jg),vb)]}
var mb=y([rp(Jg(Ug),hp)])
var hb=sp(ab,ru.init,db,mb,(function(){return I.some(cb)}))
var gb=function(t,e,n){return I.from(t[e]).bind((function(t){return I.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))}
var pb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=hf(n,r,0,a-1)
return gb(t,e,i)}
var bb=function(t,e,n,r){var o=hf(n,r,0,t.length-1)
var a=t[o].length
var i=gf(e,0,a-1)
return gb(t,o,i)}
var yb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=gf(n+r,0,a-1)
return gb(t,e,i)}
var wb=function(t,e,n,r){var o=gf(n+r,0,t.length-1)
var a=t[o].length
var i=gf(e,0,a-1)
return gb(t,o,i)}
var xb=function(t,e,n){return pb(t,e,n,1)}
var Cb=function(t,e,n){return pb(t,e,n,-1)}
var Sb=function(t,e,n){return bb(t,n,e,-1)}
var kb=function(t,e,n){return bb(t,n,e,1)}
var Tb=function(t,e,n){return yb(t,e,n,-1)}
var _b=function(t,e,n){return yb(t,e,n,1)}
var Ob=function(t,e,n){return wb(t,n,e,-1)}
var Eb=function(t,e,n){return wb(t,n,e,1)}
var Mb=[On("selectors",[yn("row"),yn("cell")]),Pn("cycles",true),Pn("previousSelector",I.none),Pn("execute",mp)]
var Ab=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors
return ds(t.element,n.cell)}))
r.each((function(n){e.focusManager.set(t,n)}))}
var zb=function(t,e,n){return Ql(t.element).bind((function(r){return n.execute(t,e,r)}))}
var Db=function(t,e){return W(t,(function(t){return Zv(t,e.selectors.cell)}))}
var Rb=function(t,e){return function(n,r,o){var a=o.cycles?t:e
return ms(r,o.selectors.row).bind((function(t){var e=Zv(t,o.selectors.cell)
return Lp(e,r).bind((function(e){var r=Zv(n,o.selectors.row)
return Lp(r,t).bind((function(t){var n=Db(r,o)
return a(n,t,e).map((function(t){return t.cell}))}))}))}))}}
var Ib=Rb(Cb,Tb)
var Hb=Rb(xb,_b)
var Lb=Rb(Sb,Ob)
var Bb=Rb(kb,Eb)
var Pb=y([rp(Jg(Wg),Tp(Ib,Hb)),rp(Jg(Gg),_p(Ib,Hb)),rp(Jg(qg),Mp(Lb)),rp(Jg($g),Ap(Bb)),rp(Jg(Ug.concat(Vg)),zb)])
var Nb=y([rp(Jg(Ug),hp)])
var Fb=sp(Mb,ru.init,Pb,Nb,(function(){return I.some(Ab)}))
var Vb=[yn("selector"),Pn("execute",mp),Pn("moveOnTab",false)]
var jb=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))}
var Ub=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Wb=function(t,e,n){return ob(t,n.selector,e,-1)}
var qb=function(t,e,n){return ob(t,n.selector,e,1)}
var Gb=function(t,e,n,r){return n.moveOnTab?zp(Wb)(t,e,n,r):I.none()}
var $b=function(t,e,n,r){return n.moveOnTab?zp(qb)(t,e,n,r):I.none()}
var Xb=y([rp(Jg(qg),zp(Wb)),rp(Jg($g),zp(qb)),rp(Qg([tp,Jg(Fg)]),Gb),rp(Qg([np,Jg(Fg)]),$b),rp(Jg(Vg),jb),rp(Jg(Ug),jb)])
var Kb=y([rp(Jg(Ug),hp)])
var Zb=sp(Vb,ru.init,Xb,Kb,(function(){return I.some(Ub)}))
var Yb=[Ps("onSpace"),Ps("onEnter"),Ps("onShiftEnter"),Ps("onLeft"),Ps("onRight"),Ps("onTab"),Ps("onShiftTab"),Ps("onUp"),Ps("onDown"),Ps("onEscape"),Pn("stopSpaceKeyup",false),An("focusIn")]
var Jb=function(t,e,n){return[rp(Jg(Ug),n.onSpace),rp(Qg([np,Jg(Vg)]),n.onEnter),rp(Qg([tp,Jg(Vg)]),n.onShiftEnter),rp(Qg([tp,Jg(Fg)]),n.onShiftTab),rp(Qg([np,Jg(Fg)]),n.onTab),rp(Jg(qg),n.onUp),rp(Jg($g),n.onDown),rp(Jg(Wg),n.onLeft),rp(Jg(Gg),n.onRight),rp(Jg(Ug),n.onSpace),rp(Jg(jg),n.onEscape)]}
var Qb=function(t,e,n){return n.stopSpaceKeyup?[rp(Jg(Ug),hp)]:[]}
var ty=sp(Yb,ru.init,Jb,Qb,(function(t){return t.focusIn}))
var ey=fp.schema()
var ny=vp.schema()
var ry=hb.schema()
var oy=rb.schema()
var ay=Fb.schema()
var iy=wp.schema()
var uy=Zb.schema()
var cy=ty.schema()
var sy=Object.freeze({__proto__:null,acyclic:ey,cyclic:ny,flow:ry,flatgrid:oy,matrix:ay,execution:iy,menu:uy,special:cy})
var ly=function(t){return Vt(t,"setGridSize")}
var fy=Ul({branchKey:"mode",branches:sy,name:"keying",active:{events:function(t,e){var n=t.handler
return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){ly(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sp})
var vy=function(t,e,n,r){tf((function(){var e=W(r,t.getSystem().build)
Bd(t,e)}),t.element)}
var dy=function(t,e,n,r){var o=t.getSystem().build(r)
Nd(t,o,n)}
var my=function(t,e,n,r){dy(t,e,fi,r)}
var hy=function(t,e,n,r){dy(t,e,li,r)}
var gy=function(t,e,n,r){var o=py(t)
var a=J(o,(function(t){return oo(r.element,t.element)}))
a.each(Vd)}
var py=function(t,e){return t.components()}
var by=function(t,e,n,r,o){var a=py(t)
return I.from(a[r]).map((function(a){gy(t,e,n,a)
o.each((function(n){dy(t,e,(function(t,e){vi(t,e,r)}),n)}))
return a}))}
var yy=function(t,e,n,r,o){var a=py(t)
return Q(a,r).bind((function(r){return by(t,e,n,r,o)}))}
var wy=Object.freeze({__proto__:null,append:my,prepend:hy,remove:gy,replaceAt:by,replaceBy:yy,set:vy,contents:py})
var xy=Vl({fields:[],name:"replacing",apis:wy})
var Cy=function(t,e){var n=ga(e)
return Vl({fields:[yn("enabled")],name:t,active:{events:y(n)}})}
var Sy=function(t,e){var n=Cy(t,e)
return{key:t,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:ru}}}
var ky=function(t,e){if(!e.ignore){Kl(t.element)
e.onFocus(t)}}
var Ty=function(t,e){e.ignore||Zl(t.element)}
var _y=function(t){return Yl(t.element)}
var Oy=Object.freeze({__proto__:null,focus:ky,blur:Ty,isFocused:_y})
var Ey=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}}
return su(n)}
var My=function(t){return ga([wa(No(),(function(e,n){ky(e,t)
n.stop()}))].concat(t.stopMousedown?[wa(So(),(function(t,e){e.event.prevent()}))]:[]))}
var Ay=Object.freeze({__proto__:null,exhibit:Ey,events:My})
var zy=[Bs("onFocus"),Pn("stopMousedown",false),Pn("ignore",false)]
var Dy=Vl({fields:zy,name:"focusing",active:Ay,apis:Oy})
var Ry=function(t){var e=function(){var e=Kn(t)
var n=function(){return e.get()}
var r=function(t){return e.set(t)}
var o=function(){return e.set(t)}
var a=function(){return e.get()}
return{get:n,set:r,clear:o,readState:a}}
return{init:e}}
var Iy=function(t,e,n){var r=e.aria
r.update(t,r,n.get())}
var Hy=function(t,e,n){e.toggleClass.each((function(e){n.get()?Bu(t.element,e):Nu(t.element,e)}))}
var Ly=function(t,e,n){Ny(t,e,n,!n.get())}
var By=function(t,e,n){n.set(true)
Hy(t,e,n)
Iy(t,e,n)}
var Py=function(t,e,n){n.set(false)
Hy(t,e,n)
Iy(t,e,n)}
var Ny=function(t,e,n,r){var o=r?By:Py
o(t,e,n)}
var Fy=function(t,e,n){return n.get()}
var Vy=function(t,e,n){Ny(t,e,n,e.selected)}
var jy=Object.freeze({__proto__:null,onLoad:Vy,toggle:Ly,isOn:Fy,on:By,off:Py,set:Ny})
var Uy=function(){return su({})}
var Wy=function(t,e){var n=Dl(t,e,Ly)
var r=Rl(t,e,Vy)
return ga(tt([t.toggleOnExecute?[n]:[],[r]]))}
var qy=Object.freeze({__proto__:null,exhibit:Uy,events:Wy})
var Gy=function(t,e,n){Si(t.element,"aria-pressed",n)
e.syncWithExpanded&&Ky(t,e,n)}
var $y=function(t,e,n){Si(t.element,"aria-selected",n)}
var Xy=function(t,e,n){Si(t.element,"aria-checked",n)}
var Ky=function(t,e,n){Si(t.element,"aria-expanded",n)}
var Zy=[Pn("selected",false),An("toggleClass"),Pn("toggleOnExecute",true),Nn("aria",{mode:"none"},cn("mode",{pressed:[Pn("syncWithExpanded",false),Vs("update",Gy)],checked:[Vs("update",Xy)],expanded:[Vs("update",Ky)],selected:[Vs("update",$y)],none:[Vs("update",h)]}))]
var Yy=Vl({fields:Zy,name:"toggling",active:qy,apis:jy,state:Ry(false)})
var Jy=function(){var t=function(t,e){e.stop()
va(t)}
return[wa(Io(),t),wa(qo(),t),Oa(yo()),Oa(So())]}
var Qy=function(t){var e=function(t){return Ra((function(e,n){t(e)
n.stop()}))}
return ga(tt([t.map(e).toArray(),Jy()]))}
var tw="alloy.item-hover"
var ew="alloy.item-focus"
var nw=function(t){if(Ql(t.element).isNone()||Dy.isFocused(t)){Dy.isFocused(t)||Dy.focus(t)
fa(t,tw,{item:t})}}
var rw=function(t){fa(t,ew,{item:t})}
var ow=y(tw)
var aw=y(ew)
var iw=function(t){return{dom:t.dom,domModification:O(O({},t.domModification),{attributes:O(O(O({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":false}:{})}),behaviours:Jm.augment(t.itemBehaviours,[t.toggling.fold(Yy.revoke,(function(t){return Yy.config(O({aria:{mode:"checked"}},t))})),Dy.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){rw(t)}}),fy.config({mode:"execution"}),Xm.config({store:{mode:"memory",initialValue:t.data}}),Sy("item-type-events",M(Jy(),[wa(Oo(),nw),wa(Wo(),Dy.focus)]))]),components:t.components,eventOrder:t.eventOrder}}
var uw=[yn("data"),yn("components"),yn("dom"),Pn("hasSubmenu",false),An("toggling"),Jm.field("itemBehaviours",[Yy,Dy,fy,Xm]),Pn("ignoreFocus",false),Pn("domModification",{}),Vs("builder",iw),Pn("eventOrder",{})]
var cw=function(t){return{dom:t.dom,components:t.components,events:ga([Ea(Wo())])}}
var sw=[yn("dom"),yn("components"),Vs("builder",cw)]
var lw=y("item-widget")
var fw=y([Oh({name:"widget",overrides:function(t){return{behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:h}})])}}})])
var vw=function(t){var e=Fh(lw(),t,fw())
var n=Vh(lw(),t,e.internals())
var r=function(e){return jh(e,t,"widget").map((function(t){fy.focusIn(t)
return t}))}
var o=function(e,n){return mg(n.event.target)?I.none():function(){if(t.autofocus){n.setSource(e.element)
return I.none()}return I.none()}()}
return{dom:t.dom,components:n,domModification:t.domModification,events:ga([Ra((function(t,e){r(t).each((function(t){e.stop()}))})),wa(Oo(),nw),wa(Wo(),(function(e,n){t.autofocus?r(e):Dy.focus(e)}))]),behaviours:Jm.augment(t.widgetBehaviours,[Xm.config({store:{mode:"memory",initialValue:t.data}}),Dy.config({ignore:t.ignoreFocus,onFocus:function(t){rw(t)}}),fy.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Wl(),onLeft:o,onRight:o,onEscape:function(e,n){if(Dy.isFocused(e)||t.autofocus){if(t.autofocus){n.setSource(e.element)
return I.none()}return I.none()}Dy.focus(e)
return I.some(true)}})])}}
var dw=[yn("uid"),yn("data"),yn("components"),yn("dom"),Pn("autofocus",false),Pn("ignoreFocus",false),Jm.field("widgetBehaviours",[Xm,Dy,fy]),Pn("domModification",{}),Kh(fw()),Vs("builder",vw)]
var mw=cn("type",{widget:dw,item:uw,separator:sw})
var hw=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}
var gw=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}}
var pw=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}
var bw=y([Ah({factory:{sketch:function(t){var e=on("menu.spec item",mw,t)
return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:O(O({},e),{uid:qi("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})])
var yw=y([yn("value"),yn("items"),yn("dom"),yn("components"),Pn("eventOrder",{}),Km("menuBehaviours",[Pg,Xm,bg,fy]),Nn("movement",{mode:"menu",moveOnTab:true},cn("mode",{grid:[Us(),Vs("config",hw)],matrix:[Vs("config",gw),yn("rowSelector")],menu:[Pn("moveOnTab",true),Vs("config",pw)]})),Rs(),Pn("fakeFocus",false),Pn("focusManager",ip()),Bs("onHighlight")])
var ww=y("alloy.menu-focus")
var xw=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ym(t.menuBehaviours,[Pg.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Xm.config({store:{mode:"memory",initialValue:t.value}}),bg.config({find:I.some}),fy.config(t.movement.config(t,t.movement))]),events:ga([wa(aw(),(function(t,e){var n=e.event
t.getSystem().getByDom(n.target).each((function(n){Pg.highlight(t,n)
e.stop()
fa(t,ww(),{menu:t,item:n})}))})),wa(ow(),(function(t,e){var n=e.event.item
Pg.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}
var Cw=ug({name:"Menu",configFields:yw(),partFields:bw(),factory:xw})
var Sw=function(t){return Dt(t,(function(t,e){return{k:t,v:e}}))}
var kw=function(t,e,n,r){return Nt(n,r).bind((function(r){return Nt(t,r).bind((function(r){var o=kw(t,e,n,r)
return I.some([r].concat(o))}))})).getOr([])}
var Tw=function(t,e){var n={}
At(t,(function(t,e){q(t,(function(t){n[t]=e}))}))
var r=e
var o=Sw(e)
var a=zt(o,(function(t,e){return[e].concat(kw(n,r,o,e))}))
return zt(n,(function(t){return Nt(a,t).getOr([t])}))}
var _w=function(){var t=Kn({})
var e=Kn({})
var n=Kn({})
var r=Kn(I.none())
var o=Kn({})
var a=function(){t.set({})
e.set({})
n.set({})
r.set(I.none())}
var i=function(){return r.get().isNone()}
var u=function(t,n){var r
e.set(O(O({},e.get()),(r={},r[t]={type:"prepared",menu:n},r)))}
var c=function(a,i,u,c){r.set(I.some(a))
t.set(u)
e.set(i)
o.set(c)
var s=Tw(c,u)
n.set(s)}
var s=function(e){return Bt(t.get(),(function(t,n){return t===e}))}
var l=function(t,e,n){return h(t).bind((function(r){return s(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))}
var f=function(t,e){var o=X(p(t).toArray(),(function(t){return h(t).isSome()}))
return Nt(n.get(),t).bind((function(t){var n=rt(o.concat(t))
var a=et(n,(function(t,o){return l(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[I.none()]}),(function(t){return[I.some(t)]}))}))
return sg(a)}))}
var v=function(e){return Nt(t.get(),e).map((function(t){var r=Nt(n.get(),e).getOr([])
return[t].concat(r)}))}
var d=function(t){return Nt(n.get(),t).bind((function(t){return t.length>1?I.some(t.slice(1)):I.none()}))}
var m=function(t){return Nt(n.get(),t)}
var h=function(t){return g(t).bind(Ow)}
var g=function(t){return Nt(e.get(),t)}
var p=function(e){return Nt(t.get(),e)}
var b=function(t){var e=o.get()
return ot(Et(e),t)}
var y=function(){return r.get().bind(h)}
var w=function(){return e.get()}
return{setMenuBuilt:u,setContents:c,expand:v,refresh:m,collapse:d,lookupMenu:g,lookupItem:p,otherMenus:b,getPrimary:y,getMenus:w,clear:a,isClear:i,getTriggeringPath:f}}
var Ow=function(t){return"prepared"===t.type?I.some(t.menu):I.none()}
var Ew={init:_w,extractPreparedMenu:Ow}
var Mw=function(t,e){var n=Kn(I.none())
var r=function(e,n,r){return zt(r,(function(r,o){var a=function(){return Cw.sketch(O(O({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?up():ip()}))}
return o===n?{type:"prepared",menu:e.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}
var o=Ew.init()
var a=function(e){var n=r(e,t.data.primary,t.data.menus)
var a=c()
o.setContents(t.data.primary,n,t.data.expansions,a)
return o.getPrimary()}
var i=function(t){return Xm.getValue(t).value}
var u=function(t,e,n){return ft(e,(function(t){if(!t.getSystem().isConnected())return I.none()
var e=Pg.getCandidates(t)
return J(e,(function(t){return i(t)===n}))}))}
var c=function(e){return zt(t.data.menus,(function(t,e){return et(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))}
var s=function(t,e){Pg.highlight(t,e)
Pg.getHighlighted(e).orThunk((function(){return Pg.getFirst(e)})).each((function(e){da(t,e.element,Wo())}))}
var l=function(t,e){return cg(W(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?I.some(t.menu):I.none()}))})))}
var f=function(e,n,r){var o=l(n,n.otherMenus(r))
q(o,(function(n){ju(n.element,[t.markers.backgroundMenu])
t.stayInDom||xy.remove(e,n)}))}
var v=function(e){return n.get().getOrThunk((function(){var r={}
var o=Zv(e.element,"."+t.markers.item)
var a=X(o,(function(t){return"true"===Ti(t,"aria-haspopup")}))
q(a,(function(t){e.getSystem().getByDom(t).each((function(t){var e=i(t)
r[e]=t}))}))
n.set(I.some(r))
return r}))}
var d=function(t,e){var n=v(t)
At(n,(function(t,n){var r=F(e,n)
Si(t.element,"aria-expanded",r)}))}
var m=function(e,n,r){return I.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return I.none()
var a=o.menu
var i=l(n,r.slice(1))
q(i,(function(e){Bu(e.element,t.markers.backgroundMenu)}))
Wu(a.element)||xy.append(e,wc(a))
ju(a.element,[t.markers.backgroundMenu])
s(e,a)
f(e,n,r)
return I.some(a)}))}))}
var g;(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu"
t[t["HighlightParent"]=1]="HighlightParent"})(g||(g={}))
var p=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu())
o.setMenuBuilt(e,r)
return r}return n.menu}
var b=function(e,n,r){void 0===r&&(r=g.HighlightSubmenu)
var a=i(n)
return o.expand(a).bind((function(a){d(e,a)
return I.from(a[0]).bind((function(i){return o.lookupMenu(i).bind((function(u){var c=p(e,i,u)
Wu(c.element)||xy.append(e,wc(c))
t.onOpenSubmenu(e,n,c,rt(a))
if(r===g.HighlightSubmenu){Pg.highlightFirst(c)
return m(e,o,a)}Pg.dehighlightAll(c)
return I.some(n)}))}))}))}
var y=function(e,n){var r=i(n)
return o.collapse(r).bind((function(r){d(e,r)
return m(e,o,r).map((function(r){t.onCollapseMenu(e,n,r)
return r}))}))}
var w=function(t,e){var n=i(e)
return o.refresh(n).bind((function(e){d(t,e)
return m(t,o,e)}))}
var x=function(t,e){return mg(e.element)?I.none():b(t,e,g.HighlightSubmenu)}
var C=function(t,e){return mg(e.element)?I.none():y(t,e)}
var S=function(e,n){return y(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))}
var k=function(e){return function(n,r){return ms(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map(T)}))}))}}
var _=ga([wa(ww(),(function(t,e){var n=e.event.item
o.lookupItem(i(n)).each((function(){var n=e.event.menu
Pg.highlight(t,n)
var r=i(e.event.item)
o.refresh(r).each((function(e){return f(t,o,e)}))}))})),Ra((function(e,n){var r=n.event.target
e.getSystem().getByDom(r).each((function(n){var r=i(n)
0===r.indexOf("collapse-item")&&y(e,n)
b(e,n,g.HighlightSubmenu).fold((function(){t.onExecute(e,n)}),h)}))})),Aa((function(e,n){a(e).each((function(n){xy.append(e,wc(n))
t.onOpenMenu(e,n)
t.highlightImmediately&&s(e,n)}))}))].concat(t.navigateOnHover?[wa(ow(),(function(e,n){var r=n.event.item
w(e,r)
b(e,r,g.HighlightParent)
t.onHover(e,r)}))]:[]))
var E=function(t){return Pg.getHighlighted(t).bind(Pg.getHighlighted)}
var M=function(t){E(t).each((function(e){y(t,e)}))}
var A=function(t){o.getPrimary().each((function(e){s(t,e)}))}
var z=function(t){return I.from(t.components()[0]).filter((function(t){return"menu"===Ti(t.element,"role")}))}
var D=function(e){var n=o.getPrimary().bind((function(t){return E(e).bind((function(t){var n=i(t)
var r=Pt(o.getMenus())
var a=cg(W(r,Ew.extractPreparedMenu))
return o.getTriggeringPath(n,(function(t){return u(e,a,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}))
n.fold((function(){z(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath
t.onRepositionMenu(e,r,o)}))}
var R={collapseMenu:M,highlightPrimary:A,repositionMenus:D}
return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Ym(t.tmenuBehaviours,[fy.config({mode:"special",onRight:k(x),onLeft:k(C),onEscape:k(S),focusIn:function(t,e){o.getPrimary().each((function(e){da(t,e.element,Wo())}))}}),Pg.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bg.config({find:function(t){return Pg.getHighlighted(t)}}),xy.config({})]),eventOrder:t.eventOrder,apis:R,events:_}}
var Aw=y("collapse-item")
var zw=function(t,e,n){return{primary:t,menus:e,expansions:n}}
var Dw=function(t,e){return{primary:t,menus:se(t,e),expansions:{}}}
var Rw=function(t){return{value:Bi(Aw()),meta:{text:t}}}
var Iw=ig({name:"TieredMenu",configFields:[Fs("onExecute"),Fs("onEscape"),Ns("onOpenMenu"),Ns("onOpenSubmenu"),Bs("onRepositionMenu"),Bs("onCollapseMenu"),Pn("highlightImmediately",true),On("data",[yn("primary"),yn("menus"),yn("expansions")]),Pn("fakeFocus",false),Bs("onHighlight"),Bs("onHover"),Is(),yn("dom"),Pn("navigateOnHover",true),Pn("stayInDom",false),Km("tmenuBehaviours",[fy,Pg,bg,xy]),Pn("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:Mw,extraApis:{tieredData:zw,singleData:Dw,collapseItem:Rw}})
var Hw=function(t,e,n,r,o){var a=function(){return t.lazySink(e)}
var i="horizontal"===r.type?{layouts:{onLtr:function(){return _l()},onRtl:function(){return Ol()}}}:{}
var u=function(t){return 2===t.length}
var c=function(t){return u(t)?i:{}}
return Iw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){vm.close(e)
t.onEscape.map((function(t){return t(e)}))
return I.some(true)},onExecute:function(){return I.some(true)},onOpenMenu:function(t,e){Dd.positionWithinBounds(a().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=a().getOrDie()
Dd.position(o,O({anchor:"submenu",item:e},c(r)),n)},onRepositionMenu:function(t,e,r){var i=a().getOrDie()
Dd.positionWithinBounds(i,n,e,o())
q(r,(function(t){var e=c(t.triggeringPath)
Dd.position(i,O({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}
var Lw=function(t,e){var n=function(e,n){var r=t.getRelated(e)
return r.exists((function(t){return bs(t,n)}))}
var r=function(t,e){vm.setContent(t,e)}
var o=function(t,e,n){a(t,e,n,I.none())}
var a=function(t,e,n,r){i(t,e,n,(function(){return r.map((function(t){return os(t)}))}))}
var i=function(e,n,r,o){var a=t.lazySink(e).getOrDie()
vm.openWhileCloaked(e,r,(function(){return Dd.positionWithinBounds(a,n,e,o())}))
Xm.setValue(e,I.some({mode:"position",anchor:n,getBounds:o}))}
var u=function(t,e,n){c(t,e,n,(function(){return I.none()}))}
var c=function(e,n,r,o){var a=Hw(t,e,n,r,o)
vm.open(e,a)
Xm.setValue(e,I.some({mode:"menu",menu:a}))}
var s=function(t){if(vm.isOpen(t)){Xm.setValue(t,I.none())
vm.close(t)}}
var l=function(t){return vm.getState(t)}
var f=function(e){vm.isOpen(e)&&Xm.getValue(e).each((function(n){switch(n.mode){case"menu":vm.getState(e).each((function(t){Iw.repositionMenus(t)}))
break
case"position":var r=t.lazySink(e).getOrDie()
Dd.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))}
var v={setContent:r,showAt:o,showWithin:a,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:f,isOpen:vm.isOpen}
return{uid:t.uid,dom:t.dom,behaviours:Ym(t.inlineBehaviours,[vm.config({isPartOf:function(t,e,r){return bs(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Xm.config({store:{mode:"memory",initialValue:I.none()}}),ql.config({channels:O(O({},pm(O({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym(O(O({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:f})))})]),eventOrder:t.eventOrder,apis:v}}
var Bw=ig({name:"InlineView",configFields:[yn("lazySink"),Bs("onShow"),Bs("onHide"),In("onEscape"),Km("inlineBehaviours",[vm,Xm,ql]),Ln("fireDismissalEventInstead",[Pn("event",na())]),Ln("fireRepositionEventInstead",[Pn("event",ra())]),Pn("getRelated",I.none),Pn("isExtraPart",k),Pn("eventOrder",I.none)],factory:Lw,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}})
var Pw=function(t){return t.x}
var Nw=function(t,e){return t.x+t.width/2-e.width/2}
var Fw=function(t,e){return t.x+t.width-e.width}
var Vw=function(t){return t.y}
var jw=function(t,e){return t.y+t.height-e.height}
var Uw=function(t,e,n){return Ws(Fw(t,e),jw(t,e),n.innerSoutheast(),Js(),ol(t,{right:0,bottom:3}),"layout-inner-se")}
var Ww=function(t,e,n){return Ws(Pw(t),jw(t,e),n.innerSouthwest(),Ys(),ol(t,{left:1,bottom:3}),"layout-inner-sw")}
var qw=function(t,e,n){return Ws(Fw(t,e),Vw(t),n.innerNortheast(),Zs(),ol(t,{right:0,top:2}),"layout-inner-ne")}
var Gw=function(t,e,n){return Ws(Pw(t),Vw(t),n.innerNorthwest(),Ks(),ol(t,{left:1,top:2}),"layout-inner-nw")}
var $w=function(t,e,n){return Ws(Nw(t,e),Vw(t),n.innerNorth(),Qs(),ol(t,{top:2}),"layout-inner-n")}
var Xw=function(t,e,n){return Ws(Nw(t,e),jw(t,e),n.innerSouth(),tl(),ol(t,{bottom:3}),"layout-inner-s")}
var Kw=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Zw=function(t){var e=Qy(t.action)
var n=t.dom.tag
var r=function(e){return Nt(t.dom,"attributes").bind((function(t){return Nt(t,e)}))}
var o=function(){if("button"===n){var t=r("type").getOr("button")
var e=r("role").map((function(t){return{role:t}})).getOr({})
return O({type:t},e)}var o=r("role").getOr("button")
return{role:o}}
return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Jm.augment(t.buttonBehaviours,[Dy.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:o()},eventOrder:t.eventOrder}}
var Yw=ig({name:"Button",factory:Zw,configFields:[Pn("uid",void 0),yn("dom"),Pn("components",[]),Jm.field("buttonBehaviours",[Dy,fy]),An("action"),An("role"),Pn("eventOrder",{})]})
var Jw=function(t){var e=rg(t)&&Vt(t,"uid")?t.uid:qi("memento")
var n=function(t){return t.getSystem().getByUid(e).getOrDie()}
var r=function(t){return t.getSystem().getByUid(e).toOptional()}
var o=function(){return O(O({},t),{uid:e})}
return{get:n,getOpt:r,asSpec:o}}
var Qw=function(t){return I.from(t()["temporary-placeholder"]).getOr("!not found!")}
var tx=function(t,e){return I.from(e()[t.toLowerCase()]).getOrThunk((function(){return Qw(e)}))}
var ex=function(t,e,n){return I.from(e()[t.toLowerCase()]).or(n).getOrThunk((function(){return Qw(e)}))}
var nx=function(t,e){return ft(t,(function(t){return I.from(e()[t.toLowerCase()])})).getOrThunk((function(){return Qw(e)}))}
var rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"}
var ox=function(t){var e=Jw({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Nl([xy.config({})])})
var n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}}
var r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}}
var o=Jw({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Nl([xy.config({})])})
var a=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){xy.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))}
var i=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t)
xy.set(r,[gc(n)])}}
var u={updateProgress:a,updateText:i}
var c=tt([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return I.from(rx[t])})).toArray()])
var s=Jw(Yw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}}))
var l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(c,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Nl([xy.config({})])}]
return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Nl([Dy.config({}),Sy("notification-events",[wa(Eo(),(function(t){s.getOpt(t).each(Dy.focus)}))])]),components:l.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:u}}
var ax=ig({name:"Notification",factory:ox,configFields:[An("level"),yn("progress"),yn("icon"),yn("onAction"),yn("text"),yn("iconProvider"),yn("translationProvider"),Un("closeButton",true)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}})
function ix(t,e,n){var r=e.backstage
var o=function(t){switch(t){case"bc-bc":return Xw
case"tc-tc":return $w
case"tc-bc":return bl
default:return yl}}
var a=function(t){q(t,(function(t){return t.moveTo(0,0)}))}
var i=function(t){if(t.length>0){ct(t).each((function(t){return t.moveRel(null,"banner")}))
q(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")}))}}
var u=function(t){a(t)
i(t)}
var c=function(t,a){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0)
var u=function(){a()
Bw.hide(s)}
var c=yc(ax.sketch({text:t.text,level:F(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:true===t.progressBar,icon:I.from(t.icon),closeButton:!i,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate}))
var s=yc(Bw.sketch(O({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})))
n.add(s)
t.timeout>0&&Kw.setTimeout((function(){u()}),t.timeout)
return{close:u,moveTo:function(t,e){Bw.showAt(s,{anchor:"makeshift",x:t,y:e},wc(c))},moveRel:function(t,n){if("banner"!==n){var r=o(n)
var a={anchor:"node",root:qu(),node:I.some(er.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}}
Bw.showAt(s,a,wc(c))}else Bw.showAt(s,e.backstage.shared.anchors.banner(),wc(c))},text:function(t){ax.updateText(c,t)},settings:t,getEl:function(){return c.element.dom},progressBar:{value:function(t){ax.updateProgress(c,t)}}}}
var s=function(t){t.close()}
var l=function(t){return t.settings}
return{open:c,close:s,reposition:u,getArgs:l}}var ux=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null===n&&(n=setTimeout((function(){t.apply(null,r)
n=null}),e))}
return{cancel:r,throttle:o}}
var cx=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var lx=function(t,e){return t.isBlock(e)||F(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}
var fx=function(t,e,n,r,o){var a=sx(t,(function(e){return lx(t,e)}))
return I.from(a.backwards(e,n,r,o))}
var vx="[data-mce-autocompleter]"
var dx=function(t,e){return mx(er.fromDom(t.selection.getNode())).getOrThunk((function(){var n=er.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc())
fi(n,er.fromDom(e.extractContents()))
e.insertNode(n.dom)
qa(n).each((function(t){return t.dom.normalize()}))
Xv(n).map((function(e){t.selection.setCursorLocation(e.dom,Wv(e))}))
return n}))}
var mx=function(t){return ms(t,vx)}
var hx=function(t){return t.collapsed&&3===t.startContainer.nodeType}
var gx=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}
var px=function(t){return""!==t&&-1!=="  \f\n\r\t\v".indexOf(t)}
var bx=function(t,e){return t.substring(e.length)}
var yx=function(t,e,n){var r
for(r=e-1;r>=0;r--){var o=t.charAt(r)
if(px(o))return I.none()
if(o===n)break}return I.some(r)}
var wx=function(t,e,n,r){void 0===r&&(r=0)
if(!hx(e))return I.none()
var o=function(t,e,r){return yx(r,e,n).getOr(e)}
var a=t.getParent(e.startContainer,t.isBlock)||t.getRoot()
return fx(t,e.startContainer,e.startOffset,o,a).bind((function(t){var o=e.cloneRange()
o.setStart(t.container,t.offset)
o.setEnd(e.endContainer,e.endOffset)
if(o.collapsed)return I.none()
var a=gx(o)
var i=a.lastIndexOf(n)
return 0!==i||bx(a,n).length<r?I.none():I.some({text:bx(a,n),range:o,triggerChar:n})}))}
var xx=function(t,e,n,r){void 0===r&&(r=0)
return mx(er.fromDom(e.startContainer)).fold((function(){return wx(t,e,n,r)}),(function(e){var r=t.createRng()
r.selectNode(e.dom)
var o=gx(r)
return I.some({range:r,text:bx(o,n),triggerChar:n})}))}
var Cx=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle)
e.on("remove",t.onKeypress.cancel)
var n=function(t,e){fa(t,Ao(),{raw:e})}
e.on("keydown",(function(e){var r=function(){return t.getView().bind(Pg.getHighlighted)}
8===e.which&&t.onKeypress.throttle(e)
if(t.isActive()){27===e.which&&t.cancelIfNecessary()
if(t.isMenuOpen())if(13===e.which){r().each(va)
e.preventDefault()}else if(40===e.which){r().fold((function(){t.getView().each(Pg.highlightFirst)}),(function(t){n(t,e)}))
e.preventDefault()
e.stopImmediatePropagation()}else 37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e)
e.preventDefault()
e.stopImmediatePropagation()}))
else 13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary()}}))
e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&mx(er.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))}
var Sx={setup:Cx}
var kx=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Tx=function(t,e){return{container:t,offset:e}}
var _x=function(t){return t.nodeType===Qr}
var Ox=function(t){return t.nodeType===Jr}
var Ex=function(t){if(_x(t))return Tx(t,t.data.length)
var e=t.childNodes
return e.length>0?Ex(e[e.length-1]):Tx(t,e.length)}
var Mx=function(t,e){var n=t.childNodes
return n.length>0&&e<n.length?Mx(n[e],0):n.length>0&&Ox(t)&&n.length===e?Ex(n[n.length-1]):Tx(t,e)}
var Ax=function(t,e){return fx(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1)
return!px(e)})).isSome()}
var zx=function(t){return function(e){var n=Mx(e.startContainer,e.startOffset)
return!Ax(t,n)}}
var Dx=function(t,e,n){return ft(n.triggerChars,(function(n){return xx(t,e,n)}))}
var Rx=function(t,e){var n=e()
var r=t.selection.getRng()
return Dx(t.dom,r,n).bind((function(n){return Ix(t,e,n)}))}
var Ix=function(t,e,n,r){void 0===r&&(r={})
var o=e()
var a=t.selection.getRng()
var i=a.startContainer.nodeValue
var u=X(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return zx(t.dom)}))(n.range,i,n.text)}))
if(0===u.length)return I.none()
var c=kx.all(W(u,(function(t){var e=t.fetch(n.text,t.maxResults,r)
return e.then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})))
return I.some({lookupData:c,context:n})}
var Hx=Pe([Cn("type"),Rn("text")])
var Lx=function(t){return nn("separatormenuitem",Hx,t)}
var Bx=Pe([Pn("type","autocompleteitem"),Pn("active",false),Pn("disabled",false),Pn("meta",{}),Cn("value"),Rn("text"),Rn("icon")])
var Px=Pe([Cn("type"),Cn("ch"),Fn("minChars",1),Pn("columns",1),Fn("maxResults",10),In("matches"),Tn("fetch"),Tn("onAction"),Gn("highlightOn",[],dn)])
var Nx=function(t){return nn("Autocompleter.Separator",Hx,t)}
var Fx=function(t){return nn("Autocompleter.Item",Bx,t)}
var Vx=function(t){return nn("Autocompleter",Px,t)}
var jx=[Un("disabled",false),Rn("tooltip"),Rn("icon"),Rn("text"),Wn("onSetup",(function(){return h}))]
var Ux=Pe([Cn("type"),Tn("onAction")].concat(jx))
var Wx=function(t){return nn("toolbarbutton",Ux,t)}
var qx=[Un("active",false)].concat(jx)
var Gx=Pe(qx.concat([Cn("type"),Tn("onAction")]))
var $x=function(t){return nn("ToggleButton",Gx,t)}
var Xx=[Wn("predicate",k),jn("scope","node",["node","editor"]),jn("position","selection",["node","selection","line"])]
var Kx=jx.concat([Pn("type","contextformbutton"),Pn("primary",false),Tn("onAction"),Xn("original",w)])
var Zx=qx.concat([Pn("type","contextformbutton"),Pn("primary",false),Tn("onAction"),Xn("original",w)])
var Yx=jx.concat([Pn("type","contextformbutton")])
var Jx=qx.concat([Pn("type","contextformtogglebutton")])
var Qx=cn("type",{contextformbutton:Kx,contextformtogglebutton:Zx})
var tC=Pe([Pn("type","contextform"),Wn("initValue",(function(){return""})),Rn("label"),Mn("commands",Qx),zn("launch",cn("type",{contextformbutton:Yx,contextformtogglebutton:Jx}))].concat(Xx))
var eC=function(t){return nn("ContextForm",tC,t)}
var nC=Pe([Pn("type","contexttoolbar"),Cn("items")].concat(Xx))
var rC=function(t){return nn("ContextToolbar",nC,t)}
var oC=function(t){var e={}
q(t,(function(t){e[t]={}}))
return Et(e)}
var aC=function(t){var e=t.ui.registry.getAll().popups
var n=zt(e,(function(t){return Vx(t).fold((function(t){throw new Error(an(t))}),(function(t){return t}))}))
var r=oC(Lt(n,(function(t){return t.ch})))
var o=Pt(n)
var a=function(t){return X(o,(function(e){return e.ch===t}))}
return{dataset:n,triggerChars:r,lookupByChar:a}}
var iC;(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE"
t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(iC||(iC={}))
var uC=iC
var cC="tox-menu-nav__js"
var sC="tox-collection__item"
var lC="tox-swatch"
var fC={normal:cC,color:lC}
var vC="tox-collection__item--enabled"
var dC="tox-collection__group-heading"
var mC="tox-collection__item-icon"
var hC="tox-collection__item-label"
var gC="tox-collection__item-accessory"
var pC="tox-collection__item-caret"
var bC="tox-collection__item-checkmark"
var yC="tox-collection__item--active"
var wC="tox-collection__item-icon-rtl"
var xC="tox-collection__item-container"
var CC="tox-collection__item-container--column"
var SC="tox-collection__item-container--row"
var kC="tox-collection__item-container--align-right"
var TC="tox-collection__item-container--align-left"
var _C="tox-collection__item-container--valign-top"
var OC="tox-collection__item-container--valign-middle"
var EC="tox-collection__item-container--valign-bottom"
var MC=function(t){return Nt(fC,t).getOr(cC)}
var AC=function(t){return"color"===t?"tox-swatches":"tox-menu"}
var zC=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:AC(t),tieredMenu:"tox-tiered-menu"}}
var DC=function(t){var e=zC(t)
return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:MC(t)}}
var RC=function(t,e,n){var r=zC(n)
return{tag:"div",classes:tt([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}}
var IC=[Cw.parts.items({})]
var HC=function(t,e,n){var r=zC(n)
var o={tag:"div",classes:tt([[r.tieredMenu]])}
return{dom:o,markers:DC(n)}}
var LC=function(t,e){return function(n){var r=U(n,e)
return W(r,(function(e){return{dom:t,components:e}}))}}
var BC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts.items({preprocess:"auto"!==t?LC({tag:"div",classes:["tox-swatches__row"]},t):w})]}]}}
var PC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts.items({preprocess:LC({tag:"div",classes:["tox-collection__group"]},t)})]}}
var NC=function(t,e){var n=[]
var r=[]
q(t,(function(t,o){if(e(t,o)){r.length>0&&n.push(r)
r=[]
Ft(t.dom,"innerHtml")&&r.push(t)}else r.push(t)}))
r.length>0&&n.push(r)
return W(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))}
var FC=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts.items({preprocess:function(n){return"auto"!==t&&t>1?LC({tag:"div",classes:["tox-collection__group"]},t)(n):NC(n,(function(t,n){return"separator"===e[n].type}))}})]}}
var VC=function(t,e){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts.items({preprocess:function(e){return NC(e,(function(e,n){return"separator"===t[n].type}))}})]}}
var jC=function(t){return V(t,(function(t){return"icon"in t&&void 0!==t.icon}))}
var UC=function(t){console.error(an(t))
console.log(t)
return I.none()}
var WC=function(t,e,n,r,o){var a=VC(n)
return{value:t,dom:a.dom,components:a.components,items:n}}
var qC=function(t,e,n,r,o){if("color"===o){var a=BC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&"auto"===r){a=FC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&1===r){a=FC(1,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o){a=FC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("listpreview"===o&&"auto"!==r){a=PC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}return{value:t,dom:RC(e,r,o),components:IC,items:n}}
var GC=[Cn("type"),Cn("src"),Rn("alt"),Gn("classes",[],dn)]
var $C=Pe(GC)
var XC=[Cn("type"),Cn("text"),Rn("name"),Gn("classes",["tox-collection__item-label"],dn)]
var KC=Pe(XC)
var ZC=Je((function(){return un("type",{cardimage:$C,cardtext:KC,cardcontainer:YC})}))
var YC=Pe([Cn("type"),Vn("direction","horizontal"),Vn("align","left"),Vn("valign","middle"),Mn("items",ZC)])
var JC=[Un("disabled",false),Rn("text"),Rn("shortcut"),Ge("value","value",ne((function(){return Bi("menuitem-value")})),ln()),Pn("meta",{})]
var QC=Pe([Cn("type"),Rn("label"),Mn("items",ZC),Wn("onSetup",(function(){return h})),Wn("onAction",h)].concat(JC))
var tS=function(t){return nn("cardmenuitem",QC,t)}
var eS=Pe([Cn("type"),Un("active",false),Rn("icon")].concat(JC))
var nS=function(t){return nn("choicemenuitem",eS,t)}
var rS=["inserttable","colorswatch"]
var oS=Pe([Cn("type"),Sn("fancytype",rS),Wn("onAction",h)])
var aS=function(t){return nn("fancymenuitem",oS,t)}
var iS=Pe([Cn("type"),Wn("onSetup",(function(){return h})),Wn("onAction",h),Rn("icon")].concat(JC))
var uS=function(t){return nn("menuitem",iS,t)}
var cS=Pe([Cn("type"),Tn("getSubmenuItems"),Wn("onSetup",(function(){return h})),Rn("icon")].concat(JC))
var sS=function(t){return nn("nestedmenuitem",cS,t)}
var lS=Pe([Cn("type"),Rn("icon"),Un("active",false),Wn("onSetup",(function(){return h})),Tn("onAction")].concat(JC))
var fS=function(t){return nn("togglemenuitem",lS,t)}
var vS=function(t,e,n){var r=Zv(t.element,"."+n)
if(r.length>0){var o=Q(r,(function(t){var n=t.dom.getBoundingClientRect().top
var o=r[0].dom.getBoundingClientRect().top
return Math.abs(n-o)>e})).getOr(r.length)
return I.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return I.none()}
var dS=function(t,e){return Nl([Sy(t,e)])}
var mS=function(t){return dS(Bi("unnamed-events"),t)}
var hS={namedEvents:dS,unnamedEvents:mS}
var gS=Bi("tooltip.exclusive")
var pS=Bi("tooltip.show")
var bS=Bi("tooltip.hide")
var yS=function(t,e,n){t.getSystem().broadcastOn([gS],{})}
var wS=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&xy.set(t,r)}))}
var xS=Object.freeze({__proto__:null,hideAllExclusive:yS,setComponents:wS})
var CS=function(t,e){var n=function(n){e.getTooltip().each((function(r){Vd(r)
t.onHide(n,r)
e.clearTooltip()}))
e.clearTimer()}
var r=function(n){if(!e.isShowing()){yS(n)
var r=t.lazySink(n).getOrDie()
var o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ga("normal"===t.mode?[wa(Oo(),(function(t){la(n,pS)})),wa(To(),(function(t){la(n,bS)}))]:[]),behaviours:Nl([xy.config({})])})
e.setTooltip(o)
Pd(r,o)
t.onShow(n,o)
Dd.position(r,t.anchor(n),o)}}
return ga(tt([[wa(pS,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),wa(bS,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),wa(jo(),(function(t,e){var r=e
r.universal||F(r.channels,gS)&&n(t)})),za((function(t){n(t)}))],"normal"===t.mode?[wa(Eo(),(function(t){la(t,pS)})),wa(Fo(),(function(t){la(t,bS)})),wa(Oo(),(function(t){la(t,pS)})),wa(To(),(function(t){la(t,bS)}))]:[wa(ca(),(function(t,e){la(t,pS)})),wa(sa(),(function(t){la(t,bS)}))]]))}
var SS=Object.freeze({__proto__:null,events:CS})
var kS=[yn("lazySink"),yn("tooltipDom"),Pn("exclusive",true),Pn("tooltipComponents",[]),Pn("delay",300),jn("mode","normal",["normal","follow-highlight"]),Pn("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:y([yl,bl,ml,gl,hl,pl]),onRtl:y([yl,bl,ml,gl,hl,pl])}}})),Bs("onHide"),Bs("onShow")]
var TS=function(){var t=Kn(I.none())
var e=Kn(I.none())
var n=function(){return e.get()}
var r=function(t){e.set(I.some(t))}
var o=function(){e.set(I.none())}
var a=function(){t.get().each((function(t){clearTimeout(t)}))}
var i=function(e,n){a()
t.set(I.some(setTimeout((function(){e()}),n)))}
var u=function(){return e.get().isSome()}
var c=y("not-implemented")
return ou({getTooltip:n,isShowing:u,setTooltip:r,clearTooltip:o,clearTimer:a,resetTimer:i,readState:c})}
var _S=Object.freeze({__proto__:null,init:TS})
var OS=Vl({fields:kS,name:"tooltipping",active:SS,state:_S,apis:xS})
var ES=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}
var MS=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var AS=tinymce.util.Tools.resolve("tinymce.util.I18n")
var zS=["input","button","textarea","select"]
var DS=function(t,e,n){var r=e.disabled()?FS:VS
r(t,e)}
var RS=function(t,e){return true===e.useNative&&F(zS,Ia(t.element))}
var IS=function(t){return Oi(t.element,"disabled")}
var HS=function(t){Si(t.element,"disabled","disabled")}
var LS=function(t){Ei(t.element,"disabled")}
var BS=function(t){return"true"===Ti(t.element,"aria-disabled")}
var PS=function(t){Si(t.element,"aria-disabled","true")}
var NS=function(t){Si(t.element,"aria-disabled","false")}
var FS=function(t,e,n){e.disableClass.each((function(e){Bu(t.element,e)}))
var r=RS(t,e)?HS:PS
r(t)
e.onDisabled(t)}
var VS=function(t,e,n){e.disableClass.each((function(e){Nu(t.element,e)}))
var r=RS(t,e)?LS:NS
r(t)
e.onEnabled(t)}
var jS=function(t,e){return RS(t,e)?IS(t):BS(t)}
var US=function(t,e,n,r){var o=r?FS:VS
o(t,e)}
var WS=Object.freeze({__proto__:null,enable:VS,disable:FS,isDisabled:jS,onLoad:DS,set:US})
var qS=function(t,e){return su({classes:e.disabled()?e.disableClass.toArray():[]})}
var GS=function(t,e){return ga([pa(Uo(),(function(e,n){return jS(e,t)})),Rl(t,e,DS)])}
var $S=Object.freeze({__proto__:null,exhibit:qS,events:GS})
var XS=[Wn("disabled",k),Pn("useNative",true),An("disableClass"),Bs("onDisabled"),Bs("onEnabled")]
var KS=Vl({fields:XS,name:"disabling",active:$S,apis:WS})
var ZS=tinymce.util.Tools.resolve("tinymce.EditorManager")
var YS=function(t){var e=t.getParam("skin")
var n=t.getParam("skin_url")
if(false!==e){var r=e||"oxide"
n=n?t.documentBaseURI.toAbsolute(n):ZS.baseURL+"/skins/ui/"+r}return n}
var JS=function(t){return t.getParam("readonly",false,"boolean")}
var QS=function(t){return false===t.getParam("skin")}
var tk=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))}
var ek=function(t){return t.getParam("width",MS.DOM.getStyle(t.getElement(),"width"))}
var nk=function(t){return I.from(t.getParam("min_width")).filter(d)}
var rk=function(t){return I.from(t.getParam("min_height")).filter(d)}
var ok=function(t){return I.from(t.getParam("max_width")).filter(d)}
var ak=function(t){return I.from(t.getParam("max_height")).filter(d)}
var ik=function(t){return I.from(t.getParam("style_formats")).filter(u)}
var uk=function(t){return t.getParam("style_formats_merge",false,"boolean")}
var ck=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")}
var sk=function(t){return t.getParam("removed_menuitems","")}
var lk=function(t){return false!==t.getParam("menubar",true,"boolean")}
var fk=function(t){var e=t.getParam("toolbar",true)
var n=true===e
var r=a(e)
var o=u(e)&&e.length>0
return!dk(t)&&(o||r||n)}
var vk=function(t){var e=j(9,(function(e){return t.getParam("toolbar"+(e+1),false,"string")}))
var n=X(e,(function(t){return"string"===typeof t}))
return n.length>0?I.some(n):I.none()}
var dk=function(t){return vk(t).fold((function(){var e=t.getParam("toolbar",[],"string[]")
return e.length>0}),T)}
var mk;(function(t){t["default"]="wrap"
t["floating"]="floating"
t["sliding"]="sliding"
t["scrolling"]="scrolling"})(mk||(mk={}))
var hk=function(t){return t.getParam("toolbar_mode","","string")}
var gk;(function(t){t["auto"]="auto"
t["top"]="top"
t["bottom"]="bottom"})(gk||(gk={}))
var pk=function(t){return t.getParam("toolbar_groups",{},"object")}
var bk=function(t){return t.getParam("toolbar_location",gk.auto,"string")}
var yk=function(t){return bk(t)===gk.bottom}
var wk=function(t){return t.getParam("fixed_toolbar_container","","string")}
var xk=function(t){return t.getParam("fixed_toolbar_container_target")}
var Ck=function(t){return t.getParam("toolbar_persist",false,"boolean")}
var Sk=function(t){if(!t.inline)return I.none()
var e=wk(t)
if(e.length>0)return ds(qu(),e)
var n=xk(t)
if(f(n))return I.some(er.fromDom(n))
return I.none()}
var kk=function(t){return t.inline&&Sk(t).isSome()}
var Tk=function(t){var e=Sk(t)
return e.getOrThunk((function(){return ni(ei(er.fromDom(t.getElement())))}))}
var _k=function(t){return t.inline&&!lk(t)&&!fk(t)&&!dk(t)}
var Ok=function(t){var e=t.getParam("toolbar_sticky",false,"boolean")
return(e||t.inline)&&!kk(t)&&!_k(t)}
var Ek=function(t){return t.getParam("draggable_modal",false,"boolean")}
var Mk=function(t){var e=t.getParam("menu")
return e?zt(e,(function(t){return O(O({},t),{items:t.items})})):{}}
var Ak=function(t){return t.getParam("menubar")}
var zk=function(t){return t.getParam("toolbar",true)}
var Dk=function(t){return t.getParam("file_picker_callback")}
var Rk=function(t){return t.getParam("file_picker_types")}
var Ik=function(t){return t.getParam("file_browser_callback_types")}
var Hk=function(t){return false===t.getParam("typeahead_urls")}
var Lk=function(t){return t.getParam("anchor_top","#top")}
var Bk=function(t){return t.getParam("anchor_bottom","#bottom")}
var Pk=function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function")
return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e}
var Nk="silver.readonly"
var Fk=Pe([kn("readonly")])
var Vk=function(t,e){var n=t.outerContainer
var r=n.element
if(e){t.mothership.broadcastOn([dm()],{target:r})
t.uiMothership.broadcastOn([dm()],{target:r})}t.mothership.broadcastOn([Nk],{readonly:e})
t.uiMothership.broadcastOn([Nk],{readonly:e})}
var jk=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&Vk(e,true)}))
t.on("SwitchMode",(function(){return Vk(e,t.mode.isReadOnly())}))
JS(t)&&t.setMode("readonly")}
var Uk=function(){var t
return ql.config({channels:(t={},t[Nk]={schema:Fk,onReceive:function(t,e){KS.set(t,e.readonly)}},t)})}
var Wk=function(t){return KS.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})}
var qk=function(t){return KS.config({disabled:t})}
var Gk=function(t){return KS.config({disabled:t,disableClass:"tox-tbtn--disabled"})}
var $k=function(t){return KS.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:false})}
var Xk={item:Wk,button:qk,splitButton:Gk,toolbarButton:$k}
var Kk=function(t,e){var n=t.getApi(e)
return function(t){t(n)}}
var Zk=function(t,e){return Aa((function(n){var r=Kk(t,n)
r((function(n){var r=t.onSetup(n)
v(r)&&e.set(r)}))}))}
var Yk=function(t,e){return za((function(n){return Kk(t,n)(e.get())}))}
var Jk
var Qk=function(t,e){return Ra((function(n,r){Kk(t,n)(t.onAction)
if(!t.triggersSubmenu&&e===uC.CLOSE_ON_EXECUTE){n.getSystem().isConnected()&&la(n,$o())
r.stop()}}))}
var tT=(Jk={},Jk[Uo()]=["disabling","alloy.base.behaviour","toggling","item-events"],Jk)
var eT=function(t){return et(t,(function(t){return t.toArray()}))}
var nT=function(t,e,n,r){var o=Kn(h)
return{type:"item",dom:e.dom,components:eT(e.optComponents),data:t.data,eventOrder:tT,hasSubmenu:t.triggersSubmenu,itemBehaviours:Nl([Sy("item-events",[Qk(t,n),Zk(t,o),Yk(t,o)]),Xk.item((function(){return t.disabled||r.isDisabled()})),Uk(),xy.config({})].concat(t.itemBehaviours))}}
var rT=function(t){return{value:t.value,meta:O({text:t.text.getOr("")},t.meta)}}
var oT=tinymce.util.Tools.resolve("tinymce.Env")
var aT=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}
var n={meta:"Ctrl",access:"Shift+Alt"}
var r=oT.mac?e:n
var o=t.split("+")
var a=W(o,(function(t){var e=t.toLowerCase().trim()
return Ft(r,e)?r[e]:t}))
return oT.mac?a.join(""):a.join("+")}
var iT=function(t){return{dom:{tag:"div",classes:[mC],innerHtml:t}}}
var uT=function(t){return{dom:{tag:"div",classes:[hC]},components:[gc(AS.translate(t))]}}
var cT=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}}
var sT=function(t,e){return{dom:{tag:"div",classes:[hC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[gc(AS.translate(e))]}]}}
var lT=function(t){return{dom:{tag:"div",classes:[gC],innerHtml:aT(t)}}}
var fT=function(t){return{dom:{tag:"div",classes:[bC],innerHtml:tx("checkmark",t)}}}
var vT=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-right",t)}}}
var dT=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-down",t)}}}
var mT=function(t,e){var n="vertical"===t.direction?CC:SC
var r="left"===t.align?TC:kC
var o=function(){switch(t.valign){case"top":return _C
case"middle":return OC
case"bottom":return EC}}
return{dom:{tag:"div",classes:[xC,n,r,o()]},components:e}}
var hT=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}}
var gT=function(t,e,n,r){var o="custom"
var a="remove"
var i=function(){var i=lC
var u=n.getOr("")
var c=t.map((function(t){return{title:r.translate(t)}})).getOr({})
var s={tag:"div",attributes:c,classes:[i]}
return O(O({},s),e===o?{tag:"button",classes:M(s.classes,["tox-swatches__picker-btn"]),innerHtml:u}:e===a?{classes:M(s.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:O(O({},s.attributes),{"data-mce-color":e}),styles:{"background-color":e}})}
return{dom:i(),optComponents:[]}}
var pT=function(t,e){var n=e.map((function(t){return{attributes:{title:AS.translate(t)}}})).getOr({})
return O({tag:"div",classes:[cC,sC].concat(t?[wC]:[])},n)}
var bT=function(t,e,n,r,o){var a=n?e.or(I.some("")).map(iT):I.none()
var i=t.checkMark
var u=t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return I.some(cT(t,[hC]))}))
var c={dom:pT(o,t.ariaLabel),optComponents:[a,u,t.shortcutContent.map(lT),i,t.caret]}
return c}
var yT=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"]
var wT=["list-bull-circle","list-bull-default","list-bull-square"]
var xT=function(t,e,n,r){void 0===r&&(r=I.none())
var o=function(t){return t.map((function(t){return AS.isRtl()&&F(yT,t)?t+"-rtl":t}))}
var a=AS.isRtl()&&t.iconContent.exists((function(t){return F(wT,t)}))
var i=o(t.iconContent).map((function(t){return ex(t,e.icons,r)}))
var u=I.from(t.meta).fold((function(){return uT}),(function(t){return Ft(t,"style")?x(sT,t.style):uT}))
return"color"===t.presets?gT(t.ariaLabel,t.value,i,e):bT(t,i,n,u,a)}
var CT=function(t,e){return Nt(t,"tooltipWorker").map((function(t){return[OS.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:Mf}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){OS.setComponents(e,[pc({element:er.fromDom(t)})])}))}})]})).getOr([])}
var ST=function(t){return MS.DOM.encode(t)}
var kT=function(t,e){var n=AS.translate(t)
var r=ST(n)
if(e.length>0){var o=new RegExp(ES(e),"gi")
return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return r}
var TT=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=xT({presets:r,textContent:I.none(),htmlContent:n?t.text.map((function(t){return kT(t,e)})):I.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:I.none(),checkMark:I.none(),caret:I.none(),value:t.value},i.providers,u,t.icon)
return nT({data:rT(t),disabled:t.disabled,getApi:y({}),onAction:function(e){return o(t.value,t.meta)},onSetup:y(h),triggersSubmenu:false,itemBehaviours:CT(t.meta,i)},c,a,i.providers)}
var _T=function(t,e){return W(t,(function(t){switch(t.type){case"cardcontainer":return mT(t,_T(t.items,e))
case"cardimage":return hT(t.src,t.classes,t.alt)
case"cardtext":var n=t.name.exists((function(t){return F(e.cardText.highlightOn,t)}))
var r=n?I.from(e.cardText.matchText).getOr(""):""
return cT(kT(t.text,r),t.classes)}}))}
var OT=function(t,e,n,r){var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){KS.set(t,e)
q(Zv(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(KS)&&KS.set(t,e)}))}))}}}
var a={dom:pT(false,t.label),optComponents:[I.some({dom:{tag:"div",classes:[xC,SC]},components:_T(t.items,r)})]}
return nT({data:rT(O({text:I.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:I.from(r.itemBehaviours).getOr([])},a,e,n.providers)}
var ET=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var s=xT({presets:n,textContent:e?t.text:I.none(),htmlContent:I.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:I.none(),checkMark:e?I.some(fT(i.icons)):I.none(),caret:I.none(),value:t.value},i,u)
return Xt(nT({data:rT(t),disabled:t.disabled,getApi:c,onAction:function(e){return r(t.value)},onSetup:function(t){t.setActive(o)
return h},triggersSubmenu:false,itemBehaviours:[]},s,a,i),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:t.active}})}
var MT=Hh(lw(),fw())
var AT=function(t){return{value:t}}
var zT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i
var DT=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i
var RT=function(t){return zT.test(t)||DT.test(t)}
var IT=function(t){var e=t.value.replace(zT,(function(t,e,n,r){return e+e+n+n+r+r}))
return{value:e}}
var HT=function(t){var e=IT(t)
var n=DT.exec(e.value)
return null===n?["FFFFFF","FF","FF","FF"]:n}
var LT=function(t){var e=t.toString(16)
return(1===e.length?"0"+e:e).toUpperCase()}
var BT=function(t){var e=LT(t.red)+LT(t.green)+LT(t.blue)
return AT(e)}
var PT=Math.min
var NT=Math.max
var FT=Math.round
var VT=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/
var jT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/
var UT=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}}
var WT=function(t){var e=parseInt(t,10)
return e.toString()===t&&e>=0&&e<=255}
var qT=function(t){var e
var n
var r
var o=(t.hue||0)%360
var a=t.saturation/100
var i=t.value/100
a=NT(0,PT(a,1))
i=NT(0,PT(i,1))
if(0===a){e=n=r=FT(255*i)
return UT(e,n,r,1)}var u=o/60
var c=i*a
var s=c*(1-Math.abs(u%2-1))
var l=i-c
switch(Math.floor(u)){case 0:e=c
n=s
r=0
break
case 1:e=s
n=c
r=0
break
case 2:e=0
n=c
r=s
break
case 3:e=0
n=s
r=c
break
case 4:e=s
n=0
r=c
break
case 5:e=c
n=0
r=s
break
default:e=n=r=0}e=FT(255*(e+l))
n=FT(255*(n+l))
r=FT(255*(r+l))
return UT(e,n,r,1)}
var GT=function(t){var e=HT(t)
var n=parseInt(e[1],16)
var r=parseInt(e[2],16)
var o=parseInt(e[3],16)
return UT(n,r,o,1)}
var $T=function(t,e,n,r){var o=parseInt(t,10)
var a=parseInt(e,10)
var i=parseInt(n,10)
var u=parseFloat(r)
return UT(o,a,i,u)}
var XT=function(t){if("transparent"===t)return I.some(UT(0,0,0,0))
var e=VT.exec(t)
if(null!==e)return I.some($T(e[1],e[2],e[3],"1"))
var n=jT.exec(t)
if(null!==n)return I.some($T(n[1],n[2],n[3],n[4]))
return I.none()}
var KT=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}
var ZT=UT(255,0,0,1)
var YT=function(t){return t.fire("SkinLoaded")}
var JT=function(t,e){return t.fire("SkinLoadError",e)}
var QT=function(t){return t.fire("ResizeEditor")}
var t_=function(t,e){return t.fire("ResizeContent",e)}
var e_=function(t,e){return t.fire("ScrollContent",e)}
var n_=function(t,e){return t.fire("TextColorChange",e)}
var r_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage")
var o_="tinymce-custom-colors"
function a_(t){void 0===t&&(t=10)
var e=r_.getItem(o_)
var n=a(e)?JSON.parse(e):[]
var r=function(e){var n=t-e.length
return n<0?e.slice(0,t):e}
var o=r(n)
var i=function(e){N(o,e).each(u)
o.unshift(e)
o.length>t&&o.pop()
r_.setItem(o_,JSON.stringify(o))}
var u=function(t){o.splice(t,1)}
var c=function(){return o.slice(0)}
return{add:i,state:c}}var i_="choiceitem"
var u_=[{type:i_,text:"Light Green",value:"#BFEDD2"},{type:i_,text:"Light Yellow",value:"#FBEEB8"},{type:i_,text:"Light Red",value:"#F8CAC6"},{type:i_,text:"Light Purple",value:"#ECCAFA"},{type:i_,text:"Light Blue",value:"#C2E0F4"},{type:i_,text:"Green",value:"#2DC26B"},{type:i_,text:"Yellow",value:"#F1C40F"},{type:i_,text:"Red",value:"#E03E2D"},{type:i_,text:"Purple",value:"#B96AD9"},{type:i_,text:"Blue",value:"#3598DB"},{type:i_,text:"Dark Turquoise",value:"#169179"},{type:i_,text:"Orange",value:"#E67E23"},{type:i_,text:"Dark Red",value:"#BA372A"},{type:i_,text:"Dark Purple",value:"#843FA1"},{type:i_,text:"Dark Blue",value:"#236FA1"},{type:i_,text:"Light Gray",value:"#ECF0F1"},{type:i_,text:"Medium Gray",value:"#CED4D9"},{type:i_,text:"Gray",value:"#95A5A6"},{type:i_,text:"Dark Gray",value:"#7E8C8D"},{type:i_,text:"Navy Blue",value:"#34495E"},{type:i_,text:"Black",value:"#000000"},{type:i_,text:"White",value:"#ffffff"}]
var c_=a_(10)
var s_=function(t){var e=[]
var n=document.createElement("canvas")
n.height=1
n.width=1
var r=n.getContext("2d")
var o=function(t,e){var n=255
var r=e/255
var o=Math.round(t*r+n*(1-r))
return("0"+o.toString(16)).slice(-2).toUpperCase()}
var a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase()
r.clearRect(0,0,n.width,n.height)
r.fillStyle="#FFFFFF"
r.fillStyle=t
r.fillRect(0,0,1,1)
var e=r.getImageData(0,0,1,1).data
var a=e[0],i=e[1],u=e[2],c=e[3]
return"#"+o(a,c)+o(i,c)+o(u,c)}
for(var i=0;i<t.length;i+=2)e.push({text:t[i+1],value:a(t[i]),type:"choiceitem"})
return e}
var l_=function(t,e){return t.getParam("color_cols",e,"number")}
var f_=function(t){return false!==t.getParam("custom_colors")}
var v_=function(t){return t.getParam("color_map")}
var d_=function(t){var e=v_(t)
return void 0!==e?s_(e):u_}
var m_=function(){return W(c_.state(),(function(t){return{type:i_,text:t,value:t}}))}
var h_=function(t){c_.add(t)}
var g_=function(t,e){var n
t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)}))
return n}
var p_=function(t,e,n){t.undoManager.transact((function(){t.focus()
t.formatter.apply(e,{value:n})
t.nodeChanged()}))}
var b_=function(t,e){t.undoManager.transact((function(){t.focus()
t.formatter.remove(e,{value:null},null,true)
t.nodeChanged()}))}
var y_=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){p_(t,e,n)}))
t.addCommand("mceRemoveTextcolor",(function(e){b_(t,e)}))}
var w_=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))}
var x_=function(t){var e=d_(t)
var n=w_(e.length)
return l_(t,n)}
var C_=function(t){var e="choiceitem"
var n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"}
var r={type:e,text:"Custom color",icon:"color-picker",value:"custom"}
return t?[n,r]:[n]}
var S_=function(t,e,n,r){if("custom"===n){var o=M_(t)
o((function(n){n.each((function(n){h_(n)
t.execCommand("mceApplyTextcolor",e,n)
r(n)}))}),"#000000")}else if("remove"===n){r("")
t.execCommand("mceRemoveTextcolor",e)}else{r(n)
t.execCommand("mceApplyTextcolor",e,n)}}
var k_=function(t,e){return t.concat(m_().concat(C_(e)))}
var T_=function(t,e){return function(n){n(k_(t,e))}}
var __=function(t,e,n){var r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color"
t.setIconFill(r,n)}
var O_=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){var r=I.from(g_(t,n))
return r.bind((function(t){return XT(t).map((function(t){var n=BT(t).value
return mr(e.toLowerCase(),n)}))})).getOr(false)},columns:x_(t),fetch:T_(d_(t),f_(t)),onAction:function(e){null!==o.get()&&S_(t,n,o.get(),h)},onItemAction:function(r,a){S_(t,n,a,(function(n){o.set(n)
n_(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&__(n,e,o.get())
var r=function(t){t.name===e&&__(n,t.name,t.color)}
t.on("TextColorChange",r)
return function(){t.off("TextColorChange",r)}}})}
var E_=function(t,e,n,r){t.ui.registry.addNestedMenuItem(e,{text:r,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){S_(t,n,e.value,h)}}]}})}
var M_=function(t){return function(e,n){var r=false
var o=function(n){var o=n.getData()
var a=o.colorpicker
if(r){e(I.from(a))
n.close()}else t.windowManager.alert(t.translate(["Invalid hex color code: {0}",a]))}
var a=function(t,e){"hex-valid"===e.name&&(r=e.value)}
var i={colorpicker:n}
t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:i,onAction:a,onSubmit:o,onClose:h,onCancel:function(){e(I.none())}})}}
var A_=function(t){y_(t)
var e=Kn(null)
var n=Kn(null)
O_(t,"forecolor","forecolor","Text color",e)
O_(t,"backcolor","hilitecolor","Background color",n)
E_(t,"forecolor","forecolor","Text color")
E_(t,"backcolor","hilitecolor","Background color")}
var z_=function(t,e,n,r,o,a,i,u){var c=jC(e)
var s="color"!==o?"normal":"color"
var l=D_(e,n,r,s,a,i,u)
return qC(t,c,l,r,o)}
var D_=function(t,e,n,r,o,a,i){return cg(W(t,(function(u){return"choiceitem"===u.type?nS(u).fold(UC,(function(c){return I.some(ET(c,1===n,r,e,a(u.value),o,i,jC(t)))})):I.none()})))}
var R_=function(t,e){var n=DC(e)
if(1===t)return{mode:"menu",moveOnTab:true}
if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}
var r="color"===e?"tox-swatches__row":"tox-collection__group"
return{mode:"matrix",rowSelector:"."+r}}
var I_=function(t,e){return 1===t?{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+lC:"."+sC}}}
var H_=function(t,e){var n=k_(e.colorinput.getColors(),e.colorinput.hasCustomColors())
var r=e.colorinput.getColorCols()
var o="color"
var a=z_(Bi("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,uC.CLOSE_ON_EXECUTE,k,e.shared.providers)
var i=O(O({},a),{markers:DC(o),movement:R_(r,o)})
return{type:"widget",data:{value:Bi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MT.widget(Cw.sketch(i))]}}
var L_=Bi("cell-over")
var B_=Bi("cell-execute")
var P_=function(t,e,n){var r
var o=function(n){return fa(n,L_,{row:t,col:e})}
var a=function(n){return fa(n,B_,{row:t,col:e})}
var i=function(t,e){e.stop()
a(t)}
return yc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Nl([Sy("insert-table-picker-cell",[wa(Oo(),Dy.focus),wa(Uo(),a),wa(Io(),i),wa(qo(),i)]),Yy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),Dy.config({onFocus:o})])})}
var N_=function(t,e,n){var r=[]
for(var o=0;o<e;o++){var a=[]
for(var i=0;i<n;i++)a.push(P_(o,i,t))
r.push(a)}return r}
var F_=function(t,e,n,r,o){for(var a=0;a<r;a++)for(var i=0;i<o;i++)Yy.set(t[a][i],a<=e&&i<=n)}
var V_=function(t){return et(t,(function(t){return W(t,wc)}))}
var j_=function(t,e){return gc(e+1+"x"+(t+1))}
var U_=function(t){var e=10
var n=10
var r=Bi("size-label")
var o=N_(r,e,n)
var a=Jw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[gc("0x0")],behaviours:Nl([xy.config({})])})
return{type:"widget",data:{value:Bi("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[MT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:V_(o).concat(a.asSpec()),behaviours:Nl([Sy("insert-table-picker",[_a(L_,(function(t,r,i){var u=i.event.row
var c=i.event.col
F_(o,u,c,e,n)
xy.set(a.get(t),[j_(u,c)])})),_a(B_,(function(e,n,r){t.onAction({numRows:r.event.row+1,numColumns:r.event.col+1})
la(e,$o())}))]),fy.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}}
var W_={inserttable:U_,colorswatch:H_}
var q_=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?I.some(t[e]):I.none()}
var G_=function(t,e){return q_(W_,t.fancytype).map((function(n){return n(t,e)}))}
var $_=function(t,e,n,r,o){void 0===r&&(r=true)
void 0===o&&(o=false)
var a=o?dT(n.icons):vT(n.icons)
var i=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var u=xT({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,caret:I.some(a),checkMark:I.none(),shortcutContent:t.shortcut},n,r)
return nT({data:rT(t),getApi:i,disabled:t.disabled,onAction:h,onSetup:t.onSetup,triggersSubmenu:true,itemBehaviours:[]},u,e,n)}
var X_=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var a=xT({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,caret:I.none(),checkMark:I.none(),shortcutContent:t.shortcut},n,r)
return nT({data:rT(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n)}
var K_=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}))
return{type:"separator",dom:O({tag:"div",classes:[sC,dC]},e),components:[]}}
var Z_=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var a=xT({iconContent:t.icon,textContent:t.text,htmlContent:I.none(),ariaLabel:t.text,checkMark:I.some(fT(n.icons)),caret:I.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r)
return Xt(nT({data:rT(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n),{toggling:{toggleClass:vC,toggleOnExecute:false,selected:t.active}})}
var Y_=TT
var J_=K_
var Q_=X_
var tO=$_
var eO=Z_
var nO=G_
var rO=OT
var oO;(function(t){t[t["ContentFocus"]=0]="ContentFocus"
t[t["UiFocus"]=1]="UiFocus"})(oO||(oO={}))
var aO=function(t,e,n,r,o){var a=n.shared.providers
var i=function(t){return o?O(O({},t),{shortcut:I.none(),icon:t.text.isSome()?I.none():t.icon}):t}
switch(t.type){case"menuitem":return uS(t).fold(UC,(function(t){return I.some(Q_(i(t),e,a,r))}))
case"nestedmenuitem":return sS(t).fold(UC,(function(t){return I.some(tO(i(t),e,a,r,o))}))
case"togglemenuitem":return fS(t).fold(UC,(function(t){return I.some(eO(i(t),e,a,r))}))
case"separator":return Lx(t).fold(UC,(function(t){return I.some(J_(t))}))
case"fancymenuitem":return aS(t).fold(UC,(function(t){return nO(i(t),n)}))
default:console.error("Unknown item in general menu",t)
return I.none()}}
var iO=function(t,e,n,r,o,a,i){var u=1===r
var c=!u||jC(t)
return cg(W(t,(function(t){switch(t.type){case"separator":return Nx(t).fold(UC,(function(t){return I.some(J_(t))}))
case"cardmenuitem":return tS(t).fold(UC,(function(t){return I.some(rO(O(O({},t),{onAction:function(e){t.onAction(e)
n(t.value,t.meta)}}),o,a,{itemBehaviours:CT(t.meta,a),cardText:{matchText:e,highlightOn:i}}))}))
default:return Fx(t).fold(UC,(function(t){return I.some(Y_(t,e,u,"normal",n,o,a,c))}))}})))}
var uO=function(t,e,n,r,o){var a=jC(e)
var i=cg(W(e,(function(t){var e=function(t){return o?!t.hasOwnProperty("text"):a}
var i=function(t){return aO(t,n,r,e(t),o)}
return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?i(O(O({},t),{disabled:true})):i(t)})))
var u=o?WC:qC
return u(t,a,i,1,"normal")}
var cO=function(t){return Iw.singleData(t.value,t)}
var sO=function(t,e,n,r){var o=n===oO.ContentFocus?up():ip()
var a=R_(e,r)
var i=DC(r)
return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===oO.ContentFocus,focusManager:o,menuBehaviours:hS.unnamedEvents("auto"!==e?[]:[Aa((function(t,e){vS(t,4,i.item).each((function(e){var n=e.numColumns,r=e.numRows
fy.setGridSize(t,r,n)}))}))])}}
var lO=function(t,e){var n=Kn(I.none())
var r=Kn(false)
var o=yc(Bw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Nl([Sy("dismissAutocompleter",[wa(na(),(function(){return c()}))])]),lazySink:e.getSink}))
var a=function(){return Bw.isOpen(o)}
var i=function(){return n.get().isSome()}
var u=function(){i()&&Bw.hide(o)}
var c=function(){if(i()){var e=n.get().map((function(t){return t.element}))
mx(e.getOr(er.fromDom(t.selection.getNode()))).each(pi)
u()
n.set(I.none())
r.set(false)}}
var s=Zt((function(){return aC(t)}))
var l=function(n,o){var a=ft(o,(function(t){return I.from(t.columns)})).getOr(1)
return et(o,(function(o){var i=o.items
return iO(i,o.matchText,(function(e,a){var i=t.selection.getRng()
xx(t.dom,i,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var n=t.range
var i={hide:function(){c()},reload:function(t){u()
m(t)}}
r.set(true)
o.onAction(i,n,e,a)
r.set(false)}))}),a,uC.BUBBLE_TO_SANDBOX,e,o.highlightOn)}))}
var f=function(e){if(!i()){var o=dx(t,e.range)
n.set(I.some({triggerChar:e.triggerChar,element:o,matchLength:e.text.length}))
r.set(false)}}
var v=function(e,n,r,a){e.matchLength=n.text.length
var i=ft(r,(function(t){return I.from(t.columns)})).getOr(1)
Bw.showAt(o,{anchor:"node",root:er.fromDom(t.getBody()),node:I.from(e.element)},Cw.sketch(sO(qC("autocompleter-value",true,a,i,"normal"),i,oO.ContentFocus,"normal")))
Bw.getContent(o).each(Pg.highlightFirst)}
var d=function(e){return n.get().map((function(n){return xx(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return Ix(t,s,n,e)}))})).getOrThunk((function(){return Rx(t,s)}))}
var m=function(t){d(t).fold(c,(function(t){f(t.context)
t.lookupData.then((function(e){n.get().map((function(n){var r=t.context
if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,e)
o.length>0?v(n,r,e,o):r.text.length-n.matchLength>=10?c():u()}}))}))}))}
var h=cx((function(t){if(27===t.which)return
m()}),50)
var g={onKeypress:h,cancelIfNecessary:c,isMenuOpen:a,isActive:i,isProcessingAction:r.get,getView:function(){return Bw.getContent(o)}}
false===t.hasPlugin("rtc")&&Sx.setup(g,t)}
var fO={register:lO}
var vO=T
var dO=function(t,e,n){return Vc(t,e,vO,n)}
var mO=function(t,e,n){return jc(t,e,vO,n)}
var hO=Pc
var gO=function(t,e,n){return ms(t,e,n).isSome()}
var pO=function(t,e){var n=null
var r=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
var o=function(){if(null!==n){clearTimeout(n)
n=null}}
return{cancel:o,schedule:r}}
var bO=5
var yO=400
var wO=function(t){var e=t.raw
if(void 0===e.touches||1!==e.touches.length)return I.none()
return I.some(e.touches[0])}
var xO=function(t,e){var n=Math.abs(t.clientX-e.x)
var r=Math.abs(t.clientY-e.y)
return n>bO||r>bO}
var CO=function(t){var e=Kn(I.none())
var n=Kn(false)
var r=pO((function(e){t.triggerEvent(Go(),e)
n.set(true)}),yO)
var o=function(t){wO(t).each((function(o){r.cancel()
var a={x:o.clientX,y:o.clientY,target:t.target}
r.schedule(t)
n.set(false)
e.set(I.some(a))}))
return I.none()}
var a=function(t){r.cancel()
wO(t).each((function(t){e.get().each((function(n){xO(t,n)&&e.set(I.none())}))}))
return I.none()}
var i=function(o){r.cancel()
var a=function(t){return oo(t.target,o.target)}
return e.get().filter(a).map((function(e){if(n.get()){o.prevent()
return false}return t.triggerEvent(qo(),o)}))}
var u=le([{key:yo(),value:o},{key:wo(),value:a},{key:xo(),value:i}])
var c=function(t,e){return Nt(u,e).bind((function(e){return e(t)}))}
return{fireIfReady:c}}
var SO=function(t){var e=t.raw
return e.which===Ng[0]&&!F(["input","textarea"],Ia(t.target))&&!gO(t.target,'[contenteditable="true"]')}
var kO=function(){return $r().browser.isFirefox()}
var TO=Be([Tn("triggerEvent"),Pn("stopBackspace",true)])
var _O=function(t,e){return kO()?mO(t,"focus",e):dO(t,"focusin",e)}
var OO=function(t,e){return kO()?mO(t,"blur",e):dO(t,"focusout",e)}
var EO=function(t,e){var n=on("Getting GUI events settings",TO,e)
var r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"]
var o=CO(n)
var a=W(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return dO(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}))
var r=n.triggerEvent(e,t)
r&&t.kill()}))}))
var i=Kn(I.none())
var u=dO(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}))
var e=n.triggerEvent("paste",t)
e&&t.kill()
i.set(I.some(setTimeout((function(){n.triggerEvent(Vo(),t)}),0)))}))
var c=dO(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t)
e?t.kill():true===n.stopBackspace&&SO(t)&&t.prevent()}))
var s=_O(t,(function(t){var e=n.triggerEvent("focusin",t)
e&&t.kill()}))
var l=Kn(I.none())
var f=OO(t,(function(t){var e=n.triggerEvent("focusout",t)
e&&t.kill()
l.set(I.some(setTimeout((function(){n.triggerEvent(Fo(),t)}),0)))}))
var v=function(){q(a,(function(t){t.unbind()}))
c.unbind()
s.unbind()
f.unbind()
u.unbind()
i.get().each(clearTimeout)
l.get().each(clearTimeout)}
return{unbind:v}}
var MO=function(t,e){var n=Nt(t,"target").getOr(e)
return Kn(n)}
var AO=function(t,e){var n=Kn(false)
var r=Kn(false)
var o=function(){n.set(true)}
var a=function(){r.set(true)}
return{stop:o,cut:a,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}}
var zO=function(t){var e=Kn(false)
var n=function(){e.set(true)}
return{stop:n,cut:h,isStopped:e.get,isCut:k,event:t,setSource:S("Cannot set source of a broadcasted event"),getSource:S("Cannot get source of a broadcasted event")}}
var DO=Ut.generate([{stopped:[]},{resume:["element"]},{complete:[]}])
var RO=function(t,e,n,r,o,a){var i=t(e,r)
var u=AO(n,o)
return i.fold((function(){a.logEventNoHandlers(e,r)
return DO.complete()}),(function(t){var n=t.descHandler
var r=gu(n)
r(u)
if(u.isStopped()){a.logEventStopped(e,t.element,n.purpose)
return DO.stopped()}if(u.isCut()){a.logEventCut(e,t.element,n.purpose)
return DO.complete()}return qa(t.element).fold((function(){a.logNoParent(e,t.element,n.purpose)
return DO.complete()}),(function(r){a.logEventResponse(e,t.element,n.purpose)
return DO.resume(r)}))}))}
var IO=function(t,e,n,r,o,a){return RO(t,e,n,r,o,a).fold(T,(function(r){return IO(t,e,n,r,o,a)}),k)}
var HO=function(t,e,n,r,o){var a=MO(n,r)
return RO(t,e,n,r,a,o)}
var LO=function(t,e,n){var r=zO(e)
q(t,(function(t){var e=t.descHandler
var n=gu(e)
n(r)}))
return r.isStopped()}
var BO=function(t,e,n,r){return PO(t,e,n,n.target,r)}
var PO=function(t,e,n,r,o){var a=MO(n,r)
return IO(t,e,n,r,a,o)}
var NO=function(t,e){return{element:t,descHandler:e}}
var FO=function(t,e){return{id:t,descHandler:e}}
var VO=function(){var t={}
var e=function(e,n,r){At(r,(function(r,o){var a=void 0!==t[o]?t[o]:{}
a[n]=hu(r,e)
t[o]=a}))}
var n=function(t,e){return Wi(e).fold((function(){return I.none()}),(function(n){return t.bind((function(t){return Nt(t,n)})).map((function(t){return NO(e,t)}))}))}
var r=function(e){return Nt(t,e).map((function(t){return Lt(t,(function(t,e){return FO(e,t)}))})).getOr([])}
var o=function(e,r,o){var a=Nt(t,r)
return lo(o,(function(t){return n(a,t)}),e)}
var a=function(e){At(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))}
return{registerId:e,unregisterId:a,filterByType:r,find:o}}
var jO=function(){var t=VO()
var e={}
var n=function(t){var e=t.element
return Wi(e).fold((function(){return ji("uid-",t.element)}),(function(t){return t}))}
var r=function(t,n){var r=e[n]
if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Di(r.element)+"\nCannot use it for: "+Di(t.element)+"\nThe conflicting element is"+(Wu(r.element)?" ":" not ")+"already in the DOM")
a(t)}
var o=function(o){var a=n(o)
Vt(e,a)&&r(o,a)
var i=[o]
t.registerId(i,a,o.events)
e[a]=o}
var a=function(n){Wi(n.element).each((function(n){delete e[n]
t.unregisterId(n)}))}
var i=function(e){return t.filterByType(e)}
var u=function(e,n,r){return t.find(e,n,r)}
var c=function(t){return Nt(e,t)}
return{find:u,filter:i,register:o,unregister:a,getById:c}}
var UO=function(t){var e=t.dom,n=e.attributes,r=E(e,["attributes"])
return{uid:t.uid,dom:O({tag:"div",attributes:O({role:"presentation"},n)},r),components:t.components,behaviours:Zm(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}}
var WO=ig({name:"Container",factory:UO,configFields:[Pn("components",[]),Km("containerBehaviours",[]),Pn("events",{}),Pn("domModification",{}),Pn("eventOrder",{})]})
var qO=function(t){var e=function(e){return qa(t.element).fold(T,(function(t){return oo(e,t)}))}
var n=jO()
var r=function(t,r){return n.find(e,t,r)}
var o=EO(t.element,{triggerEvent:function(t,e){return Os(t,e.target,(function(n){return BO(r,t,e,n)}))}})
var a={debugInfo:y("real"),triggerEvent:function(t,e,n){Os(t,e,(function(o){return PO(r,t,n,e,o)}))},triggerFocus:function(t,e){Wi(t).fold((function(){Kl(t)}),(function(n){Os(No(),t,(function(n){HO(r,No(),{originator:e,kill:h,prevent:h,target:t},t,n)
return false}))}))},triggerEscape:function(t,e){a.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return g(t)},getByDom:function(t){return p(t)},build:yc,addToGui:function(t){c(t)},removeFromGui:function(t){s(t)},addToWorld:function(t){i(t)},removeFromWorld:function(t){u(t)},broadcast:function(t){v(t)},broadcastOn:function(t,e){d(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:T}
var i=function(t){t.connect(a)
if(!Pa(t.element)){n.register(t)
q(t.components(),i)
a.triggerEvent(Ko(),t.element,{target:t.element})}}
var u=function(t){if(!Pa(t.element)){q(t.components(),u)
n.unregister(t)}t.disconnect()}
var c=function(e){Pd(t,e)}
var s=function(t){Vd(t)}
var l=function(){o.unbind()
gi(t.element)}
var f=function(t){var e=n.filter(jo())
q(e,(function(e){var n=e.descHandler
var r=gu(n)
r(t)}))}
var v=function(t){f({universal:true,data:t})}
var d=function(t,e){f({universal:false,channels:t,data:e})}
var m=function(t,e){var r=n.filter(t)
return LO(r,e)}
var g=function(t){return n.getById(t).fold((function(){return ht.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),ht.value)}
var p=function(t){var e=Wi(t).getOr("not found")
return g(e)}
i(t)
return{root:t,element:t.element,destroy:l,add:c,remove:s,getByUid:g,getByDom:p,addToWorld:i,removeFromWorld:u,broadcast:v,broadcastOn:d,broadcastEvent:m}}
var GO=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:W(t.items,e.interpreter)}}
var $O=y([Pn("prefix","form-field"),Km("fieldBehaviours",[bg,Xm])])
var XO=y([Mh({schema:[yn("dom")],name:"label"}),Mh({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),Oh({factory:{sketch:function(t){var e=ce(t,["factory"])
return t.factory.sketch(e)}},schema:[yn("factory")],name:"field"})])
var KO=function(t,e,n,r){var o=Ym(t.fieldBehaviours,[bg.config({find:function(e){return jh(e,t,"field")}}),Xm.config({store:{mode:"manual",getValue:function(t){return bg.getCurrent(t).bind(Xm.getValue)},setValue:function(t,e){bg.getCurrent(t).each((function(t){Xm.setValue(t,e)}))}}})])
var a=ga([Aa((function(e,n){var r=Wh(e,t,["label","field","aria-descriptor"])
r.field().each((function(e){var n=Bi(t.prefix)
r.label().each((function(t){Si(t.element,"for",n)
Si(e.element,"id",n)}))
r["aria-descriptor"]().each((function(n){var r=Bi(t.prefix)
Si(n.element,"id",r)
Si(e.element,"aria-describedby",r)}))}))}))])
var i={getField:function(e){return jh(e,t,"field")},getLabel:function(e){return jh(e,t,"label")}}
return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:a,apis:i}}
var ZO=ug({name:"FormField",configFields:$O(),partFields:XO(),factory:KO,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}})
var YO=function(t,e){return su({attributes:le([{key:e.tabAttr,value:"true"}])})}
var JO=Object.freeze({__proto__:null,exhibit:YO})
var QO=[Pn("tabAttr","data-alloy-tabstop")]
var tE=Vl({fields:QO,name:"tabstopping",active:JO})
var eE=tinymce.util.Tools.resolve("tinymce.html.Entities")
var nE=function(t,e,n,r){var o=oE(t,e,n,r)
return ZO.sketch(o)}
var rE=function(t,e){return nE(t,e,[],[])}
var oE=function(t,e,n,r){return{dom:iE(n),components:t.toArray().concat([e]),fieldBehaviours:Nl(r)}}
var aE=function(){return iE([])}
var iE=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}}
var uE=function(t,e){return ZO.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})}
var cE=Bi("form-component-change")
var sE=Bi("form-close")
var lE=Bi("form-cancel")
var fE=Bi("form-action")
var vE=Bi("form-submit")
var dE=Bi("form-block")
var mE=Bi("form-unblock")
var hE=Bi("form-tabchange")
var gE=Bi("form-resize")
var pE=function(t,e){var n
var r=t.label.map((function(t){return uE(t,e)}))
var o=function(t){return function(e,n){ms(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,Ti(r,"data-collection-item-value"))}))}}
var a=function(n,r){var o=W(r,(function(n){var r=AS.translate(n.text)
var o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":""
var a='<div class="tox-collection__item-icon">'+n.icon+"</div>"
var i={_:" "," - ":" ","-":" "}
var u=r.replace(/\_| \- |\-/g,(function(t){return i[t]}))
var c=e.isDisabled()?" tox-collection__item--state-disabled":""
return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+eE.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+a+o+"</div>"}))
var a="auto"!==t.columns&&t.columns>1?U(o,t.columns):[o]
var i=W(a,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}))
wi(n.element,i.join(""))}
var i=o((function(n,r,o,a){r.stop()
e.isDisabled()||fa(n,fE,{name:t.name,value:a})}))
var u=[wa(Oo(),o((function(t,e,n){Kl(n)}))),wa(Io(),i),wa(qo(),i),wa(Eo(),o((function(t,e,n){ds(t.element,"."+yC).each((function(t){Nu(t,yC)}))
Bu(n,yC)}))),wa(Mo(),o((function(t){ds(t.element,"."+yC).each((function(t){Nu(t,yC)}))}))),Ra(o((function(e,n,r,o){fa(e,fE,{name:t.name,value:o})})))]
var c=function(t,e){return W(Zv(t.element,".tox-collection__item"),e)}
var s=ZO.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:Nl([KS.config({disabled:e.isDisabled,onDisabled:function(t){c(t,(function(t){Bu(t,"tox-collection__item--state-disabled")
Si(t,"aria-disabled",true)}))},onEnabled:function(t){c(t,(function(t){Nu(t,"tox-collection__item--state-disabled")
Ei(t,"aria-disabled")}))}}),Uk(),xy.config({}),Xm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){a(e,n)
"auto"===t.columns&&vS(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns
fy.setGridSize(e,n,r)}))
la(e,gE)}}),tE.config({}),fy.config(I_(t.columns,"normal")),Sy("collection-events",u)]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","collection-events"],n)})
var l=["tox-form__group--collection"]
return nE(r,s,l,[])}
var bE=y([An("data"),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("tag","input"),Pn("inputClasses",[]),Bs("onSetValue"),Pn("styles",{}),Pn("eventOrder",{}),Km("inputBehaviours",[Xm,Dy]),Pn("selectOnFocus",true)])
var yE=function(t){return Nl([Dy.config({onFocus:t.selectOnFocus?function(t){var e=t.element
var n=ac(e)
e.dom.setSelectionRange(0,n.length)}:h})])}
var wE=function(t){return O(O({},yE(t)),Ym(t.inputBehaviours,[Xm.config({store:O(O({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return ac(t.element)},setValue:function(t,e){var n=ac(t.element)
n!==e&&ic(t.element,e)}}),onSetValue:t.onSetValue})]))}
var xE=function(t){return{tag:t.tag,attributes:O({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}}
var CE=function(t,e){return{uid:t.uid,dom:xE(t),components:[],behaviours:wE(t),eventOrder:t.eventOrder}}
var SE=ig({name:"Input",configFields:bE(),factory:CE})
var kE={},TE={exports:kE};(function(t,e,r,o){(function(o){if("object"===typeof e&&"undefined"!==typeof r)r.exports=o()
else if("function"===typeof t&&t.amd)t([],o)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function a(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o
if(!c&&s)return s(u,!0)
if(i)return i(u,!0)
var l=new Error("Cannot find module '"+u+"'")
throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}}
e[u][0].call(f.exports,(function(t){var n=e[u][1][t]
return a(n||t)}),f,f.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof o&&o,u=0;u<r.length;u++)a(r[u])
return a}return t}()({1:[function(t,e,n){var r=e.exports={}
var o
var a
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{o="function"===typeof setTimeout?setTimeout:i}catch(t){o=i}try{a="function"===typeof clearTimeout?clearTimeout:u}catch(t){a=u}})()
function c(t){if(o===setTimeout)return setTimeout(t,0)
if((o===i||!o)&&setTimeout){o=setTimeout
return setTimeout(t,0)}try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function s(t){if(a===clearTimeout)return clearTimeout(t)
if((a===u||!a)&&clearTimeout){a=clearTimeout
return clearTimeout(t)}try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}var l=[]
var f=false
var v
var d=-1
function m(){if(!f||!v)return
f=false
v.length?l=v.concat(l):d=-1
l.length&&h()}function h(){if(f)return
var t=c(m)
f=true
var e=l.length
while(e){v=l
l=[]
while(++d<e)v&&v[d].run()
d=-1
e=l.length}v=null
f=false
s(t)}r.nextTick=function(t){var e=new Array(arguments.length-1)
if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
l.push(new g(t,e))
1!==l.length||f||c(h)}
function g(t,e){this.fun=t
this.array=e}g.prototype.run=function(){this.fun.apply(null,this.array)}
r.title="browser"
r.browser=true
r.env={}
r.argv=[]
r.version=""
r.versions={}
function p(){}r.on=p
r.addListener=p
r.once=p
r.off=p
r.removeListener=p
r.removeAllListeners=p
r.emit=p
r.prependListener=p
r.prependOnceListener=p
r.listeners=function(t){return[]}
r.binding=function(t){throw new Error("process.binding is not supported")}
r.cwd=function(){return"/"}
r.chdir=function(t){throw new Error("process.chdir is not supported")}
r.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout
function o(){}function a(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
v(t,this)}function u(t,e){while(3===t._state)t=t._value
if(0===t._state){t._deferreds.push(e)
return}t._handled=true
i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected
if(null===n){(1===t._state?c:s)(e.promise,t._value)
return}var r
try{r=n(t._value)}catch(t){s(e.promise,t)
return}c(e.promise,r)}))}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.")
if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then
if(e instanceof i){t._state=3
t._value=e
l(t)
return}if("function"===typeof n){v(a(n,e),t)
return}}t._state=1
t._value=e
l(t)}catch(e){s(t,e)}}function s(t,e){t._state=2
t._value=e
l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}))
for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e])
t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.promise=n}function v(t,e){var n=false
try{t((function(t){if(n)return
n=true
c(e,t)}),(function(t){if(n)return
n=true
s(e,t)}))}catch(t){if(n)return
n=true
s(e,t)}}i.prototype["catch"]=function(t){return this.then(null,t)}
i.prototype.then=function(t,e){var n=new this.constructor(o)
u(this,new f(t,e,n))
return n}
i.all=function(t){var e=Array.prototype.slice.call(t)
return new i((function(t,n){if(0===e.length)return t([])
var r=e.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),n)
return}}e[a]=i
0===--r&&t(e)}catch(t){n(t)}}for(var a=0;a<e.length;a++)o(a,e[a])}))}
i.resolve=function(t){if(t&&"object"===typeof t&&t.constructor===i)return t
return new i((function(e){e(t)}))}
i.reject=function(t){return new i((function(e,n){n(t)}))}
i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))}
i._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)}
i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)}
i._setImmediateFn=function(t){i._immediateFn=t}
i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t}
"undefined"!==typeof e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick
var a=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var c=0
n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)}
n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)}
n.clearTimeout=n.clearInterval=function(t){t.close()}
function s(t,e){this._id=t
this._clearFn=e}s.prototype.unref=s.prototype.ref=function(){}
s.prototype.close=function(){this._clearFn.call(window,this._id)}
n.enroll=function(t,e){clearTimeout(t._idleTimeoutId)
t._idleTimeout=e}
n.unenroll=function(t){clearTimeout(t._idleTimeoutId)
t._idleTimeout=-1}
n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId)
var e=t._idleTimeout
e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))}
n.setImmediate="function"===typeof e?e:function(t){var e=c++
var r=!(arguments.length<2)&&i.call(arguments,1)
u[e]=true
o((function(){if(u[e]){r?t.apply(null,r):t.call(null)
n.clearImmediate(e)}}))
return e}
n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill")
var o="undefined"!==typeof window?window:Function("return this;")()
e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,kE,TE,void 0)
var _E=TE.exports.boltExport
var OE=function(t){var e=I.none()
var n=[]
var r=function(t){return OE((function(e){o((function(n){e(t(n))}))}))}
var o=function(t){i()?c(t):n.push(t)}
var a=function(t){if(!i()){e=I.some(t)
u(n)
n=[]}}
var i=function(){return e.isSome()}
var u=function(t){q(t,c)}
var c=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))}
t(a)
return{get:o,map:r,isReady:i}}
var EE=function(t){return OE((function(e){e(t)}))}
var ME={nu:OE,pure:EE}
var AE=function(t){setTimeout((function(){throw t}),0)}
var zE=function(t){var e=function(e){t().then(e,AE)}
var n=function(e){return zE((function(){return t().then(e)}))}
var r=function(e){return zE((function(){return t().then((function(t){return e(t).toPromise()}))}))}
var o=function(e){return zE((function(){return t().then((function(){return e.toPromise()}))}))}
var a=function(){return ME.nu(e)}
var i=function(){var e=null
return zE((function(){null===e&&(e=t())
return e}))}
var u=t
return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:e}}
var DE=function(t){return zE((function(){return new _E(t)}))}
var RE=function(t){return zE((function(){return _E.resolve(t)}))}
var IE={nu:DE,pure:RE}
var HE=["input","textarea"]
var LE=function(t){var e=Ia(t)
return F(HE,e)}
var BE=function(t,e){var n=e.getRoot(t).getOr(t.element)
Nu(n,e.invalidClass)
e.notify.each((function(e){LE(t.element)&&Si(t.element,"aria-invalid",false)
e.getContainer(t).each((function(t){wi(t,e.validHtml)}))
e.onValid(t)}))}
var PE=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element)
Bu(o,e.invalidClass)
e.notify.each((function(e){LE(t.element)&&Si(t.element,"aria-invalid",true)
e.getContainer(t).each((function(t){wi(t,r)}))
e.onInvalid(t,r)}))}
var NE=function(t,e,n){return e.validator.fold((function(){return IE.pure(ht.value(true))}),(function(e){return e.validate(t)}))}
var FE=function(t,e,n){e.notify.each((function(e){e.onValidate(t)}))
return NE(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){PE(t,e,n,r)
return ht.error(r)}),(function(n){BE(t,e)
return ht.value(n)})):ht.error("No longer in system")}))}
var VE=function(t,e){var n=e.getRoot(t).getOr(t.element)
return Fu(n,e.invalidClass)}
var jE=Object.freeze({__proto__:null,markValid:BE,markInvalid:PE,query:NE,run:FE,isInvalid:VE})
var UE=function(t,e){return t.validator.map((function(n){return ga([wa(n.onEvent,(function(n){FE(n,t,e).get(w)}))].concat(n.validateOnLoad?[Aa((function(n){FE(n,t,e).get(h)}))]:[]))})).getOr({})}
var WE=Object.freeze({__proto__:null,events:UE})
var qE=[yn("invalidClass"),Pn("getRoot",I.none),Ln("notify",[Pn("aria","alert"),Pn("getContainer",I.none),Pn("validHtml",""),Bs("onValid"),Bs("onInvalid"),Bs("onValidate")]),Ln("validator",[yn("validate"),Pn("onEvent","input"),Pn("validateOnLoad",true)])]
var GE=Vl({fields:qE,name:"invalidating",active:WE,apis:jE,extra:{validation:function(t){return function(e){var n=Xm.getValue(e)
return IE.pure(t(n))}}}})
var $E=function(t,e,n,r){return n.getOrCreate(t,e,r)}
var XE=Object.freeze({__proto__:null,getCoupled:$E})
var KE=[wn("others",tn(ht.value,ln()))]
var ZE=function(){var t={}
var e=function(e,n,r){var o=Et(n.others)
if(o)return Nt(t,r).getOrThunk((function(){var o=Nt(n.others,r).getOrDie("No information found for coupled component: "+r)
var a=o(e)
var i=e.getSystem().build(a)
t[r]=i
return i}))
throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}
var n=y({})
return ou({readState:n,getOrCreate:e})}
var YE=Object.freeze({__proto__:null,init:ZE})
var JE=Vl({fields:KE,name:"coupling",apis:XE,state:YE})
var QE=y("sink")
var tM=y(Mh({name:QE(),overrides:y({dom:{tag:"div"},behaviours:Nl([Dd.config({useFixed:T})]),events:ga([Oa(Ao()),Oa(So()),Oa(Io())])})}))
var eM;(function(t){t[t["HighlightFirst"]=0]="HighlightFirst"
t[t["HighlightNone"]=1]="HighlightNone"})(eM||(eM={}))
var nM=function(t,e){var n=t.getHotspot(e).getOr(e)
var r="hotspot"
var o=t.getAnchorOverrides()
return t.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(t){return{anchor:r,hotspot:n,overrides:o,layouts:t}}))}
var rM=function(t,e,n){var r=t.fetch
return r(n).map(e)}
var oM=function(t,e,n,r,o,a,i){var u=rM(t,e,r)
var c=sM(r,t)
return u.map((function(t){return t.bind((function(t){return I.from(Iw.sketch(O(O({},a.menu()),{uid:qi(""),data:t,highlightImmediately:i===eM.HighlightFirst,onOpenMenu:function(t,e){var r=c().getOrDie()
Dd.position(r,n,e)
vm.decloak(o)},onOpenSubmenu:function(t,e,n){var r=c().getOrDie()
Dd.position(r,{anchor:"submenu",item:e},n)
vm.decloak(o)},onRepositionMenu:function(t,e,r){var o=c().getOrDie()
Dd.position(o,n,e)
q(r,(function(t){Dd.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){Dy.focus(r)
vm.close(o)
return I.some(true)}})))}))}))}
var aM=function(t,e,n,r,o,a,i){var u=nM(t,n)
var c=oM(t,e,u,n,r,o,i)
return c.map((function(t){t.fold((function(){vm.isOpen(r)&&vm.close(r)}),(function(t){vm.cloak(r)
vm.open(r,t)
a(r)}))
return r}))}
var iM=function(t,e,n,r,o,a,i){vm.close(r)
return IE.pure(r)}
var uM=function(t,e,n,r,o,a){var i=JE.getCoupled(n,"sandbox")
var u=vm.isOpen(i)
var c=u?iM:aM
return c(t,e,n,i,r,o,a)}
var cM=function(t,e,n){var r=bg.getCurrent(e).getOr(e)
var o=Ic(t.element)
n?Ku(r.element,"min-width",o+"px"):Rc(r.element,o)}
var sM=function(t,e){return t.getSystem().getByUid(e.uid+"-"+QE()).map((function(t){return function(){return ht.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return ht.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))}
var lM=function(t){vm.getState(t).each((function(t){Iw.repositionMenus(t)}))}
var fM=function(t,e,n){var r=gs()
var o=function(o,a){var i=nM(t,e)
r.link(e.element)
t.matchWidth&&cM(i.hotspot,a,t.useMinWidth)
t.onOpen(i,o,a)
void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,a)}
var a=function(t,o){r.unlink(e.element)
void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)}
var i=sM(e,t)
return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Jm.augment(t.sandboxBehaviours,[Xm.config({store:{mode:"memory",initialValue:e}}),vm.config({onOpen:o,onClose:a,isPartOf:function(t,n,r){return bs(n,r)||bs(e,r)},getAttachPoint:function(){return i().getOrDie()}}),bg.config({find:function(t){return vm.getState(t).bind((function(t){return bg.getCurrent(t)}))}}),ql.config({channels:O(O({},pm({isExtraPart:k})),ym({doReposition:lM}))})])}}
var vM=function(t){var e=JE.getCoupled(t,"sandbox")
lM(e)}
var dM=function(){return[Pn("sandboxClasses",[]),Jm.field("sandboxBehaviours",[bg,ql,vm,Xm])]}
var mM=y([yn("dom"),yn("fetch"),Bs("onOpen"),Ps("onExecute"),Pn("getHotspot",I.some),Pn("getAnchorOverrides",y({})),jf(),Km("dropdownBehaviours",[Yy,JE,fy,Dy]),yn("toggleClass"),Pn("eventOrder",{}),An("lazySink"),Pn("matchWidth",false),Pn("useMinWidth",false),An("role")].concat(dM()))
var hM=y([Eh({schema:[Is()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),tM()])
var gM=function(t,e,n,r){var o
var a=function(e){return Nt(t.dom,"attributes").bind((function(t){return Nt(t,e)}))}
var i=function(t){vm.getState(t).each((function(t){Iw.highlightPrimary(t)}))}
var u=function(e){var n=i
uM(t,(function(t){return t}),e,r,n,eM.HighlightFirst).get(h)}
var c={expand:function(e){Yy.isOn(e)||uM(t,(function(t){return t}),e,r,h,eM.HighlightNone).get(h)},open:function(e){Yy.isOn(e)||uM(t,(function(t){return t}),e,r,h,eM.HighlightFirst).get(h)},isOpen:Yy.isOn,close:function(e){Yy.isOn(e)&&uM(t,(function(t){return t}),e,r,h,eM.HighlightFirst).get(h)},repositionMenus:function(t){Yy.isOn(t)&&vM(t)}}
var s=function(t,e){va(t)
return I.some(true)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.dropdownBehaviours,[Yy.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),JE.config({others:{sandbox:function(e){return fM(t,e,{onOpen:function(){return Yy.on(e)},onClose:function(){return Yy.off(e)}})}}}),fy.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,e){if(pM.isOpen(t)){var n=JE.getCoupled(t,"sandbox")
i(n)}else pM.open(t)
return I.some(true)},onEscape:function(t,e){if(pM.isOpen(t)){pM.close(t)
return I.some(true)}return I.none()}}),Dy.config({})]),events:Qy(I.some(u)),eventOrder:O(O({},t.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:O(O({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:a("type").getOr("button")}:{})}}}
var pM=ug({name:"Dropdown",configFields:mM(),partFields:hM(),factory:gM,apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var bM=function(){return su({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}
var yM=function(){return ga([pa(Lo(),T)])}
var wM=Object.freeze({__proto__:null,events:yM,exhibit:bM})
var xM=Vl({fields:[],name:"unselecting",active:wM})
var CM=function(t,e){return pM.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Nl([Xk.button(e.providers.isDisabled),Uk(),xM.config({}),tE.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return IE.nu((function(e){return t.fetch(e)})).map((function(r){return I.from(cO(Xt(z_(Bi("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,uC.CLOSE_ON_EXECUTE,k,e.providers),{movement:R_(t.columns,t.presets)})))}))},parts:{menu:HC(false,1,t.presets)}})}
var SM=Bi("color-input-change")
var kM=Bi("color-swatch-change")
var TM=Bi("color-picker-cancel")
var _M=function(t,e,n){var r=ZO.parts.field({factory:SE,inputClasses:["tox-textfield"],onSetValue:function(t){return GE.run(t).get(h)},inputBehaviours:Nl([KS.config({disabled:e.providers.isDisabled}),Uk(),tE.config({}),GE.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return qa(t.element)},notify:{onValid:function(t){var e=Xm.getValue(t)
fa(t,SM,{color:e})}},validator:{validateOnLoad:false,validate:function(t){var e=Xm.getValue(t)
if(0===e.length)return IE.pure(ht.value(true))
var n=er.fromTag("span")
Ku(n,"background-color",e)
var r=tc(n,"background-color").fold((function(){return ht.error("blah")}),(function(t){return ht.value(e)}))
return IE.pure(r)}}})]),selectOnFocus:false})
var o=t.label.map((function(t){return uE(t,e.providers)}))
var a=function(t,e){fa(t,kM,{value:e})}
var i=function(t,e){u.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return la(t,TM)}),(function(e){a(t,e)
h_(e)}))}),"#ffffff"):a(t,"remove"===e?"":e)}))}
var u=Jw(CM({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[hl,ml,yl]},onLtr:function(){return[ml,hl,yl]}},components:[],fetch:T_(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:i},e))
return ZO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Nl([Sy("form-field-events",[wa(SM,(function(e,n){u.getOpt(e).each((function(t){Ku(t.element,"background-color",n.event.color)}))
fa(e,cE,{name:t.name})})),wa(kM,(function(t,e){ZO.getField(t).each((function(n){Xm.setValue(n,e.event.value)
bg.getCurrent(t).each(Dy.focus)}))})),wa(TM,(function(t,e){ZO.getField(t).each((function(e){bg.getCurrent(t).each(Dy.focus)}))}))])])})}
var OM=Mh({schema:[yn("dom")],name:"label"})
var EM=function(t){return Mh({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t]
return n.fold((function(){return{}}),(function(t){return{events:ga([xa(yo(),(function(e,n,r){return t(e,r)}),[e]),xa(So(),(function(e,n,r){return t(e,r)}),[e]),xa(ko(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})}
var MM=EM("top-left")
var AM=EM("top")
var zM=EM("top-right")
var DM=EM("right")
var RM=EM("bottom-right")
var IM=EM("bottom")
var HM=EM("bottom-left")
var LM=EM("left")
var BM=Oh({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ga([Ta(yo(),t,"spectrum"),Ta(wo(),t,"spectrum"),Ta(xo(),t,"spectrum"),Ta(So(),t,"spectrum"),Ta(ko(),t,"spectrum"),Ta(_o(),t,"spectrum")])}}})
var PM=Oh({schema:[Xn("mouseIsDown",(function(){return Kn(false)}))],name:"spectrum",overrides:function(t){var e=t.model
var n=e.manager
var r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))}
return{behaviours:Nl([fy.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Dy.config({})]),events:ga([wa(yo(),r),wa(wo(),r),wa(So(),r),wa(ko(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}})
var NM=[OM,LM,DM,AM,IM,MM,zM,HM,RM,BM,PM]
var FM="slider.change.value"
var VM=y(FM)
var jM=function(t){return-1!==t.type.indexOf("touch")}
var UM=function(t){var e=t.event.raw
if(jM(e)){var n=e
return void 0!==n.touches&&1===n.touches.length?I.some(n.touches[0]).map((function(t){return Oc(t.clientX,t.clientY)})):I.none()}var r=e
return void 0!==r.clientX?I.some(r).map((function(t){return Oc(t.clientX,t.clientY)})):I.none()}
var WM="top",qM="right",GM="bottom",$M="left"
var XM=function(t){return t.model.minX}
var KM=function(t){return t.model.minY}
var ZM=function(t){return t.model.minX-1}
var YM=function(t){return t.model.minY-1}
var JM=function(t){return t.model.maxX}
var QM=function(t){return t.model.maxY}
var tA=function(t){return t.model.maxX+1}
var eA=function(t){return t.model.maxY+1}
var nA=function(t,e,n){return e(t)-n(t)}
var rA=function(t){return nA(t,JM,XM)}
var oA=function(t){return nA(t,QM,KM)}
var aA=function(t){return rA(t)/2}
var iA=function(t){return oA(t)/2}
var uA=function(t){return t.stepSize}
var cA=function(t){return t.snapToGrid}
var sA=function(t){return t.snapStart}
var lA=function(t){return t.rounded}
var fA=function(t,e){return void 0!==t[e+"-edge"]}
var vA=function(t){return fA(t,$M)}
var dA=function(t){return fA(t,qM)}
var mA=function(t){return fA(t,WM)}
var hA=function(t){return fA(t,GM)}
var gA=function(t){return t.model.value.get()}
var pA=function(t){return{x:t}}
var bA=function(t){return{y:t}}
var yA=function(t,e){return{x:t,y:e}}
var wA=function(t,e){fa(t,VM(),{value:e})}
var xA=function(t,e){wA(t,yA(ZM(e),YM(e)))}
var CA=function(t,e){wA(t,bA(YM(e)))}
var SA=function(t,e){wA(t,yA(aA(e),YM(e)))}
var kA=function(t,e){wA(t,yA(tA(e),YM(e)))}
var TA=function(t,e){wA(t,pA(tA(e)))}
var _A=function(t,e){wA(t,yA(tA(e),iA(e)))}
var OA=function(t,e){wA(t,yA(tA(e),eA(e)))}
var EA=function(t,e){wA(t,bA(eA(e)))}
var MA=function(t,e){wA(t,yA(aA(e),eA(e)))}
var AA=function(t,e){wA(t,yA(ZM(e),eA(e)))}
var zA=function(t,e){wA(t,pA(ZM(e)))}
var DA=function(t,e){wA(t,yA(ZM(e),iA(e)))}
var RA=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)}
var IA=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)}
var HA=function(t,e,n){return Math.max(e,Math.min(n,t))}
var LA=function(t,e,n,r,o){return o.fold((function(){var o=t-e
var a=Math.round(o/r)*r
return HA(e+a,e-1,n+1)}),(function(e){var o=(t-e)%r
var a=Math.round(o/r)
var i=Math.floor((t-e)/r)
var u=Math.floor((n-e)/r)
var c=Math.min(u,i+a)
var s=e+c*r
return Math.max(e,s)}))}
var BA=function(t,e,n){return Math.min(n,Math.max(t,e))-e}
var PA=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.step,i=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,v=t.maxBound,d=t.screenRange
var m=s?e-1:e
var h=l?n+1:n
if(o<f)return m
if(o>v)return h
var g=BA(o,f,v)
var p=HA(g/d*r+e,m,h)
return i&&p>=e&&p<=n?LA(p,e,n,a,u):c?Math.round(p):p}
var NA=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.hasMinEdge,i=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge
return o<e?a?0:s:o>n?i?u:l:(o-e)/r*c}
var FA="top",VA="right",jA="bottom",UA="left",WA="width",qA="height"
var GA=function(t){return t.element.dom.getBoundingClientRect()}
var $A=function(t,e){return t[e]}
var XA=function(t){var e=GA(t)
return $A(e,UA)}
var KA=function(t){var e=GA(t)
return $A(e,VA)}
var ZA=function(t){var e=GA(t)
return $A(e,FA)}
var YA=function(t){var e=GA(t)
return $A(e,jA)}
var JA=function(t){var e=GA(t)
return $A(e,WA)}
var QA=function(t){var e=GA(t)
return $A(e,qA)}
var tz=function(t,e,n){return(t+e)/2-n}
var ez=function(t,e){var n=GA(t)
var r=GA(e)
var o=$A(n,UA)
var a=$A(n,VA)
var i=$A(r,UA)
return tz(o,a,i)}
var nz=function(t,e){var n=GA(t)
var r=GA(e)
var o=$A(n,FA)
var a=$A(n,jA)
var i=$A(r,FA)
return tz(o,a,i)}
var rz=function(t,e){fa(t,VM(),{value:e})}
var oz=function(t){return{x:t}}
var az=function(t,e,n){var r={min:XM(e),max:JM(e),range:rA(e),value:n,step:uA(e),snap:cA(e),snapStart:sA(e),rounded:lA(e),hasMinEdge:vA(e),hasMaxEdge:dA(e),minBound:XA(t),maxBound:KA(t),screenRange:JA(t)}
return PA(r)}
var iz=function(t,e,n){var r=az(t,e,n)
var o=oz(r)
rz(t,o)
return r}
var uz=function(t,e){var n=XM(e)
rz(t,oz(n))}
var cz=function(t,e){var n=JM(e)
rz(t,oz(n))}
var sz=function(t,e,n){var r=t>0?IA:RA
var o=r(gA(n).x,XM(n),JM(n),uA(n))
rz(e,oz(o))
return I.some(o)}
var lz=function(t){return function(e,n){return sz(t,e,n).map(T)}}
var fz=function(t){var e=UM(t)
return e.map((function(t){return t.left}))}
var vz=function(t,e,n,r,o){var a=0
var i=JA(t)
var u=r.bind((function(e){return I.some(ez(e,t))})).getOr(a)
var c=o.bind((function(e){return I.some(ez(e,t))})).getOr(i)
var s={min:XM(e),max:JM(e),range:rA(e),value:n,hasMinEdge:vA(e),hasMaxEdge:dA(e),minBound:XA(t),minOffset:a,maxBound:KA(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return NA(s)}
var dz=function(t,e,n,r,o,a){var i=vz(e,a,n,r,o)
return XA(e)-XA(t)+i}
var mz=function(t,e,n,r){var o=gA(n)
var a=dz(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=Ic(e.element)/2
Ku(e.element,"left",a-i+"px")}
var hz=lz(-1)
var gz=lz(1)
var pz=I.none
var bz=I.none
var yz={"top-left":I.none(),top:I.none(),"top-right":I.none(),right:I.some(TA),"bottom-right":I.none(),bottom:I.none(),"bottom-left":I.none(),left:I.some(zA)}
var wz=Object.freeze({__proto__:null,setValueFrom:iz,setToMin:uz,setToMax:cz,findValueOfOffset:az,getValueFromEvent:fz,findPositionOfValue:dz,setPositionFromValue:mz,onLeft:hz,onRight:gz,onUp:pz,onDown:bz,edgeActions:yz})
var xz=function(t,e){fa(t,VM(),{value:e})}
var Cz=function(t){return{y:t}}
var Sz=function(t,e,n){var r={min:KM(e),max:QM(e),range:oA(e),value:n,step:uA(e),snap:cA(e),snapStart:sA(e),rounded:lA(e),hasMinEdge:mA(e),hasMaxEdge:hA(e),minBound:ZA(t),maxBound:YA(t),screenRange:QA(t)}
return PA(r)}
var kz=function(t,e,n){var r=Sz(t,e,n)
var o=Cz(r)
xz(t,o)
return r}
var Tz=function(t,e){var n=KM(e)
xz(t,Cz(n))}
var _z=function(t,e){var n=QM(e)
xz(t,Cz(n))}
var Oz=function(t,e,n){var r=t>0?IA:RA
var o=r(gA(n).y,KM(n),QM(n),uA(n))
xz(e,Cz(o))
return I.some(o)}
var Ez=function(t){return function(e,n){return Oz(t,e,n).map(T)}}
var Mz=function(t){var e=UM(t)
return e.map((function(t){return t.top}))}
var Az=function(t,e,n,r,o){var a=0
var i=QA(t)
var u=r.bind((function(e){return I.some(nz(e,t))})).getOr(a)
var c=o.bind((function(e){return I.some(nz(e,t))})).getOr(i)
var s={min:KM(e),max:QM(e),range:oA(e),value:n,hasMinEdge:mA(e),hasMaxEdge:hA(e),minBound:ZA(t),minOffset:a,maxBound:YA(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return NA(s)}
var zz=function(t,e,n,r,o,a){var i=Az(e,a,n,r,o)
return ZA(e)-ZA(t)+i}
var Dz=function(t,e,n,r){var o=gA(n)
var a=zz(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var i=Sc(e.element)/2
Ku(e.element,"top",a-i+"px")}
var Rz=I.none
var Iz=I.none
var Hz=Ez(-1)
var Lz=Ez(1)
var Bz={"top-left":I.none(),top:I.some(CA),"top-right":I.none(),right:I.none(),"bottom-right":I.none(),bottom:I.some(EA),"bottom-left":I.none(),left:I.none()}
var Pz=Object.freeze({__proto__:null,setValueFrom:kz,setToMin:Tz,setToMax:_z,findValueOfOffset:Sz,getValueFromEvent:Mz,findPositionOfValue:zz,setPositionFromValue:Dz,onLeft:Rz,onRight:Iz,onUp:Hz,onDown:Lz,edgeActions:Bz})
var Nz=function(t,e){fa(t,VM(),{value:e})}
var Fz=function(t,e){return{x:t,y:e}}
var Vz=function(t,e,n){var r=az(t,e,n.left)
var o=Sz(t,e,n.top)
var a=Fz(r,o)
Nz(t,a)
return a}
var jz=function(t,e,n,r){var o=t>0?IA:RA
var a=e?gA(r).x:o(gA(r).x,XM(r),JM(r),uA(r))
var i=e?o(gA(r).y,KM(r),QM(r),uA(r)):gA(r).y
Nz(n,Fz(a,i))
return I.some(a)}
var Uz=function(t,e){return function(n,r){return jz(t,e,n,r).map(T)}}
var Wz=function(t,e){var n=XM(e)
var r=KM(e)
Nz(t,Fz(n,r))}
var qz=function(t,e){var n=JM(e)
var r=QM(e)
Nz(t,Fz(n,r))}
var Gz=function(t){return UM(t)}
var $z=function(t,e,n,r){var o=gA(n)
var a=dz(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=zz(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var u=Ic(e.element)/2
var c=Sc(e.element)/2
Ku(e.element,"left",a-u+"px")
Ku(e.element,"top",i-c+"px")}
var Xz=Uz(-1,false)
var Kz=Uz(1,false)
var Zz=Uz(-1,true)
var Yz=Uz(1,true)
var Jz={"top-left":I.some(xA),top:I.some(SA),"top-right":I.some(kA),right:I.some(_A),"bottom-right":I.some(OA),bottom:I.some(MA),"bottom-left":I.some(AA),left:I.some(DA)}
var Qz=Object.freeze({__proto__:null,setValueFrom:Vz,setToMin:Wz,setToMax:qz,getValueFromEvent:Gz,setPositionFromValue:$z,onLeft:Xz,onRight:Kz,onUp:Zz,onDown:Yz,edgeActions:Jz})
var tD=[Pn("stepSize",1),Pn("onChange",h),Pn("onChoose",h),Pn("onInit",h),Pn("onDragStart",h),Pn("onDragEnd",h),Pn("snapToGrid",false),Pn("rounded",true),An("snapStart"),wn("model",cn("mode",{x:[Pn("minX",0),Pn("maxX",100),Xn("value",(function(t){return Kn(t.mode.minX)})),yn("getInitialValue"),Vs("manager",wz)],y:[Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return Kn(t.mode.minY)})),yn("getInitialValue"),Vs("manager",Pz)],xy:[Pn("minX",0),Pn("maxX",100),Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return Kn({x:t.mode.minX,y:t.mode.minY})})),yn("getInitialValue"),Vs("manager",Qz)]})),Km("sliderBehaviours",[fy,Xm]),Xn("mouseIsDown",(function(){return Kn(false)}))]
var eD=function(t,e,n,r){var o
var a=function(e){return Uh(e,t,"thumb")}
var i=function(e){return Uh(e,t,"spectrum")}
var u=function(e){return jh(e,t,"left-edge")}
var c=function(e){return jh(e,t,"right-edge")}
var s=function(e){return jh(e,t,"top-edge")}
var l=function(e){return jh(e,t,"bottom-edge")}
var f=t.model
var v=f.manager
var d=function(e,n){v.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:i})}
var m=function(t,e){f.value.set(e)
var n=a(t)
d(t,n)}
var h=function(e,n){m(e,n)
var r=a(e)
t.onChange(e,r,n)
return I.some(true)}
var g=function(e){v.setToMin(e,t)}
var p=function(e){v.setToMax(e,t)}
var b=function(e){var n=function(){jh(e,t,"thumb").each((function(n){var r=f.value.get()
t.onChoose(e,n,r)}))}
var r=t.mouseIsDown.get()
t.mouseIsDown.set(false)
r&&n()}
var y=function(e,n){n.stop()
t.mouseIsDown.set(true)
t.onDragStart(e,a(e))}
var w=function(e,n){n.stop()
t.onDragEnd(e,a(e))
b(e)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.sliderBehaviours,[fy.config({mode:"special",focusIn:function(e){return jh(e,t,"spectrum").map(fy.focusIn).map(T)}}),Xm.config({store:{mode:"manual",getValue:function(t){return f.value.get()}}}),ql.config({channels:(o={},o[hm()]={onReceive:b},o)})]),events:ga([wa(VM(),(function(t,e){h(t,e.event.value)})),Aa((function(e,n){var r=f.getInitialValue()
f.value.set(r)
var o=a(e)
d(e,o)
var u=i(e)
t.onInit(e,o,u,f.value.get())})),wa(yo(),y),wa(xo(),w),wa(So(),y),wa(_o(),w)]),apis:{resetToMin:g,resetToMax:p,setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}}
var nD=ug({name:"Slider",configFields:tD,partFields:NM,factory:eD,apis:{setValue:function(t,e,n){t.setValue(e,n)},resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}})
var rD=function(t,e,n){return{hue:t,saturation:e,value:n}}
var oD=function(t){var e=0
var n=0
var r=0
var o=t.red/255
var a=t.green/255
var i=t.blue/255
var u=Math.min(o,Math.min(a,i))
var c=Math.max(o,Math.max(a,i))
if(u===c){r=u
return rD(0,0,100*r)}var s=o===u?a-i:i===u?o-a:i-o
e=o===u?3:i===u?1:5
e=60*(e-s/(c-u))
n=(c-u)/c
r=c
return rD(Math.round(e),Math.round(100*n),Math.round(100*r))}
var aD=function(t){return oD(GT(t))}
var iD=function(t){return BT(qT(t))}
var uD=Bi("rgb-hex-update")
var cD=Bi("slider-update")
var sD=Bi("palette-update")
var lD=function(t,e){var n=nD.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}})
var r=nD.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}})
return nD.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:y({y:0})},components:[n,r],sliderBehaviours:Nl([Dy.config({})]),onChange:function(t,e,n){fa(t,cD,{value:n})}})}
var fD="form"
var vD=[Km("formBehaviours",[Xm])]
var dD=function(t){return"<alloy.field."+t+">"}
var mD=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Bh(fD,dD(e),n)}
return{field:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=W(r,(function(t){return Oh({name:t,pname:dD(t)})}))
return tg(fD,vD,o,gD,n)}
var hD=function(t,e){return t.fold((function(){return ht.error(e)}),ht.value)}
var gD=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.formBehaviours,[Xm.config({store:{mode:"manual",getValue:function(e){var n=qh(e,t)
return zt(n,(function(t,e){return t().bind((function(t){var n=bg.getCurrent(t)
return hD(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Di(t.element)))})).map(Xm.getValue)}))},setValue:function(e,n){At(n,(function(n,r){jh(e,t,r).each((function(t){bg.getCurrent(t).each((function(t){Xm.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return jh(e,t,n).bind(bg.getCurrent)}}}}
var pD={getField:nu((function(t,e,n){return t.getField(e,n)})),sketch:mD}
var bD=Bi("valid-input")
var yD=Bi("invalid-input")
var wD=Bi("validating-input")
var xD="colorcustom.rgb."
var CD=function(t,e,n,r){var o=function(n,r){return GE.config({invalidClass:e("invalid"),notify:{onValidate:function(t){fa(t,wD,{type:n})},onValid:function(t){fa(t,bD,{type:n,value:Xm.getValue(t)})},onInvalid:function(t){fa(t,yD,{type:n,value:Xm.getValue(t)})}},validator:{validate:function(e){var n=Xm.getValue(e)
var o=r(n)?ht.value(true):ht.error(t("aria.input.invalid"))
return IE.pure(o)},validateOnLoad:false}})}
var a=function(n,r,a,i,u){var c=t(xD+"range")
var s=ZO.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":i}}})
var l=ZO.parts.field({data:u,factory:SE,inputAttributes:O({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:Nl([o(r,n),tE.config({})]),onSetValue:function(t){if(GE.isInvalid(t)){var e=GE.run(t)
e.get(h)}}})
var f=[s,l]
var v="hex"!==r?[ZO.parts["aria-descriptor"]({text:c})]:[]
var d=f.concat(v)
return{dom:{tag:"div",attributes:{role:"presentation"}},components:d}}
var i=function(t,e){var n=BT(e)
pD.getField(t,"hex").each((function(e){Dy.isFocused(e)||Xm.setValue(t,{hex:n.value})}))
return n}
var u=function(t,e){var n=e.red
var r=e.green
var o=e.blue
Xm.setValue(t,{red:n,green:r,blue:o})}
var c=Jw({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}})
var s=function(t,e){c.getOpt(t).each((function(t){Ku(t.element,"background-color","#"+e.value)}))}
var l=function(){var o={red:Kn(I.some(255)),green:Kn(I.some(255)),blue:Kn(I.some(255)),hex:Kn(I.some("ffffff"))}
var l=function(t,e){var n=GT(e)
u(t,n)
m(n)}
var f=function(t){return o[t].get()}
var v=function(t,e){o[t].set(e)}
var d=function(){return f("red").bind((function(t){return f("green").bind((function(e){return f("blue").map((function(n){return UT(t,e,n,1)}))}))}))}
var m=function(t){var e=t.red
var n=t.green
var r=t.blue
v("red",I.some(e))
v("green",I.some(n))
v("blue",I.some(r))}
var h=function(t,e){var n=e.event
"hex"!==n.type?v(n.type,I.none()):r(t)}
var g=function(t,e){n(t)
var r=AT(e)
v("hex",I.some(e))
var o=GT(r)
u(t,o)
m(o)
fa(t,uD,{hex:r})
s(t,r)}
var p=function(t,e,n){var r=parseInt(n,10)
v(e,I.some(r))
d().each((function(e){var n=i(t,e)
fa(t,uD,{hex:n})
s(t,n)}))}
var b=function(t){return"hex"===t.type}
var y=function(t,e){var n=e.event
b(n)?g(t,n.value):p(t,n.type,n.value)}
var w=function(e){return{label:t(xD+e+".label"),description:t(xD+e+".description")}}
var x=w("red")
var C=w("green")
var S=w("blue")
var k=w("hex")
return Xt(pD.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",ZO.sketch(a(WT,"red",x.label,x.description,255))),n.field("green",ZO.sketch(a(WT,"green",C.label,C.description,255))),n.field("blue",ZO.sketch(a(WT,"blue",S.label,S.description,255))),n.field("hex",ZO.sketch(a(RT,"hex",k.label,k.description,"ffffff"))),c.asSpec()],formBehaviours:Nl([GE.config({invalidClass:e("form-invalid")}),Sy("rgb-form-events",[wa(bD,y),wa(yD,h),wa(wD,h)])])}})),{apis:{updateHex:function(t,e){Xm.setValue(t,{hex:e.value})
l(t,e)
s(t,e)}}})}
var f=ig({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})
return f}
var SD=function(t,e){var n=nD.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}})
var r=nD.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}})
var o=function(t,e){var n=t.width,r=t.height
var o=t.getContext("2d")
if(null===o)return
o.fillStyle=e
o.fillRect(0,0,n,r)
var a=o.createLinearGradient(0,0,n,0)
a.addColorStop(0,"rgba(255,255,255,1)")
a.addColorStop(1,"rgba(255,255,255,0)")
o.fillStyle=a
o.fillRect(0,0,n,r)
var i=o.createLinearGradient(0,0,0,r)
i.addColorStop(0,"rgba(0,0,0,0)")
i.addColorStop(1,"rgba(0,0,0,1)")
o.fillStyle=i
o.fillRect(0,0,n,r)}
var a=function(t,e){var n=t.components()[0].element.dom
var r=rD(e,100,100)
var a=qT(r)
o(n,KT(a))}
var i=function(t,e){var n=oD(GT(e))
nD.setValue(t,{x:n.saturation,y:100-n.value})}
var u=function(t){var a=y({x:0,y:0})
var i=function(t,e,n){fa(t,sD,{value:n})}
var u=function(t,e,n,r){o(n.element.dom,KT(ZT))}
var c=Nl([bg.config({find:I.some}),Dy.config({})])
return nD.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:false,components:[n,r],onChange:i,onInit:u,sliderBehaviours:c})}
var c=ig({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,e,n){a(e,n)},setThumb:function(t,e,n){i(e,n)}},extraApis:{}})
return c}
var kD=function(t,e){var n=function(n){var r=CD(t,e,n.onValidHex,n.onInvalidHex)
var o=SD(t,e)
var a=function(t){return(100-t)/100*360}
var i=function(t){return 100-t/360*100}
var u={paletteRgba:Kn(ZT),paletteHue:Kn(0)}
var c=Jw(lD(t,e))
var s=Jw(o.sketch({}))
var l=Jw(r.sketch({}))
var f=function(t,e,n){s.getOpt(t).each((function(t){o.setHue(t,n)}))}
var v=function(t,e){l.getOpt(t).each((function(t){r.updateHex(t,e)}))}
var d=function(t,e,n){c.getOpt(t).each((function(t){nD.setValue(t,{y:i(n)})}))}
var m=function(t,e){s.getOpt(t).each((function(t){o.setThumb(t,e)}))}
var h=function(t,e){var n=GT(t)
u.paletteRgba.set(n)
u.paletteHue.set(e)}
var g=function(t,e,n,r){h(e,n)
q(r,(function(r){r(t,e,n)}))}
var p=function(){var t=[v]
return function(e,n){var r=n.event.value
var o=u.paletteHue.get()
var a=rD(o,r.x,100-r.y)
var i=iD(a)
g(e,i,o,t)}}
var b=function(){var t=[f,v]
return function(e,n){var r=a(n.event.value.y)
var o=u.paletteRgba.get()
var i=oD(o)
var c=rD(r,i.saturation,i.value)
var s=iD(c)
g(e,s,r,t)}}
var y=function(){var t=[f,d,m]
return function(e,n){var r=n.event.hex
var o=aD(r)
g(e,r,o.hue,t)}}
return{uid:n.uid,dom:n.dom,components:[s.asSpec(),c.asSpec(),l.asSpec()],behaviours:Nl([Sy("colour-picker-events",[wa(uD,y()),wa(sD,p()),wa(cD,b())]),bg.config({find:function(t){return l.getOpt(t)}}),fy.config({mode:"acyclic"})])}}
var r=ig({name:"ColourPicker",configFields:[yn("dom"),Pn("onValidHex",h),Pn("onInvalidHex",h)],factory:n})
return r}
var TD=function(){return bg.config({find:I.some})}
var _D=function(t){return bg.config({find:t.getOpt})}
var OD=function(t){return bg.config({find:function(e){return Za(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})}
var ED={self:TD,memento:_D,childAt:OD}
var MD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"}
var AD=function(t){return MD[t]}
var zD=function(t){return AD(t)}
var DD=function(t){var e=function(t){return"tox-"+t}
var n=kD(zD,e)
var r=function(t){fa(t,fE,{name:"hex-valid",value:true})}
var o=function(t){fa(t,fE,{name:"hex-valid",value:false})}
var a=Jw(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}))
return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(t){var e=a.get(t)
var n=bg.getCurrent(e)
var r=n.bind((function(t){var e=Xm.getValue(t)
return e.hex}))
return r.map((function(t){return"#"+t})).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/
var r=n.exec(e)
var o=a.get(t)
var i=bg.getCurrent(o)
i.fold((function(){console.log("Can not find form")}),(function(t){Xm.setValue(t,{hex:I.from(r[1]).getOr("")})
pD.getField(t,"hex").each((function(t){la(t,Do())}))}))}}}),ED.self()])}}
var RD=tinymce.util.Tools.resolve("tinymce.Resource")
var ID=function(t){return Object.prototype.hasOwnProperty.call(t,"init")}
var HD=function(t){var e=Kn(I.none())
var n=Jw({dom:{tag:t.tag}})
var r=Kn(I.none())
return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Nl([Sy("custom-editor-events",[Aa((function(o){n.getOpt(o).each((function(n){(ID(t)?t.init(n.element.dom):RD.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.get().each((function(e){t.setValue(e)}))
r.set(I.none())
e.set(I.some(t))}))}))}))]),Xm.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(I.some(n))}),(function(t){return t.setValue(n)}))}}}),ED.self()]),components:[n.asSpec()]}}
var LD=tinymce.util.Tools.resolve("tinymce.util.Tools")
var BD=Pe([Pn("preprocess",w),Pn("postprocess",w)])
var PD=function(t,e){var n=on("RepresentingConfigs.memento processors",BD,e)
return Xm.config({store:{mode:"manual",getValue:function(e){var r=t.get(e)
var o=Xm.getValue(r)
return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r)
var a=t.get(e)
Xm.setValue(a,o)}}})}
var ND=function(t,e,n){return Xm.config(Xt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))}
var FD=function(t,e,n){return ND(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))}
var VD=function(t){return FD(t,ac,ic)}
var jD=function(t){return FD(t,yi,wi)}
var UD=function(t){return Xm.config({store:{mode:"memory",initialValue:t}})}
var WD={memento:PD,withElement:FD,withComp:ND,domValue:VD,domHtml:jD,memory:UD}
var qD="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
var GD=function(t,e){var n=LD.explode(e.getSetting("images_file_types",qD,"string"))
var r=function(t){return V(n,(function(e){return hr(t.name.toLowerCase(),"."+e.toLowerCase())}))}
return X(lt(t),r)}
var $D=function(t,e){var n=function(t,e){e.stop()}
var r=function(t){return function(e,n){q(t,(function(t){t(e,n)}))}}
var o=function(t,e){if(!KS.isDisabled(t)){var n=e.event.raw
i(t,n.dataTransfer.files)}}
var a=function(t,e){var n=e.event.raw.target
i(t,n.files)}
var i=function(n,r){Xm.setValue(n,GD(r,e))
fa(n,cE,{name:t.name})}
var u=Jw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Nl([Sy("input-file-events",[Oa(Io()),Oa(qo())])])})
var c=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Nl([WD.memory([]),ED.self(),KS.config({}),Yy.config({toggleClass:"dragenter",toggleOnExecute:false}),Sy("dropzone-events",[wa("dragenter",r([n,Yy.toggle])),wa("dragleave",r([n,Yy.toggle])),wa("dragover",n),wa("drop",r([n,o])),wa(Ro(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Yw.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){var e=u.get(t)
e.element.dom.click()},buttonBehaviours:Nl([tE.config({}),Xk.button(e.isDisabled),Uk()])})]}]}}
var s=t.label.map((function(t){return uE(t,e)}))
var l=ZO.parts.field({factory:{sketch:c}})
return nE(s,l,["tox-form__group--stretched"],[])}
var XD=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:W(t.items,e.interpreter)}}
var KD=Bi("alloy-fake-before-tabstop")
var ZD=Bi("alloy-fake-after-tabstop")
var YD=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Nl([Dy.config({ignore:true}),tE.config({})])}}
var JD=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[YD([KD]),t,YD([ZD])],behaviours:Nl([ED.childAt(1)])}}
var QD=function(t,e){fa(t,Ao(),{raw:{which:9,shiftKey:e}})}
var tR=function(t,e){var n=e.element
Fu(n,KD)?QD(t,true):Fu(n,ZD)&&QD(t,false)}
var eR=function(t){return gO(t,["."+KD,"."+ZD].join(","),k)}
var nR=!($r().browser.isIE()||$r().browser.isEdge())
var rR=function(t){var e=Kn("")
return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)Si(n.element,"srcdoc",r)
else{Si(n.element,"src","javascript:''")
var o=n.element.dom.contentWindow.document
o.open()
o.write(r)
o.close()}e.set(r)}}}
var oR=function(t,e){var n=nR&&t.sandboxed
var r=O(O({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{})
var o=rR(n)
var a=t.label.map((function(t){return uE(t,e)}))
var i=function(t){return JD({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Nl([tE.config({}),Dy.config({}),WD.withComp(I.none(),o.getValue,o.setValue)])})}
var u=ZO.parts.field({factory:{sketch:i}})
return nE(a,u,["tox-form__group--stretched"],[])}
var aR=function(t,e){return cR(document.createElement("canvas"),t,e)}
var iR=function(t){var e=aR(t.width,t.height)
var n=uR(e)
n.drawImage(t,0,0)
return e}
var uR=function(t){return t.getContext("2d")}
var cR=function(t,e,n){t.width=e
t.height=n
return t}
var sR=function(t){return t.naturalWidth||t.width}
var lR=function(t){return t.naturalHeight||t.height}
var fR=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
l(t,r(i,this),r(u,this))}
var e=window
var n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){return setTimeout(t,1)}
var r=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t.apply(e,n)}}
var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}
function a(t){var e=this
if(null===this._state){this._deferreds.push(t)
return}n((function(){var n=e._state?t.onFulfilled:t.onRejected
if(null===n){(e._state?t.resolve:t.reject)(e._value)
return}var r
try{r=n(e._value)}catch(e){t.reject(e)
return}t.resolve(r)}))}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then
if("function"===typeof e){l(r(e,t),r(i,this),r(u,this))
return}}this._state=true
this._value=t
c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=false
this._value=t
c.call(this)}function c(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t]
a.call(this,n)}this._deferreds=[]}function s(t,e,n,r){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.resolve=n
this.reject=r}var l=function(t,e,n){var r=false
try{t((function(t){if(r)return
r=true
e(t)}),(function(t){if(r)return
r=true
n(t)}))}catch(t){if(r)return
r=true
n(t)}}
t.prototype.catch=function(t){return this.then(null,t)}
t.prototype.then=function(e,n){var r=this
return new t((function(t,o){a.call(r,new s(e,n,t,o))}))}
t.all=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e)
return new t((function(t,e){if(0===r.length)return t([])
var n=r.length
var o=function(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),e)
return}}r[a]=i
0===--n&&t(r)}catch(t){e(t)}}
for(var a=0;a<r.length;a++)o(a,r[a])}))}
t.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===t)return e
return new t((function(t){t(e)}))}
t.reject=function(e){return new t((function(t,n){n(e)}))}
t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var a=o[r]
a.then(t,n)}}))}
return t}
var vR=window.Promise?window.Promise:fR()
var dR=function(t){return new vR((function(e,n){var r=URL.createObjectURL(t)
var o=new Image
var a=function(){o.removeEventListener("load",i)
o.removeEventListener("error",u)}
var i=function(){a()
e(o)}
var u=function(){a()
n("Unable to load data of type "+t.type+": "+r)}
o.addEventListener("load",i)
o.addEventListener("error",u)
o.src=r
o.complete&&setTimeout(i,0)}))}
var mR=function(t){var e=t.split(",")
var n=/data:([^;]+)/.exec(e[0])
if(!n)return I.none()
var r=n[1]
var o=e[1]
var a=1024
var i=atob(o)
var u=i.length
var c=Math.ceil(u/a)
var s=new Array(c)
for(var l=0;l<c;++l){var f=l*a
var v=Math.min(f+a,u)
var d=new Array(v-f)
for(var m=f,h=0;m<v;++h,++m)d[h]=i[m].charCodeAt(0)
s[l]=new Uint8Array(d)}return I.some(new Blob(s,{type:r}))}
var hR=function(t){return new vR((function(e,n){mR(t).fold((function(){n("uri is not base64: "+t)}),e)}))}
var gR=function(t,e,n){e=e||"image/png"
return v(HTMLCanvasElement.prototype.toBlob)?new vR((function(r,o){t.toBlob((function(t){t?r(t):o()}),e,n)})):hR(t.toDataURL(e,n))}
var pR=function(t,e,n){e=e||"image/png"
return t.toDataURL(e,n)}
var bR=function(t){return dR(t).then((function(t){wR(t)
var e=aR(sR(t),lR(t))
var n=uR(e)
n.drawImage(t,0,0)
return e}))}
var yR=function(t){return new vR((function(e){var n=new FileReader
n.onloadend=function(){e(n.result)}
n.readAsDataURL(t)}))}
var wR=function(t){URL.revokeObjectURL(t.src)}
var xR=function(t,e,n){var r=e.type
var o=y(r)
var a=function(){return vR.resolve(e)}
var i=y(n)
var u=function(){return n.split(",")[1]}
var c=function(e,n){return t.then((function(t){return gR(t,e,n)}))}
var s=function(e,n){return t.then((function(t){return pR(t,e,n)}))}
var l=function(t,e){return s(t,e).then((function(t){return t.split(",")[1]}))}
var f=function(){return t.then(iR)}
return{getType:o,toBlob:a,toDataURL:i,toBase64:u,toAdjustedBlob:c,toAdjustedDataURL:s,toAdjustedBase64:l,toCanvas:f}}
var CR=function(t){return yR(t).then((function(e){return xR(bR(t),t,e)}))}
var SR=function(t,e){return gR(t,e).then((function(e){return xR(vR.resolve(t),e,t.toDataURL())}))}
var kR=function(t){return CR(t)}
var TR=function(t,e,n){var r="string"===typeof t?parseFloat(t):t
r>n?r=n:r<e&&(r=e)
return r}
var _R=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}
var OR=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]
var ER=function(t,e){var n=[]
var r=new Array(25)
var o
for(var a=0;a<5;a++){for(var i=0;i<5;i++)n[i]=e[i+5*a]
for(i=0;i<5;i++){o=0
for(var u=0;u<5;u++)o+=t[i+5*u]*n[u]
r[i+5*a]=o}}return r}
var MR=function(t,e){var n
e=TR(e,-1,1)
e*=100
if(e<0)n=127+e/100*127
else{n=e%1
n=0===n?OR[e]:OR[Math.floor(e)]*(1-n)+OR[Math.floor(e)+1]*n
n=127*n+127}return ER(t,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}
var AR=function(t,e){e=TR(255*e,-255,255)
return ER(t,[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])}
var zR=function(t,e,n,r){e=TR(e,0,2)
n=TR(n,0,2)
r=TR(r,0,2)
return ER(t,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}
var DR=function(t,e){return t.toCanvas().then((function(n){return RR(n,t.getType(),e)}))}
var RR=function(t,e,n){var r=uR(t)
var o=function(t,e){var n,r,o,a
var i=t.data,u=e[0],c=e[1],s=e[2],l=e[3],f=e[4],v=e[5],d=e[6],m=e[7],h=e[8],g=e[9],p=e[10],b=e[11],y=e[12],w=e[13],x=e[14],C=e[15],S=e[16],k=e[17],T=e[18],_=e[19]
for(var O=0;O<i.length;O+=4){n=i[O]
r=i[O+1]
o=i[O+2]
a=i[O+3]
i[O]=n*u+r*c+o*s+a*l+f
i[O+1]=n*v+r*d+o*m+a*h+g
i[O+2]=n*p+r*b+o*y+a*w+x
i[O+3]=n*C+r*S+o*k+a*T+_}return t}
var a=o(r.getImageData(0,0,t.width,t.height),n)
r.putImageData(a,0,0)
return SR(t,e)}
var IR=function(t,e){return t.toCanvas().then((function(n){return HR(n,t.getType(),e)}))}
var HR=function(t,e,n){var r=uR(t)
var o=function(t,e,n){var r=function(t,e,n){t>n?t=n:t<e&&(t=e)
return t}
var o=Math.round(Math.sqrt(n.length))
var a=Math.floor(o/2)
var i=t.data
var u=e.data
var c=t.width
var s=t.height
for(var l=0;l<s;l++)for(var f=0;f<c;f++){var v=0
var d=0
var m=0
for(var h=0;h<o;h++)for(var g=0;g<o;g++){var p=r(f+g-a,0,c-1)
var b=r(l+h-a,0,s-1)
var y=4*(b*c+p)
var w=n[h*o+g]
v+=i[y]*w
d+=i[y+1]*w
m+=i[y+2]*w}var x=4*(l*c+f)
u[x]=r(v,0,255)
u[x+1]=r(d,0,255)
u[x+2]=r(m,0,255)}return e}
var a=r.getImageData(0,0,t.width,t.height)
var i=r.getImageData(0,0,t.width,t.height)
i=o(a,i,n)
r.putImageData(i,0,0)
return SR(t,e)}
var LR=function(t){var e=function(e,n,r){var o=uR(e)
var a=new Array(256)
var i=function(t,e){var n=t.data
for(var r=0;r<n.length;r+=4){n[r]=e[n[r]]
n[r+1]=e[n[r+1]]
n[r+2]=e[n[r+2]]}return t}
for(var u=0;u<a.length;u++)a[u]=t(u,r)
var c=i(o.getImageData(0,0,e.width,e.height),a)
o.putImageData(c,0,0)
return SR(e,n)}
return function(t,n){return t.toCanvas().then((function(r){return e(r,t.getType(),n)}))}}
var BR=function(t){return function(e,n){return DR(e,t(_R(),n))}}
var PR=function(t){return function(e){return DR(e,t)}}
var NR=function(t){return function(e){return IR(e,t)}}
var FR=PR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])
var VR=BR(AR)
var jR=BR(MR)
var UR=function(t,e,n,r){return DR(t,zR(_R(),e,n,r))}
var WR=NR([0,-1,0,-1,5,-1,0,-1,0])
var qR=LR((function(t,e){return 255*Math.pow(t/255,1-e)}))
var GR=function(t,e,n){var r=sR(t)
var o=lR(t)
var a=e/r
var i=n/o
var u=false
if(a<.5||a>2){a=a<.5?.5:2
u=true}if(i<.5||i>2){i=i<.5?.5:2
u=true}var c=$R(t,a,i)
return u?c.then((function(t){return GR(t,e,n)})):c}
var $R=function(t,e,n){return new vR((function(r){var o=sR(t)
var a=lR(t)
var i=Math.floor(o*e)
var u=Math.floor(a*n)
var c=aR(i,u)
var s=uR(c)
s.drawImage(t,0,0,o,a,0,0,i,u)
r(c)}))}
var XR=function(t,e){void 0===e&&(e=2)
var n=Math.pow(10,e)
var r=Math.round(t*n)
return Math.ceil(r/n)}
var KR=function(t,e){return t.toCanvas().then((function(n){return ZR(n,t.getType(),e)}))}
var ZR=function(t,e,n){var r=n<0?360+n:n
var o=r*Math.PI/180
var a=t.width
var i=t.height
var u=Math.sin(o)
var c=Math.cos(o)
var s=XR(Math.abs(a*c)+Math.abs(i*u))
var l=XR(Math.abs(a*u)+Math.abs(i*c))
var f=aR(s,l)
var v=uR(f)
v.translate(s/2,l/2)
v.rotate(o)
v.drawImage(t,-a/2,-i/2)
return SR(f,e)}
var YR=function(t,e){return t.toCanvas().then((function(n){return JR(n,t.getType(),e)}))}
var JR=function(t,e,n){var r=aR(t.width,t.height)
var o=uR(r)
if("v"===n){o.scale(1,-1)
o.drawImage(t,0,-r.height)}else{o.scale(-1,1)
o.drawImage(t,-r.width,0)}return SR(r,e)}
var QR=function(t,e,n,r,o){return t.toCanvas().then((function(a){return tI(a,t.getType(),e,n,r,o)}))}
var tI=function(t,e,n,r,o,a){var i=aR(o,a)
var u=uR(i)
u.drawImage(t,-n,-r)
return SR(i,e)}
var eI=function(t,e,n){return t.toCanvas().then((function(r){return GR(r,e,n).then((function(e){return SR(e,t.getType())}))}))}
var nI=function(t){return FR(t)}
var rI=function(t){return WR(t)}
var oI=function(t,e){return qR(t,e)}
var aI=function(t,e,n,r){return UR(t,e,n,r)}
var iI=function(t,e){return VR(t,e)}
var uI=function(t,e){return jR(t,e)}
var cI=function(t,e){return YR(t,e)}
var sI=function(t,e,n,r,o){return QR(t,e,n,r,o)}
var lI=function(t,e,n){return eI(t,e,n)}
var fI=function(t,e){return KR(t,e)}
var vI=function(t,e){return O({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)}
var dI=function(t,e){return vI(tx(t,e),{})}
var mI=function(t,e){return vI(tx(t,e),{behaviours:Nl([xy.config({})])})}
var hI=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Nl([xy.config({})])}}
var gI
var pI=Bi("toolbar.button.execute")
var bI=function(t){return Ra((function(e,n){Kk(t,e)((function(n){fa(e,pI,{buttonApi:n})
t.onAction(n)}))}))}
var yI=(gI={},gI[Uo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],gI)
var wI=Bi("update-menu-text")
var xI=Bi("update-menu-icon")
var CI=function(t,e,n){var r=Kn(h)
var o=t.text.map((function(t){return Jw(hI(t,e,n.providers))}))
var a=t.icon.map((function(t){return Jw(mI(t,n.providers.icons))}))
var i=function(t,e){var n=Xm.getValue(t)
Dy.focus(n)
fa(n,"keydown",{raw:e.event.raw})
pM.close(n)
return I.some(true)}
var u=t.role.fold((function(){return{}}),(function(t){return{role:t}}))
var c=t.tooltip.fold((function(){return{}}),(function(t){var e=n.providers.translate(t)
return{title:e,"aria-label":e}}))
var s=Jw(pM.sketch(O(O(O({},t.uid?{uid:t.uid}:{}),u),{dom:{tag:"button",classes:[e,e+"--select"].concat(W(t.classes,(function(t){return e+"--"+t}))),attributes:O({},c)},components:eT([a.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),I.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:tx("chevron-down",n.providers.icons)}})]),matchWidth:true,useMinWidth:true,dropdownBehaviours:Nl(M(t.dropdownBehaviours,[Xk.button((function(){return t.disabled||n.providers.isDisabled()})),Uk(),xM.config({}),xy.config({}),Sy("dropdown-events",[Zk(t,r),Yk(t,r)]),Sy("menubutton-update-display-text",[wa(wI,(function(t,e){o.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[gc(n.providers.translate(e.event.text))])}))})),wa(xI,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[mI(e.event.icon,n.providers.icons)])}))}))])])),eventOrder:Xt(yI,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Nl([fy.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:e+"--active",parts:{menu:HC(false,t.columns,t.presets)},fetch:function(e){return IE.nu(x(t.fetch,e))}})))
return s.asSpec()}
var SI=function(t){return a(t)}
var kI=function(t){return"separator"===t.type}
var TI=function(t){return Ft(t,"getSubmenuItems")}
var _I={type:"separator"}
var OI=function(t,e){var n=Z(t,(function(t,n){return SI(n)?""===n?t:"|"===n?t.length>0&&!kI(t[t.length-1])?t.concat([_I]):t:Ft(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[])
n.length>0&&kI(n[n.length-1])&&n.pop()
return n}
var EI=function(t,e){var n=t.getSubmenuItems()
var r=zI(n,e)
var o=Xt(r.menus,se(t.value,r.items))
var a=Xt(r.expansions,se(t.value,t.value))
return{item:t,menus:o,expansions:a}}
var MI=function(t,e){return TI(t)?EI(t,e):{item:t,menus:{},expansions:{}}}
var AI=function(t){if(kI(t))return t
var e=Nt(t,"value").getOrThunk((function(){return Bi("generated-menu-item")}))
return Xt({value:e},t)}
var zI=function(t,e){var n=OI(a(t)?t.split(" "):t,e)
return K(n,(function(t,n){var r=AI(n)
var o=MI(r,e)
return{menus:Xt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Xt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})}
var DI=function(t,e,n,r){var o=Bi("primary-menu")
var a=zI(t,n.shared.providers.menuItems())
if(0===a.items.length)return I.none()
var i=uO(o,a.items,e,n,r)
var u=zt(a.menus,(function(t,r){return uO(r,t,e,n,false)}))
var c=Xt(u,se(o,i))
return I.from(Iw.tieredData(o,c,a.expansions))}
var RI=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)},setActive:function(e){var n=t.element
if(e){Bu(n,"tox-tbtn--enabled")
Si(n,"aria-pressed",true)}else{Nu(n,"tox-tbtn--enabled")
Ei(n,"aria-pressed")}},isActive:function(){return Fu(t.element,"tox-tbtn--enabled")}}}
var II=function(t,e,n,r){return CI({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e,r){t.fetch((function(t){r(DI(t,uC.CLOSE_ON_EXECUTE,n,false))}))},onSetup:t.onSetup,getApi:RI,columns:1,presets:"normal",classes:[],dropdownBehaviours:[tE.config({})]},e,n.shared)}
var HI=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive()
r.setActive(o)
t.storage.set(o)
n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){Kl(e.element)
fa(e,fE,{name:t.name,value:t.storage.get()})}))}))}}
var o=function(t){return function(e){e.setActive(t.storage.get())}}
return function(e){e(W(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}))
return O(O({type:t.type,active:false},e),{onAction:r(t),onSetup:o(t)})})))}}
var LI=function(t,e,n,r,o,a){void 0===n&&(n=[])
var i=e.fold((function(){return{}}),(function(t){return{action:t}}))
var u=O({buttonBehaviours:Nl([Xk.button((function(){return t.disabled||a.isDisabled()})),Uk(),tE.config({}),Sy("button press",[ya("click"),ya("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i)
var c=Xt(u,{dom:r})
return Xt(c,{components:o})}
var BI=function(t,e,n,r){void 0===r&&(r=[])
var o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})
var a={tag:"button",classes:["tox-tbtn"],attributes:o}
var i=t.icon.map((function(t){return dI(t,n.icons)}))
var u=eT([i])
return LI(t,e,r,a,u,n)}
var PI=function(t,e,n,r){void 0===r&&(r=[])
var o=BI(t,I.some(e),n,r)
return Yw.sketch(o)}
var NI=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=n.translate(t.text)
var i=t.icon?t.icon.map((function(t){return dI(t,n.icons)})):I.none()
var u=i.isSome()?eT([i]):[]
var c=i.isSome()?{}:{innerHtml:a}
var s=M(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],i.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o)
var l=O(O({tag:"button",classes:s},c),{attributes:{title:a}})
return LI(t,e,r,l,u,n)}
var FI=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=NI(t,I.some(e),n,r,o)
return Yw.sketch(a)}
var VI=function(t,e){return function(n){"custom"===e?fa(n,fE,{name:t,value:{}}):"submit"===e?la(n,vE):"cancel"===e?la(n,lE):console.error("Unknown button type: ",e)}}
var jI=function(t,e){return"menu"===e}
var UI=function(t,e){return"custom"===e||"cancel"===e||"submit"===e}
var WI=function(t,e,n){if(jI(t,e)){var r=function(){return i}
var o=t
var a=O(O({},t),{onSetup:function(e){e.setDisabled(t.disabled)
return h},fetch:HI(o.items,r,n)})
var i=Jw(II(a,"tox-tbtn",n,I.none()))
return i.asSpec()}if(UI(t,e)){var u=VI(t.name,e)
var c=O(O({},t),{borderless:false})
return FI(c,u,n.shared.providers,[])}console.error("Unknown footer button type: ",e)}
var qI=function(t,e){var n=VI(t.name,"custom")
return rE(I.none(),ZO.parts.field(O({factory:Yw},NI(t,I.some(n),e,[WD.memory(""),ED.self()]))))}
var GI=y([Pn("field1Name","field1"),Pn("field2Name","field2"),Ns("onLockedChange"),Hs(["lockClass"]),Pn("locked",false),Jm.field("coupledFieldBehaviours",[bg,Xm])])
var $I=function(t,e,n){return jh(t,e,n).bind(bg.getCurrent)}
var XI=function(t,e){return Oh({factory:ZO,name:t,overrides:function(t){return{fieldBehaviours:Nl([Sy("coupled-input-behaviour",[wa(Do(),(function(n){$I(n,t,e).each((function(e){jh(n,t,"lock").each((function(r){Yy.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})}
var KI=y([XI("field1","field2"),XI("field2","field1"),Oh({factory:Yw,schema:[yn("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Nl([Yy.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})])
var ZI=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm.augment(t.coupledFieldBehaviours,[bg.config({find:I.some}),Xm.config({store:{mode:"manual",getValue:function(e){var n
var r=$h(e,t,["field1","field2"])
return n={},n[t.field1Name]=Xm.getValue(r.field1()),n[t.field2Name]=Xm.getValue(r.field2()),n},setValue:function(e,n){var r=$h(e,t,["field1","field2"])
Vt(n,t.field1Name)&&Xm.setValue(r.field1(),n[t.field1Name])
Vt(n,t.field2Name)&&Xm.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return jh(e,t,"field1")},getField2:function(e){return jh(e,t,"field2")},getLock:function(e){return jh(e,t,"lock")}}}}
var YI=ug({name:"FormCoupledInputs",configFields:GI(),partFields:KI(),factory:ZI,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}})
var JI=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4}
var n=function(t){return t in e?e[t]:1}
var r=t.value.toFixed(n(t.unit));-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,""))
return r+t.unit}
var QI=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/
var n=e.exec(t)
if(null!==n){var r=parseFloat(n[1])
var o=n[2]
return ht.value({value:r,unit:o})}return ht.error(t)}
var tH=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1}
var r=function(t){return Object.prototype.hasOwnProperty.call(n,t)}
return t.unit===e?I.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?I.some(t.value):I.some(t.value/n[t.unit]*n[e]):I.none()}
var eH=function(t){return I.none()}
var nH=function(t,e){return function(n){return tH(n,e).map((function(n){return{value:n*t,unit:e}}))}}
var rH=function(t,e){var n=QI(t).toOptional()
var r=QI(e).toOptional()
return lg(n,r,(function(t,e){return tH(t,e.unit).map((function(t){return e.value/t})).map((function(t){return nH(t,e.unit)})).getOr(eH)})).getOr(eH)}
var oH=function(t,e){var n=eH
var r=Bi("ratio-event")
var o=YI.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:tx("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:tx("unlock",e.icons)}}],buttonBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),Uk(),tE.config({})])})
var a=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}}
var i=function(n){return ZO.parts.field({factory:SE,inputClasses:["tox-textfield"],inputBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),Uk(),tE.config({}),Sy("size-input-events",[wa(Eo(),(function(t,e){fa(t,r,{isField1:n})})),wa(Ro(),(function(e,n){fa(e,cE,{name:t.name})}))])]),selectOnFocus:false})}
var u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}}
var c=YI.parts.field1(a([ZO.parts.label(u("Width")),i(true)]))
var s=YI.parts.field2(a([ZO.parts.label(u("Height")),i(false)]))
return YI.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,a([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){QI(Xm.getValue(t)).each((function(t){n(t).each((function(t){Xm.setValue(e,JI(t))}))}))},coupledFieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){YI.getField1(t).bind(ZO.getField).each(KS.disable)
YI.getField2(t).bind(ZO.getField).each(KS.disable)
YI.getLock(t).each(KS.disable)},onEnabled:function(t){YI.getField1(t).bind(ZO.getField).each(KS.enable)
YI.getField2(t).bind(ZO.getField).each(KS.enable)
YI.getLock(t).each(KS.enable)}}),Uk(),Sy("size-input-events2",[wa(r,(function(t,e){var r=e.event.isField1
var o=r?YI.getField1(t):YI.getField2(t)
var a=r?YI.getField2(t):YI.getField1(t)
var i=o.map(Xm.getValue).getOr("")
var u=a.map(Xm.getValue).getOr("")
n=rH(i,u)}))])])})}
var aH=y(Bi("undo"))
var iH=y(Bi("redo"))
var uH=y(Bi("zoom"))
var cH=y(Bi("back"))
var sH=y(Bi("apply"))
var lH=y(Bi("swap"))
var fH=y(Bi("transform"))
var vH=y(Bi("temp-transform"))
var dH=y(Bi("transform-apply"))
var mH={undo:aH,redo:iH,zoom:uH,back:cH,apply:sH,swap:lH,transform:fH,tempTransform:vH,transformApply:dH}
var hH=y("save-state")
var gH=y("disable")
var pH=y("enable")
var bH={formActionEvent:fE,saveState:hH,disable:gH,enable:pH}
var yH=function(t,e){var n=function(t,n,r,o){return Jw(FI({name:t,text:t,disabled:r,primary:o,icon:I.none(),borderless:false},n,e))}
var r=function(t,n,r,o){return Jw(PI({name:t,icon:I.some(t),tooltip:I.some(n),disabled:o,primary:false,borderless:false},r,e))}
var o=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(KS)&&KS.disable(n)}))}
var a=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(KS)&&KS.enable(n)}))}
var i={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]}
var u=h
var c=function(t,e,n){fa(t,e,n)}
var s=function(t){return la(t,bH.disable())}
var l=function(t){return la(t,bH.enable())}
var f=function(t,e){s(t)
c(t,mH.transform(),{transform:e})
l(t)}
var v=function(t,e){s(t)
c(t,mH.tempTransform(),{transform:e})
l(t)}
var d=function(t){return function(){it.getOpt(t).each((function(t){xy.set(t,[ot])}))}}
var m=function(t,e){s(t)
c(t,mH.transformApply(),{transform:e,swap:d(t)})
l(t)}
var g=function(){return n("Back",(function(t){return c(t,mH.back(),{swap:d(t)})}),false,false)}
var p=function(){return Jw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Nl([KS.config({})])})}
var b=function(){return n("Apply",(function(t){return c(t,mH.apply(),{swap:d(t)})}),true,true)}
var w=function(){return function(e){var n=t.getRect()
return sI(e,n.x,n.y,n.w,n.h)}}
var x=[g(),p(),n("Apply",(function(e){var n=w()
m(e,n)
t.hideCrop()}),false,true)]
var C=WO.sketch({dom:i,components:x.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-crop-buttons-events",[wa(bH.disable(),(function(t,e){o(x,t)})),wa(bH.enable(),(function(t,e){a(x,t)}))])])})
var S=Jw(oH({name:"size",label:I.none(),constrain:true,disabled:false},e))
var k=function(t,e){return function(n){return lI(n,t,e)}}
var T=[g(),p(),S,p(),n("Apply",(function(t){S.getOpt(t).each((function(e){var n=Xm.getValue(e)
var r=parseInt(n.width,10)
var o=parseInt(n.height,10)
var a=k(r,o)
m(t,a)}))}),false,true)]
var _=WO.sketch({dom:i,components:T.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-resize-buttons-events",[wa(bH.disable(),(function(t,e){o(T,t)})),wa(bH.enable(),(function(t,e){a(T,t)}))])])})
var O=function(t,e){return function(n){return t(n,e)}}
var E=O(cI,"h")
var M=O(cI,"v")
var A=O(fI,-90)
var z=O(fI,90)
var D=function(t,e){v(t,e)}
var R=[g(),p(),r("flip-horizontally","Flip horizontally",(function(t){D(t,E)}),false),r("flip-vertically","Flip vertically",(function(t){D(t,M)}),false),r("rotate-left","Rotate counterclockwise",(function(t){D(t,A)}),false),r("rotate-right","Rotate clockwise",(function(t){D(t,z)}),false),p(),b()]
var H=WO.sketch({dom:i,components:R.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-fliprotate-buttons-events",[wa(bH.disable(),(function(t,e){o(R,t)})),wa(bH.enable(),(function(t,e){a(R,t)}))])])})
var L=function(t,n,r,o,a){var i=nD.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})
var u=nD.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}})
var c=nD.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}})
return Jw(nD.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:y({x:o})},components:[i,u,c],sliderBehaviours:Nl([Dy.config({})]),onChoose:n}))}
var B=function(t,e,n,r,o){var a=function(t,n,r){var o=O(e,r.x/100)
f(t,o)}
return L(t,a,n,r,o)}
var P=function(t,e,n,r,o){return[g(),B(t,e,n,r,o),b()]}
var N=function(t,e,n,r,u){var c=P(t,e,n,r,u)
return WO.sketch({dom:i,components:c.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-filter-panel-buttons-events",[wa(bH.disable(),(function(t,e){o(c,t)})),wa(bH.enable(),(function(t,e){a(c,t)}))])])})}
var F=[g(),p(),b()]
var V=WO.sketch({dom:i,components:F.map((function(t){return t.asSpec()}))})
var j=N("Brightness",iI,-100,0,100)
var U=N("Contrast",uI,-100,0,100)
var W=N("Gamma",oI,-100,0,100)
var q=function(t,e,n){return function(r){return aI(r,t,e,n)}}
var G=function(t){var e=function(t,e,n){var r=$.getOpt(t)
var o=K.getOpt(t)
var a=X.getOpt(t)
r.each((function(e){o.each((function(n){a.each((function(r){var o=Xm.getValue(e).x/100
var a=Xm.getValue(r).x/100
var i=Xm.getValue(n).x/100
var u=q(o,a,i)
f(t,u)}))}))}))}
return L(t,e,0,100,200)}
var $=G("R")
var X=G("G")
var K=G("B")
var Z=[g(),$,X,K,b()]
var Y=WO.sketch({dom:i,components:Z.map((function(t){return t.asSpec()}))})
var J=function(t,e,n){return function(r){var o=function(){it.getOpt(r).each((function(e){xy.set(e,[t])
n(e)}))}
c(r,mH.swap(),{transform:e,swap:o})}}
var Q=function(e){t.showCrop()}
var tt=function(e){S.getOpt(e).each((function(e){var n=t.getMeasurements()
var r=n.width
var o=n.height
Xm.setValue(e,{width:r,height:o})}))}
var et=I.some(rI)
var nt=I.some(nI)
var rt=[r("crop","Crop",J(C,I.none(),Q),false),r("resize","Resize",J(_,I.none(),tt),false),r("orientation","Orientation",J(H,I.none(),u),false),r("brightness","Brightness",J(j,I.none(),u),false),r("sharpen","Sharpen",J(V,et,u),false),r("contrast","Contrast",J(U,I.none(),u),false),r("color-levels","Color levels",J(Y,I.none(),u),false),r("gamma","Gamma",J(W,I.none(),u),false),r("invert","Invert",J(V,nt,u),false)]
var ot=WO.sketch({dom:i,components:rt.map((function(t){return t.asSpec()}))})
var at=WO.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:Nl([xy.config({})])})
var it=Jw(at)
var ut=function(t){return it.getOpt(t).map((function(t){var e=t.components()[0]
return e.components()[e.components().length-1]}))}
return{memContainer:it,getApplyButton:ut}}
var wH=tinymce.util.Tools.resolve("tinymce.geom.Rect")
var xH=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var CH=tinymce.util.Tools.resolve("tinymce.util.Observable")
var SH=tinymce.util.Tools.resolve("tinymce.util.VK")
var kH=function(t){var e=Math.max
var n=t.documentElement
var r=t.body
var o=e(n.scrollWidth,r.scrollWidth)
var a=e(n.clientWidth,r.clientWidth)
var i=e(n.offsetWidth,r.offsetWidth)
var u=e(n.scrollHeight,r.scrollHeight)
var c=e(n.clientHeight,r.clientHeight)
var s=e(n.offsetHeight,r.offsetHeight)
return{width:o<i?a:o,height:u<s?c:u}}
var TH=function(t){var e,n
if(t.changedTouches){e="screenX screenY pageX pageY clientX clientY".split(" ")
for(n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}}
function _H(t,e){var n
var r=e.document||document
var o
var a,i
var u=r.getElementById(e.handle||t)
var c=function(t){var c=kH(r)
var f
TH(t)
t.preventDefault()
o=t.button
var v=u
a=t.screenX
i=t.screenY
f=window.getComputedStyle?window.getComputedStyle(v,null).getPropertyValue("cursor"):v.runtimeStyle.cursor
n=xH("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(r.body)
xH(r).on("mousemove touchmove",s).on("mouseup touchend",l)
e.start(t)}
var s=function(t){TH(t)
if(t.button!==o)return l(t)
t.deltaX=t.screenX-a
t.deltaY=t.screenY-i
t.preventDefault()
e.drag(t)}
var l=function(t){TH(t)
xH(r).off("mousemove touchmove",s).off("mouseup touchend",l)
n.remove()
e.stop&&e.stop(t)}
var f=function(){xH(u).off()}
xH(u).on("mousedown touchstart",c)
return{destroy:f}}var OH=0
var EH=function(t,e,n,r,o){var a
var i="tox-"
var u=i+"crid-"+OH++
var c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}]
var s=["top","right","bottom","left"]
var l=function(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}}
var f=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}}
var v=function(){return f(n,t)}
var d=function(e,r,o,a){var i,u,c,s,l
i=r.x
u=r.y
c=r.w
s=r.h
i+=o*e.deltaX
u+=a*e.deltaY
c+=o*e.deltaW
s+=a*e.deltaH
c<20&&(c=20)
s<20&&(s=20)
l=t=wH.clamp({x:i,y:u,w:c,h:s},n,"move"===e.name)
l=f(n,l)
C.fire("updateRect",{rect:l})
y(l)}
var m=function(){var e=function(e){var n
return _H(u,{document:r.ownerDocument,handle:u+"-"+e.name,start:function(){n=t},drag:function(t){d(e,n,t.deltaX,t.deltaY)}})}
xH('<div id="'+u+'" class="'+i+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r)
LD.each(s,(function(t){xH("#"+u,r).append('<div id="'+u+"-"+t+'"class="'+i+'croprect-block" style="display: none" data-mce-bogus="all">')}))
LD.each(c,(function(t){xH("#"+u,r).append('<div id="'+u+"-"+t.name+'" class="'+i+"croprect-handle "+i+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')}))
a=LD.map(c,e)
g(t)
xH(r).on("focusin focusout",(function(t){xH(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")}))
xH(r).on("keydown",(function(e){var n
LD.each(c,(function(t){if(e.target.id===u+"-"+t.name){n=t
return false}}))
var r=function(t,e,r,o,a){t.stopPropagation()
t.preventDefault()
d(n,r,o,a)}
switch(e.keyCode){case SH.LEFT:r(e,n,t,-10,0)
break
case SH.RIGHT:r(e,n,t,10,0)
break
case SH.UP:r(e,n,t,0,-10)
break
case SH.DOWN:r(e,n,t,0,10)
break
case SH.ENTER:case SH.SPACEBAR:e.preventDefault()
o()}}))}
var h=function(t){var e=LD.map(c,(function(t){return"#"+u+"-"+t.name})).concat(LD.map(s,(function(t){return"#"+u+"-"+t}))).join(",")
t?xH(e,r).show():xH(e,r).hide()}
var g=function(t){var n=function(t,e){e.h<0&&(e.h=0)
e.w<0&&(e.w=0)
xH("#"+u+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}
LD.each(c,(function(e){xH("#"+u+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})}))
n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y})
n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h})
n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y})
n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h})
n("move",t)}
var p=function(e){t=e
g(t)}
var b=function(n){e=n
g(t)}
var y=function(t){p(l(n,t))}
var w=function(e){n=e
g(t)}
var x=function(){LD.each(a,(function(t){t.destroy()}))
a=[]}
m()
var C=LD.extend({toggleVisibility:h,setClampRect:w,setRect:p,getInnerRect:v,setInnerRect:y,setViewPortRect:b,destroy:x},CH)
return C}
var MH={create:EH}
var AH=function(t){return new kx((function(e){var n=function(){t.removeEventListener("load",n)
e(t)}
t.complete?e(t):t.addEventListener("load",n)}))}
var zH=function(t){var e=Jw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}})
var n=Kn(1)
var r=Kn(I.none())
var o=Kn({x:0,y:0,w:1,h:1})
var a=Kn({x:0,y:0,w:1,h:1})
var i=function(t,a){m.getOpt(t).each((function(t){var i=n.get()
var u=Ic(t.element)
var c=Sc(t.element)
var s=a.dom.naturalWidth*i
var l=a.dom.naturalHeight*i
var f=Math.max(0,u/2-s/2)
var v=Math.max(0,c/2-l/2)
var d={left:f.toString()+"px",top:v.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"}
Zu(a,d)
e.getOpt(t).each((function(t){Zu(t.element,d)}))
r.get().each((function(t){var e=o.get()
t.setRect({x:e.x*i+f,y:e.y*i+v,w:e.w*i,h:e.h*i})
t.setClampRect({x:f,y:v,w:s,h:l})
t.setViewPortRect({x:0,y:0,w:u,h:c})}))}))}
var u=function(t,e){m.getOpt(t).each((function(t){var r=Ic(t.element)
var o=Sc(t.element)
var a=e.dom.naturalWidth
var i=e.dom.naturalHeight
var u=Math.min(r/a,o/i)
u>=1?n.set(1):n.set(u)}))}
var c=function(t,e){var n=er.fromTag("img")
Si(n,"src",e)
return AH(n.dom).then((function(){return m.getOpt(t).map((function(t){var e=pc({element:n})
xy.replaceAt(t,1,I.some(e))
var r=a.get()
var c={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight}
a.set(c)
var s=wH.inflate(c,-20,-20)
o.set(s)
r.w===c.w&&r.h===c.h||u(t,n)
i(t,n)
return n}))}))}
var s=function(t,e){var r=n.get()
var o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1)
n.set(o)
m.getOpt(t).each((function(t){var e=t.components()[1].element
i(t,e)}))}
var l=function(){r.get().each((function(t){t.toggleVisibility(true)}))}
var f=function(){r.get().each((function(t){t.toggleVisibility(false)}))}
var v=function(){return o.get()}
var d=WO.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Nl([Sy("image-panel-crop-events",[Aa((function(t){m.getOpt(t).each((function(t){var e=t.element.dom
var a=MH.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,h)
a.toggleVisibility(false)
a.on("updateRect",(function(t){var e=t.rect
var r=n.get()
var a={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)}
o.set(a)}))
r.set(I.some(a))}))}))])])}],containerBehaviours:Nl([xy.config({}),Sy("image-panel-events",[Aa((function(e){c(e,t)}))])])})
var m=Jw(d)
var g=function(){var t=a.get()
return{width:t.w,height:t.h}}
return{memContainer:m,updateSrc:c,zoom:s,showCrop:l,hideCrop:f,getRect:v,getMeasurements:g}}
var DH=function(t,e,n,r,o){return PI({name:t,icon:I.some(e),disabled:n,tooltip:I.some(t),primary:false,borderless:false},r,o)}
var RH=function(t,e){e?KS.enable(t):KS.disable(t)}
var IH=function(t){var e=function(t,e,o){n.getOpt(t).each((function(t){RH(t,e)}))
r.getOpt(t).each((function(t){RH(t,o)}))}
var n=Jw(DH("Undo","undo",true,(function(t){fa(t,mH.undo(),{direction:1})}),t))
var r=Jw(DH("Redo","redo",true,(function(t){fa(t,mH.redo(),{direction:1})}),t))
var o=WO.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),DH("Zoom in","zoom-in",false,(function(t){fa(t,mH.zoom(),{direction:1})}),t),DH("Zoom out","zoom-out",false,(function(t){fa(t,mH.zoom(),{direction:-1})}),t)]})
return{container:o,updateButtonUndoStates:e}}
function HH(){var t=[]
var e=-1
var n=function(n){var r=t.splice(++e)
t.push(n)
return{state:n,removed:r}}
var r=function(){if(a())return t[--e]}
var o=function(){if(i())return t[++e]}
var a=function(){return e>0}
var i=function(){return-1!==e&&e<t.length-1}
return{data:t,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var LH=function(t){var e=Kn(t)
var n=Kn(I.none())
var r=HH()
r.add(t)
var o=function(){return e.get()}
var a=function(t){e.set(t)}
var i=function(){return n.get().fold((function(){return e.get()}),(function(t){return t}))}
var u=function(t){var e=c(t)
f()
n.set(I.some(e))
return e.url}
var c=function(t){return{blob:t,url:URL.createObjectURL(t)}}
var s=function(t){URL.revokeObjectURL(t.url)}
var l=function(t){LD.each(t,s)}
var f=function(){n.get().each(s)
n.set(I.none())}
var v=function(t){var e=c(t)
a(e)
var n=r.add(e).removed
l(n)
return e.url}
var d=function(t){var e=c(t)
n.set(I.some(e))
return e.url}
var m=function(t){return n.get().fold(h,(function(e){v(e.blob)
t()}))}
var g=function(){var t=r.undo()
a(t)
return t.url}
var p=function(){var t=r.redo()
a(t)
return t.url}
var b=function(){var t=r.canUndo()
var e=r.canRedo()
return{undoEnabled:t,redoEnabled:e}}
return{getBlobState:o,setBlobState:a,addBlobState:v,getTempState:i,updateTempState:u,addTempState:d,applyTempState:m,destroyTempState:f,undo:g,redo:p,getHistoryStates:b}}
var BH=function(t,e){var n=LH(t.currentState)
var r=function(t,e){var n=e.event.direction
k.zoom(t,n)}
var o=function(t){var e=n.getHistoryStates()
T.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled)
fa(t,bH.formActionEvent,{name:bH.saveState(),value:e.undoEnabled})}
var a=function(t){T.updateButtonUndoStates(t,false,false)}
var i=function(t,e){var r=n.undo()
f(t,r).then((function(e){l(t)
o(t)}))}
var u=function(t,e){var r=n.redo()
f(t,r).then((function(e){l(t)
o(t)}))}
var c=function(t){return t.toBlob()}
var s=function(t){fa(t,bH.formActionEvent,{name:bH.disable(),value:{}})}
var l=function(t){_.getApplyButton(t).each((function(t){KS.enable(t)}))
fa(t,bH.formActionEvent,{name:bH.enable(),value:{}})}
var f=function(t,e){s(t)
return k.updateSrc(t,e)}
var v=function(t,e,n,r,a){s(t)
return kR(e).then(n).then(c).then(r).then((function(e){return f(t,e).then((function(e){o(t)
a()
l(t)
return e}))})).catch((function(e){console.log(e)
l(t)
return e}))}
var d=function(t,e,r){var o=n.getBlobState().blob
var a=function(t){return n.updateTempState(t)}
v(t,o,e,a,r)}
var m=function(t,e){var r=n.getTempState().blob
var o=function(t){return n.addTempState(t)}
v(t,r,e,o,h)}
var g=function(t,e,r){var o=n.getBlobState().blob
var a=function(e){var r=n.addBlobState(e)
b(t)
return r}
v(t,o,e,a,r)}
var p=function(t,e){var r=function(){b(t)
var n=e.event.swap
n()}
n.applyTempState(r)}
var b=function(t){var e=n.getBlobState().url
n.destroyTempState()
o(t)
return e}
var y=function(t){var e=b(t)
f(t,e).then((function(e){l(t)}))}
var w=function(t,e){y(t)
var n=e.event.swap
n()
k.hideCrop()}
var x=function(t,e){return d(t,e.event.transform,h)}
var C=function(t,e){return m(t,e.event.transform)}
var S=function(t,e){return g(t,e.event.transform,e.event.swap)}
var k=zH(t.currentState.url)
var T=IH(e)
var _=yH(k,e)
var O=function(t,e){a(t)
var n=e.event.transform
var r=e.event.swap
n.fold((function(){r()}),(function(e){d(t,e,r)}))}
return{dom:{tag:"div",attributes:{role:"presentation"}},components:[_.memContainer.asSpec(),k.memContainer.asSpec(),T.container],behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Sy("image-tools-events",[wa(mH.undo(),i),wa(mH.redo(),u),wa(mH.zoom(),r),wa(mH.back(),w),wa(mH.apply(),p),wa(mH.transform(),x),wa(mH.tempTransform(),C),wa(mH.transformApply(),S),wa(mH.swap(),O)]),ED.self()])}}
var PH=function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}}
var r=W(t.items,e.interpreter)
return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Nl([ED.self(),xy.config({}),WD.domHtml(I.none()),fy.config({mode:"acyclic"})])}}
var NH=function(t){return!Ft(t,"items")}
var FH="data-value"
var VH=function(t,e,n,r){return W(n,(function(n){return NH(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Xm.setValue(t,n.value)
fa(t,cE,{name:e})
Dy.focus(t)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return VH(t,e,n.items,r)}}}))}
var jH=function(t,e){return ft(t,(function(t){return NH(t)?dg(t.value===e,t):jH(t.items,e)}))}
var UH=function(t,e){var n=e.shared.providers
var r=ct(t.items).filter(NH)
var o=t.label.map((function(t){return uE(t,n)}))
var a=ZO.parts.field({dom:{},factory:{sketch:function(n){return CI({uid:n.uid,text:r.map((function(t){return t.text})),icon:I.none(),tooltip:t.label,role:I.none(),fetch:function(n,r){var o=VH(n,t.name,t.items,Xm.getValue(n))
r(DI(o,uC.CLOSE_ON_EXECUTE,e,false))},onSetup:y(h),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[tE.config({}),Xm.config({store:{mode:"manual",initialValue:r.map((function(t){return t.value})).getOr(""),getValue:function(t){return Ti(t.element,FH)},setValue:function(e,n){jH(t.items,n).each((function(t){Si(e.element,FH,t.value)
fa(e,wI,{text:t.text})}))}}})]},"tox-listbox",e.shared)}}})
var i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]}
return ZO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([o.toArray(),[i]]),fieldBehaviours:Nl([KS.config({disabled:y(t.disabled),onDisabled:function(t){ZO.getField(t).each(KS.disable)},onEnabled:function(t){ZO.getField(t).each(KS.enable)}})])})}
var WH=function(t,e){return{dom:{tag:"div",classes:t.classes},components:W(t.items,e.shared.interpreter)}}
var qH=function(t,e){var n=W(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}}))
var r=t.data.map((function(t){return se("initialValue",t)})).getOr({})
return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Ym(t.selectBehaviours,[Dy.config({}),Xm.config({store:O({mode:"manual",getValue:function(t){return ac(t.element)},setValue:function(e,n){var r=J(t.options,(function(t){return t.value===n}))
r.isSome()&&ic(e.element,n)}},r)})])}}
var GH=ig({name:"HtmlSelect",configFields:[yn("options"),Km("selectBehaviours",[Dy,Xm]),Pn("selectClasses",[]),Pn("selectAttributes",{}),An("data")],factory:qH})
var $H=function(t,e){var n=W(t.items,(function(t){return{text:e.translate(t.text),value:t.value}}))
var r=t.label.map((function(t){return uE(t,e)}))
var o=ZO.parts.field({dom:{},selectAttributes:{size:t.size},options:n,factory:GH,selectBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),tE.config({}),Sy("selectbox-change",[wa(Ro(),(function(e,n){fa(e,cE,{name:t.name})}))])])})
var a=t.size>1?I.none():I.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:tx("chevron-down",e.icons)}})
var i={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[o],a.toArray()])}
return ZO.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([r.toArray(),[i]]),fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){ZO.getField(t).each(KS.disable)},onEnabled:function(t){ZO.getField(t).each(KS.enable)}}),Uk()])})}
var XH=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}}
var r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:W(t,n)}]}}
var o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}}
var a=function(t){return{dom:{tag:"tr"},components:W(t,o)}}
var i=function(t){return{dom:{tag:"tbody"},components:W(t,a)}}
return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),i(t.cells)],behaviours:Nl([tE.config({}),Dy.config({})])}}
var KH=function(t,e){var n=t.label.map((function(t){return uE(t,e)}))
var r=[KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),Uk(),fy.config({mode:"execution",useEnter:true!==t.multiline,useControlEnter:true===t.multiline,execute:function(t){la(t,vE)
return I.some(true)}}),Sy("textfield-change",[wa(Do(),(function(e,n){fa(e,cE,{name:t.name})})),wa(Vo(),(function(e,n){fa(e,cE,{name:t.name})}))]),tE.config({})]
var o=t.validation.map((function(t){return GE.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Xm.getValue(e)
var r=t.validator(n)
return IE.pure(true===r?ht.value(n):ht.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray()
var a=t.placeholder.fold(y({}),(function(t){return{placeholder:e.translate(t)}}))
var i=t.inputMode.fold(y({}),(function(t){return{inputmode:t}}))
var u=O(O({},a),i)
var c=ZO.parts.field({tag:true===t.multiline?"textarea":"input",inputAttributes:u,inputClasses:[t.classname],inputBehaviours:Nl(tt([r,o])),selectOnFocus:false,factory:SE})
var s=t.flex?["tox-form__group--stretched"]:[]
var l=s.concat(t.maximized?["tox-form-group--maximize"]:[])
var f=[KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){ZO.getField(t).each(KS.disable)},onEnabled:function(t){ZO.getField(t).each(KS.enable)}}),Uk()]
return nE(n,c,l,f)}
var ZH=function(t,e){return KH({name:t.name,multiline:false,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:false,disabled:t.disabled,classname:"tox-textfield",validation:I.none(),maximized:t.maximized},e)}
var YH=function(t,e){return KH({name:t.name,multiline:true,label:t.label,inputMode:I.none(),placeholder:t.placeholder,flex:true,disabled:t.disabled,classname:"tox-textarea",validation:I.none(),maximized:t.maximized},e)}
var JH=function(t,e){var n=t.stream.streams
var r=n.setup(t,e)
return ga([wa(t.event,r),za((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[wa(t,(function(){return e.cancel()}))]})).getOr([])))}
var QH=Object.freeze({__proto__:null,events:JH})
var tL=function(t){var e=Kn(null)
var n=function(){return{timer:null!==e.get()?"set":"unset"}}
var r=function(t){e.set(t)}
var o=function(){var t=e.get()
null!==t&&t.cancel()}
return ou({readState:n,setTimer:r,cancel:o})}
var eL=function(t){return t.stream.streams.state(t)}
var nL=Object.freeze({__proto__:null,throttle:tL,init:eL})
var rL=function(t,e){var n=t.stream
var r=cx(t.onStream,n.delay)
e.setTimer(r)
return function(t,e){r.throttle(t,e)
n.stopEvent&&e.stop()}}
var oL=[wn("stream",cn("mode",{throttle:[yn("delay"),Pn("stopEvent",true),Vs("streams",{setup:rL,state:tL})]})),Pn("event","input"),An("cancelEvent"),Ns("onStream")]
var aL=Vl({fields:oL,name:"streaming",active:QH,state:nL})
var iL=function(t,e,n){var r=Xm.getValue(n)
Xm.setValue(e,r)
cL(e)}
var uL=function(t,e){var n=t.element
var r=ac(n)
var o=n.dom
"number"!==Ti(n,"type")&&e(o,r)}
var cL=function(t){uL(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))}
var sL=function(t,e){uL(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}
var lL=function(t,e,n){if(t.selectsOver){var r=Xm.getValue(e)
var o=t.getDisplayText(r)
var a=Xm.getValue(n)
var i=t.getDisplayText(a)
return 0===i.indexOf(o)?I.some((function(){iL(t,e,n)
sL(e,o.length)})):I.none()}return I.none()}
var fL=y("alloy.typeahead.itemexecute")
var vL=function(t,e,n,r){var o=function(e,n,o){t.previewing.set(false)
var a=JE.getCoupled(e,"sandbox")
if(vm.isOpen(a))bg.getCurrent(a).each((function(t){Pg.getHighlighted(t).fold((function(){o(t)}),(function(){ha(a,t.element,"keydown",n)}))}))
else{var u=function(t){bg.getCurrent(t).each(o)}
aM(t,i(e),e,a,r,u,eM.HighlightFirst).get(h)}}
var a=yE(t)
var i=function(t){return function(e){return e.map((function(e){var n=Pt(e.menus)
var r=et(n,(function(t){return X(t.items,(function(t){return"item"===t.type}))}))
var o=Xm.getState(t)
o.update(W(r,(function(t){return t.data})))
return e}))}}
var u=[Dy.config({}),Xm.config({onSetValue:t.onSetValue,store:O({mode:"dataset",getDataKey:function(t){return ac(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){ic(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return se("initialValue",t)})).getOr({}))}),aL.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:false},onStream:function(e,n){var o=JE.getCoupled(e,"sandbox")
var a=Dy.isFocused(e)
if(a&&ac(e.element).length>=t.minChars){var u=bg.getCurrent(o).bind((function(t){return Pg.getHighlighted(t).map(Xm.getValue)}))
t.previewing.set(true)
var c=function(e){bg.getCurrent(o).each((function(e){u.fold((function(){t.model.selectsOver&&Pg.highlightFirst(e)}),(function(t){Pg.highlightBy(e,(function(e){var n=Xm.getValue(e)
return n.value===t.value}))
Pg.getHighlighted(e).orThunk((function(){Pg.highlightFirst(e)
return I.none()}))}))}))}
aM(t,i(e),e,o,r,c,eM.HighlightFirst).get(h)}},cancelEvent:Xo()}),fy.config({mode:"special",onDown:function(t,e){o(t,e,Pg.highlightFirst)
return I.some(true)},onEscape:function(t){var e=JE.getCoupled(t,"sandbox")
if(vm.isOpen(e)){vm.close(e)
return I.some(true)}return I.none()},onUp:function(t,e){o(t,e,Pg.highlightLast)
return I.some(true)},onEnter:function(e){var n=JE.getCoupled(e,"sandbox")
var r=vm.isOpen(n)
if(r&&!t.previewing.get())return bg.getCurrent(n).bind((function(t){return Pg.getHighlighted(t)})).map((function(t){fa(e,fL(),{item:t})
return true}))
var o=Xm.getValue(e)
la(e,Xo())
t.onExecute(n,e,o)
r&&vm.close(n)
return I.some(true)}}),Yy.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),JE.config({others:{sandbox:function(e){return fM(t,e,{onOpen:function(){return Yy.on(e)},onClose:function(){return Yy.off(e)}})}}}),Sy("typeaheadevents",[Ra((function(e){var n=h
uM(t,i(e),e,r,n,eM.HighlightFirst).get(h)})),wa(fL(),(function(e,n){var r=JE.getCoupled(e,"sandbox")
iL(t.model,e,n.event.item)
la(e,Xo())
t.onItemExecute(e,r,n.event.item,Xm.getValue(e))
vm.close(r)
cL(e)}))].concat(t.dismissOnBlur?[wa(Fo(),(function(t){var e=JE.getCoupled(t,"sandbox")
Ql(e.element).isNone()&&vm.close(e)}))]:[]))]
return{uid:t.uid,dom:xE(Xt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:O(O({},a),Ym(t.typeaheadBehaviours,u)),eventOrder:t.eventOrder}}
var dL=y([An("lazySink"),yn("fetch"),Pn("minChars",5),Pn("responseTime",1e3),Bs("onOpen"),Pn("getHotspot",I.some),Pn("getAnchorOverrides",y({})),Pn("layouts",I.none()),Pn("eventOrder",{}),$n("model",{},[Pn("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Pn("selectsOver",true),Pn("populateFromBrowse",true)]),Bs("onSetValue"),Ps("onExecute"),Bs("onItemExecute"),Pn("inputClasses",[]),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("matchWidth",true),Pn("useMinWidth",false),Pn("dismissOnBlur",true),Hs(["openClass"]),An("initialData"),Km("typeaheadBehaviours",[Dy,Xm,aL,fy,Yy,JE]),Xn("previewing",(function(){return Kn(true)}))].concat(bE()).concat(dM()))
var mL=y([Eh({schema:[Is()],name:"menu",overrides:function(t){return{fakeFocus:true,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){lL(t.model,r,n).fold((function(){return Pg.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&iL(t.model,e,n)}))
t.previewing.set(false)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOptional().map((function(t){fa(t,fL(),{item:n})
return true}))},onHover:function(e,n){t.previewing.set(false)
e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&iL(t.model,e,n)}))}}}})])
var hL=ug({name:"Typeahead",configFields:dL(),partFields:mL(),factory:vL})
var gL=function(t){var e=function(){return gL(t.toCached())}
var n=function(e){return gL(t.bind((function(t){return t.fold((function(t){return IE.pure(ht.error(t))}),(function(t){return e(t)}))})))}
var r=function(e){return gL(t.map((function(t){return t.bind(e)})))}
var o=function(e){return gL(t.map((function(t){return t.map(e)})))}
var a=function(e){return gL(t.map((function(t){return t.mapError(e)})))}
var i=function(e,n){return t.map((function(t){return t.fold(e,n)}))}
var u=function(e,n){return gL(IE.nu((function(r){var o=false
var a=setTimeout((function(){o=true
r(ht.error(n()))}),e)
t.get((function(t){if(!o){clearTimeout(a)
r(t)}}))})))}
return O(O({},t),{toCached:e,bindFuture:n,bindResult:r,mapResult:o,mapError:a,foldResult:i,withTimeout:u})}
var pL=function(t){return gL(IE.nu(t))}
var bL=function(t){return gL(IE.pure(ht.value(t)))}
var yL=function(t){return gL(IE.pure(ht.error(t)))}
var wL=function(t){return gL(IE.pure(t))}
var xL=function(t){return gL(t.map(ht.value))}
var CL=function(t){return pL((function(e){t.then((function(t){e(ht.value(t))}),(function(t){e(ht.error(t))}))}))}
var SL={nu:pL,wrap:gL,pure:bL,value:bL,error:yL,fromResult:wL,fromFuture:xL,fromPromise:CL}
var kL={type:"separator"}
var TL=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:h}}
var _L=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:h}}
var OL=function(t){return W(t,TL)}
var EL=function(t,e){return X(e,(function(e){return e.type===t}))}
var ML=function(t,e){return OL(EL(t,e))}
var AL=function(t){return ML("header",t.targets)}
var zL=function(t){return ML("anchor",t.targets)}
var DL=function(t){return I.from(t.anchorTop).map((function(t){return _L("<top>",t)})).toArray()}
var RL=function(t){return I.from(t.anchorBottom).map((function(t){return _L("<bottom>",t)})).toArray()}
var IL=function(t){return W(t,(function(t){return _L(t,t)}))}
var HL=function(t){return Z(t,(function(t,e){var n=0===t.length||0===e.length
return n?t.concat(e):t.concat(kL,e)}),[])}
var LL=function(t,e){var n=t.toLowerCase()
return X(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text
return mr(e.toLowerCase(),n)||mr(t.value.toLowerCase(),n)}))}
var BL=function(t,e,n){var r=Xm.getValue(e)
var o=void 0!==r.meta.text?r.meta.text:r.value
var a=n.getLinkInformation()
return a.fold((function(){return[]}),(function(e){var r=LL(o,IL(n.getHistory(t)))
return"file"===t?HL([r,LL(o,AL(e)),LL(o,tt([DL(e),zL(e),RL(e)]))]):r}))}
var PL=Bi("aria-invalid")
var NL=function(t,e,n){var r
var o=e.shared.providers
var a=function(e){var r=Xm.getValue(e)
n.addToHistory(r.value,t.filetype)}
var i=ZO.parts.field({factory:hL,dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":PL,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=BL(t.filetype,r,n)
var a=DI(o,uC.BUBBLE_TO_SANDBOX,e,false)
return IE.pure(a)},getHotspot:function(t){return d.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(GE)&&GE.run(t).get(h)},typeaheadBehaviours:Nl(tt([n.getValidationHandler().map((function(e){return GE.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){s.getOpt(t).each((function(t){Si(t.element,"title",o.translate(e))}))}},validator:{validate:function(n){var r=Xm.getValue(n)
return SL.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=ht.error(t.message)
n(e)}else{var r=ht.value(t.message)
n(r)}}))}))},validateOnLoad:false}})})).toArray(),[KS.config({disabled:function(){return t.disabled||o.isDisabled()}}),tE.config({}),Sy("urlinput-events",tt(["file"===t.filetype?[wa(Do(),(function(e){fa(e,cE,{name:t.name})}))]:[],[wa(Ro(),(function(e){fa(e,cE,{name:t.name})
a(e)})),wa(Vo(),(function(e){fa(e,cE,{name:t.name})
a(e)}))]]))]])),eventOrder:(r={},r[Do()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(t){return t.value},selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:HC(false,1,"normal")},onExecute:function(t,e,n){fa(e,vE,{})},onItemExecute:function(e,n,r,o){a(e)
fa(e,cE,{name:t.name})}})
var u=t.label.map((function(t){return uE(t,o)}))
var c=function(t,e,n,r){void 0===n&&(n=t)
void 0===r&&(r=t)
return{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:tx(n,o.icons),attributes:O({title:o.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}}
var s=Jw(c("invalid",I.some(PL),"warning"))
var l=Jw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]})
var f=n.getUrlPicker(t.filetype)
var v=Bi("browser.url.event")
var d=Jw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,l.asSpec()],behaviours:Nl([KS.config({disabled:function(){return t.disabled||o.isDisabled()}})])})
var m=Jw(FI({name:t.name,icon:I.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:false,borderless:true},(function(t){return la(t,v)}),o,[],["tox-browse-url"]))
var g=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[d.asSpec()],f.map((function(){return m.asSpec()})).toArray()])}}
var p=function(e){bg.getCurrent(e).each((function(n){var r=Xm.getValue(n)
var o=O({fieldname:t.name},r)
f.each((function(r){r(o).get((function(r){Xm.setValue(n,r)
fa(e,cE,{name:t.name})}))}))}))}
return ZO.sketch({dom:aE(),components:u.toArray().concat([g()]),fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||o.isDisabled()},onDisabled:function(t){ZO.getField(t).each(KS.disable)
m.getOpt(t).each(KS.disable)},onEnabled:function(t){ZO.getField(t).each(KS.enable)
m.getOpt(t).each(KS.enable)}}),Uk(),Sy("url-input-events",[wa(v,p)])])})}
var FL=function(t,e){return WO.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:tx(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){fa(e,fE,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}
var VL=function(t,e){var n=Xm.config({store:{mode:"manual",getValue:function(t){var e=t.element.dom
return e.checked},setValue:function(t,e){var n=t.element.dom
n.checked=e}}})
var r=function(t){t.element.dom.click()
return I.some(true)}
var o=ZO.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Nl([ED.self(),KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),tE.config({}),Dy.config({}),n,fy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:true}),Sy("checkbox-events",[wa(Ro(),(function(e,n){fa(e,cE,{name:t.name})}))])])})
var a=ZO.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Nl([xM.config({})])})
var i=function(t){var n="checked"===t?"selected":"unselected"
return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:tx(n,e.icons)}}}
var u=Jw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]})
return ZO.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),a],fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){ZO.getField(t).each(KS.disable)},onEnabled:function(t){ZO.getField(t).each(KS.enable)}}),Uk()])})}
var jL=function(t){return"presentation"===t.presets?WO.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):WO.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Nl([tE.config({}),Dy.config({})])})}
var UL=function(t){return function(e,n,r){return Nt(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}}
var WL=function(t){return function(e,n,r){var o=Xt(n,{source:"dynamic"})
return UL(t)(e,o,r)}}
var qL={bar:UL((function(t,e){return GO(t,e.shared)})),collection:UL((function(t,e){return pE(t,e.shared.providers)})),alertbanner:UL((function(t,e){return FL(t,e.shared.providers)})),input:UL((function(t,e){return ZH(t,e.shared.providers)})),textarea:UL((function(t,e){return YH(t,e.shared.providers)})),label:UL((function(t,e){return PH(t,e.shared)})),iframe:WL((function(t,e){return oR(t,e.shared.providers)})),button:UL((function(t,e){return qI(t,e.shared.providers)})),checkbox:UL((function(t,e){return VL(t,e.shared.providers)})),colorinput:UL((function(t,e){return _M(t,e.shared,e.colorinput)})),colorpicker:UL(DD),dropzone:UL((function(t,e){return $D(t,e.shared.providers)})),grid:UL((function(t,e){return XD(t,e.shared)})),listbox:UL((function(t,e){return UH(t,e)})),selectbox:UL((function(t,e){return $H(t,e.shared.providers)})),sizeinput:UL((function(t,e){return oH(t,e.shared.providers)})),urlinput:UL((function(t,e){return NL(t,e,e.urlinput)})),customeditor:UL(HD),htmlpanel:UL(jL),imagetools:UL((function(t,e){return BH(t,e.shared.providers)})),table:UL((function(t,e){return XH(t,e.shared.providers)})),panel:UL((function(t,e){return WH(t,e)}))}
var GL={field:function(t,e){return e}}
var $L=function(t,e,n){var r=Xt(n,{shared:{interpreter:function(e){return XL(t,e,r)}}})
return XL(t,e,r)}
var XL=function(t,e,n){return Nt(qL,e.type).fold((function(){console.error('Unknown factory type "'+e.type+'", defaulting to container: ',e)
return e}),(function(r){return r(t,e,n)}))}
var KL=function(t,e){var n=GL
return XL(n,t,e)}
var ZL={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]}
var YL=function(t,e,n){var r=If(-12,12,ZL)
var o={maxHeightFunction:Mf()}
var a=function(){return{anchor:"node",root:ni(t()),node:I.from(t()),bubble:r,layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[qw]}},overrides:o}}
var i=function(){return{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[ml]},onLtr:function(){return[hl]}},overrides:o}}
return function(){return n()?a():i()}}
var JL=function(t,e,n){var r=function(){return{anchor:"node",root:ni(t()),node:I.from(t()),layouts:{onRtl:function(){return[$w]},onLtr:function(){return[$w]}}}}
var o=function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[yl]},onLtr:function(){return[yl]}}}}
return function(){return n()?r():o()}}
var QL=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng()
return I.some(Ov.range(er.fromDom(e.startContainer),e.startOffset,er.fromDom(e.endContainer),e.endOffset))}}}}
var tB=function(t){return function(e){return{anchor:"node",root:t(),node:e}}}
var eB=function(t,e,n){var r=kk(t)
var o=function(){return er.fromDom(t.getBody())}
var a=function(){return er.fromDom(t.getContentAreaContainer())}
var i=function(){return r||!n()}
return{inlineDialog:YL(a,e,i),banner:JL(a,e,i),cursor:QL(t,o),node:tB(o)}}
var nB=function(t){return function(e,n){var r=M_(t)
r(e,n)}}
var rB=function(t){return function(){return f_(t)}}
var oB=function(t){return function(){return d_(t)}}
var aB=function(t){return function(){return x_(t)}}
var iB=function(t){return{colorPicker:nB(t),hasCustomColors:rB(t),getColors:oB(t),getColorCols:aB(t)}}
var uB=function(t){return function(){return Ek(t)}}
var cB=function(t){return{isDraggableModal:uB(t)}}
var sB=function(t){var e=Kn(yk(t)?"bottom":"top")
return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}}
var lB=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}]
var fB=function(t){return Ft(t,"items")}
var vB=function(t){return Ft(t,"block")}
var dB=function(t){return Ft(t,"inline")}
var mB=function(t){return Ft(t,"selector")}
var hB=function(t){return Z(t,(function(t,e){if(fB(e)){var n=hB(e.items)
return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(dB(e)||vB(e)||mB(e)){var r=a(e.name)?e.name:e.title.toLowerCase()
var o="custom-"+r
return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return O(O({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})}
var gB=function(t,e){var n=hB(e)
var r=function(e){q(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))}
t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)}))
return n.formats}
var pB=function(t){return ik(t).map((function(e){var n=gB(t,e)
return uk(t)?lB.concat(n):n})).getOr(lB)}
var bB=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)}
return Xt(t,r)}
var yB=function(t,e,n,r){var o=function(t){return bB(t,n,r)}
var i=function(t){var e={type:"submenu"}
return Xt(t,e)}
var u=function(e){var o=a(e.name)?e.name:Bi(e.title)
var i="custom-"+o
var u={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)}
var c=Xt(e,u)
t.formatter.register(o,c)
return c}
var c=function(t){return W(t,(function(t){var e=Et(t)
if(Vt(t,"items")){var n=c(t.items)
return Xt(i(t),{getStyleItems:function(){return n}})}return Vt(t,"format")?o(t):1===e.length&&F(e,"title")?Xt(t,{type:"separator"}):u(t)}))}
return c(e)}
var wB=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?I.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):I.none()}}
var r=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,r):[t.format]}
var o=Kn([])
var a=Kn([])
var i=Kn([])
var u=Kn([])
var c=Kn(false)
t.on("PreInit",(function(i){var u=pB(t)
var c=yB(t,u,e,n)
o.set(c)
a.set(et(c,r))}))
t.on("addStyleModifications",(function(o){var a=yB(t,o.items,e,n)
i.set(a)
c.set(o.replace)
u.set(et(a,r))}))
var s=function(){var t=c.get()?[]:o.get()
var e=i.get()
return t.concat(e)}
var l=function(){var t=c.get()?[]:a.get()
var e=u.get()
return t.concat(e)}
return{getData:s,getFlattenedKeys:l}}
var xB=function(t){return f(t)&&1===t.nodeType}
var CB=LD.trim
var SB=function(t){return function(e){if(xB(e)){if(e.contentEditable===t)return true
if(e.getAttribute("data-mce-contenteditable")===t)return true}return false}}
var kB=SB("true")
var TB=SB("false")
var _B=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}}
var OB=function(t){while(t=t.parentNode){var e=t.contentEditable
if(e&&"inherit"!==e)return kB(t)}return false}
var EB=function(t,e){return W(Zv(er.fromDom(e),t),(function(t){return t.dom}))}
var MB=function(t){return t.innerText||t.textContent}
var AB=function(t){return t.id?t.id:Bi("h")}
var zB=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}
var DB=function(t){return zB(t)&&IB(t)}
var RB=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)}
var IB=function(t){return OB(t)&&!TB(t)}
var HB=function(t){return RB(t)&&IB(t)}
var LB=function(t){return RB(t)?parseInt(t.nodeName.substr(1),10):0}
var BB=function(t){var e=AB(t)
var n=function(){t.id=e}
return _B("header",MB(t),"#"+e,LB(t),n)}
var PB=function(t){var e=t.id||t.name
var n=MB(t)
return _B("anchor",n||"#"+e,"#"+e,0,h)}
var NB=function(t){return W(X(t,HB),BB)}
var FB=function(t){return W(X(t,DB),PB)}
var VB=function(t){var e=EB("h1,h2,h3,h4,h5,h6,a:not([href])",t)
return e}
var jB=function(t){return CB(t.title).length>0}
var UB=function(t){var e=VB(t)
return X(NB(e).concat(FB(e)),jB)}
var WB={find:UB}
var qB="tinymce-url-history"
var GB=5
var $B=function(t){return a(t)&&/^https?/.test(t)}
var XB=function(t){return u(t)&&t.length<=GB&&nt(t,$B)}
var KB=function(t){return i(t)&&Bt(t,(function(t){return!XB(t)})).isNone()}
var ZB=function(){var t=r_.getItem(qB)
if(null===t)return{}
var e
try{e=JSON.parse(t)}catch(t){if(t instanceof SyntaxError){console.log("Local storage "+qB+" was not valid JSON",t)
return{}}throw t}if(!KB(e)){console.log("Local storage "+qB+" was not valid format",e)
return{}}return e}
var YB=function(t){if(!KB(t))throw new Error("Bad format for history:\n"+JSON.stringify(t))
r_.setItem(qB,JSON.stringify(t))}
var JB=function(t){var e=ZB()
return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]}
var QB=function(t,e){if(!$B(t))return
var n=ZB()
var r=Object.prototype.hasOwnProperty.call(n,e)?n[e]:[]
var o=X(r,(function(e){return e!==t}))
n[e]=[t].concat(o).slice(0,GB)
YB(n)}
var tP=function(t){return!!t}
var eP=function(t){return zt(LD.makeMap(t,/[, ]/),tP)}
var nP=function(t){return I.from(Dk(t)).filter(v)}
var rP=function(t){var e=I.some(Rk(t)).filter(tP)
var n=I.some(Ik(t)).filter(tP)
var r=e.or(n).map(eP)
return nP(t).fold(k,(function(t){return r.fold(T,(function(t){return Et(t).length>0&&t}))}))}
var oP=function(t,e){var n=rP(t)
return c(n)?n?nP(t):I.none():n[e]?nP(t):I.none()}
var aP=function(t,e){return oP(t,e).map((function(n){return function(r){return IE.nu((function(o){var u=function(t,e){if(!a(t))throw new Error("Expected value to be string")
if(void 0!==e&&!i(e))throw new Error("Expected meta to be a object")
var n={value:t,meta:e}
o(n)}
var c=O({filetype:e,fieldname:r.fieldname},I.from(r.meta).getOr({}))
n.call(t,u,r.value,c)}))}}))}
var iP=function(t){return I.from(t).filter(a).getOrUndefined()}
var uP=function(t){if(Hk(t))return I.none()
return I.some({targets:WB.find(t.getBody()),anchorTop:iP(Lk(t)),anchorBottom:iP(Bk(t))})}
var cP=function(t){return I.from(Pk(t))}
var sP=function(t){return{getHistory:JB,addToHistory:QB,getLinkInformation:function(){return uP(t)},getValidationHandler:function(){return cP(t)},getUrlPicker:function(e){return aP(t,e)}}}
var lP=function(t,e,n){var r=Kn(false)
var o=sB(e)
var a={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:AS.translate,isDisabled:function(){return e.mode.isReadOnly()||e.ui.isDisabled()},getSetting:e.getParam.bind(e)},interpreter:function(t){return KL(t,a)},anchors:eB(e,n,o.isPositionedAtTop),header:o,getSink:function(){return ht.value(t)}},urlinput:sP(e),styleselect:wB(e),colorinput:iB(e),dialog:cB(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}}
return a}
var fP=y((function(t,e){Lc(t,Math.floor(e))}))
var vP="contexttoolbar-show"
var dP="contexttoolbar-hide"
var mP=y([yn("dom"),Pn("shell",true),Km("toolbarBehaviours",[xy])])
var hP=function(){return{behaviours:Nl([xy.config({})])}}
var gP=y([Mh({name:"groups",overrides:hP})])
var pP=function(t,e,n,r){var o=function(t,e){a(t).fold((function(){console.error("Toolbar was defined to not be a shell, but no groups container was specified in components")
throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){xy.set(t,e)}))}
var a=function(e){return t.shell?I.some(e):jh(e,t,"groups")}
var i=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
return{uid:t.uid,dom:t.dom,components:i.components,behaviours:Ym(t.toolbarBehaviours,i.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}}
var bP=ug({name:"Toolbar",configFields:mP(),partFields:gP(),factory:pP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}})
var yP=function(t,e){var n={len:0,list:[]}
var r=Z(t,(function(t,n){var r=e(n,t.len)
return r.fold(y(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n)
return r.list}
var wP=function(t,e,n){return{within:t,extra:e,withinWidth:n}}
var xP=function(t,e,n){var r=yP(t,(function(t,e){var r=n(t)
return I.some({element:t,start:e,finish:e+r,width:r})}))
var o=X(r,(function(t){return t.finish<=e}))
var a=K(o,(function(t,e){return t+e.width}),0)
var i=r.slice(o.length)
return{within:o,extra:i,withinWidth:a}}
var CP=function(t){return W(t,(function(t){return t.element}))}
var SP=function(t,e,n){var r=CP(t.concat(e))
return wP(r,[],n)}
var kP=function(t,e,n,r){var o=CP(t).concat([n])
return wP(o,CP(e),r)}
var TP=function(t,e,n){return wP(CP(t),[],n)}
var _P=function(t,e,n){var r=xP(e,t,n)
return 0===r.extra.length?I.some(r):I.none()}
var OP=function(t,e,n,r){var o=_P(t,e,n).getOrThunk((function(){return xP(e,t-n(r),n)}))
var a=o.within
var i=o.extra
var u=o.withinWidth
return 1===i.length&&i[0].width<=n(r)?SP(a,i,u):i.length>=1?kP(a,i,r,u):TP(a,i,u)}
var EP=function(t,e){var n=W(e,(function(t){return wc(t)}))
bP.setGroups(t,n)}
var MP=function(t){return ft(t,(function(t){return Ql(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))}
var AP=function(t,e,n){var r=Uh(t,e,"primary")
var o=JE.getCoupled(t,"overflowGroup")
Ku(r.element,"visibility","hidden")
var a=e.builtGroups.get().concat([o])
var i=MP(a)
n([])
EP(r,a)
var u=Ic(r.element)
var c=OP(u,e.builtGroups.get(),(function(t){return Ic(t.element)}),o)
if(0===c.extra.length){xy.remove(r,o)
n([])}else{EP(r,c.within)
n(c.extra)}rc(r.element,"visibility")
oc(r.element)
i.each(Dy.focus)}
var zP=y([Km("splitToolbarBehaviours",[JE]),Xn("builtGroups",(function(){return Kn([])}))])
var DP=y([Hs(["overflowToggledClass"]),In("getOverflowBounds"),yn("lazySink"),Xn("overflowGroups",(function(){return Kn([])}))].concat(zP()))
var RP=y([Oh({factory:bP,schema:mP(),name:"primary"}),Eh({schema:mP(),name:"overflow"}),Eh({name:"overflow-button"}),Eh({name:"overflow-group"})])
var IP=y([Hs(["toggledClass"]),yn("lazySink"),Tn("fetch"),In("getBounds"),Ln("fireDismissalEventInstead",[Pn("event",na())]),jf()])
var HP=y([Eh({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Nl([Yy.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])}}}),Eh({factory:bP,schema:mP(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Nl([fy.config({mode:"cyclic",onEscape:function(e){jh(e,t,"button").each(Dy.focus)
return I.none()}})])}}})])
var LP=function(t,e){var n=JE.getCoupled(t,"toolbarSandbox")
vm.isOpen(n)?vm.close(n):vm.open(n,e.toolbar())}
var BP=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()}))
var a=n.lazySink(t).getOrDie()
Dd.positionWithinBounds(a,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:fP()}},e,o)}
var PP=function(t,e,n,r,o){bP.setGroups(e,o)
BP(t,e,n,r)
Yy.on(t)}
var NP=function(t,e,n){var r=gs()
var o=function(o,a){n.fetch().get((function(o){PP(t,a,n,e.layouts,o)
r.link(t.element)
fy.focusIn(a)}))}
var a=function(){Yy.off(t)
Dy.focus(t)
r.unlink(t.element)}
return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Nl([fy.config({mode:"special",onEscape:function(t){vm.close(t)
return I.some(true)}}),vm.config({onOpen:o,onClose:a,isPartOf:function(e,n,r){return bs(n,r)||bs(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ql.config({channels:O(O({},pm(O({isExtraPart:k},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym({doReposition:function(){vm.getState(JE.getCoupled(t,"toolbarSandbox")).each((function(r){BP(t,r,n,e.layouts)}))}}))})])}}
var FP=function(t,e,n,r){return O(O({},Yw.sketch(O(O({},r.button()),{action:function(t){LP(t,r)},buttonBehaviours:Jm.augment({dump:r.button().buttonBehaviours},[JE.config({others:{toolbarSandbox:function(e){return NP(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){vm.getState(JE.getCoupled(e,"toolbarSandbox")).each((function(o){PP(e,o,t,n.layouts,r)}))},reposition:function(e){vm.getState(JE.getCoupled(e,"toolbarSandbox")).each((function(r){BP(e,r,t,n.layouts)}))},toggle:function(t){LP(t,r)},getToolbar:function(t){return vm.getState(JE.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return vm.isOpen(JE.getCoupled(t,"toolbarSandbox"))}}})}
var VP=ug({name:"FloatingToolbarButton",factory:FP,configFields:IP(),partFields:HP(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var jP=y([yn("items"),Hs(["itemSelector"]),Km("tgroupBehaviours",[fy])])
var UP=y([Ah({name:"items",unit:"item"})])
var WP=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.tgroupBehaviours,[fy.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}
var qP=ug({name:"ToolbarGroup",configFields:jP(),partFields:UP(),factory:WP})
var GP=function(t){return W(t,(function(t){return wc(t)}))}
var $P=function(t,e,n){AP(t,n,(function(r){n.overflowGroups.set(r)
e.getOpt(t).each((function(t){VP.setGroups(t,GP(r))}))}))}
var XP=function(t,e,n,r){var o=Jw(VP.sketch({fetch:function(){return IE.nu((function(e){e(GP(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[hl,ml]},onRtl:function(){return[ml,hl]},onBottomLtr:function(){return[pl,gl]},onBottomRtl:function(){return[gl,pl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}))
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.splitToolbarBehaviours,[JE.config({others:{overflowGroup:function(){return qP.sketch(O(O({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(W(n,e.getSystem().build))
$P(e,o,t)},refresh:function(e){return $P(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){VP.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(VP.isOpen).getOr(false)},reposition:function(t){o.getOpt(t).each((function(t){VP.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(VP.getToolbar)}},domModification:{attributes:{role:"group"}}}}
var KP=ug({name:"SplitFloatingToolbar",configFields:DP(),partFields:RP(),factory:XP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}})
var ZP=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))}
var YP=function(t){return t.dimension.property}
var JP=function(t,e){return t.dimension.getDimension(e)}
var QP=function(t,e){var n=ZP(t,e)
ju(n,[e.shrinkingClass,e.growingClass])}
var tN=function(t,e){Nu(t.element,e.openClass)
Bu(t.element,e.closedClass)
Ku(t.element,YP(e),"0px")
oc(t.element)}
var eN=function(t,e){Nu(t.element,e.closedClass)
Bu(t.element,e.openClass)
rc(t.element,YP(e))}
var nN=function(t,e,n,r){n.setCollapsed()
Ku(t.element,YP(e),JP(e,t.element))
oc(t.element)
QP(t,e)
tN(t,e)
e.onStartShrink(t)
e.onShrunk(t)}
var rN=function(t,e,n,r){var o=r.getOrThunk((function(){return JP(e,t.element)}))
n.setCollapsed()
Ku(t.element,YP(e),o)
oc(t.element)
var a=ZP(t,e)
Nu(a,e.growingClass)
Bu(a,e.shrinkingClass)
tN(t,e)
e.onStartShrink(t)}
var oN=function(t,e,n){var r=JP(e,t.element)
var o="0px"===r?nN:rN
o(t,e,n,I.some(r))}
var aN=function(t,e,n){var r=ZP(t,e)
var o=Fu(r,e.shrinkingClass)
var a=JP(e,t.element)
eN(t,e)
var i=JP(e,t.element)
var u=function(){Ku(t.element,YP(e),a)
oc(t.element)}
var c=function(){tN(t,e)}
var s=o?u:c
s()
Nu(r,e.shrinkingClass)
Bu(r,e.growingClass)
eN(t,e)
Ku(t.element,YP(e),i)
n.setExpanded()
e.onStartGrow(t)}
var iN=function(t,e,n){if(n.isExpanded()){rc(t.element,YP(e))
var r=JP(e,t.element)
Ku(t.element,YP(e),r)}}
var uN=function(t,e,n){n.isExpanded()||aN(t,e,n)}
var cN=function(t,e,n){n.isExpanded()&&oN(t,e,n)}
var sN=function(t,e,n){n.isExpanded()&&nN(t,e,n,I.none())}
var lN=function(t,e,n){return n.isExpanded()}
var fN=function(t,e,n){return n.isCollapsed()}
var vN=function(t,e,n){var r=ZP(t,e)
return true===Fu(r,e.growingClass)}
var dN=function(t,e,n){var r=ZP(t,e)
return true===Fu(r,e.shrinkingClass)}
var mN=function(t,e,n){return vN(t,e)||dN(t,e)}
var hN=function(t,e,n){var r=n.isExpanded()?oN:aN
r(t,e,n)}
var gN=Object.freeze({__proto__:null,refresh:iN,grow:uN,shrink:cN,immediateShrink:sN,hasGrown:lN,hasShrunk:fN,isGrowing:vN,isShrinking:dN,isTransitioning:mN,toggleGrow:hN,disableTransitions:QP})
var pN=function(t,e,n){var r=e.expanded
return su(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:se(e.dimension.property,"0px")})}
var bN=function(t,e){return ga([Ma(Ho(),(function(n,r){var o=r.event.raw
if(o.propertyName===t.dimension.property){QP(n,t)
e.isExpanded()&&rc(n.element,t.dimension.property)
var a=e.isExpanded()?t.onGrown:t.onShrunk
a(n)}}))])}
var yN=Object.freeze({__proto__:null,exhibit:pN,events:bN})
var wN=[yn("closedClass"),yn("openClass"),yn("shrinkingClass"),yn("growingClass"),An("getAnimationRoot"),Bs("onShrunk"),Bs("onStartShrink"),Bs("onGrown"),Bs("onStartGrow"),Pn("expanded",false),wn("dimension",cn("property",{width:[Vs("property","width"),Vs("getDimension",(function(t){return Ic(t)+"px"}))],height:[Vs("property","height"),Vs("getDimension",(function(t){return Sc(t)+"px"}))]}))]
var xN=function(t){var e=Kn(t.expanded)
var n=function(){return"expanded: "+e.get()}
return ou({isExpanded:function(){return true===e.get()},isCollapsed:function(){return false===e.get()},setCollapsed:x(e.set,false),setExpanded:x(e.set,true),readState:n})}
var CN=Object.freeze({__proto__:null,init:xN})
var SN=Vl({fields:wN,name:"sliding",active:yN,apis:gN,state:CN})
var kN=y([Hs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Bs("onOpened"),Bs("onClosed")].concat(zP()))
var TN=y([Oh({factory:bP,schema:mP(),name:"primary"}),Oh({factory:bP,schema:mP(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Nl([SN.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){jh(e,t,"overflow-button").each((function(t){Yy.off(t)
Dy.focus(t)}))
t.onClosed(e)},onGrown:function(e){fy.focusIn(e)
t.onOpened(e)},onStartGrow:function(e){jh(e,t,"overflow-button").each(Yy.on)}}),fy.config({mode:"acyclic",onEscape:function(e){jh(e,t,"overflow-button").each(Dy.focus)
return I.some(true)}})])}}}),Eh({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Nl([Yy.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])}}}),Eh({name:"overflow-group"})])
var _N=function(t,e){return jh(t,e,"overflow").map(SN.hasGrown).getOr(false)}
var ON=function(t,e){jh(t,e,"overflow-button").bind((function(){return jh(t,e,"overflow")})).each((function(n){EN(t,e)
SN.toggleGrow(n)}))}
var EN=function(t,e){jh(t,e,"overflow").each((function(n){AP(t,e,(function(t){var e=W(t,(function(t){return wc(t)}))
bP.setGroups(n,e)}))
jh(t,e,"overflow-button").each((function(t){SN.hasGrown(n)&&Yy.on(t)}))
SN.refresh(n)}))}
var MN=function(t,e,n,r){var o="alloy.toolbar.toggle"
var a=function(e,n){var r=W(n,e.getSystem().build)
t.builtGroups.set(r)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.splitToolbarBehaviours,[JE.config({others:{overflowGroup:function(t){return qP.sketch(O(O({},r["overflow-group"]()),{items:[Yw.sketch(O(O({},r["overflow-button"]()),{action:function(e){la(t,o)}}))]}))}}}),Sy("toolbar-toggle-events",[wa(o,(function(e){ON(e,t)}))])]),apis:{setGroups:function(e,n){a(e,n)
EN(e,t)},refresh:function(e){return EN(e,t)},toggle:function(e){return ON(e,t)},isOpen:function(e){return _N(e,t)}},domModification:{attributes:{role:"group"}}}}
var AN=ug({name:"SplitSlidingToolbar",configFields:kN(),partFields:TN(),factory:MN,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var zN=y(Bi("toolbar-height-change"))
var DN=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}))
return{dom:O({tag:"div",classes:["tox-toolbar__group"]},e),components:[qP.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Nl([tE.config({}),Dy.config({})])}}
var RN=function(t){return qP.sketch(DN(t))}
var IN=function(t,e){var n=Aa((function(e){var n=W(t.initGroups,RN)
bP.setGroups(e,n)}))
return Nl([Xk.toolbarButton(t.providers.isDisabled),Uk(),fy.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Sy("toolbar-events",[n])])}
var HN=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":DN({title:I.none(),items:[]}),"overflow-button":BI({name:"more",icon:I.some("more-drawer"),disabled:false,tooltip:I.some("More..."),primary:false,borderless:false},I.none(),t.providers)},splitToolbarBehaviours:IN(t,e)}}
var LN=function(t){var e=HN(t)
var n=4
var r=KP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
return KP.sketch(O(O({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element
var r=as(e)
var o=Ua(e)
var a=as(o)
var i=Math.max(o.dom.scrollHeight,a.height)
return rs(r.x+n,a.y,r.width-2*n,i)},parts:O(O({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}
var BN=function(t){var e=AN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
var n=AN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}})
var r=HN(t)
return AN.sketch(O(O({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([zN()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([zN()],{type:"closed"})}}))}
var PN=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return bP.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===mk.scrolling?["tox-toolbar--scrolling"]:[])},components:[bP.parts.groups({})],toolbarBehaviours:IN(t,e)})}
var NN=Pe([Cn("type"),wn("items",Fe([Ze([Cn("name"),Mn("items",dn)]),dn]))].concat(jx))
var FN=function(t){return nn("GroupToolbarButton",NN,t)}
var VN=[Rn("text"),Rn("tooltip"),Rn("icon"),Tn("fetch"),Wn("onSetup",(function(){return h}))]
var jN=Pe(M([Cn("type")],VN))
var UN=function(t){return nn("menubutton",jN,t)}
var WN=Pe([Cn("type"),Rn("tooltip"),Rn("icon"),Rn("text"),In("select"),Tn("fetch"),Wn("onSetup",(function(){return h})),jn("presets","normal",["normal","color","listpreview"]),Pn("columns",1),Tn("onAction"),Tn("onItemAction")])
var qN=function(t){return nn("SplitButton",WN,t)}
var GN=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r)
e.set(o)}))
t.renderComponents.each((function(t){var o=t(r,e.get())
var a=W(o,n.getSystem().build)
Bd(n,a)}))}
return ga([wa(jo(),(function(e,r){var o=r
if(!o.universal){var a=t.channel
F(o.channels,a)&&n(e,o.data)}})),Aa((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}
var $N=Object.freeze({__proto__:null,events:GN})
var XN=function(t,e,n){return n}
var KN=Object.freeze({__proto__:null,getState:XN})
var ZN=[yn("channel"),An("renderComponents"),An("updateState"),An("initialData")]
var YN=function(){var t=Kn(I.none())
var e=function(e){return t.set(e)}
var n=function(){return t.set(I.none())}
var r=function(){return t.get()}
var o=function(){return t.get().fold((function(){return"none"}),(function(t){return t}))}
return{readState:o,get:r,set:e,clear:n}}
var JN=Object.freeze({__proto__:null,init:YN})
var QN=Vl({fields:ZN,name:"reflecting",active:$N,apis:KN,state:JN})
var tF=y([yn("toggleClass"),yn("fetch"),Ns("onExecute"),Pn("getHotspot",I.some),Pn("getAnchorOverrides",y({})),jf(),Ns("onItemExecute"),An("lazySink"),yn("dom"),Bs("onOpen"),Km("splitDropdownBehaviours",[JE,fy,Dy]),Pn("matchWidth",false),Pn("useMinWidth",false),Pn("eventOrder",{}),An("role")].concat(dM()))
var eF=Oh({factory:Yw,schema:[yn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Nl([Dy.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(va)},buttonBehaviours:Nl([Yy.config({toggleOnExecute:false,toggleClass:t.toggleClass})])}}})
var nF=Oh({factory:Yw,schema:[yn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Nl([Dy.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}})
var rF=y([eF,nF,Mh({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),Eh({schema:[Is()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),tM()])
var oF=function(t,e,n,r){var o
var a=function(t){bg.getCurrent(t).each((function(t){Pg.highlightFirst(t)
fy.focusIn(t)}))}
var i=function(e){var n=a
uM(t,(function(t){return t}),e,r,n,eM.HighlightFirst).get(h)}
var u=function(t){i(t)
return I.some(true)}
var c=function(e){var n=Uh(e,t,"button")
va(n)
return I.some(true)}
var s=O(O({},ga([Aa((function(e,n){var r=jh(e,t,"aria-descriptor")
r.each((function(t){var n=Bi("aria")
Si(t.element,"id",n)
Si(e.element,"aria-describedby",n)}))}))])),Qy(I.some(i)))
var l={repositionMenus:function(t){Yy.isOn(t)&&vM(t)}}
return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:O(O({},t.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),events:s,behaviours:Ym(t.splitDropdownBehaviours,[JE.config({others:{sandbox:function(e){var n=Uh(e,t,"arrow")
var r={onOpen:function(){Yy.on(n)
Yy.on(e)},onClose:function(){Yy.off(n)
Yy.off(e)}}
return fM(t,e,r)}}}),fy.config({mode:"special",onSpace:c,onEnter:c,onDown:u}),Dy.config({}),Yy.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":true}}}}
var aF=ug({name:"SplitDropdown",configFields:tF(),partFields:rF(),factory:oF,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var iF=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var uF=function(t){return{setActive:function(e){Yy.set(t,e)},isActive:function(){return Yy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var cF=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})}
var sF=Bi("focus-button")
var lF=["checklist","ordered-list"]
var fF=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"]
var vF=function(t,e,n,r,o,a){var i
var u=function(t){return AS.isRtl()&&F(lF,t)?t+"-rtl":t}
var c=AS.isRtl()&&t.exists((function(t){return F(fF,t)}))
return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:cF(n,a)},components:eT([t.map((function(t){return dI(u(t),a.icons)})),e.map((function(t){return hI(t,"tox-tbtn",a)}))]),eventOrder:(i={},i[So()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Nl([Xk.toolbarButton(a.isDisabled),Uk(),Sy("common-button-display-events",[wa(So(),(function(t,e){e.event.prevent()
la(t,sF)}))])].concat(r.map((function(n){return QN.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return eT([t.icon.map((function(t){return dI(u(t),a.icons)})),t.text.map((function(t){return hI(t,"tox-tbtn",a)}))])}})})).toArray()).concat(o.getOr([])))}}
var dF=function(t,e,n,r){var o=e.shared
return VP.sketch({lazySink:o.getSink,fetch:function(){return IE.nu((function(e){e(W(n(t.items),RN))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:vF(t.icon,t.text,t.tooltip,I.none(),I.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}
var mF=function(t,e,n){var r=Kn(h)
var o=vF(t.icon,t.text,t.tooltip,I.none(),I.none(),n)
return Yw.sketch({dom:o.dom,components:o.components,eventOrder:yI,buttonBehaviours:Nl([Sy("toolbar-button-events",[bI({onAction:t.onAction,getApi:e.getApi}),Zk(e,r),Yk(e,r)]),Xk.toolbarButton((function(){return t.disabled||n.isDisabled()})),Uk()].concat(e.toolbarButtonBehaviours))})}
var hF=function(t,e){return gF(t,e,[])}
var gF=function(t,e,n){return mF(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Sy("toolbarButtonWith",n)]:[]),getApi:iF,onSetup:t.onSetup},e)}
var pF=function(t,e){return bF(t,e,[])}
var bF=function(t,e,n){return Xt(mF(t,{toolbarButtonBehaviours:[xy.config({}),Yy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(n.length>0?[Sy("toolbarToggleButtonWith",n)]:[]),getApi:uF,onSetup:t.onSetup},e))}
var yF=function(t,e,n){return function(r){return IE.nu((function(t){return e.fetch(t)})).map((function(o){return I.from(cO(Xt(z_(Bi("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,uC.CLOSE_ON_EXECUTE,e.select.getOr(k),n),{movement:R_(e.columns,e.presets),menuBehaviours:hS.unnamedEvents("auto"!==e.columns?[]:[Aa((function(t,n){vS(t,4,MC(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns
fy.setGridSize(t,n,r)}))}))])})))}))}}
var wF=function(t,e){var n
var r=Bi("channel-update-split-dropdown-display")
var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)},setIconFill:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Si(t,"fill",n)}))},setIconStroke:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Si(t,"stroke",n)}))},setActive:function(e){if(t.getSystem().isConnected()){Si(t.element,"aria-pressed",e)
ds(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Yy.set(t,e)}))}))}},isActive:function(){return ds(t.element,"span").exists((function(e){return!!t.getSystem().isConnected()&&t.getSystem().getByDom(e).exists(Yy.isOn)}))}}}
var a=Kn(h)
var i={getApi:o,onSetup:t.onSetup}
return aF.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:O({"aria-pressed":false},cF(t.tooltip,e.providers))},onExecute:function(e){t.onAction(o(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Nl([Xk.splitButton(e.providers.isDisabled),Uk(),Sy("split-dropdown-events",[wa(sF,Dy.focus),Zk(i,a),Yk(i,a)]),xM.config({})]),eventOrder:(n={},n[ta()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:yF(o,t,e.providers),parts:{menu:HC(false,t.columns,t.presets)},components:[aF.parts.button(vF(t.icon,t.text,I.none(),I.some(r),I.some([Yy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),e.providers)),aF.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tx("chevron-down",e.providers.icons)},buttonBehaviours:Nl([Xk.splitButton(e.providers.isDisabled),Uk()])}),aF.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})}
var xF=function(t){return{hide:function(){return la(t,$o())},getValue:function(){return Xm.getValue(t)}}}
var CF=function(t,e){return wa(pI,(function(n,r){var o=t.get(n)
var a=xF(o)
e.onAction(a,r.event.buttonApi)}))}
var SF=function(t,e,n){var r=e.original,o=(r.primary,E(r,["primary"]))
var a=rn(Wx(O(O({},o),{type:"button",onAction:h})))
return gF(a,n.backstage.shared.providers,[CF(t,e)])}
var kF=function(t,e,n){var r=e.original,o=(r.primary,E(r,["primary"]))
var a=rn($x(O(O({},o),{type:"togglebutton",onAction:h})))
return bF(a,n.backstage.shared.providers,[CF(t,e)])}
var TF=function(t,e,n){var r={backstage:{shared:{providers:n}}}
return"contextformtogglebutton"===e.type?kF(t,e,r):SF(t,e,r)}
var _F=function(t,e,n){var r=W(e,(function(e){return Jw(TF(t,e,n))}))
var o=function(){return W(r,(function(t){return t.asSpec()}))}
var a=function(t){return ft(e,(function(e,n){return e.primary?I.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(C(KS.isDisabled)):I.none()}))}
return{asSpecs:o,findPrimary:a}}
var OF=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}}))
var r=Jw(SE.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:true,inputBehaviours:Nl([fy.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){va(t)
return true}))},onLeft:function(t,e){e.cut()
return I.none()},onRight:function(t,e){e.cut()
return I.none()}})])}))
var o=_F(r,t.commands,e)
return[{title:I.none(),items:[r.asSpec()]},{title:I.none(),items:o.asSpecs()}]}
var EF=function(t,e,n){return PN({type:t,uid:Bi("context-toolbar"),initGroups:OF(e,n),onEscape:I.none,cyclicKeying:true,providers:n})}
var MF={renderContextForm:EF,buildInitGroups:OF}
var AF=function(t,e){var n=Math.max(e.x,t.x)
var r=t.right-n
var o=e.width-(n-e.x)
var a=Math.min(r,o)
return{x:n,width:a}}
var zF=function(t,e,n,r){var o=er.fromDom(t.getContainer())
var a=ds(o,".tox-editor-header").getOr(o)
var i=os(a)
var u=i.y>=e.bottom
var c=r&&!u
if(t.inline&&c)return{y:Math.max(i.bottom,n.y),bottom:n.bottom}
if(t.inline&&!c)return{y:n.y,bottom:Math.min(i.y,n.bottom)}
var s=os(o)
if(c)return{y:Math.max(i.bottom,n.y),bottom:Math.min(s.bottom,n.bottom)}
return{y:Math.max(s.y,n.y),bottom:Math.min(i.y,n.bottom)}}
var DF=function(t,e){var n=Xc(window)
var r=os(er.fromDom(t.getContentAreaContainer()))
var o=lk(t)||fk(t)||dk(t)
var a=AF(r,n),i=a.x,u=a.width
if(t.inline&&!o)return rs(i,n.y,u,n.height)
var c=e.header.isPositionedAtTop()
var s=zF(t,r,n,c),l=s.y,f=s.bottom
return rs(i,l,u,f-l)}
var RF=function(t,e){var n=X(e,(function(e){return e.predicate(t.dom)}))
var r=$(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,a=r.fail
return{contextToolbars:o,contextForms:a}}
var IF=function(t){if(t.length<=1)return t
var e=function(e){return V(t,(function(t){return t.position===e}))}
var n=function(e){return X(t,(function(t){return t.position===e}))}
var r=e("selection")
var o=e("node")
if(r||o){if(o&&r){var a=n("node")
var i=W(n("selection"),(function(t){return O(O({},t),{position:"node"})}))
return a.concat(i)}return n(r?"selection":"node")}return n("line")}
var HF=function(t){if(t.length<=1)return t
var e=function(e){return J(t,(function(t){return t.position===e}))}
var n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}))
return n.fold((function(){return[]}),(function(e){return X(t,(function(t){return t.position===e}))}))}
var LF=function(t,e,n){var r=RF(t,e)
if(r.contextForms.length>0)return I.some({elem:t,toolbars:[r.contextForms[0]]})
var o=RF(t,n)
if(o.contextForms.length>0)return I.some({elem:t,toolbars:[o.contextForms[0]]})
if(r.contextToolbars.length>0||o.contextToolbars.length>0){var a=IF(r.contextToolbars.concat(o.contextToolbars))
return I.some({elem:t,toolbars:a})}return I.none()}
var BF=function(t,e,n){return t(e)?I.none():so(e,(function(t){var e=RF(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms
var a=o.length>0?o:HF(r)
return a.length>0?I.some({elem:t,toolbars:a}):I.none()}),t)}
var PF=function(t,e){var n=er.fromDom(e.getBody())
var r=function(t){return oo(t,n)}
var o=function(t){return!r(t)&&!uo(n,t)}
var a=er.fromDom(e.selection.getNode())
if(o(a))return I.none()
return LF(a,t.inNodeScope,t.inEditorScope).orThunk((function(){return BF(r,a,t)}))}
var NF=function(t,e){var n={}
var r=[]
var o=[]
var a={}
var i={}
var u=function(t,u){var c=rn(eC(u))
n[t]=c
c.launch.map((function(n){a["form:"+t]=O(O({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(c)}})}))
"editor"===c.scope?o.push(c):r.push(c)
i[t]=c}
var c=function(t,e){rC(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n)
i[t]=n}))}
var s=Et(t)
q(s,(function(e){var n=t[e]
"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&c(e,n)}))
return{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}}
var FF=Bi("forward-slide")
var VF=Bi("backward-slide")
var jF=Bi("change-slide-event")
var UF="tox-pop--resizing"
var WF=function(t){var e=Kn([])
return Bw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([])
Bw.getContent(t).each((function(t){rc(t.element,"visibility")}))
Nu(t.element,UF)
rc(t.element,"width")},inlineBehaviours:Nl([Sy("context-toolbar-events",[Ma(Ho(),(function(t,e){Nu(t.element,UF)
rc(t.element,"width")})),wa(jF,(function(t,e){var n=t.element
rc(n,"width")
var r=Ic(n)
Bw.setContent(t,e.event.contents)
Bu(n,UF)
var o=Ic(n)
Ku(n,"width",r+"px")
Bw.getContent(t).each((function(t){e.event.focus.bind((function(t){Kl(t)
return Ql(n)})).orThunk((function(){fy.focusIn(t)
return Jl(ei(n))}))}))
Kw.setTimeout((function(){Ku(t.element,"width",o+"px")}),0)})),wa(FF,(function(t,n){Bw.getContent(t).each((function(n){e.set(e.get().concat([{bar:n,focus:Jl(ei(t.element))}]))}))
fa(t,jF,{contents:n.event.forwardContents,focus:I.none()})})),wa(VF,(function(t,n){st(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1))
fa(t,jF,{contents:wc(n.bar),focus:n.focus})}))}))]),fy.config({mode:"special",onEscape:function(n){return st(e.get()).fold((function(){return t.onEscape()}),(function(t){la(n,VF)
return I.some(true)}))}})]),lazySink:function(){return ht.value(t.sink)}})}
var qF=function(t,e,n){var r=function(t,r,a,i){var u=e.shared.providers.translate(t.title)
if("separator"===t.type)return I.some({type:"separator",text:u})
if("submenu"===t.type){var c=et(t.getStyleItems(),(function(t){return o(t,r,i)}))
return 0===r&&c.length<=0?I.none():I.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return et(t.getStyleItems(),(function(t){return o(t,r,i)}))}})}return I.some(O({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(i),disabled:a,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))}
var o=function(t,e,o){var a="formatter"===t.type&&n.isInvalid(t)
return 0===e?a?[]:r(t,e,false,o).toArray():r(t,e,a,o).toArray()}
var a=function(t){var e=n.getCurrentValue()
var r=n.shouldHide?0:1
return et(t,(function(t){return o(t,r,e)}))}
var i=function(t,e){return function(n,r){var o=e()
var i=a(o)
var u=DI(i,uC.CLOSE_ON_EXECUTE,t,false)
r(u)}}
return{validateItems:a,getFetch:i}}
var GF=function(t,e,n){var r=n.dataset
var o="basic"===r.type?function(){return W(r.data,(function(t){return bB(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData
return{items:qF(t,e,n),getStyleItems:o}}
var $F=function(t,e,n){var r=GF(t,e,n),o=r.items,a=r.getStyleItems
var i=function(t){return{getComponent:y(t)}}
var u=function(e){var r=function(){var t=e.getComponent()
t.getSystem().isConnected()&&n.updateText(t)}
r()
t.on("NodeChange",r)
return function(){t.off("NodeChange",r)}}
return CI({text:n.icon.isSome()?I.none():I.some(""),icon:n.icon,tooltip:I.from(n.tooltip),role:I.none(),fetch:o.getFetch(e,a),onSetup:u,getApi:i,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)}
var XF=function(t){return W(t,(function(t){var e=t,n=t
var r=t.split("=")
if(r.length>1){e=r[0]
n=r[1]}return{title:e,format:n}}))}
var KF=function(t){return{type:"basic",data:t}}
var ZF;(function(t){t[t["SemiColon"]=0]="SemiColon"
t[t["Space"]=1]="Space"})(ZF||(ZF={}))
var YF=function(t,e){return e===ZF.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}
var JF=function(t,e,n,r){var o=t.getParam(e,n,"string")
var a=XF(YF(o,r))
return{type:"basic",data:a}}
var QF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}]
var tV=function(t){var e=function(){return J(QF,(function(e){return t.formatter.match(e.format)}))}
var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(t){return function(){return I.none()}}
var o=function(t){var n=e()
var r=n.fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}))
fa(t,xI,{icon:"align-"+r})}
var a=KF(QF)
var i=function(e){return function(){return J(QF,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}}
return{tooltip:"Align",icon:I.some("align-left"),isSelectedFor:n,getCurrentValue:I.none,getPreviewFor:r,onAction:i,updateText:o,dataset:a,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var eV=function(t,e){return $F(t,e,tV(t))}
var nV=function(t,e){var n=GF(t,e,tV(t))
t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var rV="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"
var oV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"]
var aV=function(t){var e=t.split(/\s*,\s*/)
return W(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))}
var iV=function(t){var e=function(){var e=aV(t.toLowerCase())
return nt(oV,(function(t){return e.indexOf(t.toLowerCase())>-1}))}
return 0===t.indexOf("-apple-system")&&e()}
var uV=function(t){var e=function(){var e=function(t){return t?aV(t)[0]:""}
var n=t.queryCommandValue("FontName")
var r=u.data
var o=n?n.toLowerCase():""
var a=J(r,(function(t){var n=t.format
return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return iV(o)?I.from({title:"System Font",format:o}):I.none()}))
return{matchOpt:a,font:n}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=function(t){return function(){return I.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}}
var a=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontName",false,e.format)}))}}
var i=function(t){var n=e(),r=n.matchOpt,o=n.font
var a=r.fold((function(){return o}),(function(t){return t.title}))
fa(t,wI,{text:a})}
var u=JF(t,"font_formats",rV,ZF.SemiColon)
return{tooltip:"Fonts",icon:I.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:k}}
var cV=function(t,e){return $F(t,e,uV(t))}
var sV=function(t,e){var n=GF(t,e,uV(t))
t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var lV="8pt 10pt 12pt 14pt 18pt 24pt 36pt"
var fV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"}
var vV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"}
var dV=function(t,e){var n=Math.pow(10,e)
return Math.round(t*n)/n}
var mV=function(t,e){return/[0-9.]+px$/.test(t)?dV(72*parseInt(t,10)/96,e||0)+"pt":Nt(vV,t).getOr(t)}
var hV=function(t){return Nt(fV,t).getOr("")}
var gV=function(t){var e=function(){var e=I.none()
var n=u.data
var r=t.queryCommandValue("FontSize")
if(r){var o=function(t){var o=mV(r,t)
var a=hV(o)
e=J(n,(function(t){return t.format===r||t.format===o||t.format===a}))}
for(var a=3;e.isNone()&&a>=0;a--)o(a)}return{matchOpt:e,size:r}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=y(I.none)
var a=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontSize",false,e.format)}))}}
var i=function(t){var n=e(),r=n.matchOpt,o=n.size
var a=r.fold((function(){return o}),(function(t){return t.title}))
fa(t,wI,{text:a})}
var u=JF(t,"fontsize_formats",lV,ZF.Space)
return{tooltip:"Font sizes",icon:I.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:k}}
var pV=function(t,e){return $F(t,e,gV(t))}
var bV=function(t,e){var n=GF(t,e,gV(t))
t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var yV=function(t,e){var n=e()
var r=W(n,(function(t){return t.format}))
return I.from(t.formatter.closest(r)).bind((function(t){return J(n,(function(e){return e.format===t}))})).orThunk((function(){return dg(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))}
var wV=function(t){var e=Kn(I.none())
var n=function(){return e.get().each(t)}
var r=function(){n()
e.set(I.none())}
var o=function(){return e.get().isSome()}
var a=function(t){n()
e.set(I.some(t))}
return{clear:r,isSet:o,set:a}}
var xV=function(){return wV((function(t){return t.destroy()}))}
var CV=function(){return wV((function(t){return t.unbind()}))}
var SV=function(){var t=Kn(I.none())
var e=function(){return t.set(I.none())}
var n=function(e){return t.set(I.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var kV=function(t,e){return function(n){var r=CV()
var o=function(){n.setActive(t.formatter.match(e))
var o=t.formatter.formatChanged(e,n.setActive)
r.set(o)}
t.initialized?o():t.on("init",o)
return r.clear}}
var TV=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("mceToggleFormat",false,e.format)}))}}}
var _V="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"
var OV=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return I.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}}
var r=function(e){var n=yV(t,(function(){return o.data}))
var r=n.fold((function(){return"Paragraph"}),(function(t){return t.title}))
fa(e,wI,{text:r})}
var o=JF(t,"block_formats",_V,ZF.SemiColon)
return{tooltip:"Blocks",icon:I.none(),isSelectedFor:e,getCurrentValue:I.none,getPreviewFor:n,onAction:TV(t),updateText:r,dataset:o,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var EV=function(t,e){return $F(t,e,OV(t))}
var MV=function(t,e){var n=GF(t,e,OV(t))
t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var AV=function(t,e){var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?I.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):I.none()}}
var o=function(e){var n=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,n):[{title:t.title,format:t.format}]}
var r=et(pB(t),n)
var o=yV(t,(function(){return r}))
var a=o.fold((function(){return"Paragraph"}),(function(t){return t.title}))
fa(e,wI,{text:a})}
return{tooltip:"Formats",icon:I.none(),isSelectedFor:n,getCurrentValue:I.none,getPreviewFor:r,onAction:TV(t),updateText:o,shouldHide:t.getParam("style_formats_autohide",false,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}}
var zV=function(t,e){var n=O({type:"advanced"},e.styleselect)
return $F(t,e,AV(t,n))}
var DV=function(t,e){var n=O({type:"advanced"},e.styleselect)
var r=GF(t,e,AV(t,n))
t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}
var RV=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}]
var IV=function(t,e){return function(n,r,o){var a=t(n).mapError((function(t){return an(t)})).getOrDie()
return e(a,r,o)}}
var HV={button:IV(Wx,(function(t,e){return hF(t,e.backstage.shared.providers)})),togglebutton:IV($x,(function(t,e){return pF(t,e.backstage.shared.providers)})),menubutton:IV(UN,(function(t,e){return II(t,"tox-tbtn",e.backstage,I.none())})),splitbutton:IV(qN,(function(t,e){return wF(t,e.backstage.shared)})),grouptoolbarbutton:IV(FN,(function(t,e,n){var r
var o=n.ui.registry.getAll().buttons
var a=function(t){return UV(n,{buttons:o,toolbar:t,allowToolbarGroups:false},e,I.none())}
var i=(r={},r[Ff]=e.backstage.shared.header.isPositionedAtTop()?Nf.TopToBottom:Nf.BottomToTop,r)
if(hk(n)===mk.floating)return dF(t,e.backstage,a,i)
throw new Error("Toolbar groups are only supported when using floating toolbar mode")})),styleSelectButton:function(t,e){return zV(t,e.backstage)},fontsizeSelectButton:function(t,e){return pV(t,e.backstage)},fontSelectButton:function(t,e){return cV(t,e.backstage)},formatButton:function(t,e){return EV(t,e.backstage)},alignMenuButton:function(t,e){return eV(t,e.backstage)}}
var LV=function(t,e,n){return Nt(HV,t.type).fold((function(){console.error("skipping button defined by",t)
return I.none()}),(function(r){return I.some(r(t,e,n))}))}
var BV={styleselect:HV.styleSelectButton,fontsizeselect:HV.fontsizeSelectButton,fontselect:HV.fontSelectButton,formatselect:HV.formatButton,align:HV.alignMenuButton}
var PV=function(t){var e=W(RV,(function(e){var n=X(e.items,(function(e){return Ft(t,e)||Ft(BV,e)}))
return{name:e.name,items:n}}))
return X(e,(function(t){return t.items.length>0}))}
var NV=function(t){var e=t.split("|")
return W(e,(function(t){return{items:t.trim().split(" ")}}))}
var FV=function(t){return m(t,(function(t){return Ft(t,"name")&&Ft(t,"items")}))}
var VV=function(t){var e=t.toolbar
var n=t.buttons
if(false===e)return[]
if(void 0===e||true===e)return PV(n)
if(a(e))return NV(e)
if(FV(e))return e
console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]")
return[]}
var jV=function(t,e,n,r,o,a){return Nt(e,n.toLowerCase()).orThunk((function(){return a.bind((function(t){return ft(t,(function(t){return Nt(e,t+n.toLowerCase())}))}))})).fold((function(){return Nt(BV,n.toLowerCase()).map((function(e){return e(t,o)})).orThunk((function(){return I.none()}))}),(function(e){if("grouptoolbarbutton"!==e.type||r)return LV(e,o,t)
console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")
return I.none()}))}
var UV=function(t,e,n,r){var o=VV(e)
var a=W(o,(function(o){var a=et(o.items,(function(o){return 0===o.trim().length?[]:jV(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}))
return{title:I.from(t.translate(o.name)),items:a}}))
return X(a,(function(t){return t.items.length>0}))}
var WV=12
var qV={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var GV={maxHeightFunction:Mf(),maxWidthFunction:fP()}
var $V={onLtr:function(){return[bl,yl,gl,ml,pl,hl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[bl,yl,pl,hl,gl,ml,$w,Xw,Gw,Ww,qw,Uw]}}
var XV={onLtr:function(){return[yl,ml,hl,gl,pl,bl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[yl,hl,ml,pl,gl,bl,$w,Xw,Gw,Ww,qw,Uw]}}
var KV=function(t,e){return"line"===t?{bubble:If(WV,0,qV),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[xl]}},overrides:GV}:{bubble:If(0,WV,qV),layouts:e?XV:$V,overrides:GV}}
var ZV=function(t,e,n,r){var o=$r().deviceType.isTouch
var a=yc(WF({sink:n,onEscape:function(){t.focus()
return I.some(true)}}))
var i=function(){return DF(t,r.backstage.shared)}
var u=function(t,e,n,r){return Math.max(t,n)<=Math.min(e,r)}
var c=function(){var e=m.get().filter((function(t){return Wu(er.fromDom(t))})).map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()}))
var n=t.inline?Wc().top:as(er.fromDom(t.getBody())).y
return{y:e.top+n,bottom:e.bottom+n}}
var s=function(){if(o()&&r.backstage.isContextMenuOpen())return true
var t=c()
var e=i()
return!u(t.y,t.bottom,e.y,e.bottom)}
var l=function(){d.set(I.none())
Bw.hide(a)}
var f=function(){Bw.hide(a)}
var v=function(){d.get().each((function(t){var e=a.element
rc(e,"display")
s()?Ku(e,"display","none"):Dd.positionWithinBounds(n,t,a,I.some(i()))}))}
var d=Kn(I.none())
var m=Kn(I.none())
var g=Kn(null)
var p=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Nl([fy.config({mode:"acyclic"}),Sy("pop-dialog-wrap-events",[Aa((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return fy.focusIn(e)}))})),za((function(e){t.shortcuts.remove("ctrl+F9")}))])])}}
var b=Zt((function(){return NF(e,(function(t){var e=x([t])
fa(a,FF,{forwardContents:p(e)})}))}))
var y=function(e,n){return UV(t,{buttons:e,toolbar:n.items,allowToolbarGroups:false},r,I.some(["form:"]))}
var w=function(t,e){return MF.buildInitGroups(t,e)}
var x=function(e){var n=t.ui.registry.getAll().buttons
var o=b()
var a=O(O({},n),o.formNavigators)
var i=hk(t)===mk.scrolling?mk.scrolling:mk.default
var u=tt(W(e,(function(t){return"contexttoolbar"===t.type?y(a,t):w(t,r.backstage.shared.providers)})))
return PN({type:i,uid:Bi("context-toolbar"),initGroups:u,onEscape:I.none,cyclicKeying:true,providers:r.backstage.shared.providers})}
t.on(vP,(function(e){var n=b()
Nt(n.lookupTable,e.toolbarKey).each((function(n){S([n],e.target===t?I.none():I.some(e))
Bw.getContent(a).each(fy.focusIn)}))}))
var C=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor()
return Xt(n,KV(t,o()))}
var S=function(t,e){T()
if(o()&&r.backstage.isContextMenuOpen())return
var n=x(t)
var u=e.map(er.fromDom)
var c=C(t[0].position,u)
d.set(I.some(c))
m.set(e)
var l=a.element
rc(l,"display")
Bw.showWithinBounds(a,c,p(n),(function(){return I.some(i())}))
s()&&Ku(l,"display","none")}
var k=function(){if(!t.hasFocus())return
var e=b()
PF(e,t).fold(l,(function(t){S(t.toolbars,I.some(t.elem.dom))}))}
var T=function(){var t=g.get()
if(null!==t){Kw.clearTimeout(t)
g.set(null)}}
var _=function(){T()
g.set(Kw.setEditorTimeout(t,k,0))}
t.on("init",(function(){t.on(dP,f)
t.on("ScrollContent ScrollWindow longpress",v)
t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){_()}))
t.on("focusout",(function(e){Kw.setEditorTimeout(t,(function(){Ql(n.element).isNone()&&Ql(a.element).isNone()&&l()}),0)}))
t.on("SwitchMode",(function(){t.mode.isReadOnly()&&l()}))
t.on("AfterProgressState",(function(e){e.state?l():t.hasFocus()&&_()}))
t.on("NodeChange",(function(t){Ql(a.element).fold(_,h)}))}))}
var YV=function(t,e,n){var r=function(t,r){q([e,n],(function(e){e.broadcastEvent(t,r)}))}
var o=function(t,r){q([e,n],(function(e){e.broadcastOn([t],r)}))}
var a=function(t){return o(dm(),{target:t.target})}
var i=dO(er.fromDom(document),"touchstart",a)
var u=dO(er.fromDom(document),"touchmove",(function(t){return r(Zo(),t)}))
var c=dO(er.fromDom(document),"touchend",(function(t){return r(Yo(),t)}))
var s=dO(er.fromDom(document),"mousedown",a)
var l=dO(er.fromDom(document),"mouseup",(function(t){0===t.raw.button&&o(hm(),{target:t.target})}))
var f=function(t){return o(dm(),{target:er.fromDom(t.target)})}
var v=function(t){0===t.button&&o(hm(),{target:er.fromDom(t.target)})}
var d=function(t){return r(Jo(),hO(t))}
var m=function(t){o(mm(),{})
r(Qo(),hO(t))}
var h=function(){return o(mm(),{})}
var g=function(e){e.state&&o(dm(),{target:er.fromDom(t.getContainer())})}
t.on("PostRender",(function(){t.on("click",f)
t.on("tap",f)
t.on("mouseup",v)
t.on("ScrollWindow",d)
t.on("ResizeWindow",m)
t.on("ResizeEditor",h)
t.on("AfterProgressState",g)}))
t.on("remove",(function(){t.off("click",f)
t.off("tap",f)
t.off("mouseup",v)
t.off("ScrollWindow",d)
t.off("ResizeWindow",m)
t.off("ResizeEditor",h)
t.off("AfterProgressState",g)
s.unbind()
i.unbind()
u.unbind()
c.unbind()
l.unbind()}))
t.on("detach",(function(){Gd(e)
Gd(n)
e.destroy()
n.destroy()}))}
var JV=Zh
var QV=Dh
var tj=y([Pn("shell",false),yn("makeItem"),Pn("setupItem",h),Jm.field("listBehaviours",[xy])])
var ej=function(){return{behaviours:Nl([xy.config({})])}}
var nj=Mh({name:"items",overrides:ej})
var rj=y([nj])
var oj=y("CustomList")
var aj=function(t,e,n,r){var o=function(e,n){i(e).fold((function(){console.error("Custom List was defined to not be a shell, but no item container was specified in components")
throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=xy.contents(r)
var a=n.length
var i=a-o.length
var u=i>0?j(i,(function(){return t.makeItem()})):[]
var c=o.slice(a)
q(c,(function(t){return xy.remove(r,t)}))
q(u,(function(t){return xy.append(r,t)}))
var s=xy.contents(r)
q(s,(function(r,o){t.setupItem(e,r,n[o],o)}))}))}
var a=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
var i=function(e){return t.shell?I.some(e):jh(e,t,"items")}
return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Ym(t.listBehaviours,a.behaviours),apis:{setItems:o}}}
var ij=ug({name:oj(),configFields:tj(),partFields:rj(),factory:aj,apis:{setItems:function(t,e,n){t.setItems(e,n)}}})
var uj=h
var cj=k
var sj=y([])
var lj=Object.freeze({__proto__:null,setup:uj,isDocked:cj,getBehaviours:sj})
var fj=function(t){var e=tc(t,"position").is("fixed")
var n=e?I.none():$a(t)
return n.orThunk((function(){var e=er.fromTag("span")
return qa(t).bind((function(t){fi(t,e)
var n=$a(e)
gi(e)
return n}))}))}
var vj=function(t){return fj(t).map(Ac).getOrThunk((function(){return Oc(0,0)}))}
var dj=Ut.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}])
var mj=function(t,e){var n=t.element
Bu(n,e.transitionClass)
Nu(n,e.fadeOutClass)
Bu(n,e.fadeInClass)
e.onShow(t)}
var hj=function(t,e){var n=t.element
Bu(n,e.transitionClass)
Nu(n,e.fadeInClass)
Bu(n,e.fadeOutClass)
e.onHide(t)}
var gj=function(t,e){return t.y<e.bottom&&t.bottom>e.y}
var pj=function(t,e){return t.y>=e.y}
var bj=function(t,e){return t.bottom<=e.bottom}
var yj=function(t,e,n){return nt(t,(function(t){switch(t){case"bottom":return bj(e,n)
case"top":return pj(e,n)}}))}
var wj=function(t,e){return e.getInitialPosition().map((function(e){return rs(e.bounds.x,e.bounds.y,Ic(t),Sc(t))}))}
var xj=function(t,e,n){n.setInitialPosition(I.some({style:ec(t),position:Ju(t,"position")||"static",bounds:e}))}
var Cj=function(t,e,n){return n.getInitialPosition().bind((function(r){n.setInitialPosition(I.none())
switch(r.position){case"static":return I.some(dj.static())
case"absolute":var o=fj(t).map(os).getOrThunk((function(){return os(qu())}))
return I.some(dj.absolute(ef("absolute",Nt(r.style,"left").map((function(t){return e.x-o.x})),Nt(r.style,"top").map((function(t){return e.y-o.y})),Nt(r.style,"right").map((function(t){return o.right-e.right})),Nt(r.style,"bottom").map((function(t){return o.bottom-e.bottom})))))
default:return I.none()}}))}
var Sj=function(t,e,n){return wj(t,n).filter((function(t){return yj(n.getModes(),t,e)})).bind((function(e){return Cj(t,e,n)}))}
var kj=function(t,e,n){var r=os(t)
if(yj(n.getModes(),r,e))return I.none()
xj(t,r,n)
var o=is()
var a=r.x-o.x
var i=e.y-o.y
var u=o.bottom-e.bottom
var c=r.y<=e.y
return I.some(dj.fixed(ef("fixed",I.some(a),c?I.some(i):I.none(),I.none(),c?I.none():I.some(u))))}
var Tj=function(t,e,n){var r=t.element
var o=tc(r,"position").is("fixed")
return o?Sj(r,e,n):kj(r,e,n)}
var _j=function(t,e){var n=t.element
return wj(n,e).bind((function(t){return Cj(n,t,e)}))}
var Oj=function(t,e){q(["left","right","top","bottom","position"],(function(e){return rc(t.element,e)}))
e.onUndocked(t)}
var Ej=function(t,e,n){nf(t.element,n)
var r="fixed"===n.position?e.onDocked:e.onUndocked
r(t)}
var Mj=function(t,e,n,r,o){void 0===o&&(o=false)
e.contextual.each((function(e){e.lazyContext(t).each((function(a){var i=gj(a,r)
if(i!==n.isVisible()){n.setVisible(i)
if(o&&!i){Vu(t.element,[e.fadeOutClass])
e.onHide(t)}else{var u=i?mj:hj
u(t,e)}}}))}))}
var Aj=function(t,e,n){var r=e.lazyViewport(t)
var o=n.isDocked()
o&&Mj(t,e,n,r)
Tj(t,r,n).each((function(a){n.setDocked(!o)
a.fold((function(){return Oj(t,e)}),(function(n){return Ej(t,e,n)}),(function(o){Mj(t,e,n,r,true)
Ej(t,e,o)}))}))}
var zj=function(t,e,n){var r=t.element
n.setDocked(false)
_j(t,n).each((function(n){n.fold((function(){return Oj(t,e)}),(function(n){return Ej(t,e,n)}),h)}))
n.setVisible(true)
e.contextual.each((function(e){ju(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass])
e.onShow(t)}))
Dj(t,e,n)}
var Dj=function(t,e,n){t.getSystem().isConnected()&&Aj(t,e,n)}
var Rj=function(t,e,n){n.isDocked()&&zj(t,e,n)}
var Ij=function(t,e,n){return n.isDocked()}
var Hj=function(t,e,n,r){return n.setModes(r)}
var Lj=function(t,e,n){return n.getModes()}
var Bj=Object.freeze({__proto__:null,refresh:Dj,reset:Rj,isDocked:Ij,getModes:Lj,setModes:Hj})
var Pj=function(t,e){return ga([Ma(Ho(),(function(n,r){t.contextual.each((function(t){if(Fu(n.element,t.transitionClass)){ju(n.element,[t.transitionClass,t.fadeInClass])
var o=e.isVisible()?t.onShown:t.onHidden
o(n)}r.stop()}))})),wa(Jo(),(function(n,r){Dj(n,t,e)})),wa(Qo(),(function(n,r){Rj(n,t,e)}))])}
var Nj=Object.freeze({__proto__:null,events:Pj})
var Fj=[Ln("contextual",[Cn("fadeInClass"),Cn("fadeOutClass"),Cn("transitionClass"),Tn("lazyContext"),Bs("onShow"),Bs("onShown"),Bs("onHide"),Bs("onHidden")]),Wn("lazyViewport",is),Gn("modes",["top","bottom"],dn),Bs("onDocked"),Bs("onUndocked")]
var Vj=function(t){var e=Kn(false)
var n=Kn(true)
var r=Kn(I.none())
var o=Kn(t.modes)
var a=function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}
return ou({isDocked:e.get,setDocked:e.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:a})}
var jj=Object.freeze({__proto__:null,init:Vj})
var Uj=Vl({fields:Fj,name:"docking",active:Nj,apis:Bj,state:jj})
var Wj={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"}
var qj="tox-tinymce--toolbar-sticky-on"
var Gj="tox-tinymce--toolbar-sticky-off"
var $j=function(t,e){var n=Va(e)
var r=n.dom.defaultView.innerHeight
var o=Wc(n)
var a=er.fromDom(t.elm)
var i=as(a)
var u=Sc(a)
var c=i.y
var s=c+u
var l=Ac(e)
var f=Sc(e)
var v=l.top
var d=v+f
var m=Math.abs(v-o.top)<2
var h=Math.abs(d-(o.top+r))<2
if(m&&c<d)qc(o.left,c-f,n)
else if(h&&s>v){var g=c-r+u+f
qc(o.left,g,n)}}
var Xj=function(t,e){return F(Uj.getModes(t),e)}
var Kj=function(t){var e=function(t){return kc(t)+(parseInt(Ju(t,"margin-top"),10)||0)+(parseInt(Ju(t,"margin-bottom"),10)||0)}
var n=t.element
qa(n).each((function(r){var o="padding-"+Uj.getModes(t)[0]
if(Uj.isDocked(t)){var a=Ic(r)
Ku(n,"width",a+"px")
Ku(r,o,e(n)+"px")}else{rc(n,"width")
rc(r,o)}}))}
var Zj=function(t,e){if(e){Nu(t,Wj.fadeOutClass)
Vu(t,[Wj.transitionClass,Wj.fadeInClass])}else{Nu(t,Wj.fadeInClass)
Vu(t,[Wj.fadeOutClass,Wj.transitionClass])}}
var Yj=function(t,e){var n=er.fromDom(t.getContainer())
if(e){Bu(n,qj)
Nu(n,Gj)}else{Bu(n,Gj)
Nu(n,qj)}}
var Jj=function(t,e){var n=Va(e)
Jl(n).filter((function(t){return!oo(e,t)})).filter((function(e){return oo(e,er.fromDom(n.dom.body))||uo(t,e)})).each((function(){return Kl(e)}))}
var Qj=function(t,e){return Ql(t).orThunk((function(){return e().toOptional().bind((function(t){return Ql(t.element)}))}))}
var tU=function(t,e,n){if(!t.inline){e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(Uj.reset)}))
t.on("ResizeWindow ResizeEditor",(function(){n().each(Kj)}))
t.on("SkinLoaded",(function(){n().each((function(t){Uj.isDocked(t)?Uj.reset(t):Uj.refresh(t)}))}))
t.on("FullscreenStateChanged",(function(){n().each(Uj.reset)}))}t.on("AfterScrollIntoView",(function(t){n().each((function(e){Uj.refresh(e)
var n=e.element
Rp(n)&&$j(t,n)}))}))
t.on("PostRender",(function(){Yj(t,false)}))}
var eU=function(t){return t().map(Uj.isDocked).getOr(false)}
var nU=function(){var t
return[ql.config({channels:(t={},t[zN()]={onReceive:Kj},t)})]}
var rU=function(t,e){var n=Kn(I.none())
var r=e.getSink
var o=function(t){r().each((function(e){return t(e.element)}))}
var a=function(e){t.inline||Kj(e)
Yj(t,Uj.isDocked(e))
e.getSystem().broadcastOn([mm()],{})
r().each((function(t){return t.getSystem().broadcastOn([mm()],{})}))}
var i=t.inline?[]:nU()
return M([Dy.config({}),Uj.config({contextual:O({lazyContext:function(e){var n=kc(e.element)
var r=t.inline?t.getContentAreaContainer():t.getContainer()
var o=os(er.fromDom(r))
var a=o.height-n
var i=o.y+(Xj(e,"top")?0:n)
return I.some(rs(o.x,i,o.width,a))},onShow:function(){o((function(t){return Zj(t,true)}))},onShown:function(t){o((function(t){return ju(t,[Wj.transitionClass,Wj.fadeInClass])}))
n.get().each((function(e){Jj(t.element,e)
n.set(I.none())}))},onHide:function(t){n.set(Qj(t.element,r))
o((function(t){return Zj(t,false)}))},onHidden:function(){o((function(t){return ju(t,[Wj.transitionClass])}))}},Wj),modes:[e.header.getDockingMode()],onDocked:a,onUndocked:a})],i)}
var oU=Object.freeze({__proto__:null,setup:tU,isDocked:eU,getBehaviours:rU})
var aU=function(t){var e=t.editor
var n=t.sticky?rU:sj
return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Nl(n(e,t.sharedBackstage))}}
var iU=function(t,e){var n=function(t,n){var r=W(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}}
var r=UN(n).mapError((function(t){return an(t)})).getOrDie()
return II(r,"tox-mbtn",e.backstage,I.some("menuitem"))}))
xy.set(t,r)}
var r={focus:fy.focusIn,setMenus:n}
return{uid:t.uid,dom:t.dom,components:[],behaviours:Nl([xy.config({}),Sy("menubar-events",[Aa((function(e){t.onSetup(e)})),wa(Oo(),(function(t,e){ds(t.element,".tox-mbtn--active").each((function(n){ms(e.event.target,".tox-mbtn").each((function(e){oo(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){pM.expand(t)
pM.close(n)
Dy.focus(t)}))}))}))}))})),wa(oa(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){if(pM.isOpen(n)){pM.expand(t)
pM.close(n)}}))}))}))]),fy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){t.onEscape(e)
return I.some(true)}}),tE.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}}
var uU=ig({factory:iU,name:"silver.Menubar",configFields:[yn("dom"),yn("uid"),yn("onEscape"),yn("backstage"),Pn("onSetup",h)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}})
var cU="container"
var sU=[Km("slotBehaviours",[])]
var lU=function(t){return"<alloy.field."+t+">"}
var fU=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Bh(cU,lU(e),n)}
return{slot:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=W(r,(function(t){return Oh({name:t,pname:lU(t)})}))
return tg(cU,sU,o,vU,n)}
var vU=function(t,e){var n=function(e){return Gh(t)}
var r=function(e,n){return jh(e,t,n)}
var o=function(e,n){return function(r,o){return jh(r,t,o).map((function(t){return e(t,o)})).getOr(n)}}
var a=function(t){return function(e,n){q(n,(function(n){return t(e,n)}))}}
var i=function(t,e){return"true"!==Ti(t.element,"aria-hidden")}
var u=function(t,e){if(!i(t)){var n=t.element
rc(n,"display")
Ei(n,"aria-hidden")
fa(t,aa(),{name:e,visible:true})}}
var c=function(t,e){if(i(t)){var n=t.element
Ku(n,"display","none")
Si(n,"aria-hidden","true")
fa(t,aa(),{name:e,visible:false})}}
var s=o(i,false)
var l=o(c)
var f=a(l)
var v=function(t){return f(t,n())}
var d=o(u)
var m={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:v,showSlot:d}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Zm(t.slotBehaviours),apis:m}}
var dU=zt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return nu(t)}))
var mU=O(O({},dU),{sketch:fU})
var hU=Pe([Rn("icon"),Rn("tooltip"),Wn("onShow",h),Wn("onHide",h),Wn("onSetup",(function(){return h}))])
var gU=function(t){return nn("sidebar",hU,t)}
var pU=function(t){var e=t.ui.registry.getAll().sidebars
q(Et(e),(function(n){var r=e[n]
var o=function(){return I.from(t.queryCommandValue("ToggleSidebar")).is(n)}
t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",false,n)
e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())}
t.on("ToggleSidebar",n)
return function(){t.off("ToggleSidebar",n)}}})}))}
var bU=function(t){return{element:function(){return t.element.dom}}}
var yU=function(t,e){var n=W(Et(e),(function(t){var n=e[t]
var r=rn(gU(n))
return{name:t,getApi:bU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}))
return W(n,(function(e){var r=Kn(h)
return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:hS.unnamedEvents([Zk(e,r),Yk(e,r),wa(aa(),(function(t,e){var r=e.event
var o=J(n,(function(t){return t.name===r.name}))
o.each((function(e){var n=r.visible?e.onShow:e.onHide
n(e.getApi(t))}))}))])})}))}
var wU=function(t){return mU.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yU(e,t),slotBehaviours:hS.unnamedEvents([Aa((function(t){return mU.hideAllSlots(t)}))])}}))}
var xU=function(t,e){var n=bg.getCurrent(t)
n.each((function(t){return xy.set(t,[wU(e)])}))}
var CU=function(t,e){var n=bg.getCurrent(t)
n.each((function(t){var n=bg.getCurrent(t)
n.each((function(n){if(SN.hasGrown(t))if(mU.isShowing(n,e))SN.shrink(t)
else{mU.hideAllSlots(n)
mU.showSlot(n,e)}else{mU.hideAllSlots(n)
mU.showSlot(n,e)
SN.grow(t)}}))}))}
var SU=function(t){var e=bg.getCurrent(t)
return e.bind((function(t){var e=SN.isGrowing(t)||SN.hasGrown(t)
if(e){var n=bg.getCurrent(t)
return n.bind((function(t){return J(mU.getSlotNames(t),(function(e){return mU.isShowing(t,e)}))}))}return I.none()}))}
var kU=Bi("FixSizeEvent")
var TU=Bi("AutoSizeEvent")
var _U=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Nl([tE.config({}),Dy.config({}),SN.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=bg.getCurrent(t)
e.each(mU.hideAllSlots)
la(t,TU)},onGrown:function(t){la(t,TU)},onStartGrow:function(t){fa(t,kU,{width:tc(t.element,"width").getOr("")})},onStartShrink:function(t){fa(t,kU,{width:Ic(t.element)+"px"})}}),xy.config({}),bg.config({find:function(t){var e=xy.contents(t)
return ct(e)}})])}],behaviours:Nl([ED.childAt(0),Sy("sidebar-sliding-events",[wa(kU,(function(t,e){Ku(t.element,"width",e.event.width)})),wa(TU,(function(t,e){rc(t.element,"width")}))])])}}
var OU=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[]
return Z(e,(function(t,e){var n
return"class"===e.name?t:O(O({},t),(n={},n[e.name]=e.value,n))}),{})}
var EU=function(t){return Array.prototype.slice.call(t.dom.classList,0)}
var MU=function(t){var e=er.fromHtml(t)
var n=Ka(e)
var r=OU(e)
var o=EU(e)
var a=0===n.length?{}:{innerHtml:yi(e)}
return O({tag:Ia(e),classes:o,attributes:r},a)}
var AU=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:MU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Nl([fy.config({mode:"special",onTab:function(){return I.some(true)},onShiftTab:function(){return I.some(true)}}),Dy.config({})])}}
var zU=function(t,e,n){var r=t.element
if(true===e){xy.set(t,[AU(n)])
rc(r,"display")
Ei(r,"aria-hidden")}else{xy.set(t,[])
Ku(r,"display","none")
Si(r,"aria-hidden","true")}}
var DU=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Nl([xy.config({})]),components:[]}}
var RU=function(t,e,n){var r=Kn(false)
var o=Kn(I.none())
var a=function(o){if(o!==r.get()){zU(e(),o,n.providers)
r.set(o)
t.fire("AfterProgressState",{state:o})}}
t.on("ProgressState",(function(e){o.get().each(Kw.clearTimeout)
if(d(e.time)){var n=Kw.setEditorTimeout(t,(function(){return a(e.state)}),e.time)
o.set(I.some(n))}else{a(e.state)
o.set(I.none())}}))}
var IU=function(t,e,n){var r={getSocket:function(e){return JV.getPart(e,t,"socket")},setSidebar:function(e,n){JV.getPart(e,t,"sidebar").each((function(t){return xU(t,n)}))},toggleSidebar:function(e,n){JV.getPart(e,t,"sidebar").each((function(t){return CU(t,n)}))},whichSidebar:function(e){return JV.getPart(e,t,"sidebar").bind(SU).getOrNull()},getHeader:function(e){return JV.getPart(e,t,"header")},getToolbar:function(e){return JV.getPart(e,t,"toolbar")},setToolbar:function(e,n){JV.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){JV.getPart(e,t,"multiple-toolbar").each((function(t){ij.setItems(t,n)}))},refreshToolbar:function(e){var n=JV.getPart(e,t,"toolbar")
n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){JV.getPart(e,t,"toolbar").each((function(t){vg(t.getApis().toggle,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return JV.getPart(e,t,"toolbar").bind((function(t){return I.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(false)},getThrobber:function(e){return JV.getPart(e,t,"throbber")},focusToolbar:function(e){var n=JV.getPart(e,t,"toolbar").orThunk((function(){return JV.getPart(e,t,"multiple-toolbar")}))
n.each((function(t){fy.focusIn(t)}))},setMenubar:function(e,n){JV.getPart(e,t,"menubar").each((function(t){uU.setMenus(t,n)}))},focusMenubar:function(e){JV.getPart(e,t,"menubar").each((function(t){uU.focus(t)}))}}
return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}}
var HU=QV.optional({factory:uU,name:"menubar",schema:[yn("backstage")]})
var LU=function(t){return t.type===mk.sliding?BN:t.type===mk.floating?LN:PN}
var BU=QV.optional({factory:{sketch:function(t){return ij.sketch({uid:t.uid,dom:t.dom,listBehaviours:Nl([fy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return PN({type:t.type,uid:Bi("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:t.providers,onEscape:function(){t.onEscape()
return I.some(true)}})},setupItem:function(t,e,n,r){bP.setGroups(e,n)},shell:true})}},name:"multiple-toolbar",schema:[yn("dom"),yn("onEscape")]})
var PU=QV.optional({factory:{sketch:function(t){var e=LU(t)
var n={type:t.type,uid:t.uid,onEscape:function(){t.onEscape()
return I.some(true)},cyclicKeying:false,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes}
return e(n)}},name:"toolbar",schema:[yn("dom"),yn("onEscape"),yn("getSink")]})
var NU=QV.optional({factory:{sketch:aU},name:"header",schema:[yn("dom")]})
var FU=QV.optional({name:"socket",schema:[yn("dom")]})
var VU=QV.optional({factory:{sketch:_U},name:"sidebar",schema:[yn("dom")]})
var jU=QV.optional({factory:{sketch:DU},name:"throbber",schema:[yn("dom")]})
var UU=ug({name:"OuterContainer",factory:IU,configFields:[yn("dom"),yn("behaviours")],partFields:[NU,HU,PU,BU,FU,VU,jU],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=W(n,(function(t){return RN(t)}))
t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=W(n,(function(t){return W(t,RN)}))
t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}})
var WU="file edit view insert format tools table help"
var qU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}}
var GU=function(t,e,n){var r=sk(n).split(/[ ,]/)
return{text:t.title,getItems:function(){return et(t.items,(function(t){var n=t.toLowerCase()
return 0===n.trim().length||V(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}
var $U=function(t){if("string"===typeof t)return t.split(" ")
return t}
var XU=function(t,e){var n=O(O({},qU),e.menus)
var r=Et(e.menus).length>0
var o=void 0===e.menubar||true===e.menubar?$U(WU):$U(false===e.menubar?"":e.menubar)
var a=X(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||qU.hasOwnProperty(t)}))
var i=W(a,(function(r){var o=n[r]
return GU({title:o.title,items:$U(o.items)},e,t)}))
return X(i,(function(t){var e=function(t){return"separator"!==t.type}
return t.getItems().length>0&&V(t.getItems(),e)}))}
var KU=function(t){var e=function(){t._skinLoaded=true
YT(t)}
return function(){t.initialized?e():t.on("init",e)}}
var ZU=function(t,e){return function(){return JT(t,{message:e})}}
var YU=function(t,e,n){return new kx((function(r,o){n.load(e,r,o)
t.on("remove",(function(){return n.unload(e)}))}))}
var JU=function(t,e){var n=e+"/skin.min.css"
return YU(t,n,t.ui.styleSheetLoader)}
var QU=function(t,e){var n=ri(er.fromDom(t.getElement()))
if(n){var r=e+"/skin.shadowdom.min.css"
return YU(t,r,MS.DOM.styleSheetLoader)}return kx.resolve()}
var tW=function(t,e){var n=YS(e)
n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css")
false===QS(e)&&a(n)?kx.all([JU(e,n),QU(e,n)]).then(KU(e),ZU(e,"Skin could not be loaded")):KU(e)()}
var eW=x(tW,false)
var nW=x(tW,true)
var rW=function(t,e,n,r){var o=e.outerContainer
var i=n.toolbar
var u=n.buttons
if(m(i,a)){var c=i.map((function(e){var o={toolbar:e,buttons:u,allowToolbarGroups:n.allowToolbarGroups}
return UV(t,o,{backstage:r},I.none())}))
UU.setToolbars(o,c)}else UU.setToolbar(o,UV(t,n,{backstage:r},I.none()))}
var oW=$r()
var aW=oW.os.isiOS()&&oW.os.version.major<=12
var iW=function(t,e){var n=t.dom
var r=t.getWin()
var o=t.getDoc().documentElement
var a=Kn(Oc(r.innerWidth,r.innerHeight))
var i=Kn(Oc(o.offsetWidth,o.offsetHeight))
var u=function(){var e=a.get()
if(e.left!==r.innerWidth||e.top!==r.innerHeight){a.set(Oc(r.innerWidth,r.innerHeight))
t_(t)}}
var c=function(){var e=t.getDoc().documentElement
var n=i.get()
if(n.left!==e.offsetWidth||n.top!==e.offsetHeight){i.set(Oc(e.offsetWidth,e.offsetHeight))
t_(t)}}
var s=function(e){return e_(t,e)}
n.bind(r,"resize",u)
n.bind(r,"scroll",s)
var l=mO(er.fromDom(t.getBody()),"load",c)
var f=e.uiMothership.element
t.on("hide",(function(){Ku(f,"display","none")}))
t.on("show",(function(){rc(f,"display")}))
t.on("NodeChange",c)
t.on("remove",(function(){l.unbind()
n.unbind(r,"resize",u)
n.unbind(r,"scroll",s)
r=null}))}
var uW=function(t,e,n,r,o){var a=Kn(0)
var i=e.outerContainer
eW(t)
var u=er.fromDom(o.targetNode)
var c=ni(ei(u))
Wd(u,e.mothership)
Ud(c,e.uiMothership)
t.on("PostRender",(function(){rW(t,e,n,r)
a.set(t.getWin().innerWidth)
UU.setMenubar(i,XU(t,n))
UU.setSidebar(i,n.sidebar)
iW(t,e)}))
var s=UU.getSocket(i).getOrDie("Could not find expected socket element")
if(aW){Zu(s.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"})
var l=ux((function(){t.fire("ScrollContent")}),20)
var f=dO(s.element,"scroll",l.throttle)
t.on("remove",f.unbind)}jk(t,e)
t.addCommand("ToggleSidebar",(function(e,n){UU.toggleSidebar(i,n)
t.fire("ToggleSidebar")}))
t.addQueryValueHandler("ToggleSidebar",(function(){return UU.whichSidebar(i)}))
var v=hk(t)
var d=function(){UU.refreshToolbar(e.outerContainer)}
v!==mk.sliding&&v!==mk.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth
if(e!==a.get()){d()
a.set(e)}}))
var m={enable:function(){Vk(e,false)},disable:function(){Vk(e,true)},isDisabled:function(){return KS.isDisabled(i)}}
return{iframeContainer:s.element.dom,editorContainer:i.element.dom,api:m}}
var cW=Object.freeze({__proto__:null,render:uW})
var sW=function(t){var e=/^[0-9\.]+(|px)$/i
if(e.test(""+t))return I.some(parseInt(""+t,10))
return I.none()}
var lW=function(t){return d(t)?t+"px":t}
var fW=function(t,e,n){var r=e.filter((function(e){return t<e}))
var o=n.filter((function(e){return t>e}))
return r.or(o).getOr(t)}
var vW=function(t){var e=tk(t)
var n=rk(t)
var r=ak(t)
return sW(e).map((function(t){return fW(t,n,r)}))}
var dW=function(t){var e=vW(t)
return e.getOr(tk(t))}
var mW=function(t){var e=ek(t)
var n=nk(t)
var r=ok(t)
return sW(e).map((function(t){return fW(t,n,r)}))}
var hW=function(t){var e=mW(t)
return e.getOr(ek(t))}
var gW=function(t,e,n,r,o){var a=n.uiMothership,i=n.outerContainer
var u=MS.DOM
var c=kk(t)
var s=Ok(t)
var l=ok(t).or(mW(t))
var f=r.shared.header
var v=f.isPositionedAtTop
var d=hk(t)
var m=d===mk.sliding||d===mk.floating
var h=Kn(false)
var g=function(){return h.get()&&!t.removed}
var p=function(t){return m?t.fold((function(){return 0}),(function(t){return t.components().length>1?Sc(t.components()[1].element):0})):0}
var b=function(n){switch(bk(t)){case gk.auto:var r=UU.getToolbar(i)
var o=p(r)
var a=Sc(n.element)-o
var u=os(e)
var c=u.y>a
if(c)return"top"
var s=Ua(e)
var l=Math.max(s.dom.scrollHeight,Sc(s))
var f=u.bottom<l-a
if(f)return"bottom"
var v=is()
var d=v.bottom<u.bottom-a
return d?"bottom":"top"
case gk.bottom:return"bottom"
case gk.top:default:return"top"}}
var y=function(t){var e=o.get()
Uj.setModes(e,[t])
f.setDockingMode(t)
var n=v()?Nf.TopToBottom:Nf.BottomToTop
Si(e.element,Ff,n)}
var w=function(){var t=l.getOrThunk((function(){var t=sW(Ju(qu(),"margin-left")).getOr(0)
return Ic(qu())-Ac(e).left+t}))
Ku(o.get().element,"max-width",t+"px")}
var x=function(){var t=UU.getToolbar(i)
var n=p(t)
var r=os(e)
var a=v()?Math.max(r.y-Sc(o.get().element)+n,0):r.bottom
Zu(i.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(r.x)+"px"})}
var C=function(){a.broadcastOn([mm()],{})}
var S=function(t){void 0===t&&(t=false)
if(!g())return
c||w()
m&&UU.refreshToolbar(i)
c||x()
if(s){var e=o.get()
t?Uj.reset(e):Uj.refresh(e)}C()}
var k=function(t){void 0===t&&(t=true)
if(c||!s||!g())return
var e=f.getDockingMode()
var n=b(o.get())
if(n!==e){y(n)
t&&S(true)}}
var T=function(){h.set(true)
Ku(i.element,"display","flex")
u.addClass(t.getBody(),"mce-edit-focus")
rc(a.element,"display")
k(false)
S()}
var _=function(){h.set(false)
if(n.outerContainer){Ku(i.element,"display","none")
u.removeClass(t.getBody(),"mce-edit-focus")}Ku(a.element,"display","none")}
return{isVisible:g,isPositionedAtTop:v,show:T,hide:_,update:S,updateMode:k,repositionPopups:C}}
var pW=function(t,e){var n=os(t)
return{pos:e?n.y:n.bottom,bounds:n}}
var bW=function(t,e,n,r){var o=Kn(pW(e,n.isPositionedAtTop()))
var a=function(r){var a=pW(e,n.isPositionedAtTop()),i=a.pos,u=a.bounds
var c=o.get(),s=c.pos,l=c.bounds
var f=u.height!==l.height||u.width!==l.width
o.set({pos:i,bounds:u})
f&&t_(t,r)
if(n.isVisible())if(s!==i)n.update(true)
else if(f){n.updateMode()
n.repositionPopups()}}
if(!r){t.on("activate",n.show)
t.on("deactivate",n.hide)}t.on("SkinLoaded ResizeWindow",(function(){return n.update(true)}))
t.on("NodeChange keydown",(function(t){Kw.requestAnimationFrame((function(){return a(t)}))}))
t.on("ScrollWindow",(function(){return n.updateMode()}))
var i=CV()
i.set(mO(er.fromDom(t.getBody()),"load",a))
t.on("remove",(function(){i.clear()}))}
var yW=function(t,e,n,r,o){var a=e.mothership,i=e.uiMothership,u=e.outerContainer
var c=Kn(null)
var s=er.fromDom(o.targetNode)
var l=gW(t,s,e,r,c)
var f=Ck(t)
nW(t)
var v=function(){if(c.get()){l.show()
return}c.set(UU.getHeader(u).getOrDie())
var o=Tk(t)
Ud(o,a)
Ud(o,i)
rW(t,e,n,r)
UU.setMenubar(u,XU(t,n))
l.show()
bW(t,s,l,f)
t.nodeChanged()}
t.on("show",v)
t.on("hide",l.hide)
if(!f){t.on("focus",v)
t.on("blur",l.hide)}t.on("init",(function(){(t.hasFocus()||f)&&v()}))
jk(t,e)
var d={show:function(){l.show()},hide:function(){l.hide()},enable:function(){Vk(e,false)},disable:function(){Vk(e,true)},isDisabled:function(){return KS.isDisabled(u)}}
return{editorContainer:u.element.dom,api:d}}
var wW=Object.freeze({__proto__:null,render:yW})
var xW=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}]
LD.each(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:kV(t,e.name)})}))
var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"}
t.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return t.execCommand(n.cmd)},icon:n.icon})}
var CW=function(t,e){nV(t,e)
sV(t,e)
DV(t,e)
MV(t,e)
bV(t,e)}
var SW=function(t,e){t.setDisabled(!e.queryCommandState("outdent"))
var n=function(){t.setDisabled(!e.queryCommandState("outdent"))}
e.on("NodeChange",n)
return function(){return e.off("NodeChange",n)}}
var kW=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return SW(e,t)},onAction:function(){return t.execCommand("outdent")}})
t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}
var TW=function(t){kW(t)}
var _W={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var OW=(EW="[0-9]+",MW="[+-]?"+EW,AW="[eE]"+MW,zW="\\.",DW=function(t){return"(?:"+t+")?"},RW=["Infinity",EW+zW+DW(EW)+DW(AW),zW+EW+DW(AW),EW+DW(AW)].join("|"),IW="[+-]?(?:"+RW+")",new RegExp("^("+IW+")(.*)$"))
var EW,MW,AW,zW,DW,RW,IW
var HW=function(t,e){return V(e,(function(e){return V(_W[e],(function(e){return t===e}))}))}
var LW=function(t,e){var n=I.from(OW.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return HW(r,e)?I.some({value:n,unit:r}):I.none()}))}
var BW=function(t,e){return LW(t,e).map((function(t){var e=t.value,n=t.unit
return e+n}))}
var PW=function(t){return BW(t,["fixed","relative","empty"]).getOr(t)}
var NW=function(t){var e=ck(t)
var n=new Map
var r=xV()
var o=function(){var e=PW(t.queryCommandValue("LineHeight"))
I.from(n.get(e)).fold((function(){return r.clear()}),(function(t){r.set({destroy:function(){t.setActive(false)}})
t.setActive(true)}))}
t.on("nodeChange",o)
return W(e,(function(a,i){return{type:"togglemenuitem",text:a,onSetup:function(u){n.set(PW(a),u)
i+1===e.length&&o()
return function(){if(0===i){t.off("nodeChange",o)
r.clear()}}},onAction:function(){return t.execCommand("LineHeight",false,a)}}}))}
var FW=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return NW(t)}})}
var VW=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(e){return e(NW(t))}})}
var jW=function(t){FW(t)
VW(t)}
var UW=function(t,e){return function(){t.execCommand("mceToggleFormat",false,e)}}
var WW=function(t){LD.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:kV(t,e.name),onAction:UW(t,e.name)})}))
for(var e=1;e<=6;e++){var n="h"+e
t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:kV(t,n),onAction:UW(t,n)})}}
var qW=function(t){LD.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}
var GW=function(t){LD.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:kV(t,e.name)})}))}
var $W=function(t){WW(t)
qW(t)
GW(t)}
var XW=function(t){LD.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})}))
t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:UW(t,"code")})}
var KW=function(t){$W(t)
XW(t)}
var ZW=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()}
var o=function(){t.setDisabled(e.mode.isReadOnly()||!r())}
t.setDisabled(!r())
e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)
return function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}}
var YW=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return ZW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return ZW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var JW=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return ZW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return ZW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var QW=function(t){YW(t)
JW(t)}
var tq=function(t,e){t.setActive(e.hasVisual)
var n=function(e){t.setActive(e.hasVisual)}
e.on("VisualAid",n)
return function(){return e.off("VisualAid",n)}}
var eq=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return tq(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}
var nq=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}
var rq=function(t){nq(t)
eq(t)}
var oq=function(t,e){xW(t)
KW(t)
CW(t,e)
QW(t)
A_(t)
rq(t)
TW(t)
jW(t)}
var aq=function(t,e){return{anchor:"makeshift",x:t,y:e}}
var iq=function(t,e,n){return aq(t.x+e,t.y+n)}
var uq=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")}
var cq=function(t){if(uq(t)){var e=t.touches[0]
return aq(e.pageX,e.pageY)}return aq(t.pageX,t.pageY)}
var sq=function(t){if(uq(t)){var e=t.touches[0]
return aq(e.clientX,e.clientY)}return aq(t.clientX,t.clientY)}
var lq=function(t,e){var n=MS.DOM.getPos(t)
return iq(e,n.x,n.y)}
var fq=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?cq(e):lq(t.getContentAreaContainer(),sq(e)):vq(t)}
var vq=function(t){return{anchor:"selection",root:er.fromDom(t.selection.getNode())}}
var dq=function(t){return{anchor:"node",node:I.some(er.fromDom(t.selection.getNode())),root:er.fromDom(t.getBody())}}
var mq=function(t,e,n,r,o,a){var i=n()
var u=a?dq(t):fq(t,e)
DI(i,uC.CLOSE_ON_EXECUTE,r,false).map((function(t){e.preventDefault()
Bw.showMenuAt(o,u,{menu:{markers:DC("normal")},data:t})}))}
var hq={onLtr:function(){return[yl,ml,hl,gl,pl,bl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[yl,hl,ml,pl,gl,bl,$w,Xw,Gw,Ww,qw,Uw]}}
var gq=12
var pq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var bq=function(t,e){var n=t.selection
if(n.isCollapsed()||e.touches.length<1)return false
var r=e.touches[0]
var o=n.getRng()
var a=rd(t.getWin(),Ov.domRange(o))
return a.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))}
var yq=function(t,e){return O({bubble:If(0,gq,pq),layouts:hq,overrides:{maxWidthFunction:fP(),maxHeightFunction:Mf()}},fq(t,e))}
var wq=function(t){var e=t.selection.getRng()
var n=function(){Kw.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10)
a()}
t.once("touchend",n)
var r=function(t){t.preventDefault()
t.stopImmediatePropagation()}
t.on("mousedown",r,true)
var o=function(){return a()}
t.once("longpresscancel",o)
var a=function(){t.off("touchend",n)
t.off("longpresscancel",o)
t.off("mousedown",r)}}
var xq=function(t,e,n,r,o,a,i){var u=a?dq(t):yq(t,e)
DI(n,uC.CLOSE_ON_EXECUTE,r,true).map((function(n){e.preventDefault()
Bw.showMenuWithinBounds(o,u,{menu:{markers:DC("normal"),highlightImmediately:i},data:n,type:"horizontal"},(function(){return I.some(DF(t,r.shared))}))
t.fire(dP)}))}
var Cq=function(t,e,n,r,o,a){var i=$r()
var u=i.os.isiOS()
var c=i.os.isOSX()
var s=i.os.isAndroid()
var l=i.deviceType.isTouch()
var f=function(){return!(s||u||c&&l)}
var v=function(){var i=n()
xq(t,e,i,r,o,a,f())}
if(!c&&!u||a){s&&!a&&t.selection.setCursorLocation(e.target,0)
v()}else{var d=function(){wq(t)
v()}
if(bq(t,e))d()
else{t.once("selectionchange",d)
t.once("touchend",(function(){return t.off("selectionchange",d)}))}}}
var Sq=function(t){return"string"===typeof t?t.split(/[ ,]/):t}
var kq=function(t){return t.getParam("contextmenu_never_use_native",false,"boolean")}
var Tq=function(t,e,n){var r=t.ui.registry.getAll().contextMenus
return I.from(t.getParam(e)).map(Sq).getOrThunk((function(){return X(Sq(n),(function(t){return Ft(r,t)}))}))}
var _q=function(t){return false===t.getParam("contextmenu")}
var Oq=function(t){return Tq(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")}
var Eq=function(t){return t.getParam("contextmenu_avoid_overlap","","string")}
var Mq=function(t){return a(t)?"|"===t:"separator"===t.type}
var Aq={type:"separator"}
var zq=function(t){var e=function(t){return{text:t.text,icon:t.icon,disabled:t.disabled,shortcut:t.shortcut}}
if(a(t))return t
switch(t.type){case"separator":return Aq
case"submenu":return O(O({type:"nestedmenuitem"},e(t)),{getSubmenuItems:function(){var e=t.getSubmenuItems()
return a(e)?e:W(e,zq)}})
default:return O(O({type:"menuitem"},e(t)),{onAction:g(t.onAction)})}}
var Dq=function(t,e){if(0===e.length)return t
var n=st(t).filter((function(t){return!Mq(t)}))
var r=n.fold((function(){return[]}),(function(t){return[Aq]}))
return t.concat(r).concat(e).concat([Aq])}
var Rq=function(t,e,n){var r=Z(e,(function(e,r){return Nt(t,r.toLowerCase()).map((function(t){var r=t.update(n)
if(a(r))return Dq(e,r.split(" "))
if(r.length>0){var o=W(r,zq)
return Dq(e,o)}return e})).getOrThunk((function(){return e.concat([r])}))}),[])
r.length>0&&Mq(r[r.length-1])&&r.pop()
return r}
var Iq=function(t,e){return e.ctrlKey&&!kq(t)}
var Hq=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}
var Lq=function(t,e){return Hq(t,e)?t.selection.getStart(true):e.target}
var Bq=function(t,e){var n=Eq(t)
if(Hq(t,e))return true
if(n){var r=Lq(t,e)
return gO(er.fromDom(r),n)}return false}
var Pq=function(t,e,n){var r=$r()
var o=r.deviceType.isTouch
var a=yc(Bw.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(true)},onHide:function(){return n.setContextMenuState(false)},fireDismissalEventInstead:{},inlineBehaviours:Nl([Sy("dismissContextMenu",[wa(na(),(function(e,n){vm.close(e)
t.focus()}))])])}))
var i=function(t){return Bw.hide(a)}
var u=function(e){kq(t)&&e.preventDefault()
if(Iq(t,e)||_q(t))return
var r=Bq(t,e)
var i=function(){var n=Lq(t,e)
var r=t.ui.registry.getAll()
var o=Oq(t)
return Rq(r.contextMenus,o,n)}
var u=o()?Cq:mq
u(t,e,i,n,a,r)}
t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow")
t.on(e,i)
t.on("longpress contextmenu",u)}))}
var Nq=Ut.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}])
var Fq=function(t){return function(e){return e.translate(-t.left,-t.top)}}
var Vq=function(t){return function(e){return e.translate(t.left,t.top)}}
var jq=function(t){return function(e,n){return Z(t,(function(t,e){return e(t)}),Oc(e,n))}}
var Uq=function(t,e,n){return t.fold(jq([Vq(n),Fq(e)]),jq([Fq(e)]),jq([]))}
var Wq=function(t,e,n){return t.fold(jq([Vq(n)]),jq([]),jq([Vq(e)]))}
var qq=function(t,e,n){return t.fold(jq([]),jq([Fq(n)]),jq([Vq(e),Fq(n)]))}
var Gq=function(t,e,n,r,o,a){var i=Wq(t,o,a)
var u=Wq(e,o,a)
return Math.abs(i.left-u.left)<=n&&Math.abs(i.top-u.top)<=r}
var $q=function(t,e,n,r,o,a){var i=Wq(t,o,a)
var u=Wq(e,o,a)
var c=Math.abs(i.left-u.left)
var s=Math.abs(i.top-u.top)
return Oc(c,s)}
var Xq=function(t,e,n){var r=t.fold((function(t,e){return{position:I.some("absolute"),left:I.some(t+"px"),top:I.some(e+"px")}}),(function(t,e){return{position:I.some("absolute"),left:I.some(t-n.left+"px"),top:I.some(e-n.top+"px")}}),(function(t,e){return{position:I.some("fixed"),left:I.some(t+"px"),top:I.some(e+"px")}}))
return O({right:I.none(),bottom:I.none()},r)}
var Kq=function(t,e,n){return t.fold((function(t,r){return Yq(t+e,r+n)}),(function(t,r){return Jq(t+e,r+n)}),(function(t,r){return Qq(t+e,r+n)}))}
var Zq=function(t,e,n,r){var o=function(t,o){return function(a,i){var u=t(e,n,r)
return o(a.getOr(u.left),i.getOr(u.top))}}
return t.fold(o(qq,Yq),o(Wq,Jq),o(Uq,Qq))}
var Yq=Nq.offset
var Jq=Nq.absolute
var Qq=Nq.fixed
var tG=function(t,e){var n=Ti(t,e)
return s(n)?NaN:parseInt(n,10)}
var eG=function(t,e){var n=t.element
var r=tG(n,e.leftAttr)
var o=tG(n,e.topAttr)
return isNaN(r)||isNaN(o)?I.none():I.some(Oc(r,o))}
var nG=function(t,e,n){var r=t.element
Si(r,e.leftAttr,n.left+"px")
Si(r,e.topAttr,n.top+"px")}
var rG=function(t,e){var n=t.element
Ei(n,e.leftAttr)
Ei(n,e.topAttr)}
var oG=function(t,e,n,r){return eG(t,e).fold((function(){return n}),(function(t){return Qq(t.left+r.left,t.top+r.top)}))}
var aG=function(t,e,n,r,o,a){var i=oG(t,e,n,r)
var u=e.mustSnap?cG(t,e,i,o,a):sG(t,e,i,o,a)
var c=Uq(i,o,a)
nG(t,e,c)
return u.fold((function(){return{coord:Qq(c.left,c.top),extra:I.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))}
var iG=function(t,e){rG(t,e)}
var uG=function(t,e,n,r){return ft(t,(function(t){var o=t.sensor
var a=Gq(e,o,t.range.left,t.range.top,n,r)
return a?I.some({output:Zq(t.output,e,n,r),extra:t.extra}):I.none()}))}
var cG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
var i=uG(a,n,r,o)
return i.orThunk((function(){var t=Z(a,(function(t,e){var a=e.sensor
var i=$q(n,a,e.range.left,e.range.top,r,o)
return t.deltas.fold((function(){return{deltas:I.some(i),snap:I.some(e)}}),(function(n){var r=(i.left+i.top)/2
var o=(n.left+n.top)/2
return r<=o?{deltas:I.some(i),snap:I.some(e)}:t}))}),{deltas:I.none(),snap:I.none()})
return t.snap.map((function(t){return{output:Zq(t.output,n,r,o),extra:t.extra}}))}))}
var sG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
return uG(a,n,r,o)}
var lG=function(t,e,n){return{coord:Zq(t.output,t.output,e,n),extra:t.extra}}
var fG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Va(t.element)
var i=Wc(a)
var u=vj(o)
var c=lG(r,i,u)
var s=Xq(c.coord,i,u)
Yu(o,s)}}
var vG=Object.freeze({__proto__:null,snapTo:fG})
var dG="data-initial-z-index"
var mG=function(t){qa(t.element).filter(Ba).each((function(t){_i(t,dG).fold((function(){return rc(t,"z-index")}),(function(e){return Ku(t,"z-index",e)}))
Ei(t,dG)}))}
var hG=function(t){qa(t.element).filter(Ba).each((function(e){tc(e,"z-index").each((function(t){Si(e,dG,t)}))
Ku(e,"z-index",Ju(t.element,"z-index"))}))}
var gG=function(t,e){t.getSystem().addToGui(e)
hG(e)}
var pG=function(t){mG(t)
t.getSystem().removeFromGui(t)}
var bG=function(t,e,n){return t.getSystem().build(WO.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))}
var yG=Ln("snaps",[yn("getSnapPoints"),Bs("onSensor"),yn("leftAttr"),yn("topAttr"),Pn("lazyViewport",is),Pn("mustSnap",false)])
var wG=[Pn("useFixed",k),yn("blockerClass"),Pn("getTarget",w),Pn("onDrag",h),Pn("repositionTarget",true),Pn("onDrop",h),Wn("getBounds",is),yG]
var xG=function(t){return fg(tc(t,"left"),tc(t,"top"),tc(t,"position"),(function(t,e,n){var r="fixed"===n?Qq:Yq
return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Ac(t)
return Jq(e.left,e.top)}))}
var CG=function(t,e,n,r,o){var a=o.bounds
var i=Wq(e,n,r)
var u=gf(i.left,a.x,a.x+a.width-o.width)
var c=gf(i.top,a.y,a.y+a.height-o.height)
var s=Jq(u,c)
return e.fold((function(){var t=qq(s,n,r)
return Yq(t.left,t.top)}),(function(){return s}),(function(){var t=Uq(s,n,r)
return Qq(t.left,t.top)}))}
var SG=function(t,e,n,r,o,a,i){var u=e.fold((function(){var t=Kq(n,a.left,a.top)
var e=Uq(t,r,o)
return Qq(e.left,e.top)}),(function(e){var i=aG(t,e,n,a,r,o)
i.extra.each((function(n){e.onSensor(t,n)}))
return i.coord}))
return CG(t,u,r,o,i)}
var kG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Va(t.element)
var i=Wc(a)
var u=vj(o)
var c=xG(o)
var s=SG(t,e.snaps,c,i,u,r,n)
var l=Xq(s,i,u)
Yu(o,l)}e.onDrag(t,o,r)}
var TG=function(t,e){return{bounds:t.getBounds(),height:kc(e.element),width:Hc(e.element)}}
var _G=function(t,e,n,r,o){var a=n.update(r,o)
var i=n.getStartData().getOrThunk((function(){return TG(e,t)}))
a.each((function(n){kG(t,e,i,n)}))}
var OG=function(t,e,n,r){e.each(pG)
n.snaps.each((function(e){iG(t,e)}))
var o=n.getTarget(t.element)
r.reset()
n.onDrop(t,o)}
var EG=function(t){return function(e,n){var r=function(t){n.setStartData(TG(e,t))}
return ga(M([wa(Jo(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}}
var MG=function(t){return ga([wa(So(),t.forceDrop),wa(_o(),t.drop),wa(ko(),(function(e,n){t.move(n.event)})),wa(To(),t.delayDrop)])}
var AG=function(t){return I.from(Oc(t.x,t.y))}
var zG=function(t,e){return Oc(e.left-t.left,e.top-t.top)}
var DG=Object.freeze({__proto__:null,getData:AG,getDelta:zG})
var RG=function(t,e,n){return[wa(So(),(function(r,o){var a=o.event.raw
if(0!==a.button)return
o.stop()
var i=function(){return OG(r,I.some(s),t,e)}
var u=pO(i,200)
var c={drop:i,delayDrop:u.schedule,forceDrop:i,move:function(n){u.cancel()
_G(r,t,e,DG,n)}}
var s=bG(r,t.blockerClass,MG(c))
var l=function(){n(r)
gG(r,s)}
l()}))]}
var IG=M(wG,[Vs("dragger",{handlers:EG(RG)})])
var HG=function(t){return ga([wa(yo(),t.forceDrop),wa(xo(),t.drop),wa(Co(),t.drop),wa(wo(),(function(e,n){t.move(n.event)}))])}
var LG=function(t){var e=t[0]
return I.some(Oc(e.clientX,e.clientY))}
var BG=function(t){var e=t.raw
var n=e.touches
return 1===n.length?LG(n):I.none()}
var PG=function(t,e){return Oc(e.left-t.left,e.top-t.top)}
var NG=Object.freeze({__proto__:null,getData:BG,getDelta:PG})
var FG=function(t,e,n){var r=Kn(I.none())
return[wa(yo(),(function(o,a){a.stop()
var i=function(){OG(o,r.get(),t,e)
r.set(I.none())}
var u={drop:i,delayDrop:h,forceDrop:i,move:function(n){_G(o,t,e,NG,n)}}
var c=bG(o,t.blockerClass,HG(u))
r.set(I.some(c))
var s=function(){n(o)
gG(o,c)}
s()})),wa(wo(),(function(n,r){r.stop()
_G(n,t,e,NG,r.event)})),wa(xo(),(function(n,o){o.stop()
OG(n,r.get(),t,e)
r.set(I.none())})),wa(Co(),(function(n){OG(n,r.get(),t,e)
r.set(I.none())}))]}
var VG=M(wG,[Vs("dragger",{handlers:EG(FG)})])
var jG=function(t,e,n){return M(RG(t,e,n),FG(t,e,n))}
var UG=M(wG,[Vs("dragger",{handlers:EG(jG)})])
var WG=IG
var qG=VG
var GG=UG
var $G=Object.freeze({__proto__:null,mouse:WG,touch:qG,mouseOrTouch:GG})
var XG=function(){var t=I.none()
var e=I.none()
var n=function(){t=I.none()
e=I.none()}
var r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}))
t=I.some(n)
return r}
var o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))}
var a=function(t){e=I.some(t)}
var i=function(){return e}
var u=y({})
return ou({readState:u,reset:n,update:o,getStartData:i,setStartData:a})}
var KG=Object.freeze({__proto__:null,init:XG})
var ZG=Ul({branchKey:"mode",branches:$G,name:"dragging",active:{events:function(t,e){var n=t.dragger
return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:I.from(t.extra)}}},state:KG,apis:vG})
var YG=40
var JG=YG/2
var QG=function(t,e,n,r,o,a){return t.fold((function(){return ZG.snap({sensor:Jq(n-JG,r-JG),range:Oc(o,a),output:Jq(I.some(n),I.some(r)),extra:{td:e}})}),(function(t){var o=n-JG
var a=r-JG
var i=YG
var u=YG
var c=t.element.dom.getBoundingClientRect()
return ZG.snap({sensor:Jq(o,a),range:Oc(i,u),output:Jq(I.some(n-c.width/2),I.some(r-c.height/2)),extra:{td:e}})}))}
var t$=function(t,e,n){var r=function(t,e){return t.exists((function(t){return oo(t,e)}))}
return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var a=o.td
if(!r(e.get(),a)){e.set(I.some(a))
n(a)}},mustSnap:true}}
var e$=function(t){return Jw(Yw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Nl([ZG.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),xM.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}
var n$=function(t,e){var n=Kn([])
var r=Kn([])
var o=Kn(false)
var a=Kn(I.none())
var i=Kn(I.none())
var u=function(t){var n=as(t)
return QG(d.getOpt(e),t,n.x,n.y,n.width,n.height)}
var c=function(){return W(n.get(),(function(t){return u(t)}))}
var s=function(t){var n=as(t)
return QG(m.getOpt(e),t,n.right,n.bottom,n.width,n.height)}
var l=function(){return W(r.get(),(function(t){return s(t)}))}
var f=t$(c,a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))}))
var v=t$(l,i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))}))
var d=e$(f)
var m=e$(v)
var h=yc(d.asSpec())
var g=yc(m.asSpec())
var p=function(e,n,r,o){var a=n.dom.getBoundingClientRect()
rc(e.element,"display")
var i=Wa(er.fromDom(t.getBody())).dom.innerHeight
var u=r(a)
var c=o(a,i);(u||c)&&Ku(e.element,"display","none")}
var b=function(t,e,n,r){var o=n(e)
ZG.snapTo(t,o)
var a=function(t){return t[r]<0}
var i=function(t,e){return t[r]>e}
p(t,e,a,i)}
var y=function(t){return b(h,t,u,"top")}
var w=function(){return a.get().each(y)}
var x=function(t){return b(g,t,s,"bottom")}
var C=function(){return i.get().each(x)}
if($r().deviceType.isTouch()){t.on("TableSelectionChange",(function(t){if(!o.get()){Pd(e,h)
Pd(e,g)
o.set(true)}a.set(I.some(t.start))
i.set(I.some(t.finish))
t.otherCells.each((function(e){n.set(e.upOrLeftCells)
r.set(e.downOrRightCells)
y(t.start)
x(t.finish)}))}))
t.on("ResizeEditor ResizeWindow ScrollContent",(function(){w()
C()}))
t.on("TableSelectionClear",(function(){if(o.get()){Vd(h)
Vd(g)
o.set(false)}a.set(I.none())
i.set(I.none())}))}}
var r$=function(t){if(1===t.nodeType){if("BR"===t.nodeName||!!t.getAttribute("data-mce-bogus"))return true
if("bookmark"===t.getAttribute("data-mce-type"))return true}return false}
var o$=function(t,e,n){e.delimiter||(e.delimiter="»")
var r=function(r){var o=r||[]
var a=W(o,(function(e,r){return Yw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus()
t.selection.select(e.element)
t.nodeChanged()},buttonBehaviours:Nl([Xk.button(n.isDisabled),Uk()])})}))
var i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true},innerHtml:" "+e.delimiter+" "}}
return Z(a.slice(1),(function(t,e){var n=t
n.push(i)
n.push(e)
return n}),[a[0]])}
var o=function(e){var n=[]
var r=e.length
while(r-- >0){var o=e[r]
if(1===o.nodeType&&!r$(o)){var a=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o})
a.isDefaultPrevented()||n.push({name:a.name,element:o})
if(a.isPropagationStopped())break}}return n}
return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Nl([fy.config({mode:"flow",selector:"div[role=button]"}),KS.config({disabled:n.isDisabled}),Uk(),tE.config({}),xy.config({}),Sy("elementPathEvents",[Aa((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return fy.focusIn(e)}))
t.on("NodeChange",(function(t){var n=o(t.parents)
n.length>0?xy.set(e,r(n)):xy.set(e,[])}))}))])]),components:[]}}
var a$;(function(t){t[t["None"]=0]="None"
t[t["Both"]=1]="Both"
t[t["Vertical"]=2]="Vertical"})(a$||(a$={}))
var i$=function(t,e,n,r,o){var a={}
a.height=fW(r+e.top,rk(t),ak(t))
n===a$.Both&&(a.width=fW(o+e.left,nk(t),ok(t)))
return a}
var u$=function(t,e,n){var r=er.fromDom(t.getContainer())
var o=i$(t,e,n,Sc(r),Ic(r))
At(o,(function(t,e){return Ku(r,e,lW(t))}))
QT(t)}
var c$=function(t){var e=!t.hasPlugin("autoresize")
var n=t.getParam("resize",e)
return false===n?a$.None:"both"===n?a$.Both:a$.Vertical}
var s$=function(t,e,n,r){var o=20
var a=Oc(n*o,r*o)
u$(t,a,e)
return I.some(true)}
var l$=function(t,e){var n=c$(t)
if(n===a$.None)return I.none()
return I.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize")},innerHtml:tx("resize-handle",e.icons)},behaviours:Nl([ZG.config({mode:"mouse",repositionTarget:false,onDrag:function(e,r,o){return u$(t,o,n)},blockerClass:"tox-blocker"}),fy.config({mode:"special",onLeft:function(){return s$(t,n,-1,0)},onRight:function(){return s$(t,n,1,0)},onUp:function(){return s$(t,n,0,-1)},onDown:function(){return s$(t,n,0,1)}}),tE.config({}),Dy.config({})])})}
var f$=function(t,e){var n
var r=function(t,n,r){return xy.set(t,[gc(e.translate(["{0} "+r,n[r]]))])}
return Yw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Nl([Xk.button(e.isDisabled),Uk(),tE.config({}),xy.config({}),Xm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Sy("wordcount-events",[Ra((function(t){var e=Xm.getValue(t)
var n="words"===e.mode?"characters":"words"
Xm.setValue(t,{mode:n,count:e.count})
r(t,e.count,n)})),Aa((function(e){t.on("wordCountUpdate",(function(t){var n=Xm.getValue(e).mode
Xm.setValue(e,{mode:n,count:t.wordCount})
r(e,t.wordCount,n)}))}))])]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}
var v$=function(t,e){var n=function(){var t=AS.translate(["Powered by {0}","Tiny"])
var e='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>"
return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:e}}}
var r=function(){var r=[]
t.getParam("elementpath",true,"boolean")&&r.push(o$(t,{},e))
t.hasPlugin("wordcount")&&r.push(f$(t,e))
t.getParam("branding",true,"boolean")&&r.push(n())
if(r.length>0)return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]
return[]}
var o=function(){var n=r()
var o=l$(t,e)
return n.concat(o.toArray())}
return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}}
var d$=function(t){var e
var n=t.inline
var r=n?wW:cW
var o=Ok(t)?oU:lj
var a=I.none()
var i=$r()
var u=i.browser.isIE()
var c=u?["tox-platform-ie"]:[]
var s=i.deviceType.isTouch()
var l="tox-platform-touch"
var f=s?[l]:[]
var v=yk(t)
var d=Tk(t)
var m=AS.isRtl()?{attributes:{dir:"rtl"}}:{}
var g={attributes:(e={},e[Ff]=v?Nf.BottomToTop:Nf.TopToBottom,e)}
var p=function(){return a.bind(UU.getHeader)}
var b=function(){return o.isDocked(p)}
var y=function(){Ku(J.element,"width",document.body.clientWidth+"px")}
var w=function(){var t=oo(qu(),d)&&"grid"===Ju(d,"display")
var e={dom:O({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(f)},m),behaviours:Nl([Dd.config({useFixed:function(){return b()}})])}
var n={dom:{styles:{width:document.body.clientWidth+"px"}},events:ga([wa(Qo(),y)])}
return Xt(e,t?n:{})}
var x=yc(w())
var C=function(){return ht.value(x)}
var S=Jw({dom:{tag:"div",classes:["tox-anchorbar"]}})
var k=function(){return a.bind((function(t){return S.getOpt(t)})).getOrDie("Could not find a anchor bar element")}
var T=function(){return a.bind((function(t){return UU.getToolbar(t)})).getOrDie("Could not find more toolbar element")}
var _=function(){return a.bind((function(t){return UU.getThrobber(t)})).getOrDie("Could not find throbber element")}
var E=lP(x,t,k)
var M=UU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:E,onEscape:function(){t.focus()}})
var A=hk(t)
var z=UU.parts.toolbar(O({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:E.shared.providers,onEscape:function(){t.focus()},type:A,lazyToolbar:T,lazyHeader:function(){return p().getOrDie("Could not find header element")}},g))
var D=UU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:E.shared.providers,onEscape:function(){t.focus()},type:A})
var R=UU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}})
var H=UU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})
var L=UU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:E})
var B=t.getParam("statusbar",true,"boolean")
var P=B&&!n?I.some(v$(t,E.shared.providers)):I.none()
var N={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[R,H]}
var F=dk(t)
var V=fk(t)
var j=lk(t)
var U=function(){return F?[D]:V?[z]:[]}
var W=UU.parts.header({dom:O({tag:"div",classes:["tox-editor-header"]},g),components:tt([j?[M]:[],U(),kk(t)?[]:[S.asSpec()]]),sticky:Ok(t),editor:t,sharedBackstage:E.shared})
var q=tt([v?[]:[W],n?[]:[N],v?[W]:[]])
var G={dom:{tag:"div",classes:["tox-editor-container"]},components:q}
var $=tt([[G],n?[]:P.toArray(),[L]])
var X=_k(t)
var K=O(O({role:"application"},AS.isRtl()?{dir:"rtl"}:{}),X?{"aria-hidden":"true"}:{})
var Z=yc(UU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(f).concat(c),styles:O({visibility:"hidden"},X?{opacity:"0",border:"0"}:{}),attributes:K},components:$,behaviours:Nl([Uk(),KS.config({disableClass:"tox-tinymce--disabled"}),fy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}))
a=I.some(Z)
t.shortcuts.add("alt+F9","focus menubar",(function(){UU.focusMenubar(Z)}))
t.shortcuts.add("alt+F10","focus toolbar",(function(){UU.focusToolbar(Z)}))
t.addCommand("ToggleToolbarDrawer",(function(){UU.toggleToolbarDrawer(Z)}))
t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return UU.isToolbarDrawerToggled(Z)}))
var Y=qO(Z)
var J=qO(x)
YV(t,Y,J)
var Q=function(){var t={broadcastAll:J.broadcast,broadcastOn:J.broadcastOn,register:h}
return{channels:t}}
var et=function(){var e=lW(dW(t))
var n=lW(hW(t))
if(!t.inline){nc("div","width",n)&&Ku(Z.element,"width",n)
nc("div","height",e)?Ku(Z.element,"height",e):Ku(Z.element,"height","200px")}return e}
var nt=function(){o.setup(t,E.shared,p)
oq(t,E)
Pq(t,C,E)
pU(t)
RU(t,_,E.shared)
zt(pk(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}))
var e=t.ui.registry.getAll(),n=e.buttons,a=e.menuItems,i=e.contextToolbars,u=e.sidebars
var c=vk(t)
var s={menuItems:a,menus:Mk(t),menubar:Ak(t),toolbar:c.getOrThunk((function(){return zk(t)})),allowToolbarGroups:A===mk.floating,buttons:n,sidebar:u}
ZV(t,i,x,{backstage:E})
n$(t,x)
var l=t.getElement()
var f=et()
var v={mothership:Y,uiMothership:J,outerContainer:Z}
var d={targetNode:l,height:f}
return r.render(t,v,s,E,d)}
return{mothership:Y,uiMothership:J,backstage:E,renderUI:nt,getUi:Q}}
var m$=function(t,e){var n=I.from(Ti(t,"id")).fold((function(){var t=Bi("dialog-describe")
Si(e,"id",t)
return t}),w)
Si(t,"aria-describedby",n)}
var h$=function(t,e){var n=_i(t,"id").fold((function(){var t=Bi("dialog-label")
Si(e,"id",t)
return t}),w)
Si(t,"aria-labelledby",n)}
var g$=y([yn("lazySink"),An("dragBlockClass"),Wn("getBounds",is),Pn("useTabstopAt",T),Pn("eventOrder",{}),Km("modalBehaviours",[fy]),Ps("onExecute"),Fs("onEscape")])
var p$={sketch:w}
var b$=y([Mh({name:"draghandle",overrides:function(t,e){return{behaviours:Nl([ZG.config({mode:"mouse",getTarget:function(t){return vs(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),Oh({schema:[yn("dom")],name:"title"}),Oh({factory:p$,schema:[yn("dom")],name:"close"}),Oh({factory:p$,schema:[yn("dom")],name:"body"}),Mh({factory:p$,schema:[yn("dom")],name:"footer"}),Eh({factory:{sketch:function(t,e){return O(O({},t),{dom:e.dom,components:e.components})}},schema:[Pn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pn("components",[])],name:"blocker"})])
var y$=function(t,e,n,r){Si(t.element,"aria-busy",true)
var o=e.getRoot(t).getOr(t)
var a=Nl([fy.config({mode:"special",onTab:function(){return I.some(true)},onShiftTab:function(){return I.some(true)}}),Dy.config({})])
var i=r(o,a)
var u=o.getSystem().build(i)
xy.append(o,wc(u))
u.hasConfigured(fy)&&fy.focusIn(u)
n.isBlocked()||e.onBlock(t)
n.blockWith((function(){return xy.remove(o,u)}))}
var w$=function(t,e,n){Ei(t.element,"aria-busy")
n.isBlocked()&&e.onUnblock(t)
n.clear()}
var x$=Object.freeze({__proto__:null,block:y$,unblock:w$})
var C$=[Wn("getRoot",I.none),Bs("onBlock"),Bs("onUnblock")]
var S$=function(){var t=xV()
var e=function(e){t.set({destroy:e})}
return ou({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})}
var k$=Object.freeze({__proto__:null,init:S$})
var T$=Vl({fields:C$,name:"blocking",apis:x$,state:k$})
var _$=function(t,e,n,r){var o
var a=Kn(I.none())
var i=function(e){a.set(I.some(e))
var n=t.lazySink(e).getOrDie()
var o=r.blocker()
var i=n.getSystem().build(O(O({},o),{components:o.components.concat([wc(e)]),behaviours:Nl([Dy.config({}),Sy("dialog-blocker-events",[Ma(Eo(),(function(){fy.focusIn(e)}))])])}))
Pd(n,i)
fy.focusIn(e)}
var u=function(t){a.set(I.none())
qa(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){Vd(t)}))}))}
var c=function(e){return Uh(e,t,"body")}
var s=function(e){return Uh(e,t,"footer")}
var l=function(t,e){T$.block(t,e)}
var f=function(t){T$.unblock(t)}
var v=Bi("modal-events")
var d=O(O({},t.eventOrder),(o={},o[ta()]=[v].concat(t.eventOrder["alloy.system.attached"]||[]),o))
return{uid:t.uid,dom:t.dom,components:e,apis:{show:i,hide:u,getBody:c,getFooter:s,setIdle:f,setBusy:l},eventOrder:d,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ym(t.modalBehaviours,[xy.config({}),fy.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),T$.config({getRoot:a.get}),Sy(v,[Aa((function(e){h$(e.element,Uh(e,t,"title").element)
m$(e.element,Uh(e,t,"body").element)}))])])}}
var O$=ug({name:"ModalDialog",configFields:g$(),partFields:b$(),factory:_$,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}})
var E$=Pe([Cn("type"),Cn("name")].concat(JC))
var M$=mn
var A$=[Ge("name","name",ne((function(){return Bi("button-name")})),dn),Rn("icon"),jn("align","end",["start","end"]),Un("primary",false),Un("disabled",false)]
var z$=M(A$,[Cn("text")])
var D$=M([Sn("type",["submit","cancel","custom"])],z$)
var R$=M([Sn("type",["menu"]),Rn("text"),Rn("tooltip"),Rn("icon"),Mn("items",E$)],A$)
var I$=cn("type",{submit:D$,cancel:D$,custom:D$,menu:R$})
var H$=[Cn("type"),Cn("text"),Sn("level",["info","warn","error","success"]),Cn("icon"),Pn("url","")]
var L$=Pe(H$)
var B$=function(t){return[Cn("type"),t]}
var P$=[Cn("type"),Cn("text"),Un("disabled",false),Un("primary",false),Ge("name","name",ne((function(){return Bi("button-name")})),dn),Rn("icon"),Un("borderless",false)]
var N$=Pe(P$)
var F$=[Cn("type"),Cn("name"),Cn("label"),Un("disabled",false)]
var V$=Pe(F$)
var j$=mn
var U$=[Cn("type"),Cn("name")]
var W$=U$.concat([Rn("label")])
var q$=W$.concat([Pn("columns","auto")])
var G$=Pe(q$)
var $$=Ze([Cn("value"),Cn("text"),Cn("icon")])
var X$=W$
var K$=Pe(X$)
var Z$=dn
var Y$=W$
var J$=Pe(Y$)
var Q$=dn
var tX=U$.concat([Vn("tag","textarea"),Cn("scriptId"),Cn("scriptUrl"),qn("settings",void 0)])
var eX=U$.concat([Vn("tag","textarea"),Tn("init")])
var nX=Qe((function(t){return nn("customeditor.old",Be(eX),t).orThunk((function(){return nn("customeditor.new",Be(tX),t)}))}))
var rX=dn
var oX=W$
var aX=Pe(oX)
var iX=Ye()
var uX=function(t){return[Cn("type"),xn("columns"),t]}
var cX=[Cn("type"),Cn("html"),jn("presets","presentation",["presentation","document"])]
var sX=Pe(cX)
var lX=W$.concat([Un("sandboxed",true)])
var fX=Pe(lX)
var vX=dn
var dX=W$.concat([wn("currentState",Pe([yn("blob"),Cn("url")]))])
var mX=Pe(dX)
var hX=W$.concat([Rn("inputMode"),Rn("placeholder"),Un("maximized",false),Un("disabled",false)])
var gX=Pe(hX)
var pX=dn
var bX=function(t){return[Cn("type"),Cn("label"),t]}
var yX=[Cn("text"),Cn("value")]
var wX=[Cn("text"),Mn("items",sn("items",(function(){return xX})))]
var xX=Fe([Pe(yX),Pe(wX)])
var CX=W$.concat([Mn("items",xX),Un("disabled",false)])
var SX=Pe(CX)
var kX=dn
var TX=W$.concat([En("items",[Cn("text"),Cn("value")]),Fn("size",1),Un("disabled",false)])
var _X=Pe(TX)
var OX=dn
var EX=W$.concat([Un("constrain",true),Un("disabled",false)])
var MX=Pe(EX)
var AX=Pe([Cn("width"),Cn("height")])
var zX=[Cn("type"),Mn("header",dn),Mn("cells",Ne(dn))]
var DX=Pe(zX)
var RX=W$.concat([Rn("placeholder"),Un("maximized",false),Un("disabled",false)])
var IX=Pe(RX)
var HX=dn
var LX=W$.concat([jn("filetype","file",["image","media","file"]),Pn("disabled",false)])
var BX=Pe(LX)
var PX=Pe([Cn("value"),Pn("meta",{})])
var NX=function(t){return Ge("items","items",te(),Ne(Qe((function(e){return nn("Checking item of "+t,FX,e).fold((function(t){return ht.error(an(t))}),(function(t){return ht.value(t)}))}))))}
var FX=Je((function(){return un("type",{alertbanner:L$,bar:Pe(B$(NX("bar"))),button:N$,checkbox:V$,colorinput:K$,colorpicker:J$,dropzone:aX,grid:Pe(uX(NX("grid"))),iframe:fX,input:gX,listbox:SX,selectbox:_X,sizeinput:MX,textarea:IX,urlinput:BX,customeditor:nX,htmlpanel:sX,imagetools:mX,collection:G$,label:Pe(bX(NX("label"))),table:DX,panel:jX})}))
var VX=[Cn("type"),Pn("classes",[]),Mn("items",FX)]
var jX=Pe(VX)
var UX=[Ge("name","name",ne((function(){return Bi("tab-name")})),dn),Cn("title"),Mn("items",FX)]
var WX=[Cn("type"),En("tabs",UX)]
var qX=Pe(WX)
var GX=z$
var $X=I$
var XX=Pe([Cn("title"),wn("body",un("type",{panel:jX,tabpanel:qX})),Vn("size","normal"),Mn("buttons",$X),Pn("initialData",{}),Wn("onAction",h),Wn("onChange",h),Wn("onSubmit",h),Wn("onClose",h),Wn("onCancel",h),Pn("onTabChange",h)])
var KX=function(t){return nn("dialog",XX,t)}
var ZX=Pe(M([Sn("type",["cancel","custom"])],GX))
var YX=Pe([Cn("title"),Cn("url"),Dn("height"),Dn("width"),Hn("buttons",ZX),Wn("onAction",h),Wn("onCancel",h),Wn("onClose",h),Wn("onMessage",h)])
var JX=function(t){return nn("dialog",YX,t)}
var QX=function(t){return i(t)?[t].concat(et(Pt(t),QX)):u(t)?et(t,QX):[]}
var tK=function(t){return a(t.type)&&a(t.name)}
var eK={checkbox:j$,colorinput:Z$,colorpicker:Q$,dropzone:iX,input:pX,iframe:vX,sizeinput:AX,selectbox:OX,listbox:kX,size:AX,textarea:HX,urlinput:PX,customeditor:rX,collection:$$,togglemenuitem:M$}
var nK=function(t){return I.from(eK[t.type])}
var rK=function(t){return X(QX(t),tK)}
var oK=function(t){var e=rK(t)
var n=et(e,(function(t){return nK(t).fold((function(){return[]}),(function(e){return[wn(t.name,e)]}))}))
return Pe(n)}
var aK=function(t){var e=rn(KX(t))
var n=oK(t)
var r=t.initialData
return{internalDialog:e,dataValidator:n,initialData:r}}
var iK={open:function(t,e){var n=aK(e)
return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=rn(JX(e))
return t(n)},redial:function(t){return aK(t)}}
var uK=function(t){var e=[]
var n={}
At(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))}))
return e.length>0?ht.error(e):ht.value(n)}
var cK=function(t,e){var n=Jw(pD.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:W(t.items,(function(t){return $L(n,t,e)}))}})))
return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Nl([fy.config({mode:"acyclic",useTabstopAt:C(eR)}),ED.memento(n),WD.memento(n,{postprocess:function(t){return uK(t).fold((function(t){console.error(t)
return{}}),(function(t){return t}))}})])}}
var sK=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Qy(t.action),behaviours:Ym(t.tabButtonBehaviours,[Dy.config({}),fy.config({mode:"execution",useSpace:true,useEnter:true}),Xm.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}
var lK=ig({name:"TabButton",configFields:[Pn("uid",void 0),yn("value"),Ge("dom","dom",re((function(){return{attributes:{role:"tab",id:Bi("aria"),"aria-selected":"false"}}})),ln()),An("action"),Pn("domModification",{}),Km("tabButtonBehaviours",[Dy,fy,Xm]),yn("view")],factory:sK})
var fK=y([yn("tabs"),yn("dom"),Pn("clickToDismiss",false),Km("tabbarBehaviours",[Pg,fy]),Hs(["tabClass","selectedClass"])])
var vK=Ah({factory:lK,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){Pg.dehighlight(t,e)
fa(t,ua(),{tabbar:t,button:e})}
var n=function(t,e){Pg.highlight(t,e)
fa(t,ia(),{tabbar:t,button:e})}
return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie()
var a=Pg.isHighlighted(o,r)
var i=a&&t.clickToDismiss?e:a?h:n
i(o,r)},domModification:{classes:[t.markers.tabClass]}}}})
var dK=y([vK])
var mK=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ym(t.tabbarBehaviours,[Pg.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){Si(e.element,"aria-selected","true")},onDehighlight:function(t,e){Si(e.element,"aria-selected","false")}}),fy.config({mode:"flow",getInitial:function(t){return Pg.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:true})])}}
var hK=ug({name:"Tabbar",configFields:fK(),partFields:dK(),factory:mK})
var gK=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Ym(t.tabviewBehaviours,[xy.config({})]),domModification:{attributes:{role:"tabpanel"}}}}
var pK=ig({name:"Tabview",configFields:[Km("tabviewBehaviours",[xy])],factory:gK})
var bK=y([Pn("selectFirst",true),Bs("onChangeTab"),Bs("onDismissTab"),Pn("tabs",[]),Km("tabSectionBehaviours",[])])
var yK=Oh({factory:hK,schema:[yn("dom"),On("markers",[yn("tabClass"),yn("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}})
var wK=Oh({factory:pK,name:"tabview"})
var xK=y([yK,wK])
var CK=function(t,e,n,r){var o=function(e){var n=Xm.getValue(e)
jh(e,t,"tabview").each((function(r){var o=J(t.tabs,(function(t){return t.value===n}))
o.each((function(n){var o=n.view()
_i(e.element,"id").each((function(t){Si(r.element,"aria-labelledby",t)}))
xy.set(r,o)
t.onChangeTab(r,e,o)}))}))}
var a=function(e,n){jh(e,t,"tabbar").each((function(t){n(t).each(va)}))}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Zm(t.tabSectionBehaviours),events:ga(tt([t.selectFirst?[Aa((function(t,e){a(t,Pg.getFirst)}))]:[],[wa(ia(),(function(t,e){var n=e.event.button
o(n)})),wa(ua(),(function(e,n){var r=n.event.button
t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return jh(e,t,"tabview").map((function(t){return xy.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=Pg.getCandidates(t)
var r=J(n,(function(t){return Xm.getValue(t)===e}))
return r.filter((function(e){return!Pg.isHighlighted(t,e)}))}
a(t,n)}}}}
var SK=ug({name:"TabSection",configFields:bK(),partFields:xK(),factory:CK,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}})
var kK=function(t,e,n){return W(t,(function(r,o){xy.set(n,t[o].view())
var a=e.dom.getBoundingClientRect()
xy.set(n,[])
return a.height}))}
var TK=function(t){return ct(it(t,(function(t,e){return t>e?-1:t<e?1:0})))}
var _K=function(t,e,n){var r=Ua(t).dom
var o=vs(t,".tox-dialog-wrap").getOr(t)
var a="fixed"===Ju(o,"position")
var i
i=a?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight)
var u=Sc(e)
var c=e.dom.offsetLeft>=n.dom.offsetLeft+Ic(n)
var s=c?Math.max(Sc(n),u):u
var l=parseInt(Ju(t,"margin-top"),10)||0
var f=parseInt(Ju(t,"margin-bottom"),10)||0
var v=Sc(t)+l+f
var d=v-s
return i-d}
var OK=function(t,e){ct(t).each((function(t){return SK.showTab(e,t.value)}))}
var EK=function(t,e){Ku(t,"height",e+"px")
$r().browser.isIE()?rc(t,"flex-basis"):Ku(t,"flex-basis",e+"px")}
var MK=function(t,e,n){vs(t,'[role="dialog"]').each((function(t){ds(t,'[role="tablist"]').each((function(r){n.get().map((function(n){Ku(e,"height","0")
Ku(e,"flex-basis","0")
return Math.min(n,_K(t,e,r))})).each((function(t){EK(e,t)}))}))}))}
var AK=function(t){return ds(t,'[role="tabpanel"]')}
var zK=function(t){var e=(n=Kn(I.none()),r=[Aa((function(e){var r=e.element
AK(r).each((function(o){Ku(o,"visibility","hidden")
e.getSystem().getByDom(o).toOptional().each((function(e){var r=kK(t,o,e)
var a=TK(r)
n.set(a)}))
MK(r,o,n)
rc(o,"visibility")
OK(t,e)
Kw.requestAnimationFrame((function(){MK(r,o,n)}))}))})),wa(Qo(),(function(t){var e=t.element
AK(e).each((function(t){MK(e,t,n)}))})),wa(gE,(function(t,e){var r=t.element
AK(r).each((function(t){var e=Jl(ei(t))
Ku(t,"visibility","hidden")
var o=tc(t,"height").map((function(t){return parseInt(t,10)}))
rc(t,"height")
rc(t,"flex-basis")
var a=t.dom.getBoundingClientRect().height
var i=o.forall((function(t){return a>t}))
if(i){n.set(I.from(a))
MK(r,t,n)}else o.each((function(e){EK(t,e)}))
rc(t,"visibility")
e.each(Kl)}))}))],o=false,{extraEvents:r,selectFirst:o})
var n,r,o
var a=function(){var t=[]
var e=true
return{extraEvents:t,selectFirst:e}}()
return{smartTabHeight:e,naiveTabHeight:a}}
var DK="send-data-to-section"
var RK="send-data-to-view"
var IK=function(t,e){var n=Kn({})
var r=function(t){var e=Xm.getValue(t)
var r=uK(e).getOr({})
var o=n.get()
var a=Xt(o,r)
n.set(a)}
var o=function(t){var e=n.get()
Xm.setValue(t,e)}
var a=Kn(null)
var i=W(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[pD.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:W(t.items,(function(t){return $L(n,t,e)})),formBehaviours:Nl([fy.config({mode:"acyclic",useTabstopAt:C(eR)}),Sy("TabView.form.events",[Aa(o),za(r)]),ql.config({channels:le([{key:DK,value:{onReceive:r}},{key:RK,value:{onReceive:o}}])})])}}))]}}}))
var u=zK(i).smartTabHeight
return SK.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Xm.getValue(e)
fa(t,hE,{name:r,oldName:a.get()})
a.set(r)},tabs:i,components:[SK.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[hK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Nl([tE.config({})])}),SK.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Nl([Sy("tabpanel",u.extraEvents),fy.config({mode:"acyclic"}),bg.config({find:function(t){return ct(SK.getViewItems(t))}}),Xm.config({store:{mode:"manual",getValue:function(t){t.getSystem().broadcastOn([DK],{})
return n.get()},setValue:function(t,e){n.set(e)
t.getSystem().broadcastOn([RK],{})}}})])})}
var HK=Bi("update-dialog")
var LK=Bi("update-title")
var BK=Bi("update-body")
var PK=Bi("update-footer")
var NK=Bi("body-send-message")
var FK=function(t,e,n,r){var o=function(t){if("tabpanel"===t.body.type)return[IK(t.body,n)]
return[cK(t.body,n)]}
var a=function(t,e){return I.some({isTabPanel:function(){return"tabpanel"===e.body.type}})}
var i={"aria-live":"polite"}
return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:O(O({},e.map((function(t){return{id:t}})).getOr({})),r?i:{})},components:[],behaviours:Nl([ED.childAt(0),QN.config({channel:BK,updateState:a,renderComponents:o,initialData:t})])}}
var VK=function(t,e,n,r){return FK(t,I.some(e),n,r)}
var jK=function(t,e){var n=FK(t,I.none(),e,false)
return O$.parts.body(n)}
var UK=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JD({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Nl([tE.config({}),Dy.config({})])})]}],behaviours:Nl([fy.config({mode:"acyclic",useTabstopAt:C(eR)})])}
return O$.parts.body(e)}
var WK=oT.deviceType.isTouch()
var qK=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}}
var GK=function(t,e){return O$.parts.close(Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Nl([tE.config({})])}))}
var $K=function(){return O$.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}
var XK=function(t,e){return O$.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:MU("<p>"+e.translate(t)+"</p>")}]}]})}
var KK=function(t){return O$.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})}
var ZK=function(t,e){return[WO.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),WO.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]}
var YK=function(t){var e
var n="tox-dialog"
var r=n+"-wrap"
var o=r+"__backdrop"
var a=n+"__disable-scroll"
return O$.sketch({lazySink:t.lazySink,onEscape:function(e){t.onEscape(e)
return I.some(true)},useTabstopAt:function(t){return!eR(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:O({position:"relative"},t.extraStyles)},components:M([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:MU('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:WK?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Nl(M([Dy.config({}),Sy("dialog-events",t.dialogEvents.concat([Ma(Eo(),(function(t,e){fy.focusIn(t)}))])),Sy("scroll-lock",[Aa((function(){Bu(qu(),a)})),za((function(){Nu(qu(),a)}))])],t.extraBehaviours)),eventOrder:O((e={},e[Uo()]=["dialog-events"],e[ta()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[ea()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})}
var JK=function(t){return Yw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.icons)}}],action:function(t){la(t,lE)}})}
var QK=function(t,e,n){var r=function(t){return[gc(n.translate(t.title))]}
return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:O({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Nl([QN.config({channel:LK,renderComponents:r})])}}
var tZ=function(){return{dom:MU('<div class="tox-dialog__draghandle"></div>')}}
var eZ=function(t,e,n){return WO.sketch({dom:MU('<div class="tox-dialog__header"></div>'),components:[QK(t,I.some(e),n),tZ(),JK(n)],containerBehaviours:Nl([ZG.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return ms(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}
var nZ=function(t,e){var n=O$.parts.title(QK(t,I.none(),e))
var r=O$.parts.draghandle(tZ())
var o=O$.parts.close(JK(e))
var a=[n].concat(t.draggable?[r]:[]).concat([o])
return WO.sketch({dom:MU('<div class="tox-dialog__header"></div>'),components:a})}
var rZ=function(t,e){return nZ({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)}
var oZ=function(t,e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:MU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}
var aZ=function(t,e,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){O$.setBusy(t(),(function(t,r){return oZ(n.message,r,e)}))},onUnblock:function(){O$.setIdle(t())}}}
var iZ=function(t,e,n,r){var o
var a=function(t,e){return I.some(e)}
return yc(YK(O(O({},t),{lazySink:r.shared.getSink,extraBehaviours:M([QN.config({channel:HK,updateState:a,initialData:e}),WD.memory({})],t.extraBehaviours),onEscape:function(t){la(t,lE)},dialogEvents:n,eventOrder:(o={},o[jo()]=[QN.name(),ql.name()],o[ta()]=["scroll-lock",QN.name(),"messages","dialog-events","alloy.base.behaviour"],o[ea()]=["alloy.base.behaviour","dialog-events","messages",QN.name(),"scroll-lock"],o)})))}
var uZ=function(t){var e=function(t){var e=W(t.items,(function(t){var e=Kn(false)
return O(O({},t),{storage:e})}))
return O(O({},t),{items:e})}
return W(t,(function(t){if("menu"===t.type)return e(t)
return t}))}
var cZ=function(t){return Z(t,(function(t,e){if("menu"===e.type){var n=e
return Z(n.items,(function(t,e){t[e.name]=e.storage
return t}),t)}return t}),{})}
var sZ=function(t,e){return[_a(Eo(),tR),t(sE,(function(t,n){e.onClose()
n.onClose()})),t(lE,(function(t,e,n,r){e.onCancel(t)
la(r,sE)})),wa(mE,(function(t,n){return e.onUnblock()})),wa(dE,(function(t,n){return e.onBlock(n.event)}))]}
var lZ=function(t,e){var n=function(e,n){return wa(e,(function(e,o){r(e,(function(r,a){n(t(),r,o.event,e)}))}))}
var r=function(t,e){QN.getState(t).get().each((function(n){e(n,t)}))}
return M(sZ(n,e),[n(fE,(function(t,e,n){e.onAction(t,{name:n.name})}))])}
var fZ=function(t,e,n){var r=function(e,n){return wa(e,(function(e,r){o(e,(function(o,a){n(t(),o,r.event,e)}))}))}
var o=function(t,e){QN.getState(t).get().each((function(n){e(n.internalDialog,t)}))}
return M(sZ(r,e),[r(vE,(function(t,e){return e.onSubmit(t)})),r(cE,(function(t,e,n){e.onChange(t,{name:n.name})})),r(fE,(function(t,e,r,o){var a=function(){return fy.focusIn(o)}
var i=function(t){return Oi(t,"disabled")||_i(t,"aria-disabled").exists((function(t){return"true"===t}))}
var u=ei(o.element)
var c=Jl(u)
e.onAction(t,{name:r.name,value:r.value})
Jl(u).fold(a,(function(t){i(t)||c.exists((function(e){return uo(t,e)&&i(e)}))?a():n().toOptional().filter((function(e){return!uo(e.element,t)})).each(a)}))})),r(hE,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),za((function(e){var n=t()
Xm.setValue(e,n.getData())}))])}
var vZ={initUrlDialog:lZ,initDialog:fZ}
var dZ=function(t,e){return WI(t,t.type,e)}
var mZ=function(t,e,n){return J(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}
var hZ=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([])
var r=$(n,(function(t){return"start"===t.align}))
var o=function(t,e){return WO.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:W(e,(function(t){return t.memento.asSpec()}))})}
var a=o("start",r.pass)
var i=o("end",r.fail)
return[a,i]}
var gZ=function(t,e){var n=function(t,n){var r=W(n.buttons,(function(t){var n=Jw(dZ(t,e))
return{name:t.name,align:t.align,memento:n}}))
var o=function(t,e){return mZ(t,r,e)}
return I.some({lookupByName:o,footerButtons:r})}
return{dom:MU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Nl([QN.config({channel:PK,initialData:t,updateState:n,renderComponents:hZ})])}}
var pZ=function(t,e){return gZ(t,e)}
var bZ=function(t,e){return O$.parts.footer(gZ(t,e))}
var yZ=function(t,e){var n=t.getRoot()
if(n.getSystem().isConnected()){var r=bg.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper())
return pD.getField(r,e).fold((function(){var n=t.getFooter()
var o=QN.getState(n)
return o.get().bind((function(t){return t.lookupByName(r,e)}))}),(function(t){return I.some(t)}))}return I.none()}
var wZ=function(t,e){var n=t.getRoot()
return QN.getState(n).get().map((function(t){return rn(nn("data",t.dataValidator,e))})).getOr(e)}
var xZ=function(t,e,n){var r=function(e){var n=t.getRoot()
n.getSystem().isConnected()&&e(n)}
var o=function(){var e=t.getRoot()
var r=e.getSystem().isConnected()?t.getFormWrapper():e
var o=Xm.getValue(r)
var a=zt(n,(function(t){return t.get()}))
return O(O({},o),a)}
var i=function(e){r((function(r){var o=h.getData()
var a=O(O({},o),e)
var i=wZ(t,a)
var u=t.getFormWrapper()
Xm.setValue(u,i)
At(n,(function(t,e){Ft(a,e)&&t.set(a[e])}))}))}
var u=function(e){yZ(t,e).each(KS.disable)}
var c=function(e){yZ(t,e).each(KS.enable)}
var s=function(e){yZ(t,e).each(Dy.focus)}
var l=function(t){if(!a(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
r((function(e){fa(e,dE,{message:t})}))}
var f=function(){r((function(t){la(t,mE)}))}
var v=function(e){r((function(n){var r=t.getBody()
var o=QN.getState(r)
o.get().exists((function(t){return t.isTabPanel()}))&&bg.getCurrent(r).each((function(t){SK.showTab(t,e)}))}))}
var d=function(t){r((function(n){var r=e(t)
n.getSystem().broadcastOn([HK],r)
n.getSystem().broadcastOn([LK],r.internalDialog)
n.getSystem().broadcastOn([BK],r.internalDialog)
n.getSystem().broadcastOn([PK],r.internalDialog)
h.setData(r.initialData)}))}
var m=function(){r((function(t){la(t,sE)}))}
var h={getData:o,setData:i,disable:u,enable:c,focus:s,block:l,unblock:f,showTab:v,redial:d,close:m}
return h}
var CZ=function(t){switch(t){case"large":return["tox-dialog--width-lg"]
case"medium":return["tox-dialog--width-md"]
default:return[]}}
var SZ=function(t,e,n){var r=rZ(t.internalDialog.title,n)
var o=jK({body:t.internalDialog.body},n)
var a=uZ(t.internalDialog.buttons)
var i=cZ(a)
var u=bZ({buttons:a},n)
var c=vZ.initDialog((function(){return m}),aZ((function(){return f}),n.shared.providers,e),n.shared.getSink)
var s=CZ(t.internalDialog.size)
var l={header:r,body:o,footer:I.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}}
var f=iZ(l,t,c,n)
var v=(d=function(){var t=O$.getBody(f)
return bg.getCurrent(t).getOr(t)},{getRoot:function(){return f},getBody:function(){return O$.getBody(f)},getFooter:function(){return O$.getFooter(f)},getFormWrapper:d})
var d
var m=xZ(v,e.redial,i)
return{dialog:f,instanceApi:m}}
var kZ=function(t,e,n,r){var o,a
var i=Bi("dialog-label")
var u=Bi("dialog-content")
var c=function(t,e){return I.some(e)}
var s=Jw(eZ({title:t.internalDialog.title,draggable:true},i,n.shared.providers))
var l=Jw(VK({body:t.internalDialog.body},u,n,r))
var f=uZ(t.internalDialog.buttons)
var v=cZ(f)
var d=Jw(pZ({buttons:f},n))
var m=vZ.initDialog((function(){return g}),{onBlock:function(t){T$.block(h,(function(e,r){return oZ(t.message,r,n.shared.providers)}))},onUnblock:function(){T$.unblock(h)},onClose:function(){return e.closeWindow()}},n.shared.getSink)
var h=yc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=""+u,o)},eventOrder:(a={},a[jo()]=[QN.name(),ql.name()],a[Uo()]=["execute-on-form"],a[ta()]=["reflecting","execute-on-form"],a),behaviours:Nl([fy.config({mode:"cyclic",onEscape:function(t){la(t,sE)
return I.some(true)},useTabstopAt:function(t){return!eR(t)&&("button"!==Ia(t)||"disabled"!==Ti(t,"disabled"))}}),QN.config({channel:HK,updateState:c,initialData:t}),Dy.config({}),Sy("execute-on-form",m.concat([Ma(Eo(),(function(t,e){fy.focusIn(t)}))])),T$.config({getRoot:function(){return I.some(h)}}),xy.config({}),WD.memory({})]),components:[s.asSpec(),l.asSpec(),d.asSpec()]})
var g=xZ({getRoot:function(){return h},getFooter:function(){return d.get(h)},getBody:function(){return l.get(h)},getFormWrapper:function(){var t=l.get(h)
return bg.getCurrent(t).getOr(t)}},e.redial,v)
return{dialog:h,instanceApi:g}}
var TZ=tinymce.util.Tools.resolve("tinymce.util.URI")
var _Z=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)}
var n=function(t){if(!a(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
e((function(e){fa(e,dE,{message:t})}))}
var r=function(){e((function(t){la(t,mE)}))}
var o=function(){e((function(t){la(t,sE)}))}
var i=function(t){e((function(e){e.getSystem().broadcastOn([NK],t)}))}
return{block:n,unblock:r,close:o,sendMessage:i}}
var OZ=["insertContent","setContent","execCommand","close","block","unblock"]
var EZ=function(t){return i(t)&&-1!==OZ.indexOf(t.mceAction)}
var MZ=function(t){return!EZ(t)&&i(t)&&Ft(t,"mceAction")}
var AZ=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content)
break
case"setContent":t.setContent(n.content)
break
case"execCommand":var r=!!c(n.ui)&&n.ui
t.execCommand(n.cmd,r,n.value)
break
case"close":e.close()
break
case"block":e.block(n.message)
break
case"unblock":e.unblock()}}
var zZ=function(t,e,n,r){var o
var a=rZ(t.title,r)
var i=UK(t)
var u=t.buttons.bind((function(t){return 0===t.length?I.none():I.some(bZ({buttons:t},r))}))
var c=vZ.initUrlDialog((function(){return p}),aZ((function(){return g}),r.shared.providers,e))
var s=O(O({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}})))
var l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[]
var f=new TZ(t.url,{base_uri:new TZ(window.location.href)})
var v=f.protocol+"://"+f.host+(f.port?":"+f.port:"")
var d=Kn(I.none())
var m=[Sy("messages",[Aa((function(){var e=dO(er.fromDom(window),"message",(function(e){if(f.isSameOrigin(new TZ(e.raw.origin))){var r=e.raw.data
EZ(r)?AZ(n,p,r):MZ(r)&&t.onMessage(p,r)}}))
d.set(I.some(e))})),za((function(){d.get().each((function(t){return t.unbind()}))}))]),ql.config({channels:(o={},o[NK]={onReceive:function(t,e){ds(t.element,"iframe").each((function(t){var n=t.dom.contentWindow
n.postMessage(e,v)}))}},o)})]
var h={header:a,body:i,footer:u,extraClasses:l,extraBehaviours:m,extraStyles:s}
var g=iZ(h,t,c,r)
var p=_Z(g)
return{dialog:g,instanceApi:p}}
var DZ=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(){O$.hide(c)
r()}
var a=Jw(WI({name:"close-alert",text:"OK",primary:true,align:"end",disabled:false,icon:I.none()},"cancel",t.backstage))
var i=$K()
var u=GK(o,e.providers)
var c=yc(YK({lazySink:function(){return e.getSink()},header:qK(i,u),body:XK(n,e.providers),footer:I.some(KK(ZK([],[a.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(lE,o)],eventOrder:{}}))
O$.show(c)
var s=a.get(c)
Dy.focus(s)}
return{open:n}}
var RZ=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(t){O$.hide(s)
r(t)}
var a=Jw(WI({name:"yes",text:"Yes",primary:true,align:"end",disabled:false,icon:I.none()},"submit",t.backstage))
var i=WI({name:"no",text:"No",primary:false,align:"end",disabled:false,icon:I.none()},"cancel",t.backstage)
var u=$K()
var c=GK((function(){return o(false)}),e.providers)
var s=yc(YK({lazySink:function(){return e.getSink()},header:qK(u,c),body:XK(n,e.providers),footer:I.some(KK(ZK([],[i,a.asSpec()]))),onEscape:function(){return o(false)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(lE,(function(){return o(false)})),wa(vE,(function(){return o(true)}))],eventOrder:{}}))
O$.show(s)
var l=a.get(s)
Dy.focus(l)}
return{open:n}}
var IZ=function(t,e){return rn(nn("data",e,t))}
var HZ=function(t){return gO(t,".tox-alert-dialog")||gO(t,".tox-confirm-dialog")}
var LZ=function(t,e,n){return e&&n?[]:[Uj.config({contextual:{lazyContext:function(){return I.some(os(er.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}
var BZ=function(t){var e=t.backstage
var n=t.editor
var r=Ok(n)
var o=DZ(t)
var a=RZ(t)
var i=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?l(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(t,e.shared.anchors.cursor(),r,n.ariaAttrs):s(t,r)}
var u=function(t,e){return c(t,e)}
var c=function(t,r){var o=function(t){var o=zZ(t,{closeWindow:function(){O$.hide(o.dialog)
r(o.instanceApi)}},n,e)
O$.show(o.dialog)
return o.instanceApi}
return iK.openUrl(o,t)}
var s=function(t,n){var r=function(t,r,o){var a=r
var i={dataValidator:o,initialData:a,internalDialog:t}
var u=SZ(i,{redial:iK.redial,closeWindow:function(){O$.hide(u.dialog)
n(u.instanceApi)}},e)
O$.show(u.dialog)
u.instanceApi.setData(a)
return u.instanceApi}
return iK.open(r,t)}
var l=function(t,o,a,i){var u=function(t,u,c){var s=IZ(u,c)
var l=SV()
var f=e.shared.header.isPositionedAtTop()
var v={dataValidator:c,initialData:s,internalDialog:t}
var d=function(){return l.on((function(t){Bw.reposition(t)
Uj.refresh(t)}))}
var m=kZ(v,{redial:iK.redial,closeWindow:function(){l.on(Bw.hide)
n.off("ResizeEditor",d)
l.clear()
a(m.instanceApi)}},e,i)
var h=yc(Bw.sketch(O(O({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},f?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Nl(M([Sy("window-manager-inline-events",[wa(na(),(function(t,e){la(m.dialog,lE)}))])],LZ(n,r,f))),isExtraPart:function(t,e){return HZ(e)}})))
l.set(h)
Bw.showWithin(h,o,wc(m.dialog),I.some(qu()))
if(!r||!f){Uj.refresh(h)
n.on("ResizeEditor",d)}m.instanceApi.setData(s)
fy.focusIn(m.dialog)
return m.instanceApi}
return iK.open(u,t)}
var f=function(t,e){a.open(t,(function(t){e(t)}))}
var v=function(t,e){o.open(t,(function(){e()}))}
var d=function(t){t.close()}
return{open:i,openUrl:u,alert:v,close:d,confirm:f}}
function PZ(){_.add("silver",(function(t){var e=d$(t),n=e.uiMothership,r=e.backstage,o=e.renderUI,a=e.getUi
fO.register(t,r.shared)
var i=BZ({editor:t,backstage:r})
return{renderUI:o,getWindowManagerImpl:y(i),getNotificationManagerImpl:function(){return ix(t,{backstage:r},n)},ui:a()}}))}PZ()})()},16590:(t,e)=>{var n={r:0,g:0,b:0,a:0}
var r={r:255,g:255,b:255,a:1}
function o(t){var e=/rgba?\((\d+),\s(\d+),\s(\d+)(,\s([\d\.]+))?\)/
var r=e.exec(t)
if(!r)return n
return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10),a:parseFloat(r[5]||1)}}function a(t,e){var r=e.a+t.a*(1-e.a)
if(0===r)return n
return{r:(e.r*e.a+t.r*t.a*(1-e.a))/r,g:(e.g*e.a+t.g*t.a*(1-e.a))/r,b:(e.b*e.a+t.b*t.a*(1-e.a))/r,a:r}}function i(t){t.a<1&&(t=a(r,t))
var e=u(t.r)
var n=u(t.g)
var o=u(t.b)
return.2126*e+.7152*n+.0722*o}function u(t){var e=t/255
if(e<=.03928)return e/12.92
return Math.pow((e+.055)/1.055,2.4)}function c(t,e){var n=[i(t),i(e)]
n.sort((function(t,e){return e-t}))
return(n[0]+.05)/(n[1]+.05)}function s(t){var e=[]
var n=t
while(null!=n){var i=o(window.getComputedStyle(n).backgroundColor)
i.a>0&&e.push(i)
if(1===i.a)break
n=n.parentElement}return e.reduceRight(a,r)}function l(t){var e=o(window.getComputedStyle(t).color)
var n=s(t)
var r=a(n,e)
return[r,n]}function f(t){var e=l(t)
return c(e[0],e[1])}function v(t){var e=window.getComputedStyle(t)
var n=parseFloat(e.fontSize)/1.333
var r=e.fontWeight
var o="bold"===r||parseInt(r,10)>=600
return o?n>=14:n>=18}function d(t){var e=f(t)
return v(t)?e>=3:e>=4.5}e=t.exports=d
e.isLargeText=v
e.contrastRatio=f
e.parseRGBA=o},42676:(t,e,n)=>{"use strict"
n.d(e,{X3:()=>a,i$:()=>c,ie:()=>u})
let r=false
let o=false
function a(t){i(t.Env)}function i(t){r=!!t.ie
o=r&&!!(t.edge||12==t.ie)}function u(){return r}function c(){return o}},55295:(t,e,n)=>{"use strict"
n.d(e,{W:()=>i})
var r=n(96486)
const o=["begin","end","cases","cr","rm","text","hbox","mbox","unicode","cal","frak","it","scr","sf","#","def","newcommand","operatorname","DeclareMathOperator","displaystyle","textstyle","scriptstyle","scriptscriptstyle","displaylines","abovewithdelims","array","bmatrix","buildrel","ddddot","dddot","eqalign","eqalignno","gcd","genfrac","hdashline","hfil","hfill","hfilll","hline","idotsint","iiiint","injlim","kern","label","LaTeX","leftroot","lgroup","lower","mathchoice","mathfrak","matrix","mit","mkern","mspace","negmedspace","negthickspace","negthinspace","newline","nobreakspace","oldstyle","overset","pmatrix","raise","rgroup","rule","Rule","skew","space","tag","TeX","underbrace","uproot","varinjlim","varliminf","varlimsup","varprojlim","vcenter","vmatrix"]
const a=new RegExp(o.join("|"),"m")
const i=(0,r.memoize)((t=>a.test(t)))},94903:(t,e,n)=>{"use strict"
n.d(e,{DM:()=>a,Od:()=>u,t8:()=>i})
const r="NEE_should_reopen_advanced"
function o(t){try{return{state:"success",returnValue:t()}}catch(t){console.warn("Store interaction failed: ",t)
return{state:"failure"}}}const a=()=>{const t=o((()=>{const t=window.sessionStorage.getItem(r)||"null"
return!!JSON.parse(t)}))
return"success"===t.state&&t.returnValue}
const i=()=>{o((()=>{window.sessionStorage.setItem(r,"true")}))}
const u=()=>{o((()=>{window.sessionStorage.removeItem(r)}))}},20265:(t,e,n)=>{"use strict"
n.r(e)
n.d(e,{ExternalToolSelectionDialog:()=>E,filterItemsByTitleSubstring:()=>O})
var r=n(45697)
var o=n.n(r)
var a=n(67294)
var i=n(60124)
var u=n(85779)
var c=n(15809)
var s=n(35498)
var l=n(69924)
var f=n(86333)
var v=n(40349)
var d=n(95732)
var m=n(75935)
var h=n(23665)
var g=n(88866)
var p=n(28551)
var b=n.n(p)
var y=n(34651)
var w=n(34397)
function x(t){const[e,n]=(0,a.useState)(false)
const[r,o]=(0,a.useState)(false)
const{text:i,title:u}=t
const c=e?b()("Hide {title} description",{title:u}):b()("View {title} description",{title:u})
return a.createElement(a.Fragment,null,a.createElement(l.G,{as:"button",background:"transparent",display:"block",borderWidth:"none",textAlign:"start",type:"button",position:"relative",padding:"none none none xx-small","aria-expanded":e,borderRadius:"medium",withFocusOutline:r,onClick:()=>{n(!e)},onFocus:()=>o(true),onBlur:()=>o(false)},a.createElement(l.G,{as:"span","aria-live":"assertive","aria-relevant":"text"},a.createElement(y.x,{color:"brand",size:"x-small","aria-label":c},e?b()("Hide description"):b()("View description")))),e&&a.createElement(l.G,{as:"span",margin:"small none none xx-small",display:"block",minWidth:"10rem",role:"presentation"},a.createElement(y.x,{as:"span",color:"secondary"},a.createElement("div",{className:(0,w.iv)(C.descriptionText),dangerouslySetInnerHTML:{__html:i}}))))}const C=w.mM.create({descriptionText:{lineHeight:"1.2rem",p:{margin:"1rem 0"},":nth-child(1n)> :first-child":{marginTop:"0",display:"inline-block"},":nth-child(1n)> :last-child":{marginBottom:"0"}}})
function S(t){const[e,n]=(0,a.useState)(false)
const{title:r,image:o,description:i,onAction:u}=t
return a.createElement(a.Fragment,null,a.createElement(l.G,{as:"span",withFocusOutline:e,className:(0,w.iv)(k.appButton),padding:"xxx-small xxx-small xx-small",borderRadius:"medium",role:"button",position:"relative",onClick:()=>{u()},onKeyDown:t=>{13!==t.keyCode&&32!==t.keyCode||u()},onFocus:()=>n(true),onBlur:()=>n(false),tabIndex:0},a.createElement("span",null,null!=o&&a.createElement("img",{src:o,width:"28",height:"28",alt:""})),a.createElement(l.G,{as:"span",className:(0,w.iv)(k.appTitle),margin:"none none none small"},a.createElement(y.x,{"aria-label":b()("Open {title} application",{title:r}),weight:"bold"},r))),c(i))
function c(t){if(null==t||""===t)return null
return a.createElement(l.G,{as:"span",margin:"none none none large",display:"block"},a.createElement(x,{text:t,title:r}))}}S.propTypes={title:o().string.isRequired,image:o().oneOfType([o().string,o().oneOf([null])]),onAction:o().func.isRequired,description:o().oneOfType([o().string,o().oneOf([null])])}
const k=w.mM.create({appTitle:{verticalAlign:"middle"},appButton:{cursor:"pointer"}})
var T=n(49359)
const _=()=>document.getElementById("flash_screenreader_holder")
function O(t,e){if(null==t||0===t.length)return e
const n=t.toLocaleLowerCase()
return e.filter((t=>t.title.toLocaleLowerCase().includes(n)))}function E(t){const[e,n]=(0,a.useState)("")
const[r,o]=(0,a.useState)(t.ltiButtons)
const p=e=>{var r
n(null===(r=e.target)||void 0===r?void 0:r.value)
o(O(e.target.value,t.ltiButtons))}
const y=r.length<=0
return a.createElement(i.u_,{"data-mce-component":true,liveRegion:_,size:"medium",theme:{mediumMaxWidth:"42rem"},label:b()("Apps"),mountNode:T.sS,onDismiss:t.onDismiss,open:true,shouldCloseOnDocumentClick:false},a.createElement(i.u_.Header,{theme:{padding:"0.5rem"}},a.createElement(u.P,{placement:"end",offset:"medium",onClick:t.onDismiss,screenReaderLabel:b()("Close")}),a.createElement(s.X,{margin:"small"},b()("All Apps")),a.createElement(l.G,{as:"div",padding:"x-small none x-small medium"},a.createElement(m.o,{type:"search",renderLabel:a.createElement(f.c,null,b()("Search")),placeholder:b()("Search"),renderAfterInput:a.createElement(h.V,{inline:false}),onChange:p}))),a.createElement(i.u_.Body,{overflow:"fit"},a.createElement(d.kC,{as:"div",direction:"column"},a.createElement(d.kC.Item,{as:"div",shouldShrink:true,shouldGrow:true},a.createElement(g.b,{liveRegion:_,variant:"info",screenReaderOnly:!y},y&&b()("No results found for {filterTerm}",{filterTerm:e}),!y&&b()("Found { count, plural,\n              =0 {# results}\n              one {# result}\n              other {# results}\n            }",{count:r.length})),w(r)))),a.createElement(i.u_.Footer,null,a.createElement(c.z,{onClick:t.onDismiss,color:"primary"},b()("Done"))))
function w(e){return a.createElement(v.aV,{isUnstyled:true},e.sort(((t,e)=>t.title.localeCompare(e.title))).map((e=>a.createElement(v.aV.Item,{key:e.id},a.createElement(l.G,{as:"div",padding:"medium medium small none"},a.createElement(S,{title:e.title,image:e.image,onAction:()=>{t.onDismiss()
e.openDialog()},description:e.description}))))))}}E.propTypes={ltiButtons:o().array.isRequired,onDismiss:o().func.isRequired}},76288:(t,e,n)=>{"use strict"
n.r(e)
n.d(e,{default:()=>c})
var r=n(67294)
var o=n(45697)
var a=n(75935)
var i=n(28551)
var u=n.n(i)
function c(t){let{fileUrl:e,setFileUrl:n}=t
return r.createElement(r.Fragment,null,r.createElement(a.o,{name:"file-url",renderLabel:u()("File URL"),type:"url",value:e,onChange:(t,e)=>n(e)}))}c.propTypes={fileUrl:o.string.isRequired,setFileUrl:o.func.isRequired}},88271:t=>{t.exports=(t,e,n,r)=>{const o=(t+(r||"")).toString().includes("%")
if("string"===typeof t){const o=t.match(/(0?\.?\d{1,3})%?\b/g).map(Number)
t=o[0]
e=o[1]
n=o[2]
r=o[3]}else void 0!==r&&(r=parseFloat(r))
if("number"!==typeof t||"number"!==typeof e||"number"!==typeof n||t>255||e>255||n>255)throw new TypeError("Expected three numbers below 256")
if("number"===typeof r){if(!o&&r>=0&&r<=1)r=Math.round(255*r)
else{if(!(o&&r>=0&&r<=100))throw new TypeError(`Expected alpha value (${r}) as a fraction or percentage`)
r=Math.round(255*r/100)}r=(256|r).toString(16).slice(1)}else r=""
return(n|e<<8|t<<16|1<<24).toString(16).slice(1)+r}},45982:(t,e,n)=>{"use strict"
n.r(e)
n.d(e,{default:()=>ua})
var r=n(42676)
var o=n(47575)
var a=n.n(o)
n(51768)
n(6890)
n(7652)
n(78578)
n(27384)
n(67814)
n(33167)
n(38492)
n(77585)
n(52738)
n(43562)
n(25103)
n(42590)
n(50755)
var i=n(37344)
a().PluginManager.add("instructure-ui-icons",(function(t){const e={"align-center":i.IconTextCenteredLine,"align-left":i.IconTextStartLine,"align-right":i.IconTextEndLine,"list-bull-default":i.IconBulletListLine,"list-num-default":i.IconNumberedListLine,bold:i.IconBoldLine,image:i.IconImageLine,indent:i.IconIndentLine,italic:i.IconItalicLine,underline:i.IconUnderlineLine,link:i.IconLinkLine,video:i.IconAttachMediaLine,document:i.IconDocumentLine,"list-bull-circle":i.IconBulletListCircleOutlineLine,"list-bull-square":i.IconBulletListSquareLine,"list-num-upper-alpha":i.IconBulletListAlphaLine,"list-num-upper-roman":i.IconBulletListRomanLine,"ordered-list":i.IconNumberedListLine,lti:i.IconLtiLine,outdent:i.IconOutdentLine,"remove-formatting":i.IconClearTextFormattingLine,"strike-through":i.IconStrikethroughLine,subscript:i.IconTextSubscriptLine,superscript:i.IconTextSuperscriptLine,"text-color":{src:'<svg viewBox="7 7 1773 1920">\n      <g fill="none" fill-rule="evenodd">\n        <g fill="#2B3B46" fill-rule="nonzero">\n          <path id="tox-icon-text-color__color" d="M0 1920v-443.07692h1772.30769V1920z"/>\n          <path d="M736.526769.05907692h299.224611L1545.14215 1227.08677l-136.46769 56.56615-164.97231-397.587689H528.576L363.603692 1283.65292 227.136 1227.08677 736.526769.05907692zM835.332923 147.751385L589.868308 738.372923h592.541542L937.09292 147.751385H835.332923z" id="A"/>\n        </g>\n      </g>\n    </svg>'},"highlight-bg-color":{src:'<svg viewBox="0 0 1920 1920" version="1.1">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path id="tox-icon-highlight-bg-color__color" fill="#2B3B46" d="M74 1918.14125 1841 1918.14125 1841 1469.14125 74 1469.14125z"/>\n          <path d="M1543.03014,312.225305 L1056.25966,861 L795,619.351719 L1335.45236,123.521776 C1343.65702,115.67377 1355.72958,114.736695 1363.23098,121.647625 L1541.15479,286.221467 C1548.53898,293.015262 1548.65619,305.19724 1543.03014,312.225305 L1543.03014,312.225305 Z M898.711011,994.448142 C836.706813,972.459128 767.201162,989.769628 721.489183,1038.89402 L701.094608,1061 L616,982.517932 L636.628996,960.294992 C681.989345,911.287561 694.179206,840.758966 667.220859,780.757027 C659.250565,762.627787 664.056183,740.638772 678.355828,726.95412 L708.830481,699 L979,948.481745 L952.393284,978.190307 C939.148531,994.565105 917.699064,1000.76414 898.711011,994.448142 L898.711011,994.448142 Z M598.157143,1171.267 L416,1171.618 L532.908571,1065.382 L621,1146.931 L598.157143,1171.267 Z M1620.96383,200.201811 L1443.1176,35.7209178 C1390.27923,-13.0965429 1307.56551,-11.4575874 1255.6644,38.0622828 L598.40662,641.080844 C547.442781,689.781237 532.212208,764.939054 560.330188,828.15591 C567.945475,845.013738 564.079252,866.203091 550.606054,880.602486 L492.261245,943.819342 L304.690887,1114.38778 C276.104274,1140.494 265.208557,1179.82894 276.221432,1216.8225 C287.234308,1253.93314 317.929769,1280.85884 365.37886,1287.6488 L649.136142,1288 L707.246634,1226.18796 L707.480951,1226.4221 L743.448533,1187.55544 L747.080439,1183.69219 L807.534096,1118.25104 C821.35877,1103.50044 842.09578,1098.23236 859.200884,1104.43698 C924.45803,1127.73356 998.267727,1106.77835 1041.49912,1053.98057 L1632.44533,387.979285 C1678.60569,331.43532 1673.56788,248.902203 1620.96383,200.201811 L1620.96383,200.201811 Z" id="Fill-1" fill="#2B3B46"/>\n        </g>\n      </svg>'},unlink:i.IconRemoveLinkLine,"unordered-list":i.IconBulletListLine,ltr:i.IconTextDirectionLtrLine,rtl:i.IconTextDirectionRtlLine,"chevron-down":i.IconArrowOpenDownLine,fullscreen:i.IconFullScreenLine,fullscreen_exit:i.IconExitFullScreenLine,htmlview:{src:'<svg viewBox="0 0 24 24" font-size="16px" width="24" height="24" ">\n        <g role="presentation">\n          <text textAnchor="start" x="0" y="18px">\n            &lt;/&gt;\n          </text>\n        </g>\n      </svg>'},embed:{src:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.7647 5.21417C13.6694 5.21417 13.5773 5.23988 13.482 5.24631C12.8329 3.36281 11.0795 2 9 2C6.53506 2 4.52435 3.91029 4.28294 6.34234C4.09341 6.31127 3.90176 6.28556 3.70588 6.28556C1.66235 6.28556 0 7.96764 0 10.0354C0 12.1032 1.66235 13.7853 3.70588 13.7853L5 13.7853V12.7139L3.70588 12.7139C2.24682 12.7139 1.05882 11.5129 1.05882 10.0354C1.05882 8.55798 2.24682 7.35695 3.70588 7.35695C4.40259 7.35695 5.06012 7.62908 5.55882 8.12192L6.29894 7.35588C6.00565 7.0666 5.66788 6.84483 5.30894 6.66912C5.38941 4.67419 7.00835 3.07139 9 3.07139C11.0435 3.07139 12.7059 4.75347 12.7059 6.82126C12.7059 7.1491 12.6635 7.47266 12.582 7.78658L13.6059 8.06085C13.7107 7.65801 13.7647 7.24124 13.7647 6.82126C13.7647 6.64019 13.7308 6.4677 13.7118 6.29199C13.7298 6.29199 13.7467 6.28556 13.7647 6.28556C15.516 6.28556 16.9412 7.72765 16.9412 9.49973C16.9412 11.2718 15.516 12.7139 13.7647 12.7139L13 12.7139V13.7853L13.7647 13.7853C16.1005 13.7853 18 11.8632 18 9.49973C18 7.13624 16.1005 5.21417 13.7647 5.21417Z" fill="#2B3B46"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.72039 10.6479L8.3603 11.1813L6.75882 13.1025L8.36029 15.0239L7.72038 15.5573L5.6748 13.1024L7.72039 10.6479ZM10.2802 10.6479L12.3258 13.1024L10.2802 15.5573L9.64031 15.0239L11.2418 13.1025L9.6403 11.1813L10.2802 10.6479Z" fill="#2D3B45"/>\n      </svg>'},buttons:{src:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">\n          <g fill="#2D3B45" clip-path="url(#clip0)">\n            <path fill-rule="evenodd" d="M.999993 11l.000001 6H6.99999v-6H.999993zm-.99999933 7H7.99999v-8H-.00000668l3.5e-7 8zM4 7c1.65685 0 3-1.34315 3-3S5.65685 1 4 1 1 2.34315 1 4s1.34315 3 3 3zm0 1c2.20914 0 4-1.79086 4-4S6.20914 0 4 0-3e-7 1.79086-3e-7 4 1.79086 8 4 8z" clip-rule="evenodd"/>\n            <path d="M12.5 10h1v8h-1v-8z"/>\n            <path d="M17 13.5v1H9v-1h8z"/>\n            <path fill-rule="evenodd" d="M13 0L8.66987 7.5h8.66023L13 0zm0 2l-2.5981 4.5h5.1962L13 2z" clip-rule="evenodd"/>\n          </g>\n          <defs>\n            <clipPath id="clip0">\n              <path fill="white" d="M0 0h18v18H0z"/>\n            </clipPath>\n          </defs>\n        </svg>\n      '}}
Object.keys(e).forEach((n=>{t.ui.registry.addIcon(n,e[n].src)}))}))
var u=n(28551)
var c=n.n(u)
function s(t,e){const n=[".tox-tbtn",".tox-split-button"].map((t=>`${t}[aria-label="${CSS.escape(e)}"] .tox-icon`)).join(",")
const r=t.$(n,document)
0===r.length&&console.error(`Failed to find TinyMCE toolbar button for ariaLabel "${e}" using selector: ${n}`)
return{updateIcon(n){const o=t.ui.registry.getAll().icons[n]
o||console.error(`Invalid icon name given for button labeled "${e}": ${n}`)
r.html(o)}}}function l(t){const e=[{name:"alignleft",text:c()("Left Align"),cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:c()("Center Align"),cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:c()("Right Align"),cmd:"JustifyRight",icon:"align-right"}]
const n=c()("Align")
t.ui.registry.addMenuButton("align",{tooltip:n,icon:"align-left",fetch:n=>n(e.map((e=>({type:"menuitem",value:e.cmd,icon:e.icon,text:e.text,onAction:()=>t.execCommand(e.cmd)})))),onSetup:r=>{const o=s(t,n)
function a(){const n=e.find((e=>t.formatter.match(e.name)))
const a=n?n.icon:"align-left"
r.setActive(!!n)
o.updateIcon(a)}a()
t.on("NodeChange",a)
return()=>t.off("NodeChange",a)}})}function f(t){const e=[{name:"indent",text:c()("Increase Indent"),cmd:"indent"},{name:"outdent",text:c()("Decrease Indent"),cmd:"outdent"}]
const n=c()("Increase Indent")
t.ui.registry.addMenuButton("inst_indent",{tooltip:n,icon:"indent",fetch:n=>n(e.map((e=>({type:"menuitem",value:e.cmd,icon:e.name,text:e.text,onAction:()=>t.execCommand(e.cmd)}))))})}function v(t,e){const n=void 0===e?"key":e
const r=Object.entries(t).map((t=>{const e=t[0]
const r=t[1]
return[e,{...r,[n]:e}]}))
return{byKey:Object.fromEntries(r),keys:r.map((t=>t[0])),values:r.map((t=>t[1])),TKey:void 0,TValue:void 0}}function d(t){const e=t.dom.getParent(t.selection.getNode(),"ol,ul")
return e?{listType:e.nodeName,listStyleType:t.dom.getStyle(e,"listStyleType")}:void 0}const m=v({disc:{listType:"UL",icon:"list-bull-default",getTooltipText:()=>c()("default bulleted unordered list")},circle:{listType:"UL",icon:"list-bull-circle",getTooltipText:()=>c()("circle unordered list")},square:{listType:"UL",icon:"list-bull-square",getTooltipText:()=>c()("square unordered list")},decimal:{listType:"OL",icon:"list-num-default",getTooltipText:()=>c()("default numerical ordered list")},"upper-alpha":{listType:"OL",icon:"list-num-upper-alpha",getTooltipText:()=>c()("uppercase alphabetic ordered list")},"upper-roman":{listType:"OL",icon:"list-num-upper-roman",getTooltipText:()=>c()("uppercase Roman numeral ordered list")}},"listStyleType")
const h={UL:m.byKey.disc,OL:m.byKey.decimal}
function g(t){const e=d(t)
if(!e)return null
if(e.listStyleType){const t=m.byKey[e.listStyleType]
if(t)return t}return h[e.listType]}const p=()=>c()("Ordered and Unordered Lists")
function b(t){t.ui.registry.addSplitButton("bullist",{tooltip:p(),icon:"unordered-list",presets:"listpreview",columns:3,fetch:t=>t(m.values.map((t=>({type:"choiceitem",value:t.listStyleType,icon:t.icon,text:t.getTooltipText()})))),onAction:()=>{var e
return t.execCommand("OL"===(null===(e=g(t))||void 0===e?void 0:e.listType)?"InsertOrderedList":"InsertUnorderedList")},onItemAction:(e,n)=>{const r=m.byKey[n]||h.UL
const o=g(t);(null===o||void 0===o?void 0:o.listStyleType)!==r.listStyleType?t.execCommand("UL"===r.listType?"InsertUnorderedList":"InsertOrderedList",false,{"list-style-type":r.listStyleType}):t.execCommand("RemoveList")},select:e=>{var n
return(null===(n=g(t))||void 0===n?void 0:n.listStyleType)===e},onSetup:e=>{const n=t.$(`.tox-split-button[aria-label="${p()}"] .tox-icon`,document)
const r=t.ui.registry.getAll().icons
const o=()=>{const o=g(t)
e.setActive(!!o)
n.html(r[(null===o||void 0===o?void 0:o.icon)||"list-bull-default"])}
o()
t.on("NodeChange",o)
return()=>t.off("NodeChange",o)}})}function y(t){const e=[{icon:"superscript",text:c()("Superscript"),cmd:"Superscript"},{icon:"subscript",text:c()("Subscript"),cmd:"Subscript"}]
const n=c()("Superscript and Subscript")
const r=e[0].icon
t.ui.registry.addMenuButton("inst_superscript",{tooltip:n,icon:r,fetch:n=>n(e.map((e=>({type:"menuitem",value:e.cmd,icon:e.icon,text:e.text,onAction:()=>t.execCommand(e.cmd)})))),onSetup:o=>{const a=s(t,n)
function i(){const n=e.find((e=>t.formatter.match(e.icon)))
o.setActive(!!n)
a.updateIcon((null===n||void 0===n?void 0:n.icon)||r)}i()
t.on("NodeChange",i)
return()=>t.off("NodeChange",i)}})}function w(t){function e(){return document.dir}const n=[{name:"ltr",text:c()("Left-to-Right"),cmd:"mceDirectionLTR",icon:"ltr"},{name:"rtl",text:c()("Right-to-Left"),cmd:"mceDirectionRTL",icon:"rtl"}]
"rtl"===e()&&n.reverse()
t.ui.registry.addNestedMenuItem("directionality",{text:c()("Directionality"),getSubmenuItems:()=>[n[0].name,n[1].name]})
n.forEach((e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,onAction:()=>t.execCommand(e.cmd)})}))}a().PluginManager.add("instructure_condensed_buttons",(function(t){[l,f,b,y,w].forEach((e=>e(t)))}))
var x=n(67294)
var C=n(73935)
var S=n(95924)
var k=n(55295)
const T=/\\\((.+?)\\\)|\$\$(.+?)\$\$/g
const _=t=>t.startsWith("\\(")&&t.endsWith("\\)")||t.startsWith("$$")&&t.endsWith("$$")
const O=t=>{const e=t.substr(2,t.length-4)
return e.replace(/&nbsp;/g,"").trim()}
const E=(t,e)=>{const n=t.match(T)
if(!n)return{}
let r
let o
const a=n.find((n=>{r=t.indexOf(n)
o=r+n.length
return r<e&&e<o&&_(n)}))
return a?{latex:O(a),leftIndex:r,rightIndex:o}:{}}
const M=t=>{const e=t.selection.getContent()
const n=t.selection.getNode()
const r=t.selection.getRng()
const o=null===r||void 0===r?void 0:r.startContainer
const a=null===o||void 0===o?void 0:o.wholeText
if(e&&_(e)){const t=O(e)
return{latex:t,advancedOnly:(0,k.W)(t)}}if("IMG"!==(null===n||void 0===n?void 0:n.tagName)||null===n||void 0===n||!n.classList.contains("equation_image")){if(a){const t=o.nodeValue||""
const e=r.startOffset
const n=E(t,e)
if(n.latex){n.startContainer=o
n.advancedOnly=(0,k.W)(n.latex)}return n}return{}}try{const t=new URL(n.src)
const e=t.pathname.replace(/^\/equation_images\//,"")
const r=decodeURIComponent(decodeURIComponent(e))
return{latex:r,advancedOnly:(0,k.W)(r)}}catch(t){return{}}}
var A=n(94903)
function z(t,e,r){return Promise.all([n.e(76092),n.e(33386),n.e(23303)]).then(n.bind(n,12702)).then((n=>{const r=S.Z.activeEditor()
const o=n.default
let a=e.querySelector(".canvas-rce-equation-container")
if(!a){a=e.createElement("div")
a.className="canvas-rce-equation-container"
e.body.appendChild(a)}const i=()=>{C.unmountComponentAtNode(a)
t.focus(false)}
const u=t=>{r.insertMathEquation(t)}
C.render(x.createElement(o,{editor:t,onModalDismiss:i,onModalClose:i,onEquationSubmit:u,originalLatex:M(t),openAdvanced:A.DM()}),a)}))}function D(t){return"IMG"===t.tagName&&t.classList.contains("equation_image")||t.classList.contains("math_equation_latex")}a().PluginManager.add("instructure_equation",(function(t){t.ui.registry.addIcon("equation",i.IconEquationLine.src)
t.addCommand("instructureEquation",(()=>z(t,document)))
t.ui.registry.addMenuItem("instructure_equation",{text:c()("Equation"),icon:"equation",onAction:()=>t.execCommand("instructureEquation")})
t.ui.registry.addToggleButton("instructure_equation",{tooltip:c()({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"}),onAction:()=>t.execCommand("instructureEquation"),icon:"equation",onSetup(e){const n=t=>{e.setActive(D(t.element))}
t.on("NodeChange",n)
return()=>t.off("NodeChange",n)}})
t.ui.registry.addButton("instructure-equation-options",{onAction(){t.execCommand("instructureEquation")},text:c()("Edit Equation")})
t.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:D,scope:"node"})}))
var R=n(95283)
var I=n(82735)
var H=n(27969)
var L=n(45697)
var B=n.n(L)
var P=n(85779)
var N=n(15809)
var F=n(35498)
var V=n(95732)
var j=n(50435)
var U=n(65009)
var W=n(9572)
var q=n(59773)
var G=n(5090)
var $=n(8575)
const X=["ftp:","http:","https:","mailto:","tel:","skype:"]
function K(t){const e=t.trim()
const n=(0,$.parse)(e,false,true)
const r=n.protocol
if(r){if(r){if(!X.includes(r))throw new Error(c()("{p} is not a valid protocol which must be ftp, http, https, mailto, skype, tel or may be omitted",{p:r.replace(/:$/,"")}))
if(/(?:ftp|http|https):\/\/.+/.test(e))return true
if(/(?:mailto|skype|tel):(\/\/)?[^/].*/.test(e))return true
if(/^(?:ftp|http|https):\/{0,1}[^/]/.test(e))throw new Error(c()("Invalid URL"))
return false}}else{if(":"===n.href[0])throw new Error(c()("Protocol must be ftp, http, https, mailto, skype, tel or may be omitted"))
if(/^\/\/$/.test(e))return false}return true}var Z=n(76288)
var Y=n(49359)
function J(t){const{imageOptions:e,onEntered:n,onExited:r,onRequestClose:o,onSave:a,open:i,isIconMaker:u}=t
const{naturalHeight:s,naturalWidth:l,isLinked:f}=e
const v=e.appliedHeight||s
const d=e.appliedWidth||l
const[m,h]=(0,x.useState)(e.url)
const[g,p]=(0,x.useState)(false)
const[b,y]=(0,x.useState)(e.altText)
const[w,C]=(0,x.useState)(e.isDecorativeImage)
const[S,k]=(0,x.useState)("embed")
const[T,_]=(0,x.useState)(e.imageSize)
const[O,E]=(0,x.useState)(v)
const[M,A]=(0,x.useState)(d)
const z=(0,W.k)(e,{minHeight:U.Rf,minWidth:U.FL,minPercentage:U.$2})
function D(t){h(t)}function R(t){y(t.target.value)}function I(t){C(t.target.checked)}function H(t){k(t.target.value)}function L(t,e){_(e.value)
if(e.value===U.qN){E(v)
A(d)}else{const{height:t,width:n}=(0,U.bB)(e.value,l,s)
E(t)
A(n)}}function B(t){t.preventDefault()
const e=w?"":b
let n=O
let r=M
if(T===U.qN)if(z.usePercentageUnits){n=`${z.percentage}%`
r=`${z.percentage}%`}else{n=z.height
r=z.width}a({url:m,altText:e,appliedHeight:n,appliedWidth:r,displayAs:S,isDecorativeImage:w})}(0,x.useEffect)((()=>{if(u){p(false)
return}let t
try{t=K(m)}catch(e){t=false}finally{p(!t||(0,G.x)(m))}}),[m])
const $=[]
T!==U.qN&&$.push({text:c()("{width} x {height}px",{height:O,width:M}),type:"hint"})
const X=u&&!w&&""===b
const J=""===m||"embed"===S&&(!w&&""===b||T===U.qN&&!(null!==z&&void 0!==z&&z.isValid))
const Q=u?X:J
const tt=u?c()("Icon Options Tray"):c()("Image Options Tray")
const et=u?c()("Icon Options"):c()("Image Options")
return x.createElement(j.O,{"data-mce-component":true,label:tt,mountNode:Y.sS,onDismiss:o,onEntered:n,onExited:r,open:i,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},x.createElement(V.kC,{direction:"column",height:(0,G.X)()},x.createElement(V.kC.Item,{as:"header",padding:"medium"},x.createElement(V.kC,{direction:"row"},x.createElement(V.kC.Item,{shouldGrow:true,shouldShrink:true},x.createElement(F.X,{as:"h2"},et)),x.createElement(V.kC.Item,null,x.createElement(P.P,{color:"primary",onClick:o,screenReaderLabel:c()("Close")})))),x.createElement(V.kC.Item,{as:"form",shouldGrow:true,margin:"none",shouldShrink:true},x.createElement(V.kC,{justifyItems:"space-between",direction:"column",height:"100%"},x.createElement(V.kC,{direction:"column"},g&&x.createElement(V.kC.Item,{padding:"small"},x.createElement(Z["default"],{fileUrl:m,setFileUrl:D})),x.createElement(q.Z,{id:"image-options-form",imageSize:T,displayAs:S,isDecorativeImage:w,altText:b,isLinked:f,dimensionsState:z,handleAltTextChange:R,handleIsDecorativeChange:I,handleDisplayAsChange:H,handleImageSizeChange:L,messagesForSize:$,isIconMaker:u})),x.createElement(V.kC.Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},x.createElement(N.z,{disabled:Q,onClick:B,color:"primary"},c()("Done")))))))}J.propTypes={imageOptions:(0,L.shape)({altText:L.string.isRequired,appliedHeight:L.number,appliedWidth:L.number,isDecorativeImage:L.bool.isRequired,isLinked:L.bool,naturalHeight:L.number.isRequired,naturalWidth:L.number.isRequired}).isRequired,onEntered:L.func,onExited:L.func,onRequestClose:L.func.isRequired,onSave:L.func.isRequired,open:L.bool.isRequired,isIconMaker:L.bool}
J.defaultProps={onEntered:null,onExited:null,isIconMaker:false}
const Q="instructure-image-options-tray-container"
class tt{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0
this._isIconMaker=false}get $container(){let t=document.getElementById(Q)
if(null==t){t=document.createElement("div")
t.id=Q
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
this._editor=t
this.$img=t.selection.getNode()
this._shouldOpen=true
this._isIconMaker=e
S.Z.focusedEditor&&S.Z.hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyImageOptions(t){const e=this._editor
const{$img:n}=this
if(this._isIconMaker){this._applyIconAltTextChanges(n,e,t)
this._dismissTray()
e.focus()
return}if("embed"===t.displayAs){(0,H.gO)(e,n,t)
e.fire("ObjectResized",{target:n,width:t.appliedWidth,height:t.appliedHeight})}else{const r=(0,H.KJ)({href:n.src,text:t.altText||n.src,target:"_blank"})
e.selection.setContent(r)}this._dismissTray()
e.focus()}_applyIconAltTextChanges(t,e,n){t.setAttribute("alt",n.altText)
e.dom.setAttribs(t,{role:n.isDecorativeImage?"presentation":null})
e.fire("ObjectResized",{target:t,width:n.appliedWidth,height:n.appliedHeight})}_dismissTray(){this._shouldOpen=false
this._renderTray()
this.$img=null
this._editor=null}_renderTray(){var t,e
this._shouldOpen&&this._renderId++
const n=(0,R.V4)(this.$img)
n.isLinked="A"===(null===(t=this._editor)||void 0===t||null===(e=t.selection)||void 0===e?void 0:e.getSel().anchorNode.tagName)
const r=x.createElement(J,{key:this._renderId,imageOptions:n,onEntered:()=>{this._isOpen=true},onExited:()=>{S.Z.focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyImageOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen,isIconMaker:this._isIconMaker})
C.render(r,this.$container)}}var et=n(72448)
function nt(t,e,r){const{accept:o,panels:a,preselectedFile:i}={...r}
const u=null!==o&&void 0!==o&&o.startsWith("image/")?c()("Upload Image"):c()("Upload File")
let s
const l=new Promise((t=>s=t))
const f=Promise.all([n.e(76092),n.e(33386),n.e(72448),n.e(41038)]).then(n.bind(n,72448)).then((n=>{let{UploadFile:r}=n
const c=e.querySelector(".canvas-rce-upload-container")||(()=>{const t=e.createElement("div")
t.className="canvas-rce-upload-container"
e.body.appendChild(t)
return t})()
return new Promise((e=>{const n=()=>{C.unmountComponentAtNode(c)
t.focus(false)
e("dismissed")}
const l=function(){try{return(0,et.handleSubmit)(...arguments)}finally{e("submitted")}}
C.render(x.createElement(r,{preselectedFile:i,accept:o,editor:t,label:u,panels:a,onDismiss:n,onSubmit:l,canvasOrigin:S.Z.canvasOrigin}),c)
s()}))}))
return{shownPromise:l,closedPromise:f}}function rt(t,e){return nt(t,e,{accept:"image/*",panels:["COMPUTER","URL"]}).shownPromise}var ot=n(51197)
const at="course_images"
const it="user_images"
const ut="group_images"
const ct=new tt
function st(t){var e
const n=null===(e=t.settings.canvas_rce_user_context)||void 0===e?void 0:e.type
const r=[{text:c()("Upload Image"),value:"instructure_upload_image"}]
"course"===n?r.push({text:c()("Course Images"),value:"instructure_course_image"}):"group"===n&&r.push({text:c()("Group Images"),value:"instructure_group_image"})
r.push({text:c()("User Images"),value:"instructure_user_image"})
return r}function lt(t,e){switch(e){case"instructure_upload_image":t.execCommand("mceInstructureImage")
break
case"instructure_course_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,at)
break
case"instructure_group_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,ut)
break
case"instructure_user_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,it)}}a().PluginManager.add("instructure_image",(function(t){t.addCommand("mceInstructureImage",(()=>rt(t,document)))
t.addCommand("instructureTrayForImages",((e,n)=>{S.Z.showTrayForPlugin(n,t.id)}))
t.ui.registry.addNestedMenuItem("instructure_image",{text:c()("Image"),icon:"image",getSubmenuItems:()=>st(t).map((e=>({type:"menuitem",text:e.text,onAction:()=>lt(t,e.value),onSetup:e=>{e.setDisabled(!(0,I.Fc)(t.selection.getContent()))
return()=>{}}})))})
t.ui.registry.addMenuButton("instructure_image",{tooltip:c()("Images"),icon:"image",fetch:e=>e(st(t).map((e=>({type:"menuitem",text:e.text,value:e.value,onAction:()=>lt(t,e.value)})))),onSetup(e){function n(n){e.setDisabled(!(0,I.Fc)(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
function e(t){return!t.classList.contains("equation_image")&&(0,R.Cc)(t)&&!t.getAttribute(ot.Bl)}const n=c()("Show image options")
t.ui.registry.addButton("instructure-image-options",{onAction(){ct.showTrayForEditor(t)},text:c()("Image Options"),tooltip:n})
t.ui.registry.addContextToolbar("instructure-image-toolbar",{items:"instructure-image-options",position:"node",predicate:e,scope:"node"})
t.on("remove",(t=>ct.hideTrayForEditor(t)))}))
function ft(t,e,n){if(!t)return t
const r=null!==e&&void 0!==e?e:""
const o=(null!==n&&void 0!==n?n:"").replace(/\s/g,"+")
const a=new RegExp(`(%7B|{){2}[\\s|%20|+]*${r}[\\s|%20|+]*(%7D|}){2}`,"g")
return t.replace(a,o)}function vt(t,e,n){if("object"===typeof e){Object.keys(e).forEach((n=>{t=ft(t,n,e[n])}))
return t}return ft(t,e,n)}var dt=n(88866)
var mt=n(54769)
const ht=x.forwardRef(((t,e)=>x.createElement("iframe",Object.assign({title:c()("External tool frame"),ref:e,className:"tool_launch"},t,{"data-lti-launch":"true"}))))
const gt=ht
function pt(t){return"object"===typeof t&&"string"===typeof t.url}function bt(t){return"object"===typeof t&&"string"===typeof t.src}var yt=n(84374)
class wt{constructor(t,e,n){this.type=t
this.json=e
this.context=n}get untypedJson(){return this.json}linkThumbnail(){if(pt(this.untypedJson.thumbnail)){const{url:t,width:e,height:n}=this.untypedJson.thumbnail
return this.imageTag(t,e,n)}if("string"===typeof this.untypedJson.thumbnail)return this.imageTag(this.untypedJson.thumbnail)}iframeTag(){const t=this.untypedJson.iframe
if(bt(t)){var e,n
const r=document.createElement("iframe")
r.setAttribute("src",null!==(e=(0,yt.V)(t.src,this.context.containingCanvasLtiToolId))&&void 0!==e?e:"")
r.setAttribute("title",this.buildTitle()||"")
r.setAttribute("allowfullscreen","true")
r.setAttribute("allow",null!==(n=this.context.ltiIframeAllowPolicy)&&void 0!==n?n:"")
t.width&&(r.style.width=`${t.width}px`)
t.height&&(r.style.height=`${t.height}px`)
return r.outerHTML}}imageTag(t,e,n){const r=document.createElement("img")
r.setAttribute("src",t)
const o=this.buildText()
null!=o&&r.setAttribute("alt",o)
e&&r.setAttribute("width",e.toString())
n&&r.setAttribute("height",n.toString())
return r.outerHTML}anchorTag(t){const e=document.createElement("a")
e.setAttribute("href",this.safeUrl)
e.setAttribute("title",this.buildTitle()||"")
e.setAttribute("target","_blank")
e.innerHTML=t||""
return e.outerHTML}get safeUrl(){var t
return(null===(t=this.buildUrl())||void 0===t?void 0:t.replace(/^(data:text\/html|javascript:)/,"#$1"))||""}}class xt extends wt{constructor(t,e){super(xt.type,t,e)}get html(){return this.json.html}buildTitle(){return this.json.title}buildText(){return this.json.text}buildUrl(){return}toHtmlString(){return this.html}}xt.type="html"
class Ct extends wt{constructor(t,e){super(Ct.type,t,e)}buildUrl(){return this.json.url}buildTitle(){return this.json.title}get thumbnail(){return this.json.thumbnail}buildText(){return this.json.text}get width(){return this.json.width}get height(){return this.json.height}toHtmlString(){if(this.thumbnail)return this.anchorTag(this.linkThumbnail())
return this.imageTag(this.safeUrl,this.width,this.height)}}Ct.type="image"
class St extends wt{toHtmlString(){var t
return null!=(null===(t=this.iframe)||void 0===t?void 0:t.src)?this.iframeTag():this.anchorTag(this.linkBody())}linkText(){var t,e,n,r
const o=null!==(t=null===(e=this.buildText())||void 0===e?void 0:e.trim())&&void 0!==t?t:""
const a=null!==(n=null===(r=this.buildTitle())||void 0===r?void 0:r.trim())&&void 0!==n?n:""
return o.length>0?o:a.length>0?a:void 0}linkBody(){if(this.thumbnail)return this.linkThumbnail()
return this.linkText()}buildText(){return this.context.selection||this.json.text}buildUrl(){return this.json.url}buildTitle(){return this.json.title}get icon(){return this.json.icon}get thumbnail(){return this.json.thumbnail}get iframe(){return this.json.iframe}get custom(){return this.json.custom}get lookup_uuid(){return this.json.lookup_uuid}}class kt extends St{constructor(t,e){super(kt.type,t,e)}}kt.type="link"
var Tt=n(18733)
var _t=n(68248)
const Ot=["geolocation *","microphone *","camera *","midi *","encrypted-media *","autoplay *","clipboard-write *","display-capture *"]
function Et(t){const e=()=>{var e,n
return null!==(e=null===(n=_t.ZP.getByEditor(t))||void 0===n?void 0:n.props)&&void 0!==e?e:void 0}
let n
function r(t){return null===t||void 0===t?void 0:t.filter((t=>null!=t))}return{editor:null!==t&&void 0!==t?t:null,get rceWrapper(){var e
return null!==(e=_t.ZP.getByEditor(t))&&void 0!==e?e:null},get availableRceLtiTools(){var t,n
return null!==(t=r(null===(n=e())||void 0===n?void 0:n.ltiTools))&&void 0!==t?t:[]},get contextAssetInfo(){var t
const n=null===(t=e())||void 0===t?void 0:t.trayProps
if(null!=n){var r
const{contextId:t,contextType:e}=null!==(r=n.containingContext)&&void 0!==r?r:n
if(null!=t&&t.length>0&&null!=e&&e.length>0)return{contextType:e,contextId:t}}return null},get resourceSelectionUrlOverride(){var t,n,r
return null!==(t=null===(n=e())||void 0===n||null===(r=n.externalToolsConfig)||void 0===r?void 0:r.resourceSelectionUrlOverride)&&void 0!==t?t:null},get ltiIframeAllowPolicy(){var t,n,o
return(null!==(t=r(null===(n=e())||void 0===n||null===(o=n.externalToolsConfig)||void 0===o?void 0:o.ltiIframeAllowances))&&void 0!==t?t:Ot).join("; ")},get isA2StudentView(){var t,n,r
return null!==(t=null===(n=e())||void 0===n||null===(r=n.externalToolsConfig)||void 0===r?void 0:r.isA2StudentView)&&void 0!==t&&t},get maxMruTools(){var t,n,r
return null!==(t=null===(n=e())||void 0===n||null===(r=n.externalToolsConfig)||void 0===r?void 0:r.maxMruTools)&&void 0!==t?t:5},get canvasOrigin(){var t,n
return null!==(t=null===(n=e())||void 0===n?void 0:n.canvasOrigin)&&void 0!==t?t:window.location.origin},get containingCanvasLtiToolId(){var t,r
const o=null===(t=e())||void 0===t||null===(r=t.externalToolsConfig)||void 0===r?void 0:r.containingCanvasLtiToolId
if("string"===typeof o)return o
try{void 0===n&&(n=window.localStorage.getItem("canvas_tool_id"))
return n}catch{return null}},get editorSelection(){var e,n
return null!==(e=null===t||void 0===t||null===(n=t.selection)||void 0===n?void 0:n.getContent())&&void 0!==e?e:null},get editorContent(){var e
return null!==(e=null===t||void 0===t?void 0:t.getContent())&&void 0!==e?e:null},insertCode(t){var e
null===(e=this.rceWrapper)||void 0===e||e.insertCode(t)}}}const Mt="parent_frame_context"
class At extends St{constructor(t,e){super(At.type,t,e)}toHtmlString(){if(null!=this.iframe){this.iframe.src=this.safeUrl
return this.iframeTag()}return this.anchorTag(this.linkBody())}buildUrl(){return(0,Tt.bW)(this.context.ltiEndpoint,{display:"borderless",resource_link_lookup_uuid:this.lookup_uuid,[Mt]:this.context.containingCanvasLtiToolId})}}At.type="ltiResourceLink"
function zt(t,e){if(!t.type)return null
const n=Dt[t.type]
return n?new n(t,e):null}const Dt={html:xt,image:Ct,link:kt,ltiResourceLink:At}
var Rt=n(70553)
function It(t,e,n){try{var r,o,a,i
const s=null===(r=t.data)||void 0===r?void 0:r.ltiEndpoint
const l=e.editorSelection
const f=null!==(o=null===(a=t.data)||void 0===a?void 0:a.content_items)&&void 0!==o?o:[]
let v=false
for(const t of f){const n=zt(t,{ltiEndpoint:null!==s&&void 0!==s?s:null,selection:null!==l&&void 0!==l?l:null,containingCanvasLtiToolId:e.containingCanvasLtiToolId,ltiIframeAllowPolicy:e.ltiIframeAllowPolicy})
if(null!=n)e.insertCode(n.toHtmlString())
else if(!v){var u;(0,Rt.aZ)({message:c()('Could not insert content: "{itemType}" items are not currently supported in Canvas.',{itemType:null!==(u=t.type)&&void 0!==u?u:"unknown"}),type:"warning",err:null})
v=true}}null!==(i=t.data)&&void 0!==i&&i.content_items&&(null===n||void 0===n||n.close())}catch(t){(0,Rt.aZ)({message:c()("Failed to retrieve content from external tool"),type:"error",err:t})}}var Ht=n(6507)
var Lt=n.n(Ht)
var Bt=n(73781)
var Pt=n(81471)
class Nt{static fromJSON(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et(a().activeEditor)
return new Nt(t,e)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et(a().activeEditor)
this.contentItem=t
this.env=e}get text(){return this.contentItem.text}get isLTI(){var t
return Ft.includes(null!==(t=this.contentItem.mediaType)&&void 0!==t?t:"")}get isOverriddenForThumbnail(){var t
return this.isLTI&&this.contentItem.thumbnail&&"iframe"===(null===(t=this.contentItem.placementAdvice)||void 0===t?void 0:t.presentationDocumentTarget)}get isImage(){var t,e
return true===(null===(t=this.contentItem.mediaType)||void 0===t||null===(e=t.startsWith)||void 0===e?void 0:e.call(t,"image"))}get linkClassName(){return this.isOverriddenForThumbnail?"lti-thumbnail-launch":""}get url(){var t
return null===(t=this.isLTI?this.contentItem.canvasURL:this.contentItem.url)||void 0===t?void 0:t.replace(/^(data:text\/html|javascript:)/,"#$1")}get linkTarget(){var t,e,n
if(this.isOverriddenForThumbnail)return JSON.stringify(this.contentItem.placementAdvice)
return"window"===(null===(t=this.contentItem)||void 0===t||null===(e=t.placementAdvice)||void 0===e||null===(n=e.presentationDocumentTarget)||void 0===n?void 0:n.toLowerCase())?"_blank":null}get docTarget(){var t,e,n,r,o
if("embed"===(null===(t=this.contentItem)||void 0===t||null===(e=t.placementAdvice)||void 0===e?void 0:e.presentationDocumentTarget)&&!this.isImage)return"text"
if(this.isOverriddenForThumbnail)return"link"
return null===(n=this.contentItem)||void 0===n||null===(r=n.placementAdvice)||void 0===r||null===(o=r.presentationDocumentTarget)||void 0===o?void 0:o.toLowerCase()}get codePayload(){switch(this.docTarget){case"iframe":return this.generateCodePayloadIframe()
case"embed":return this.generateCodePayloadEmbed()
case"text":return this.generateCodePayloadText()
default:return this.generateCodePayloadLink()}}generateCodePayloadIframe(){var t,e,n,r,o,a,i,u,c,s
const l=(0,Pt.uD)(this.contentItem.custom)?(0,Pt.ff)(this.contentItem.custom):null
return Lt()("<div/>").append(Lt()("<iframe/>",{src:(0,yt.V)(this.url,this.containingCanvasLtiToolId),title:this.contentItem.title,allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true",allow:null===(t=this.env)||void 0===t?void 0:t.ltiIframeAllowPolicy,...l}).addClass(null!==(e=this.contentItem.class)&&void 0!==e?e:"").css({width:null!==(n=null===(r=this.contentItem.placementAdvice)||void 0===r?void 0:r.displayWidth)&&void 0!==n?n:"",height:null!==(o=null===(a=this.contentItem.placementAdvice)||void 0===a?void 0:a.displayHeight)&&void 0!==o?o:"",display:(0,Pt.gY)(l)}).attr({width:null!==(i=null===(u=this.contentItem.placementAdvice)||void 0===u?void 0:u.displayWidth)&&void 0!==i?i:"",height:null!==(c=null===(s=this.contentItem.placementAdvice)||void 0===s?void 0:s.displayHeight)&&void 0!==c?c:""})).html()}generateCodePayloadEmbed(){var t,e,n,r
return Lt()("<div/>").append(Lt()("<img/>",{src:this.url,alt:this.text}).css({width:null!==(t=null===(e=this.contentItem.placementAdvice)||void 0===e?void 0:e.displayWidth)&&void 0!==t?t:"",height:null!==(n=null===(r=this.contentItem.placementAdvice)||void 0===r?void 0:r.displayHeight)&&void 0!==n?n:""})).html()}generateCodePayloadText(){var t
return null!==(t=this.text)&&void 0!==t?t:""}get containingCanvasLtiToolId(){return this.env.containingCanvasLtiToolId}get currentTinyMceSelection(){return this.env.editorSelection}generateCodePayloadLink(){const t=Lt()("<div/>"),e=Lt()("<a/>",{href:this.url,title:this.contentItem.title,target:this.linkTarget})
this.linkClassName&&e.addClass(this.linkClassName)
t.append(e)
if(this.contentItem.thumbnail){var n,r
e.append(Lt()("<img />",{src:this.contentItem.thumbnail["@id"],height:null!==(n=this.contentItem.thumbnail.height)&&void 0!==n?n:48,width:null!==(r=this.contentItem.thumbnail.width)&&void 0!==r?r:48,alt:this.text}))}else if(null!=(0,Bt.f)(this.currentTinyMceSelection)&&null!=e[0]){var o
e[0].innerHTML=null!==(o=this.currentTinyMceSelection)&&void 0!==o?o:""}else{var a
e.text(null!==(a=this.generateLinkHtml())&&void 0!==a?a:"")}return t.html()}generateLinkHtml(){var t,e,n,r,o
return null!==(t=null!==(e=(0,Bt.f)(this.currentTinyMceSelection))&&void 0!==e?e:(0,Bt.f)(null===(n=this.contentItem.text)||void 0===n?void 0:n.trim()))&&void 0!==t?t:null===(r=this.contentItem)||void 0===r||null===(o=r.title)||void 0===o?void 0:o.trim()}}const Ft=["application/vnd.ims.lti.v1.ltilink","application/vnd.ims.lti.v1.launch+json"]
var Vt=n(69924)
var jt=n(63831)
var Ut=n.n(jt)
const Wt=V.kC.Item
function qt(t){const{label:e,onCloseButton:n,name:r,children:o,...a}=t
const i="0"
return x.createElement(j.O,Object.assign({label:e,onDismiss:n,placement:"end",size:"regular"},a),x.createElement(Vt.G,{as:"div",padding:i,position:"absolute",insetBlockStart:"0",insetBlockEnd:"0",insetInlineStart:"0",insetInlineEnd:"0"},x.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"}},x.createElement(V.kC,{as:"div",padding:"small"},x.createElement(Wt,{shouldGrow:true},x.createElement(F.X,null,r)),x.createElement(Wt,null,x.createElement(P.P,{onClick:n,size:"small",screenReaderLabel:Ut()("Close")}))),x.createElement("div",{style:{position:"relative",flex:1}},x.createElement(Vt.G,{as:"div",width:"100%",height:"100%"},o)))))}qt.propTypes={open:B().bool,label:B().string.isRequired,mountNode:B().oneOfType([B().element,B().func]),onOpen:B().func,onClose:B().func,onCloseButton:B().func,name:B().string.isRequired,children:B().node}
var Gt=n(60124)
function $t(t){return x.createElement(Gt.u_,{"data-mce-component":true,label:t.label,onDismiss:t.onCloseButton,open:t.open,onOpen:t.onOpen,onClose:t.onClose,mountNode:t.mountNode},x.createElement(Gt.u_.Header,null,x.createElement(V.kC,null,x.createElement(V.kC.Item,{grow:true},x.createElement(F.X,null,t.name)),x.createElement(V.kC.Item,null,x.createElement(P.P,{onClick:t.onCloseButton,screenReaderLabel:Ut()("Close")})))),x.createElement(Gt.u_.Body,{padding:"0"},x.createElement(Vt.G,{as:"div",height:"100%"},t.children)))}const Xt=V.kC.Item
class Kt extends x.Component{constructor(){super(...arguments)
this.state={open:false,button:null,infoAlert:null,form:Zt,iframeLoaded:false}
this.formRef=(0,x.createRef)()
this.beforeInfoAlertRef=(0,x.createRef)()
this.afterInfoAlertRef=(0,x.createRef)()
this.iframeRef=(0,x.createRef)()
this.handleBeforeUnload=t=>t.returnValue=c()("Changes you made may not be saved.")
this.handleExternalContentReady=t=>{const e=this.props.env
if(e.isA2StudentView){this.close()
return}const n=t.contentItems
if(1===n.length&&"lti_replace"===n[0]["@type"]){var r
const t=n[0].text
null===(r=e.rceWrapper)||void 0===r||r.setCode(t)}else n.forEach((t=>{var n
const r=Nt.fromJSON({...t,class:"lti-embed"},e).codePayload
null===(n=e.rceWrapper)||void 0===n||n.insertCode(r)}))
this.close()}
this.handlePostedMessage=t=>{if(t.origin===this.resourceSelectionOrigin){const e=t.data
"LtiDeepLinkingResponse"===(null===e||void 0===e?void 0:e.subject)?It(t,this.props.env,this):"externalContentReady"===(null===e||void 0===e?void 0:e.subject)&&this.handleExternalContentReady(t.data)}}
this.handleClose=()=>{const t=c()("Are you sure you want to cancel? Changes you made may not be saved.")
window.confirm(t)&&this.close()}
this.handleOpen=()=>{var t
this.state.open&&(null===(t=this.formRef.current)||void 0===t||t.submit())}
this.handleRemove=()=>{var t
this.setState({button:null})
null===(t=this.props.env.editor)||void 0===t||t.focus()
window.dispatchEvent(new Event("resize"))}
this.handleInfoAlertFocus=t=>this.setState({infoAlert:t.target})
this.handleInfoAlertBlur=()=>this.setState({infoAlert:null})}open(t){var e,n
const{env:r,resourceSelectionUrlOverride:o}=this.props
let a=vt(o,"id",t.id)
const i=null!==(e=null===r||void 0===r?void 0:r.editorSelection)&&void 0!==e?e:""
const u=null!==(n=null===r||void 0===r?void 0:r.editorContent)&&void 0!==n?n:""
if(null==a){const e=r.contextAssetInfo
if(null==e){(0,Rt.aZ)({message:c()("Unable to determine resource selection url"),type:"error",err:void 0})
return}const{contextType:n,contextId:o}=e
const i=r.canvasOrigin
a=`${i}/${n}s/${o}/external_tools/${encodeURIComponent(t.id)}/resource_selection`}this.setState({open:true,button:t,form:{url:a,selection:i,contents:u,parent_frame_context:r.containingCanvasLtiToolId}})
window.addEventListener("beforeunload",this.handleBeforeUnload)
window.addEventListener("message",this.handlePostedMessage)}close(){window.removeEventListener("beforeunload",this.handleBeforeUnload)
window.removeEventListener("message",this.handlePostedMessage)
this.setState({open:false,form:Zt})}get resourceSelectionOrigin(){if(this.props.resourceSelectionUrlOverride){const t=(0,Tt.PC)(this.props.resourceSelectionUrlOverride)
if(null!=t)return t.origin}return this.props.env.canvasOrigin}render(){var t,e,n,r,o,a,i,u,s
const l=this.state
const f=this.props
const v=c()("Embed content from External Tool")
const d=Math.max(Math.min(window.innerHeight-100,550),100)
const m=null!==(t=l.button)&&void 0!==t&&t.use_tray?qt:$t
return x.createElement(x.Fragment,null,x.createElement("form",{ref:this.formRef,method:"POST",action:l.form.url,target:"external_tool_launch",style:{margin:0}},x.createElement("input",{type:"hidden",name:"editor",value:"1"}),x.createElement("input",{type:"hidden",name:"selection",value:l.form.selection}),x.createElement("input",{type:"hidden",name:"editor_contents",value:l.form.contents}),null!=l.form.parent_frame_context&&x.createElement("input",{type:"hidden",name:"parent_frame_context",value:l.form.parent_frame_context})),x.createElement(m,{open:l.open,mountNode:Y.sS,label:v,onOpen:this.handleOpen,onClose:this.handleRemove,onCloseButton:this.handleClose,name:null!==(e=null===(n=l.button)||void 0===n?void 0:n.title)&&void 0!==e?e:" "},x.createElement("div",{ref:this.beforeInfoAlertRef,tabIndex:0,onFocus:this.handleInfoAlertFocus,onBlur:this.handleInfoAlertBlur,className:null!=this.beforeInfoAlertRef.current&&l.infoAlert===this.beforeInfoAlertRef.current?"":"screenreader-only"},x.createElement(dt.b,{margin:"small"},c()("The following content is partner provided"))),!l.iframeLoaded&&x.createElement(V.kC,{alignItems:"center",justifyItems:"center"},x.createElement(Xt,null,x.createElement(mt.$,{renderTitle:c()("Loading External Tool"),size:"large",margin:"0 0 0 medium"}))),x.createElement(gt,{title:v,ref:this.iframeRef,name:"external_tool_launch",src:"",id:"external_tool_button_frame",style:{width:null!==(r=l.button)&&void 0!==r&&r.use_tray?"100%":null!==(o=null===(a=l.button)||void 0===a?void 0:a.width)&&void 0!==o?o:800,height:null!==(i=l.button)&&void 0!==i&&i.use_tray?"100%":null!==(u=null===(s=l.button)||void 0===s?void 0:s.height)&&void 0!==u?u:d,border:"0",display:"block",visibility:l.iframeLoaded?"visible":"hidden"},allow:f.iframeAllowances,onLoad:()=>this.setState({iframeLoaded:true})}),x.createElement("div",{ref:this.afterInfoAlertRef,tabIndex:0,onFocus:this.handleInfoAlertFocus,onBlur:this.handleInfoAlertBlur,className:null!=this.afterInfoAlertRef.current&&l.infoAlert===this.afterInfoAlertRef.current?"":"screenreader-only"},x.createElement(dt.b,{margin:"small"},c()("The preceding content is partner provided")))))}}Kt.propTypes={iframeAllowances:B().string.isRequired,resourceSelectionUrlOverride:B().oneOfType([B().string,B().oneOf([null])])}
Kt.defaultProps={resourceSelectionUrlOverride:void 0}
const Zt={url:"",selection:"",contents:"",parent_frame_context:null}
const Yt="external-tool-dialog-container"
function Jt(){let t=document.getElementById(Yt)
if(null===t){t=document.createElement("div")
t.id=Yt
document.body.appendChild(t)}return t}function Qt(t){const e=(0,x.createRef)()
const n=t.env
C.render(x.createElement(Kt,{ref:e,env:n,iframeAllowances:n.ltiIframeAllowPolicy,resourceSelectionUrlOverride:n.resourceSelectionUrlOverride}),Jt(),(()=>{var n
null===(n=e.current)||void 0===n||n.open(t)}))}function te(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map
return{cache:e,get(n){if(e.has(n))return e.get(n)
const r=t(n)
e.set(n,r)
return r}}}const ee=Object.values(i)
class ne{static forEditorEnv(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.availableRceLtiTools
let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie()
return e.map((e=>new ne(t,e,n)))}get editor(){return this.env.editor}constructor(t,e,n){this.env=t
this.toolInfo=e
this.iconId=void 0
this.isMruTool=void 0
this.iconId=oe(t,e)
this.isMruTool=n.includes(String(e.id))}get id(){return String(this.toolInfo.id)}get title(){var t
return null!==(t=this.toolInfo.name)&&void 0!==t?t:`Unknown tool (${String(this.toolInfo.id)})`}get description(){return this.toolInfo.description}get favorite(){var t
return null!==(t=this.toolInfo.favorite)&&void 0!==t&&t}get image(){var t
return null===(t=re(this.toolInfo))||void 0===t?void 0:t.iconUrl}get width(){return this.toolInfo.width}get height(){return this.toolInfo.height}get use_tray(){return this.toolInfo.use_tray}asToolbarButton(){var t
return{type:"button",icon:null!==(t=this.iconId)&&void 0!==t?t:void 0,tooltip:this.title,onAction:()=>this.openDialog()}}asMenuItem(){var t
return{type:"menuitem",text:this.title,icon:null!==(t=this.iconId)&&void 0!==t?t:void 0,onAction:()=>this.openDialog()}}openDialog(){ce(this.id,this.env)
Qt(this)}}function re(t){const e={}
const n=t.canvas_icon_class
if("object"===typeof n){const t=null===n||void 0===n?void 0:n.icon_url
"string"===typeof t&&""!==t&&(e.iconUrl=t)}"string"===typeof t.icon_url&&""!==t.icon_url&&(e.iconUrl=t.icon_url)
"string"===typeof n&&""!==n&&(e.canvasIconClass=n)
return e}function oe(t,e){if(null==t.editor)return
const n="lti_tool_"+String(e.id)
const{iconUrl:r,canvasIconClass:o}=re(e)
const a=(null!==o&&void 0!==o?o:"").replace(/^icon[-_]/,"")
if(null!=r&&r.length>0){t.editor.ui.registry.addIcon(n,ae.get(r))
return n}if(null!=a&&a.length>0){const e=ee.find((t=>"Line"===t.variant&&t.glyphName===a))
if(null!=e){t.editor.ui.registry.addIcon(n,e.src)
return n}}t.editor.ui.registry.addIcon(n,i.IconLtiSolid.src)
return n}const ae=te((t=>{const e=document.createElement("svg")
e.setAttribute("viewBox","0 0 16 16")
e.setAttribute("version","1.1")
e.setAttribute("xmlns","http://www.w3.org/2000/svg")
const n=document.createElement("image")
n.setAttribute("xlink:href",t)
n.style.width="100%"
n.style.height="100%"
e.appendChild(n)
return e.outerHTML}))
function ie(){let t
try{var e,n
t=JSON.parse(null!==(e=null===(n=window.localStorage)||void 0===n?void 0:n.getItem("ltimru"))&&void 0!==e?e:"[]")}catch(t){console.warn("Found bad LTI MRU data",t.message)}return Array.isArray(t)?t.filter((t=>null!=t)).map((t=>String(t))):[]}function ue(t){try{var e
null===(e=window.localStorage)||void 0===e||e.setItem("ltimru",JSON.stringify(t))}catch(t){console.warn("Cannot save LTI MRU list",t.message)}}function ce(t,e){const n=ie()
if(!n.includes(t)){const r=[t,...n.slice(0,e.maxMruTools-1)]
ue(r)
return r}return n}function se(t,e){return[...t.filter((t=>t.isMruTool)).map((t=>t.asMenuItem())).sort(((t,e)=>t.text.localeCompare(e.text))),e]}var le=n(20265)
a().PluginManager.add("instructure_rce_external_tools",fe)
function fe(t){if(0===ne.forEditorEnv(Et(t)).length)return
de(t)
me(t)
ve(t)}function ve(t){t.ui.registry.addNestedMenuItem("lti_tools_menuitem",{text:c()("Apps"),icon:"lti",getSubmenuItems:()=>{const e=ne.forEditorEnv(Et(t))
const n=se(e,ge(t))
return n}})}function de(t){ne.forEditorEnv(Et(t)).filter((t=>t.favorite)).forEach((e=>t.ui.registry.addButton(`instructure_external_button_${e.id}`,e.asToolbarButton())))}function me(t){const e=c()("Apps")
t.ui.registry.addMenuButton("lti_mru_button",{tooltip:e,icon:"lti",fetch:e=>{const n=ne.forEditorEnv(Et(t))
const r=se(n,ge(t))
e(r)},onSetup:t=>()=>{}})}function he(t){const e=ne.forEditorEnv(Et(t))
const n=Jt()
const r=()=>{C.unmountComponentAtNode(n)
t.focus()}
C.render(x.createElement(le.ExternalToolSelectionDialog,{onDismiss:r,ltiButtons:e}),Jt())}function ge(t){return{type:"menuitem",text:c()("View All"),onAction(){he(t)}}}var pe=n(48105)
var be=n(93614)
var ye=n(47420)
const we=(t,e,n,r)=>{let o=t&&S.Z.uploadMediaTranslations.UploadMediaStrings.UPLOADING_ERROR
"FileSizeError"===(null===t||void 0===t?void 0:t.name)&&(o=c()("Size of caption file is greater than the maximum {max} kb allowed file size.",{max:t.maxBytes/1e3}))
const a=S.Z.activeEditor()
let i
if(r){i=a.editor.selection.getBookmark(2,true)
a.editor.selection.moveToBookmark(r)}n(o,e)
i&&a.editor.selection.moveToBookmark(i)}
function xe(t,e){return Promise.all([n.e(33386),n.e(60325)]).then(n.bind(n,60325)).then((n=>{const r=n.default
let o=e.querySelector(".canvas-rce-media-upload")
if(!o){o=e.createElement("div")
o.className="canvas-rce-media-upload"
e.body.appendChild(o)}const a=()=>{C.unmountComponentAtNode(o)
t.focus(false)}
let i=null
const u=e=>{var n
S.Z.focusEditor(t.rceWrapper)
const r=S.Z.activeEditor()
i=null===r||void 0===r||null===(n=r.editor)||void 0===n?void 0:n.selection.getBookmark(2,true)
S.Z.insertImagePlaceholder(e)
a()}
const c=S.Z.trayProps.get(t)
C.render(x.createElement(pe.g3,c,(n=>x.createElement(r,{"data-mce-component":true,rcsConfig:{contextType:t.settings.canvas_rce_user_context.type,contextId:t.settings.canvas_rce_user_context.id,origin:(0,be.rs)(n.host),headers:(0,be.Lc)(n.jwt)},userLocale:S.Z.userLocale,mountNode:Y.sS,open:true,liveRegion:()=>e.getElementById("flash_screenreader_holder"),onStartUpload:t=>u(t),onUploadComplete:(t,e)=>we(t,e,n.mediaUploadComplete,i),onDismiss:a,tabs:{record:true,upload:true},uploadMediaTranslations:S.Z.uploadMediaTranslations,media_links_use_attachment_id:ye.Z.getFeatures().media_links_use_attachment_id}))),o)}))}var Ce=n(45101)
var Se=n(64426)
var ke=n(20584)
const Te=()=>document.getElementById("flash_screenreader_holder")
function _e(t){let{open:e,onEntered:n,onExited:r,onDismiss:o,onSave:a,trayProps:i,audioOptions:u}=t
const[s,l]=(0,x.useState)(u.tracks||[])
const f=(t,e)=>{a({media_object_id:u.id,subtitles:s,updateMediaObject:e.updateMediaObject})}
return x.createElement(pe.g3,i,(t=>x.createElement(j.O,{key:"audio-options-tray","data-mce-component":true,label:c()("Audio Options Tray"),mountNode:Y.sS,onDismiss:o,onEntered:n,onExited:r,open:e,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},x.createElement(V.kC,{direction:"column",height:(0,G.X)()},x.createElement(V.kC.Item,{as:"header",padding:"medium"},x.createElement(V.kC,{direction:"row"},x.createElement(V.kC.Item,{shouldGrow:true,shouldShrink:true},x.createElement(F.X,{as:"h2"},c()("Audio Options"))),x.createElement(V.kC.Item,null,x.createElement(P.P,{placement:"static",color:"primary",onClick:o,screenReaderLabel:c()("Close")})))),x.createElement(V.kC.Item,{as:"form",shouldGrow:true,margin:"none",shouldShrink:true},x.createElement(V.kC,{justifyItems:"space-between",direction:"column",height:"100%"},x.createElement(V.kC.Item,{shouldGrow:true,padding:"small",shouldShrink:true},x.createElement(V.kC,{direction:"column"},x.createElement(V.kC.Item,{padding:"small"},x.createElement(Se.LV,{description:c()("Closed Captions/Subtitles")},x.createElement(ke["default"],{subtitles:s.map((t=>({locale:t.locale,file:{name:t.language||t.locale}}))),uploadMediaTranslations:S.Z.uploadMediaTranslations,languages:S.Z.languages,updateSubtitles:t=>l(t),liveRegion:Te}))))),x.createElement(V.kC.Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},x.createElement(N.z,{onClick:e=>f(e,t),color:"primary"},c()("Done")))))))))}_e.propTypes={onEntered:L.func,onExited:L.func,onDismiss:L.func,onSave:L.func,open:L.bool.isRequired,trayProps:(0,L.shape)({host:L.string.isRequired,jwt:L.string.isRequired}).isRequired,audioOptions:(0,L.shape)({id:L.string.isRequired,titleText:L.string.isRequired,tracks:(0,L.arrayOf)((0,L.shape)({locale:L.string.isRequired}))}).isRequired}
_e.defaultProps={onEntered:null,onExited:null,onDismiss:null,onSave:null}
const Oe="instructure-audio-options-tray-container"
class Ee{constructor(){this._isOpen=false
this._shouldOpen=false
this._editor=null
this._audioContainer=null}get container(){let t=document.getElementById(Oe)
if(null==t){t=document.createElement("div")
t.id=Oe
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._shouldOpen=true
this._editor=t
this._audioContainer=(0,R.Sy)(t.selection.getNode())
S.Z.focusedEditor&&S.Z.hideTrays()
const e=S.Z.trayProps.get(t)
this._renderTray(e)}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_dismissTray(){this._audioContainer&&this._editor.selection.select(this._audioContainer)
this._resetController()}_resetController(){this._shouldOpen=false
const t=S.Z.trayProps.get(this._editor)
this._renderTray(t)
this._editor=null
this._audioContainer=null
const e=document.getElementById(Oe)
return e.parentNode.removeChild(e)}_applyAudioOptions(t){if(!t.media_object_id||"undefined"===t.media_object_id)return
const e=this._audioContainer
return t.updateMediaObject({media_object_id:t.media_object_id,subtitles:t.subtitles}).then((()=>null===e||void 0===e?void 0:e.contentWindow.location.reload())).catch((t=>{console.error("Failed updating audio captions",t)}))}_renderTray(t){const e=(0,R.c5)(this._audioContainer)||{}
const n=x.createElement(_e,{audioOptions:e,onEntered:()=>{this._isOpen=true},onExited:()=>{S.Z.focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyAudioOptions(t)
this._dismissTray()},onDismiss:()=>this._dismissTray(),open:this._shouldOpen,trayProps:t})
C.render(n,this.container)}}const Me=new Ce.ZP
const Ae=new Ee
const ze="course_media"
const De="user_media"
const Re="group_media"
function Ie(t){const e=t.settings.canvas_rce_user_context.type
const n=[]
t.getParam("show_media_upload")&&n.push({text:c()("Upload/Record Media"),value:"instructure_upload_media"})
"course"===e?n.push({text:c()("Course Media"),value:"instructure_course_media"}):"group"===e&&n.push({text:c()("Group Media"),value:"instructure_group_media"})
n.push({text:c()("User Media"),value:"instructure_user_media"})
return n}function He(t,e){switch(e){case"instructure_upload_media":t.execCommand("instructureRecord")
break
case"instructure_course_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,ze)
break
case"instructure_group_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,Re)
break
case"instructure_user_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,De)}}a().PluginManager.add("instructure_record",(function(t){t.addCommand("instructureRecord",(()=>xe(t,document)))
t.addCommand("instructureTrayForMedia",((e,n)=>{S.Z.showTrayForPlugin(n,t.id)}))
t.ui.registry.addNestedMenuItem("instructure_media",{text:c()("Media"),icon:"video",getSubmenuItems:()=>Ie(t).map((e=>({type:"menuitem",text:e.text,onAction:()=>He(t,e.value),onSetup:e=>{e.setDisabled(!(0,I.Fc)(t.selection.getContent()))
return()=>{}}})))})
t.ui.registry.addMenuButton("instructure_record",{tooltip:c()("Record/Upload Media"),icon:"video",fetch:e=>e(Ie(t).map((e=>({type:"menuitem",text:e.text,value:e.value,onAction:()=>He(t,e.value)})))),onSetup(e){function n(n){e.setDisabled(!(0,I.Fc)(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
const e=c()("Show video options")
t.ui.registry.addButton("instructure-video-options",{onAction(){Me.showTrayForEditor(t)},text:c()("Video Options"),tooltip:e})
t.ui.registry.addContextToolbar("instructure-video-toolbar",{items:"instructure-video-options",position:"node",predicate:R.gX,scope:"node"})
t.ui.registry.addButton("instructure-audio-options",{onAction(){Ae.showTrayForEditor(t)},text:c()("Audio Options"),tooltip:c()("Show audio options")})
t.ui.registry.addContextToolbar("instructure-audio-toolbar",{items:"instructure-audio-options",position:"node",predicate:R.pP,scope:"node"})
t.on("remove",(t=>{Ae.hideTrayForEditor(t)
Me.hideTrayForEditor(t)}))}))
var Le=n(75935)
const Be="create"
const Pe="edit"
function Ne(t){const[e,n]=(0,x.useState)(t.text||"")
const[r,o]=(0,x.useState)(t.url||"")
const[a,i]=(0,x.useState)(null)
const[u,s]=(0,x.useState)(false);(0,x.useEffect)((()=>{try{const t=K(r)
s(t)
i(null)}catch(t){s(false)
i(t.message)}}),[r])
function l(n){n.preventDefault()
if(!r)return
const o=e.trim()||r
t.onSave({text:o,target:"_blank",href:r,userText:t.showText,class:"inline_disabled",forceRename:true})}function f(t){n(t.target.value)}function v(t){o(t.target.value)}const d=t.operation===Be?c()("Insert Link"):c()("Edit Link")
return x.createElement(Gt.u_,{"data-testid":"RCELinkOptionsDialog","data-mce-component":true,as:"form",label:d,mountNode:Y.sS,onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,onSubmit:l,open:t.open,shouldCloseOnDocumentClick:false,shouldReturnFocus:false,size:"medium"},x.createElement(Gt.u_.Header,null,x.createElement(P.P,{offset:"medium",placement:"end",screenReaderLabel:c()("Close"),onClick:t.onRequestClose}),x.createElement(F.X,null,d)),x.createElement(Gt.u_.Body,null,t.showText&&x.createElement(Vt.G,{as:"div",margin:"small"},x.createElement(Le.o,{renderLabel:c()("Text"),name:"linktext",onChange:f,value:e})),x.createElement(Vt.G,{as:"div",margin:"small"},x.createElement(Le.o,{renderLabel:c()("Link"),name:"linklink",onChange:v,value:r})),a&&x.createElement(Vt.G,{as:"div",margin:"small","data-testid":"url-error"},x.createElement(dt.b,{variant:"error"},a))),x.createElement(Gt.u_.Footer,null,x.createElement("input",{type:"submit",style:{display:"none"}}),x.createElement(N.z,{onClick:t.onRequestClose,margin:"0 small",color:"secondary"},c()("Close")),x.createElement(N.z,{disabled:!(r&&u),onClick:l,color:"primary"},c()("Done"))))}Ne.propTypes={text:L.string,url:L.string,operation:(0,L.oneOf)([Be,Pe]),onEntered:L.func,onExited:L.func,onRequestClose:L.func.isRequired,onSave:L.func.isRequired,open:L.bool.isRequired,showText:L.bool}
Ne.defaultProps={onEntered:null,onExited:null,showText:true}
const Fe="instructure-link-options-tray-container"
const Ve="create"
const je="edit"
class Ue{constructor(){this._dismissDialog=()=>{this._shouldOpen=false
this._renderDialog()}
this._hasClosed=()=>{S.Z.focusActiveEditor(false)
this._isOpen=false
this._editor.focus(false)
this._editor=null}
this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(Fe)
if(null==t){t=document.createElement("div")
t.id=Fe
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showDialogForEditor(t,e){this._editor=t
this._shouldOpen=true
this._op=e
this._renderDialog()}hideDialog(){this._dismissDialog()}_applyLinkOptions(t){this._dismissDialog()
S.Z.insertLink(t)}_renderDialog(){let t,e,n,r,o
if(this._shouldOpen){var a
t=this._editor.selection.getContent()
e=(0,I.mz)(t)
o=e&&this._editor.selection.getContent({format:"text"})
n=(0,I.at)(this._editor,this._editor.selection.getNode())
r=null===(a=n)||void 0===a?void 0:a.getAttribute("href")
this._renderId++}const i=x.createElement(Ne,{key:this._renderId,size:"medium",showText:e,text:o,url:r,operation:this._op,onEntered:()=>{this._isOpen=true},onExited:this._hasClosed,onRequestClose:this._dismissDialog,onSave:t=>{S.Z.focusEditor(this._editor.rceWrapper)
this._applyLinkOptions(t)},open:this._shouldOpen})
C.render(i,this.$container)}}const We=new Ue
function qe(t,e){We.showDialogForEditor(t,e)}var Ge=n(76092)
var $e=n(77545)
var Xe=n(87611)
function Ke(t){const e=t.content||{}
const n=e.text||""
const r=e.onlyTextSelected
const[o,a]=(0,x.useState)(n||"")
const[i,u]=(0,x.useState)(e.url||"")
const[s,l]=(0,x.useState)(null)
const[f,v]=(0,x.useState)(false)
const[d,m]=(0,x.useState)(e.displayAs===R.A4)
const[h,g]=(0,x.useState)(e.displayAs===R.CY||e.displayAs===R.r8)
const[p,b]=(0,x.useState)(w(e));(0,x.useEffect)((()=>{try{const t=K(i)
v(t)
l(null)}catch(t){v(false)
l(t.message)}}),[i])
function y(n){n.preventDefault()
const r=e.isPreviewable?"scribd":null
const a={embed:r?{type:r,autoOpenPreview:d&&!h,disableInlinePreview:h,noPreview:"disable"===p}:null,text:o,href:i,id:e.id||null,forceRename:true}
t.onSave(a)}function w(t){return t.displayAs===R.r8?"disable":t.displayAs===R.A4||t.displayAs===R.rN?"inline":"overlay"}function C(t){a(t.target.value)}function S(t){u(t.target.value)}function k(t){m(t.target.checked)}function T(t,e){g("overlay"===e||"disable"===e)
b(e)}function _(){return x.createElement(Se.LV,{description:c()("Display Options"),layout:"stacked",rowSpacing:"small"},x.createElement($e.a,{description:" ",name:"preview_option",onChange:T,value:p},x.createElement(Xe.N,{key:"disable",value:"disable",label:c()("Disable Preview")}),x.createElement(Xe.N,{key:"overlay",value:"overlay",label:c()("Preview in overlay")}),x.createElement(Xe.N,{key:"inline",value:"inline",label:c()("Preview inline")})),!h&&x.createElement(Vt.G,{as:"div",margin:"0 0 0 small"},x.createElement(Ge.XZ,{label:c()("Expand preview by Default"),name:"auto-preview",onChange:k,checked:d})))}return x.createElement(j.O,{"data-testid":"RCELinkOptionsTray","data-mce-component":true,label:c()("Link Options"),mountNode:Y.sS,onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,open:t.open,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},x.createElement(V.kC,{direction:"column",height:(0,G.X)()},x.createElement(V.kC.Item,{as:"header",padding:"medium"},x.createElement(V.kC,{direction:"row"},x.createElement(V.kC.Item,{shouldGrow:true,shouldShrink:true},x.createElement(F.X,{as:"h2"},c()("Link Options"))),x.createElement(V.kC.Item,null,x.createElement(P.P,{color:"primary",onClick:t.onRequestClose,screenReaderLabel:c()("Close")})))),x.createElement(V.kC.Item,{as:"form",shouldGrow:true,margin:"none",shouldShrink:true,onSubmit:y},x.createElement(V.kC,{justifyItems:"space-between",direction:"column",height:"100%"},x.createElement(V.kC.Item,{shouldGrow:true,padding:"small",shouldShrink:true},x.createElement("input",{type:"submit",style:{display:"none"}}),x.createElement(V.kC,{direction:"column"},r&&x.createElement(V.kC.Item,{padding:"small"},x.createElement(Le.o,{renderLabel:()=>c()("Text"),onChange:C,value:o})),x.createElement(V.kC.Item,{padding:"small"},x.createElement(Le.o,{renderLabel:()=>c()("Link"),onChange:S,value:i})),s&&x.createElement(V.kC.Item,{padding:"small","data-testid":"url-error"},x.createElement(dt.b,{variant:"error"},s)),e.isPreviewable&&x.createElement(V.kC.Item,{margin:"small none none none",padding:"small"},_()))),x.createElement(V.kC.Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},x.createElement(N.z,{disabled:r&&0===o.trim().length||!(i&&f),onClick:y,color:"primary"},c()("Done")))))))}Ke.propTypes={content:(t,e,n)=>{t.open&&(0,L.checkPropTypes)({content:(0,L.shape)({$element:L.object,dispalyAs:(0,L.oneOf)([R.rN,R.A4]),isPreviewable:L.bool,text:L.string,url:L.string}).isRequired},t,"content","LinkOptionsTray")},onEntered:L.func,onExited:L.func,onRequestClose:L.func.isRequired,onSave:L.func.isRequired,open:L.bool.isRequired}
Ke.defaultProps={onEntered:null,onExited:null}
const Ze="instructure-link-options-tray-container"
class Ye{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(Ze)
if(null==t){t=document.createElement("div")
t.id=Ze
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._editor=t
this._shouldOpen=true
const e=t.selection.getNode()
if(t.selection.isCollapsed()&&"A"===e.nodeName)t.selection.select(t.selection.getNode())
else{const n=(0,I.at)(t,e)
t.selection.select(n)}S.Z.focusedEditor&&S.Z.hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyLinkOptions(t){this._dismissTray()
S.Z.insertLink({...t,userText:true})}_dismissTray(){this._shouldOpen=false
this._renderTray()
this._editor=null}_renderTray(){let t={}
if(this._shouldOpen){t=(0,R.Fw)(this._editor)
this._renderId++}const e=x.createElement(Ke,{content:t,key:this._renderId,onEntered:()=>{this._isOpen=true},onExited:()=>{S.Z.focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyLinkOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
C.render(e,this.$container)}}const Je=new Ye
const Qe="course_links"
const tn="group_links"
function en(t){var e
const n=!!(null!==(e=ye.Z.getFeatures())&&void 0!==e&&e.rce_ux_improvements)
const r=t.getAttribute("data-course-type")
return n&&r?"instructureTrayForCourseLinks":"instructureTrayToEditLink"}function nn(t){return t.selection.getRng().cloneContents().querySelectorAll("a").length}function rn(t){var e
const n=null===(e=t.settings.canvas_rce_containing_context)||void 0===e?void 0:e.type
const r=t.selection.isCollapsed()?0:nn(t)
let o
if((0,I.at)(t,t.selection.getNode()))o=[{text:c()("Edit Link"),value:en(t.selection.getNode())},{text:c()("Remove Link"),value:"instructureUnlink"}]
else{o=[{text:c()("External Link"),value:"instructureLinkCreate"}]
"course"===n?o.push({text:c()("Course Link"),value:"instructure_course_links"}):"group"===n&&o.push({text:c()("Group Link"),value:"instructure_group_links"})
r>0&&o.push({text:c().plural(r,{one:"Remove Link",other:"Remove Links"}),value:"instructureUnlinkAll"})}return o}function on(t){const e=t.selection.getNode()
const n=(0,I.at)(t,e)
t.selection.select(n)
t.undoManager.add()
t.execCommand("Unlink")}function an(t,e){switch(e){case"instructureTrayToEditLink":case"instructureTrayForCourseLinks":case"instructureLinkCreate":t.execCommand(e)
break
case"instructureUnlink":on(t)
break
case"instructureUnlinkAll":t.undoManager.add()
t.execCommand("unlink")
break
case"instructure_course_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,Qe)
break
case"instructure_group_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,tn)}}a().PluginManager.add("instructure_links",(function(t){t.addCommand("instructureLinkCreate",(()=>qe(t,Ve)))
t.addCommand("instructureLinkEdit",(()=>qe(t,je)))
t.addCommand("instructureTrayForLinks",((e,n)=>{S.Z.showTrayForPlugin(n,t.id)}))
t.addCommand("instructureTrayToEditLink",(e=>{Je.showTrayForEditor(t)}))
t.addCommand("instructureTrayForCourseLinks",(()=>{t.selection.select(t.selection.getNode())
return S.Z.showTrayForPlugin("course_link_edit",t.id)}))
t.addShortcut("Meta+K","","instructureLinkCreate")
t.ui.registry.addNestedMenuItem("instructure_links",{text:c()("Link"),icon:"link",getSubmenuItems:()=>rn(t).map((e=>({type:"menuitem",text:e.text,onAction:()=>an(t,e.value),onSetup:e=>{e.setDisabled(!(0,I.Fc)(t.selection.getContent()))
return()=>{}}})))})
t.ui.registry.addMenuButton("instructure_links",{tooltip:c()("Links"),icon:"link",fetch:e=>e(rn(t).map((e=>({type:"menuitem",text:e.text,value:e.value,onAction:()=>an(t,e.value)})))),onSetup(e){function n(n){null!==n&&void 0!==n&&n.element&&e.setActive(!!(0,I.at)(t,n.element))
e.setDisabled(!(0,I.Fc)(t.selection.getContent()))}function r(){let e=null
if("A"===t.selection.getNode().tagName)e=t.selection.getNode()
else{var n,r
const o=t.selection.getRng()
o.commonAncestorContainer===o.endContainer&&"A"===(null===(n=o.endContainer.nextSibling)||void 0===n?void 0:n.tagName)?e=o.endContainer.nextSibling:"A"===(null===(r=o.nextSibling)||void 0===r?void 0:r.tagName)&&(e=o.nextSibling)}if(e){var o
if(e.firstElementChild)return
const n=null===(o=e.textContent)||void 0===o?void 0:o.trim()
0===(null===n||void 0===n?void 0:n.length)&&t.execCommand("Unlink")}}setTimeout(n,0,null)
t.on("NodeChange",n)
t.on("Change",r)
return()=>{t.off("NodeChange",n)
t.off("Change",r)}}})
t.ui.registry.addButton("instructure-link-options",{onAction(){t.execCommand(en(t.selection.getNode()),false,t)},text:c()("Link Options"),tooltip:c()("Show link options")})
const e=c()("Remove Link")
t.ui.registry.addButton("instructureUnlink",{onAction(){on(t)},text:e})
t.ui.registry.addContextToolbar("instructure-link-toolbar",{items:"instructure-link-options instructureUnlink",position:"node",predicate:e=>!!(0,I.at)(t,e),scope:"node"})}))
function un(t,e){return nt(t,e,{panels:["COMPUTER"]}).shownPromise}const cn="course_documents"
const sn="user_documents"
const ln="group_documents"
function fn(t){const e=t.settings.canvas_rce_user_context.type
const n=[{text:c()("Upload Document"),value:"instructure_upload_document"}]
"course"===e?n.push({text:c()("Course Documents"),value:"instructure_course_document"}):"group"===e&&n.push({text:c()("Group Documents"),value:"instructure_group_document"})
n.push({text:c()("User Documents"),value:"instructure_user_document"})
return n}function vn(t,e){switch(e){case"instructure_upload_document":t.execCommand("mceInstructureDocuments")
break
case"instructure_course_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,cn)
break
case"instructure_user_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,sn)
break
case"instructure_group_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,ln)}}a().PluginManager.add("instructure_documents",(function(t){t.addCommand("mceInstructureDocuments",(()=>un(t,document)))
t.addCommand("instructureTrayForDocuments",((e,n)=>{S.Z.showTrayForPlugin(n,t.id)}))
t.ui.registry.addNestedMenuItem("instructure_document",{text:c()("Document"),icon:"document",getSubmenuItems:()=>fn(t).map((e=>({type:"menuitem",text:e.text,onAction:()=>vn(t,e.value),onSetup:e=>{e.setDisabled(!(0,I.Fc)(t.selection.getContent()))
return()=>{}}})))})
t.ui.registry.addMenuButton("instructure_documents",{tooltip:c()("Documents"),icon:"document",fetch:e=>e(fn(t).map((e=>({type:"menuitem",text:e.text,value:e.value,onAction:()=>vn(t,e.value)})))),onSetup(e){function n(){e.setDisabled(!(0,I.Fc)(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})}))
function dn(){S.Z.activeEditor().toggleView()}a().PluginManager.add("instructure_html_view",(function(t){t.addCommand("instructureHtmlView",(()=>dn()))
t.ui.registry.addMenuItem("instructure_html_view",{text:c()("HTML Editor"),icon:"htmlview",onAction:()=>t.execCommand("instructureHtmlView"),onSetup(t){t.setDisabled(false)
return()=>{}}})}))
function mn(t,e){return n.e(96661).then(n.bind(n,96661)).then((n=>{let{Embed:r}=n
let o=e.querySelector(".canvas-rce-embed-container")
if(!o){o=e.createElement("div")
o.className="canvas-rce-embed-container"
e.body.appendChild(o)}const a=()=>{C.unmountComponentAtNode(o)
t.focus(false)}
const i=t=>{S.Z.insertEmbedCode(t)}
C.render(x.createElement(r,{onSubmit:i,onDismiss:a}),o)}))}a().PluginManager.add("instructure_media_embed",(function(t){t.addCommand("instructureMediaEmbed",(()=>mn(t,document)))
t.ui.registry.addMenuItem("instructure_media_embed",{text:c()("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})
t.ui.registry.addButton("instructure_media_embed",{tooltip:c()("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})}))
const hn="create_icon_maker_icon"
const gn="list_icon_maker_icons"
const pn="edit_icon_maker_icon"
const bn="instructure-rce-icons-tray-container"
function yn(t,e,r){return Promise.all([n.e(56398),n.e(76092),n.e(60548),n.e(53252),n.e(78810)]).then(n.bind(n,14844)).then((n=>{let{IconMakerTray:o}=n
let a=e.querySelector(`#${bn}`)
const i=S.Z.trayProps.get(t)
const u=()=>{C.unmountComponentAtNode(a)
t.focus(false)}
if(a)r===hn&&u()
else{a=e.createElement("div")
a.id=bn
e.body.appendChild(a)}C.render(x.createElement(pe.g3,i,(()=>x.createElement(o,{editor:t,editing:r===pn,onUnmount:u,canvasOrigin:S.Z.canvasOrigin}))),a)}))}const wn=t=>!!(null!==t&&void 0!==t&&t.getAttribute(ot.Bl))
const xn="inst-icon-maker-edit-alt-text"
const Cn=new tt
function Sn(t,e){kn(t,e)
Tn(t)
_n(t)}function kn(t,e){t.ui.registry.addButton(ot.Wv,{onAction:e,text:c()("Edit Icon"),tooltip:c()("Edit Existing Icon Maker Icon")})}function Tn(t){t.ui.registry.addButton(xn,{onAction:()=>{Cn.showTrayForEditor(t,true)},text:c()("Icon Options"),tooltip:c()("Edit alt text for this icon instance")})}function _n(t){t.ui.registry.addContextToolbar(ot.Nb,{items:`${ot.Wv} ${xn}`,position:"node",scope:"node",predicate:wn})}function On(){return[{text:c()("Create Icon Maker Icon"),value:"instructure_create_icon_maker"},{text:c()("Saved Icon Maker Icons"),value:"instructure_list_icon_maker"}]}function En(t,e){switch(e){case"instructure_create_icon_maker":t.focus(true)
t.execCommand("instructureTrayForIconMakerPlugin",false,hn)
break
case"instructure_list_icon_maker":t.focus(true)
t.execCommand("instructureTrayForIconMakerPlugin",false,gn)
break
case"instructure_edit_icon_maker":t.focus(true)
t.execCommand("instructureTrayForIconMakerPlugin",false,pn)}}a().PluginManager.add("instructure_icon_maker",(function(t){t.addCommand("instructureTrayForIconMakerPlugin",((e,n)=>{n===gn?S.Z.showTrayForPlugin(n,t.id):yn(t,document,n)}))
t.ui.registry.addNestedMenuItem("instructure_icon_maker",{text:c()("Icon Maker Icons"),icon:"buttons",getSubmenuItems:()=>On().map((e=>({type:"menuitem",text:e.text,onAction:()=>En(t,e.value),onSetup:e=>{e.setDisabled(!(0,I.Fc)(t.selection.getContent()))
return()=>{}}})))})
t.ui.registry.addMenuButton("instructure_icon_maker",{tooltip:c()("Icon Maker Icons"),icon:"buttons",fetch:e=>e(On().map((e=>({type:"menuitem",text:e.text,value:e.value,onAction:()=>En(t,e.value)})))),onSetup(e){function n(n){e.setDisabled(!(0,I.Fc)(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
Sn(t,(e=>{e.isDisabled()||En(t,"instructure_edit_icon_maker")}))}))
var Mn=n(54927)
a().PluginManager.add("instructure_wordcount",(function(t){t.addCommand("instructureWordcount",(()=>(0,Mn.Z)(t,document,{skipEditorFocus:false})))
t.ui.registry.addMenuItem("instructure_wordcount",{text:c()("Word Count"),icon:"character-count",onAction:()=>t.execCommand("instructureWordcount")})}))
var An=n(71871)
var zn=n(99580)
var Dn=n(34804)
var Rn=n(78267)
function In(t){const e="paste"===t.type?t.clipboardData:t.dataTransfer
if(0===(null===e||void 0===e?void 0:e.files[0].type.indexOf("image/"))&&e.types.includes("text/html")){const t=e.getData("text/html")
return Hn(t)}return false}function Hn(t){if(t){const e=new DOMParser
const n=e.parseFromString(t,"text/html")
return Array.from(n.documentElement.attributes).some((t=>/schemas[-.]microsoft[-.]com/.test(t.value)))||/<o:|class="Mso/.test(n.body.innerHTML||"")}return false}const Ln={store:null,session:null,sessionPromise:null}
function Bn(t){null===Ln.store&&(Ln.store=(0,An.Z)(t))
if(null===Ln.session)if(t.host&&t.jwt)Ln.sessionPromise=(0,zn.U)(Ln.store.dispatch,Ln.store.getState).then((()=>{Ln.session=Ln.store.getState().session})).catch((t=>{console.error("The Paste plugin failed to get canvas session data.")}))
else{Ln.session=false
Ln.sessionPromise=Promise.resolve()}return Ln.store}a().PluginManager.add("instructure_paste",(function(t){const e=Bn(S.Z.trayProps.get(t))
async function n(n){await Ln.sessionPromise
null===Ln.session&&(0,Rt.aZ)({message:c()("If Usage Rights are required, the file will not publish until enabled in the Files page."),type:"info"})
const r=Ln.session.usageRightsRequired&&/course|group/.test(S.Z.trayProps.get(t).contextType)
if(r)return nt(t,document,{accept:n.type,panels:["COMPUTER"],preselectedFile:n}).closedPromise
{const t={altText:n.name,contentType:n.type,displayAs:"embed",isDecorativeImage:false,name:n.name,parentFolderId:"media",size:n.size,domObject:n}
let r="documents";(0,Rn.Or)(n.type)?r="images":(0,Rn.Ab)(n.type)&&(r="media")
e.dispatch((0,Dn.mf)(r,t))
return"submitted"}}async function r(e){var r,o,a
const i="paste"===e.type
const u=i?e.clipboardData:e.dataTransfer
const s=Array.from((null===u||void 0===u?void 0:u.files)||[])
const l=(null===u||void 0===u?void 0:u.types)||[]
const f=null===(r=S.Z.activeEditor())||void 0===r||null===(o=r.props)||void 0===o?void 0:o.instRecordDisabled
if(!l.includes("Files"))return
if(In(e))return
e.preventDefault()
t.hasFocus()||null===(a=t.rceWrapper)||void 0===a||a.focus()
if(i&&s.some((t=>0===t.size))){(0,Rt.aZ)({message:c()("One or more files failed to paste. Please try uploading or dragging and dropping files."),type:"error"})
return}for(const t of s){if(f&&(0,Rn.Ab)(t.type))continue
await n(t)}}t.on("paste",r)
t.on("drop",r)}))
a().PluginManager.add("instructure_fullscreen",(function(t){t.addCommand("instructureFullscreen",(()=>{S.Z.activeEditor().toggleFullscreen()}))
t.ui.registry.addMenuItem("instructure_fullscreen",{text:c()("Fullscreen"),icon:"fullscreen",onAction:()=>t.execCommand("instructureFullscreen"),onSetup(t){t.setDisabled(!!document[Y.rY])
return()=>{}}})
t.ui.registry.addMenuItem("instructure_exit_fullscreen",{text:c()("Exit Fullscreen"),icon:"fullscreen_exit",onAction:()=>t.execCommand("instructureFullscreen"),onSetup(t){t.setDisabled(!document[Y.rY])
return()=>{}}})}))
const Pn=new Ce.ZP
a().PluginManager.add("instructure_studio_media_options",(function(t){t.ui.registry.addButton("studio-media-options",{onAction(){Pn.showTrayForEditor(t)},text:c()("Studio Media Options"),tooltip:c()("Show Studio media options")})
t.ui.registry.addContextToolbar("studio-media-options-toolbar",{items:"studio-media-options",position:"node",predicate:Pt.ar,scope:"node"})
t.on("BeforeObjectSelected",Pt.Yh)
t.on("remove",(t=>{Pn.hideTrayForEditor(t)}))}))
var Nn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"}
var Fn=function(t){var e=t.message,n=t["aria-live"]
return x.createElement("div",{style:Nn,role:"log","aria-live":n},e||"")}
Fn.propTypes={}
const Vn=Fn
function jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function Wn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qn=function(t){Wn(e,t)
function e(){var n,r,o
jn(this,e)
for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u]
return o=(n=(r=Un(this,t.call.apply(t,[this].concat(i))),r),r.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:false,setAlternateAssertive:false},n),Un(r,o)}e.getDerivedStateFromProps=function(t,e){var n=e.oldPolitemessage,r=e.oldPoliteMessageId,o=e.oldAssertiveMessage,a=e.oldAssertiveMessageId
var i=t.politeMessage,u=t.politeMessageId,c=t.assertiveMessage,s=t.assertiveMessageId
if(n!==i||r!==u)return{politeMessage1:e.setAlternatePolite?"":i,politeMessage2:e.setAlternatePolite?i:"",oldPolitemessage:i,oldPoliteMessageId:u,setAlternatePolite:!e.setAlternatePolite}
if(o!==c||a!==s)return{assertiveMessage1:e.setAlternateAssertive?"":c,assertiveMessage2:e.setAlternateAssertive?c:"",oldAssertiveMessage:c,oldAssertiveMessageId:s,setAlternateAssertive:!e.setAlternateAssertive}
return null}
e.prototype.render=function(){var t=this.state,e=t.assertiveMessage1,n=t.assertiveMessage2,r=t.politeMessage1,o=t.politeMessage2
return x.createElement("div",null,x.createElement(Vn,{"aria-live":"assertive",message:e}),x.createElement(Vn,{"aria-live":"assertive",message:n}),x.createElement(Vn,{"aria-live":"polite",message:r}),x.createElement(Vn,{"aria-live":"polite",message:o}))}
return e}(x.Component)
qn.propTypes={}
const Gn=qn
var $n=x.createContext({announceAssertive:Xn,announcePolite:Xn})
function Xn(){console.warn("Announcement failed, LiveAnnouncer context is missing")}const Kn=$n
function Zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function Jn(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qn=function(t){Jn(e,t)
function e(n){Zn(this,e)
var r=Yn(this,t.call(this,n))
r.announcePolite=function(t,e){r.setState({announcePoliteMessage:t,politeMessageId:e||""})}
r.announceAssertive=function(t,e){r.setState({announceAssertiveMessage:t,assertiveMessageId:e||""})}
r.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:r.announcePolite,announceAssertive:r.announceAssertive}}
return r}e.prototype.render=function(){var t=this.state,e=t.announcePoliteMessage,n=t.politeMessageId,r=t.announceAssertiveMessage,o=t.assertiveMessageId,a=t.updateFunctions
return x.createElement(Kn.Provider,{value:a},this.props.children,x.createElement(Gn,{assertiveMessage:r,assertiveMessageId:o,politeMessage:e,politeMessageId:n}))}
return e}(x.Component)
const tr=Qn
var er=n(71171)
var nr=n.n(er)
function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function ar(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e)
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})
e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ir=function(t){ar(e,t)
function e(){var n,r,o
rr(this,e)
for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u]
return o=(n=(r=or(this,t.call.apply(t,[this].concat(i))),r),r.announce=function(){var t=r.props,e=t.message,n=t["aria-live"],o=t.announceAssertive,a=t.announcePolite
"assertive"===n&&o(e||"",nr()())
"polite"===n&&a(e||"",nr()())},n),or(r,o)}e.prototype.componentDidMount=function(){this.announce()}
e.prototype.componentDidUpdate=function(t){var e=this.props.message
e!==t.message&&this.announce()}
e.prototype.componentWillUnmount=function(){var t=this.props,e=t.clearOnUnmount,n=t.announceAssertive,r=t.announcePolite
if(true===e||"true"===e){n("")
r("")}}
e.prototype.render=function(){return null}
return e}(x.Component)
ir.propTypes={}
const ur=ir
var cr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}
var sr=function(t){return x.createElement(Kn.Consumer,null,(function(e){return x.createElement(ur,cr({},e,t))}))}
sr.propTypes={}
const lr=sr
var fr=function(t){var e=t.children
return x.createElement(Kn.Consumer,null,(function(t){return e(t)}))}
fr.propTypes={}
var vr=n(86333)
var dr=n(82673)
var mr=n(3434)
var hr=n(85016)
var gr=n(94354)
var pr=n(38496)
var br=n(34651)
var yr=n(10837)
var wr=n(1958)
var xr=n(93872)
var Cr=n(47489)
var Sr=n(16590)
var kr=n.n(Sr)
var Tr=n(1150)
function _r(){const t={width:"10px",height:"10px",border:"1px solid rgba(0, 0, 0, 0.6)",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}
return x.createElement("div",{style:t})}var Or=n(31804)
function Er(t){return x.createElement("div",{"data-testid":t["data-testid"]},x.createElement("div",{style:{position:"relative",height:150,marginTop:10}},x.createElement(Tr.OQ,Object.assign({"data-testid":"a11y-color-picker-saturation"},t,{pointer:Or.ZP}))),x.createElement("div",{style:{position:"relative",height:10,marginTop:10}},x.createElement(Tr.PS,Object.assign({"data-testid":"a11y-color-picker-hue"},t,{pointer:_r}))),x.createElement("div",{style:{position:"relative",height:10,marginTop:10}},x.createElement(Tr.xV,Object.assign({"data-testid":"a11y-color-picker-alpha"},t,{pointer:_r}))))}const Mr=(0,Tr.t1)(Er)
function Ar(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}function zr(t){try{const e=t.slice(5,-1).split(",")
if(4!==e.length)throw new Error("Invalid color")
const[n,r,o,a]=e.map((t=>Number(t.trim())||0))
return{r:n,g:r,b:o,a}}catch(t){return null}}function Dr(t){return{r:Math.max(Math.min(t.r,255),0),g:Math.max(Math.min(t.g,255),0),b:Math.max(Math.min(t.b,255),0),a:Math.max(Math.min(t.a,1),0)}}class Rr extends x.Component{constructor(){super(...arguments)
this.state={textValue:this.props.value}
this.handleTextChange=t=>{const e=zr(t.target.value.trim())
const n=e?Ar(Dr(e)):this.props.value
this.setState({textValue:n})
this.props.onChange({target:{name:this.props.name,value:n}})}
this.handlePickerChange=t=>{const e=Ar(t.rgb)
this.setState({textValue:e})
this.props.onChange({target:{name:this.props.name,value:e}})}}render(){return x.createElement(Vt.G,{as:"div"},x.createElement(Le.o,{"data-testid":"color-field-text-input",label:this.props.label,value:this.state.textValue,onChange:t=>this.setState({textValue:t.target.value}),onBlur:this.handleTextChange}),x.createElement(Mr,{"data-testid":"color-field-color-picker",color:kr().parseRGBA(this.props.value),onChange:this.handlePickerChange}))}}Rr.propTypes={label:B().string.isRequired,name:B().string.isRequired,value:B().string.isRequired,onChange:B().func.isRequired}
function Ir(){return x.createElement("svg",{viewBox:"0 0 245 310",xmlns:"http://www.w3.org/2000/svg"},x.createElement("g",{fill:"none",fillRule:"evenodd"},x.createElement("path",{d:"M166.886 39.098c1.975 25.644-22.325 55.153-31.764 55.89-8.258.645-37.972-24.727-39.947-50.37C93.2 18.972 108.168 3.644 127.97 2.12 147.774.6 164.91 13.455 166.887 39.1",fill:"#E24270"}),x.createElement("path",{d:"M166.886 39.098c1.975 25.644-22.325 55.153-31.764 55.89-8.258.645-37.972-24.727-39.947-50.37C93.2 18.972 108.168 3.644 127.97 2.12 147.774.6 164.91 13.455 166.887 39.1z",stroke:"#BB0049",strokeWidth:"3"}),x.createElement("path",{d:"M136.38 99s-4.393 25.27 16.675 79.635c21.835 56.343.905 87.365.905 87.365",stroke:"#808285",strokeWidth:"2"}),x.createElement("path",{d:"M134.786 96.263l-3.607 5.22c-.618.895.493 1.963 1.373 1.322l3.045-2.215 4.22 2.174c.804.414 1.576-.6.957-1.253l-5.04-5.32c-.268-.28-.73-.246-.95.073",fill:"#E24270"}),x.createElement("path",{d:"M134.786 96.263l-3.607 5.22c-.618.895.493 1.963 1.373 1.322l3.045-2.215 4.22 2.174c.804.414 1.576-.6.957-1.253l-5.04-5.32c-.268-.28-.73-.246-.95.073z",stroke:"#BB0049",strokeWidth:"3"}),x.createElement("path",{d:"M223.18 86.916c-3.846 20.83-28.086 39.36-35.276 38.015-6.292-1.174-23.187-27.46-19.34-48.29 3.845-20.827 18.185-29.973 33.267-27.136 15.083 2.838 25.196 16.583 21.35 37.412",fill:"#F7941D"}),x.createElement("path",{d:"M223.18 86.916c-3.846 20.83-28.086 39.36-35.276 38.015-6.292-1.174-23.187-27.46-19.34-48.29 3.845-20.827 18.185-29.973 33.267-27.136 15.083 2.838 25.196 16.583 21.35 37.412z",stroke:"#F15A29",strokeWidth:"3"}),x.createElement("path",{d:"M188.264 127s11.83 8.563-1.903 44.83c-43.046 113.684 27.63 102.178-5.446 114.17",stroke:"#808285",strokeWidth:"2"}),x.createElement("path",{d:"M189.094 124.174l-2.923 3.936c-.5.674.195 1.637.86 1.19l2.3-1.54 2.786 2.126c.53.405 1.148-.353.765-.938l-3.117-4.753c-.165-.25-.49-.262-.67-.02",fill:"#F7941D"}),x.createElement("path",{d:"M189.094 124.174l-2.923 3.936c-.5.674.195 1.637.86 1.19l2.3-1.54 2.786 2.126c.53.405 1.148-.353.765-.938l-3.117-4.753c-.165-.25-.49-.262-.67-.02z",stroke:"#F15A29",strokeWidth:"2"}),x.createElement("path",{fill:"#E24270",d:"M7.366 125L0 121.366 3.634 114 11 117.634"}),x.createElement("path",{fill:"#2BB673",d:"M205.793 189L201 181.793l7.206-4.793 4.794 7.206M38.793 227L34 219.794 41.206 215 46 222.207"}),x.createElement("path",{fill:"#C739AE",d:"M241.365 119L234 115.365l3.635-7.365 7.365 3.635"}),x.createElement("path",{d:"M59.82 132.916c3.846 20.828 28.086 39.36 35.277 38.015 6.29-1.174 23.187-27.46 19.34-48.29-3.845-20.827-18.186-29.973-33.268-27.136-15.083 2.838-25.196 16.583-21.35 37.412",fill:"#27AAE1"}),x.createElement("path",{d:"M59.82 132.916c3.846 20.828 28.086 39.36 35.277 38.015 6.29-1.174 23.187-27.46 19.34-48.29-3.845-20.827-18.186-29.973-33.268-27.136-15.083 2.838-25.196 16.583-21.35 37.412z",stroke:"#1B75BC",strokeWidth:"3"}),x.createElement("path",{d:"M95.578 173s-12.91 7.878.553 38.35c22.452 50.803-11.7 39.804 2.025 97.65",stroke:"#808285",strokeWidth:"2"}),x.createElement("path",{d:"M93.906 170.174l2.923 3.936c.5.674-.195 1.637-.86 1.19l-2.3-1.54-2.786 2.126c-.53.404-1.148-.353-.765-.938l3.117-4.753c.165-.25.49-.262.67-.02",fill:"#27AAE1"}),x.createElement("path",{d:"M93.906 170.174l2.923 3.936c.5.674-.195 1.637-.86 1.19l-2.3-1.54-2.786 2.126c-.53.404-1.148-.353-.765-.938l3.117-4.753c.165-.25.49-.262.67-.02z",stroke:"#1B75BC",strokeWidth:"2"})))}function Hr(t){const e=/([^\/]*?)(\?.*)?$/
const n=e.exec(t)
return n&&n[1]}function Lr(t,e){const n=/\w+/g
const r=[]
let o
while(e>0&&(o=n.exec(t))){--e
r.push(o[0])}let a=r.join(" ")
null!=o&&n.exec(t)&&(a+="…")
return a}const Br=4
function Pr(t){if(!t||!t.tagName)return null
switch(t.tagName){case"IMG":return c()("Image with filename {file}",{file:Hr(t.src)})
case"TABLE":return c()("Table starting with {start}",{start:Lr(t.textContent,Br)})
case"A":return c()("Link with text starting with {start}",{start:Lr(t.textContent,Br)})
case"P":return c()("Paragraph starting with {start}",{start:Lr(t.textContent,Br)})
case"TH":return c()("Table header starting with {start}",{start:Lr(t.textContent,Br)})
case"H1":case"H2":case"H3":case"H4":case"H5":return c()("Heading starting with {start}",{start:Lr(t.textContent,Br)})
default:return c()("Element starting with {start}",{start:Lr(t.textContent,Br)})}}const Nr="\noutline:2px solid #2D3B45;\noutline-offset:2px;\n"
const Fr="a11y-checker-style"
function Vr(t){const e=t.getElementById(Fr)
e&&(e.textContent="")}function jr(t){const e=t.ownerDocument.body
const n=[]
let r=t
let o=r.parentElement
while(r&&o&&r!==e){var a
const t=Ur(o,r)
n.unshift(`>:nth-child(${t})`)
r=o
o=null===(a=r)||void 0===a?void 0:a.parentElement}return`body${n.join("")}`}function Ur(t,e){if(!(t&&e))return 0
const n=t.children
const r=Array.from(n).findIndex((t=>t===e))
return r+1}function Wr(t){let e=t.getElementById(Fr)
if(!e){e=t.createElement("style")
e.id=Fr
t.head.appendChild(e)}return e}function qr(t){const e=t.ownerDocument
const n=Wr(e)
const r=jr(t)
n.textContent=`${r}{${Nr}}`}const Gr=1
const $r=25
const Xr=Array.prototype.indexOf
function Kr(t,e,n){const r=[{node:t,index:0}]
const o=()=>{let t=$r
while(r.length>0&&t>0){const n=r.length-1
const o=r[n].node.childNodes[r[n].index]
if(o){r[n].index+=1
if(o.nodeType===Gr){e(o)
r.push({node:o,index:0})
t-=0}}else r.pop()}setTimeout(r.length>0?o:n,0)}
o()}function Zr(t){var e
let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qr
if(null==t)return
t.scrollIntoView(false)
null!==(e=t.ownerDocument)&&void 0!==e&&e.documentElement&&(t.ownerDocument.documentElement.scrollTop+=5)
n(t)}function Yr(t,e){t.childNodes.length>0?t.insertBefore(e,t.childNodes[0]):t.appendChild(e)}function Jr(t,e){const n=t.ownerDocument.createElement(e)
while(t.firstChild)n.appendChild(t.firstChild)
for(let e=t.attributes.length-1;e>=0;--e)n.attributes.setNamedItem(t.attributes[e].cloneNode())
t.parentNode.replaceChild(n,t)
return n}function Qr(t,e){const n=[]
let r=e
while(true){if(r==t)return n
const e=r.parentNode
if(null==e)return null
n.push(Xr.call(e.childNodes,r))
r=e}}function to(t,e){let n=t
let r
while(void 0!==(r=e.pop())){n=n.childNodes[r]
if(null==n)return null}return n}function eo(t){const e=t.getElementsByTagName("a")
return!!e.length&&e[0].textContent===t.textContent}function no(t){const e=t.split(";")
return e.reduce(((t,e)=>{const n=e.split(":")
2===n.length&&(t[n[0].trim()]=n[1].trim())
return t}),{})}function ro(t){let e=Object.keys(t).map((e=>`${e}:${t[e]}`)).join(";")
e&&(e=`${e};`)
return e}function oo(t){const e=Array.from(t.childNodes)
return e.some((t=>t.nodeType===Node.TEXT_NODE))}const ao={id:"img-alt",test:t=>{if("IMG"!==t.tagName)return true
const e=t.hasAttribute("alt")?t.getAttribute("alt"):null
return null!==e},data:t=>{const e=t.hasAttribute("alt")?t.getAttribute("alt"):null
const n=null!==e&&""===e.replace(/\s/g,"")
return{alt:e||"",decorative:n}},form:()=>[{label:c()("Add alt text for the image"),dataKey:"alt",disabledIf:t=>t.decorative},{label:c()("Decorative image"),dataKey:"decorative",checkbox:true}],update:(t,e)=>{if(e.decorative){t.setAttribute("alt","")
t.setAttribute("role","presentation")}else{t.setAttribute("alt",e.alt)
t.removeAttribute("role")}return t},message:()=>c()("Images should include an alt attribute describing the image content."),why:()=>c()("Screen readers cannot determine what is displayed in an image without alternative text, which describes the content and meaning of the image."),link:"https://www.w3.org/TR/WCAG20-TECHS/H37.html",linkText:()=>c()("Learn more about using alt text for images")}
const io=/[^\s]+(.*?).(jpg|jpeg|png|gif|svg|bmp|webp)$/i
const uo={id:"img-alt-filename",test:t=>{if("IMG"!==t.tagName)return true
const e=t.hasAttribute("alt")?t.getAttribute("alt"):null
const n=null!==e&&""===e.replace(/\s/g,"")
return!io.test(e)||n},data:t=>{const e=t.hasAttribute("alt")?t.getAttribute("alt"):null
const n=null!==e&&""===e.replace(/\s/g,"")
return{alt:e||"",decorative:n}},form:()=>[{label:c()("Change alt text"),dataKey:"alt",disabledIf:t=>t.decorative},{label:c()("Decorative image"),dataKey:"decorative",checkbox:true}],update:(t,e)=>{if(e.decorative){t.setAttribute("alt","")
t.setAttribute("role","presentation")}else{t.setAttribute("alt",e.alt)
t.removeAttribute("role")}return t},message:()=>c()("Image filenames should not be used as the alt attribute describing the image content."),why:()=>c()("Screen readers cannot determine what is displayed in an image without alternative text, and filenames are often meaningless strings of numbers and letters that do not describe the context or meaning."),link:"https://www.w3.org/TR/WCAG20-TECHS/F30.html",linkText:()=>c()("Learn more about using filenames as alt text")}
const co={id:"table-caption",test:t=>{if("TABLE"!==t.tagName)return true
const e=t.querySelector("caption")
return!!e&&""!==e.textContent.replace(/\s/g,"")},data:t=>({caption:""}),form:()=>[{label:c()("Add a caption"),dataKey:"caption"}],update:(t,e)=>{let n=t.querySelector("caption")
if(!n){n=t.ownerDocument.createElement("caption")
Yr(t,n)}n.textContent=e.caption
return t},message:()=>c()("Tables should include a caption describing the contents of the table."),why:()=>c()("Screen readers cannot interpret tables without the proper structure. Table captions describe the context and general understanding of the table."),link:"https://www.w3.org/TR/WCAG20-TECHS/H39.html",linkText:()=>c()("Learn more about using captions with tables")}
const so=Array.prototype.forEach
const lo={id:"table-header",test:t=>{if("TABLE"!==t.tagName)return true
return t.querySelector("th")},data:t=>({header:"none"}),form:()=>[{label:c()("Set table header"),dataKey:"header",options:[["none",c()("No headers")],["row",c()("Header row")],["col",c()("Header column")],["both",c()("Header row and column")]]}],update:(t,e)=>{so.call(t.querySelectorAll("th"),(t=>{Jr(t,"td")}))
if("none"===e.header)return t
const n="row"===e.header||"both"===e.header
const r="col"===e.header||"both"===e.header
const o=t.querySelectorAll("tr")
for(let t=0;t<o.length;++t){if(0===t&&n){so.call(o[t].querySelectorAll("td"),(t=>{const e=Jr(t,"th")
e.setAttribute("scope","col")}))
continue}if(!r)break
const e=o[t].querySelector("td")
if(e){const t=Jr(e,"th")
t.setAttribute("scope","row")}}return t},message:()=>c()("Tables should include at least one header."),why:()=>c()("Screen readers cannot interpret tables without the proper structure. Table headers provide direction and overview of the content."),link:"https://www.w3.org/TR/WCAG20-TECHS/H43.html",linkText:()=>c()("Learn more about table headers")}
const fo=["row","col","rowgroup","colgroup"]
const vo={id:"table-header-scope",test:t=>{if("TH"!==t.tagName)return true
return-1!==fo.indexOf(t.getAttribute("scope"))},data:t=>({scope:t.getAttribute("scope")||"none"}),form:()=>[{label:c()("Set header scope"),dataKey:"scope",options:[["none",c()("None")],["row",c()("Row")],["col",c()("Column")],["rowgroup",c()("Row group")],["colgroup",c()("Column group")]]}],update:(t,e)=>{"none"===e.header?t.removeAttribute("scope"):t.setAttribute("scope",e.scope)
return t},message:()=>c()("Tables headers should specify scope."),why:()=>c()("Screen readers cannot interpret tables without the proper structure. Table headers provide direction and content scope."),link:"https://www.w3.org/TR/WCAG20-TECHS/H63.html",linkText:()=>c()("Learn more about using scope attributes with tables")}
var mo=n(88271)
var ho=n.n(mo)
var go=n(4169)
const po={id:"small-text-contrast",test:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=true==e.disableContrastCheck
const r=!oo(t)
if(n||r||eo(t)||kr().isLargeText(t))return true
return kr()(t)},data:t=>{const e=window.getComputedStyle(t)
return{color:Ar(kr().parseRGBA(e.color)),id:(0,go.Z)()}},form:()=>[{label:c()("Change text color"),dataKey:"color",color:true}],update:(t,e)=>{t.style.color=e.color
const n=no(t.getAttribute("data-mce-style")||"")
e&&e.color&&e.color.indexOf("#")<0?n.color=`#${ho()(e.color)}`:n.color=e.color
t.setAttribute("data-mce-style",ro(n))
return t},message:()=>c()("Text smaller than 18pt (or bold 14pt) should display a minimum contrast ratio of 4.5:1."),why:()=>c()("Text is difficult to read without sufficient contrast between the text and the background, especially for those with low vision."),link:"https://www.w3.org/TR/WCAG20-TECHS/G17.html",linkText:()=>c()("Learn more about color contrast")}
const bo={id:"large-text-contrast",test:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const n=true==e.disableContrastCheck
const r=!oo(t)
if(n||r||eo(t)||!kr().isLargeText(t))return true
return kr()(t)},data:po.data,form:po.form,update:po.update,message:()=>c()("Text larger than 18pt (or bold 14pt) should display a minimum contrast ratio of 3:1."),why:()=>c()("Text is difficult to read without sufficient contrast between the text and the background, especially for those with low vision."),link:"https://www.w3.org/TR/WCAG20-TECHS/G17.html",linkText:()=>c()("Learn more about color contrast")}
const yo=(t,e)=>{if(!t||!e||"A"!==t.tagName||"A"!==e.tagName)return false
return t.getAttribute("href")===e.getAttribute("href")}
const wo=t=>t.nodeType!==Node.TEXT_NODE||t.textContent.match(/\S/)
const xo=t=>{const e=t.firstElementChild
if(!e)return null
if([...t.childNodes].filter(wo).length>1)return null
return e}
const Co=t=>{let e=t
let n=xo(e)
while(n){if("IMG"===n.tagName)return n
e=n
n=xo(e)}return null}
const So=t=>t.replace(/\s+/g," ").trim()
const ko=(t,e)=>{const n=Co(t)
const r=Co(e)
return n&&!r&&So(n.getAttribute("alt"))===So(e.textContent)?n:r&&!n&&So(r.getAttribute("alt"))===So(t.textContent)?r:null}
const To={id:"adjacent-links",test(t){if("A"!=t.tagName)return true
return!yo(t,t.nextElementSibling)},data:t=>({combine:false}),form:()=>[{label:c()("Merge links"),checkbox:true,dataKey:"combine"}],update(t,e){const n=t.parentNode
if(e.combine){const e=t.nextElementSibling
const r=ko(t,e)
r&&r.setAttribute("alt","")
n.removeChild(e)
t.innerHTML+=` ${e.innerHTML}`}return t},rootNode:t=>t.parentNode,message:()=>c()("Adjacent links with the same URL should be a single link."),why:()=>c()("Keyboards navigate to links using the Tab key. Two adjacent links that direct to the same destination can be confusing to keyboard users."),link:"https://www.w3.org/TR/WCAG20-TECHS/H2.html",linkText:()=>c()("Learn more about adjacent links")}
const _o=t=>{const e={H1:true,H2:true,H3:true,H4:true,H5:true,H6:true}
return t&&true===e[t.tagName]}
const Oo=t=>{const e=Array.prototype.slice.call(t.querySelectorAll("H1,H2,H3,H4,H5,H6"))
if(e.length>0)return e.reverse()[0]
if(_o(t))return t
return}
const Eo=t=>{const e=[]
if(!t||!t.parentElement||!t.parentElement.children)return e
const n=t.parentElement.children
for(let r=0;r<n.length;r++){if(n[r]===t)break
e.unshift(n[r])}return e}
const Mo=t=>{const e=Eo(t)
let n
for(let t=0;t<e.length;t++){n=Oo(e[t])
if(n)break}return n}
const Ao=t=>{let e
if(!t||"BODY"===t.tagName)return
if(_o(t))return t
e=Mo(t)
e||(e=Ao(t.parentElement))
return e}
const zo=t=>{let e=Mo(t)
e||(e=Ao(t.parentElement))
return e}
const Do=t=>zo(t)
const Ro=t=>{const e=+t.tagName.substring(1)
const n={}
for(let t=e-1;t<=6;t++)n[`H${t}`]=true
return n}
const Io={id:"headings-sequence",test:t=>{const e={H2:true,H3:true,H4:true,H5:true,H6:true}
if(true!==e[t.tagName])return true
const n=Ro(t)
const r=Do(t)
if(r)return n[r.tagName]
return true},data:t=>({action:"nothing"}),form:()=>[{label:c()("Action to take:"),dataKey:"action",options:[["nothing",c()("Leave as is")],["elem",c()("Fix heading hierarchy")],["modify",c()("Remove heading style")]]}],update:(t,e)=>{if(!e||!e.action||"nothing"===e.action)return t
switch(e.action){case"elem":{const e=Do(t)
const n=e?+e.tagName.substring(1):0
return Jr(t,`H${n+1}`)}case"modify":return Jr(t,"p")}},message:()=>c()("Heading levels should not be skipped."),why:()=>c()("Sighted users browse web pages quickly, looking for large or bolded headings. Screen reader users rely on headers for contextual understanding. Headers should use the proper structure."),link:"https://www.w3.org/TR/WCAG20-TECHS/G141.html",linkText:()=>c()("Learn more about organizing page headings")}
const Ho=120
const Lo={"max-alt-length":Ho,id:"img-alt-length",test:t=>{if("IMG"!==t.tagName)return true
const e=t.getAttribute("alt")
return null==e||e.length<=Ho},data:t=>{const e=t.getAttribute("alt")
return{alt:e||""}},form:()=>[{label:c()("Change alt text"),dataKey:"alt",textarea:true}],update:(t,e)=>{t.setAttribute("alt",e.alt)
return t},message:()=>c()("Alt attribute text should not contain more than 120 characters."),why:()=>c()("Screen readers cannot determine what is displayed in an image without alternative text, which describes the content and meaning of the image. Alternative text should be simple and concise."),link:""}
const Bo=120
const Po={H1:true,H2:true,H3:true,H4:true,H5:true,H6:true}
const No={"max-heading-length":Bo,id:"paragraphs-for-headings",test:t=>{if(!Po[t.tagName])return true
return t.textContent.length<=Bo},data:t=>({change:false}),form:()=>[{label:c()("Change heading tag to paragraph"),checkbox:true,dataKey:"change"}],update:(t,e)=>{let n=t
e.change&&(n=Jr(t,"p"))
return n},message:()=>c()("Headings should not contain more than 120 characters."),why:()=>c()("Sighted users browse web pages quickly, looking for large or bolded headings. Screen reader users rely on headers for contextual understanding. Headers should be concise within the proper structure."),link:""}
const Fo=["[A-Z]","[a-z]","[0-9]"].map((t=>t+"{1,4}")).join("|")
const Vo=["*","-"].map((t=>"\\"+t)).join("|")
const jo=[".",")"].map((t=>"\\"+t)).join("|")
const Uo=new RegExp(`^\\s*(?:(?:[${Vo}])|(?:(${Fo})[${jo}]))\\s+`)
const Wo=t=>"P"===t.tagName&&Uo.test(t.textContent)
const qo=t=>{if(t.nodeType===Node.TEXT_NODE){t.textContent=t.textContent.replace(Uo,"")
return true}for(const e of t.childNodes){const t=qo(e)
if(t)return true}return false}
const Go=(t,e)=>{while(t.firstChild)e.appendChild(t.firstChild)}
const $o=t=>{const e=[]
let n=t.firstChild
while(n){const t=e[e.length-1]
if("BR"===n.tagName){e.push(document.createElement("p"))
n=n.nextSibling
continue}t&&t.appendChild(n)
n=n.nextSibling}const r=t.nextSibling
e.forEach((e=>{t.parentNode.insertBefore(e,r)}))}
const Xo={id:"list-structure",test(t){const e=Wo(t)
const n=!t.previousElementSibling||!Wo(t.previousElementSibling)
return!(e&&n)},data:t=>{const e=t.textContent.match(Uo)
return{orderedStart:e[1]?e[1]:null,formatAsList:false}},form:()=>[{label:c()("Format as a list"),checkbox:true,dataKey:"formatAsList"}],update(t,e){const n=t.parentNode
if(e.formatAsList){const r=Boolean(e.orderedStart)
const o=document.createElement(r?"ol":"ul")
if(r){o.setAttribute("type",e.orderedStart)
o.setAttribute("start",e.orderedStart)}let a=t
while(a){if(!Wo(a))break
const e=Boolean(a.textContent.match(Uo)[1])
if(r!==e)break
$o(a)
const n=document.createElement("li")
o.appendChild(n)
Go(a,n)
const i=a.nextElementSibling
a!==t&&a.parentNode.removeChild(a)
a=i
qo(n)}n.replaceChild(o,t)
return o}return t},rootNode:t=>t.parentNode,message:()=>c()("Lists should be formatted as lists."),why:()=>c()("When markup is used that visually formats items as a list but does not indicate the list relationship, users may have difficulty in navigating the information."),link:"https://www.w3.org/TR/2016/NOTE-WCAG20-TECHS-20161007/H48",linkText:()=>c()("Learn more about using lists")}
const Ko={id:"headings-start-at-h2",test:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(e.disableHeadingsStartAtH2)return true
return"H1"!==t.tagName},data:t=>({action:"nothing"}),form:()=>[{label:c()("Action to take:"),dataKey:"action",options:[["nothing",c()("Leave as is")],["elem-only",c()("Change only this heading's level")],["modify",c()("Remove heading style")]]},{label:c()("Additional considerations"),alert:true,dataKey:"alert",variant:"warning",message:c()("You may need to adjust additional headings to maintain page hierarchy.")}],update:(t,e)=>{if(!e||!e.action)return t
switch(e.action){case"nothing":return t
case"elem-only":return Jr(t,"h2")
case"modify":return Jr(t,"p")}},message:()=>c()("The first heading on a page should be an H2."),why:()=>c()("Webpages should only have a single H1, which is automatically used by the page's Title. The first heading in your content should be an H2."),link:"https://www.w3.org/TR/WCAG20-TECHS/H42.html",linkText:()=>c()("Learn more about proper page heading structure")}
const Zo=[ao,uo,co,lo,vo,po,bo,To,Io,Lo,No,Xo,Ko]
function Yo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]
if(!t)return
const o=[]
const a=t=>{if(t.hasAttribute("data-ignore-a11y-check"))return
const e=Zo.concat(r)
for(const r of e)Promise.resolve(r.test(t,n)).then((e=>{e||o.push({node:t,rule:r})}))}
const i=()=>{"function"===typeof e&&e(o)}
Kr(t,a,i)}const Jo=document.exitFullscreen?"fullscreenchange":"webkitfullscreenchange"
const Qo=()=>{}
class ta extends x.Component{constructor(){super(...arguments)
this.state={open:false,checking:false,errors:[],formState:{},formStateValid:false,errorIndex:0,config:{},showWhyPopover:false}
this.onFullscreenChange=t=>{this.selectCurrent()}
this.updateFormState=t=>{let{target:e}=t
this.setState((t=>{const n={...t.formState}
"checkbox"===e.type?n[e.name]=e.checked:n[e.name]=e.value
return{formState:n,formStateValid:this.formStateValid(n)}}))}}componentDidMount(){this.props.editor.on("Remove",(t=>{this.setState({open:false},(()=>{this.props.onClose()}))}))}componentDidUpdate(t,e){e.open!==this.state.open&&(this.state.open?window.addEventListener(Jo,this.onFullscreenChange):window.removeEventListener(Jo,this.onFullscreenChange))}setConfig(t){this.setState({config:t})}check(t){"function"!==typeof t&&(t=Qo)
this.setState({open:true,checking:true,errors:[],errorIndex:0},(()=>{"function"===typeof this.state.config.beforeCheck?this.state.config.beforeCheck(this.props.editor,(()=>{this._check((()=>{"function"===typeof this.state.config.afterCheck?this.state.config.afterCheck(this.props.editor,t):t()}))})):"function"===typeof this.state.config.afterCheck?this._check((()=>{this.state.config.afterCheck(this.props.editor,t)})):this._check(t)}))}_check(t){const e=this.props.getBody()
const n=e=>{this.setState({errorIndex:0,errors:e,checking:false},(()=>{this.selectCurrent()
t()}))}
Yo(e,n,this.state.config,this.props.additionalRules)}firstError(){this.state.errors.length>0&&this.setErrorIndex(0)}nextError(){const t=(this.state.errorIndex+1)%this.state.errors.length
this.setErrorIndex(t)}prevError(){const t=this.state.errors.length
const e=(t+this.state.errorIndex-1)%t
this.setErrorIndex(e)}setErrorIndex(t){this.onLeaveError()
t>=this.state.errors.length&&(t=0)
this.setState({errorIndex:t},(()=>this.selectCurrent()))}selectCurrent(){Vr(this.props.editor.dom.doc)
const t=this.errorNode()
if(t){this.getFormState()
Zr(t)}else this.firstError()}error(){return this.state.errors[this.state.errorIndex]}errorNode(){const t=this.error()
return t&&t.node}errorRootNode(){const t=this.errorRule()
const e=t&&t.rootNode&&t.rootNode(this.errorNode())
return e||this.errorNode()}updateErrorNode(t){const e=this.error()
e&&(e.node=t)}errorRule(){const t=this.error()
return t&&t.rule}errorMessage(){const t=this.errorRule()
return t&&t.message()}getFormState(){const t=this.errorRule()
const e=this.errorNode()
t&&e&&this.setState({formState:t.data(e),formStateValid:false})}formStateValid(t){t=t||this.state.formState
let e=this.tempNode(true)
const n=this.errorRule()
if(!e||!n)return false
e=n.update(e,t)
this._tempNode===this._tempTestNode&&(this._tempNode=e)
this._tempTestNode=e
return n.test(e)}fixIssue(){const t=this.errorRule()
const e=this.errorNode()
if(t&&e){this.removeTempNode()
t.update(e,this.state.formState)
this.updateErrorNode(e)
this._closeButtonRef&&this._closeButtonRef.focus()
const n=this.state.errorIndex
this.check((()=>{this.setErrorIndex(n)
this.props.onFixError(this.state.errors)}))}}newTempRootNode(t){const e=t.cloneNode(true)
const n=Qr(t,this.errorNode())
this._tempTestNode=to(e,n)
return e}tempNode(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
if(!this._tempNode||t){const e=this.errorRootNode()
if(e){const n=this.newTempRootNode(e)
if(t&&this._tempNode){const t=this._tempNode.parentNode
t.insertBefore(n,this._tempNode)
t.removeChild(this._tempNode)}else{const t=e.parentNode
t.insertBefore(n,e)
t.removeChild(e)}this._tempNode=n}}return this._tempTestNode}removeTempNode(){const t=this.errorRootNode()
if(this._tempNode&&t){const e=this._tempNode.parentNode
e.insertBefore(t,this._tempNode)
e.removeChild(this._tempNode)
this._tempNode=null
this._tempTestNode=null}}onLeaveError(){this.removeTempNode()}handleClose(){this.onLeaveError()
Vr(this.props.editor.dom.doc)
this.setState({open:false},(()=>{this.props.onClose()}))}render(){const t=this.errorRule()
const e=c()("Issue { num }/{ total }",{num:this.state.errorIndex+1,total:this.state.errors.length})
return x.createElement(tr,null,x.createElement(j.O,{"data-mce-component":true,label:c()("Accessibility Checker"),mountNode:this.props.mountNode,open:this.state.open,onDismiss:()=>this.handleClose(),placement:"end",contentRef:t=>this.trayElement=t,size:"regular",theme:{regularWidth:"22em"}},x.createElement(V.kC,{direction:"column",height:(0,G.X)()},x.createElement(V.kC.Item,{as:"header",padding:"medium medium small"},x.createElement(V.kC,{direction:"row"},x.createElement(V.kC.Item,{shouldGrow:true,shouldShrink:true},x.createElement(F.X,{as:"h2"},c()("Accessibility Checker"))),x.createElement(V.kC.Item,null,x.createElement(P.P,{placement:"end",onClick:()=>this.handleClose(),buttonRef:t=>this._closeButtonRef=t},c()("Close Accessibility Checker"))))),x.createElement(V.kC.Item,{as:"div",padding:"0 large large"},this.state.errors.length>0&&x.createElement(Vt.G,{as:"div"},x.createElement(lr,{"aria-live":"polite",message:`\n                  ${e}\n                  ${Pr(this.errorNode())}\n                  ${this.errorMessage()}\n                `}),x.createElement(Vt.G,{as:"div",margin:"large 0 medium 0"},x.createElement(mr.rj,{vAlign:"middle",hAlign:"space-between",colSpacing:"none"},x.createElement(hr.J,null,x.createElement(gr.$,null,x.createElement(br.x,{weight:"bold"},e)),x.createElement(gr.$,{width:"auto"},x.createElement(dr.J2,{on:"click",show:this.state.showWhyPopover,shouldContainFocus:true,shouldReturnFocus:true},x.createElement(dr.J2.Trigger,null,x.createElement(N.z,{variant:"icon",icon:xr.y,onClick:()=>this.setState({showWhyPopover:true})},x.createElement(vr.c,null,c()("Why")))),x.createElement(dr.J2.Content,null,x.createElement(Vt.G,{padding:"medium",display:"block",width:"16rem"},x.createElement(P.P,{placement:"end",offset:"x-small",variant:"icon",onClick:()=>this.setState({showWhyPopover:false})},c()("Close")),x.createElement(br.x,null,x.createElement("p",null,t.why()),x.createElement("p",null,t.link&&t.link.length&&x.createElement(Cr.J,{theme:{componentOverrides:{Link:{textDecoration:"underline"}}}},x.createElement(pr.r,{href:t.link,target:"_blank"},t.linkText()))))))))))),x.createElement("form",{onSubmit:t=>{t.preventDefault()
this.fixIssue()}},x.createElement(br.x,{as:"div"},this.errorMessage()),t.form().map((t=>x.createElement(Vt.G,{as:"div",key:t.dataKey,margin:"medium 0 0"},this.renderField(t)))),x.createElement(Vt.G,{as:"div",margin:"medium 0"},x.createElement(mr.rj,{vAlign:"middle",hAlign:"space-between",colSpacing:"none"},x.createElement(hr.J,null,x.createElement(gr.$,null,x.createElement(N.z,{onClick:()=>this.prevError(),margin:"0 small 0 0","aria-label":"Previous",disabled:this.state.errors.length<2},c()("Prev")),x.createElement(N.z,{onClick:()=>this.nextError(),disabled:this.state.errors.length<2},c()("Next"))),x.createElement(gr.$,{width:"auto"},x.createElement(N.z,{type:"submit",variant:"primary",disabled:!this.state.formStateValid},c()("Apply")))))))),0===this.state.errors.length&&!this.state.checking&&x.createElement(Vt.G,null,x.createElement(br.x,null,x.createElement("p",null,c()("No accessibility issues were detected."))),x.createElement(Ir,null)),this.state.checking&&x.createElement("div",null,x.createElement(lr,{message:c()("Checking for accessibility issues"),"aria-live":"polite"}),x.createElement(mt.$,{title:c()("Checking for accessibility issues"),margin:"medium auto"}))))))}renderField(t){const e=!!t.disabledIf&&t.disabledIf(this.state.formState)
switch(true){case!!t.options:return x.createElement(wr.G,{mountNode:Y.sS,disabled:e,onChange:(e,n)=>{this.updateFormState({target:{name:t.dataKey,value:n.value}})},value:this.state.formState[t.dataKey],renderLabel:()=>t.label},t.options.map((t=>x.createElement(wr.G.Option,{key:t[0],id:t[0],value:t[0]},t[1]))))
case t.checkbox:return x.createElement(Ge.XZ,{label:t.label,name:t.dataKey,checked:this.state.formState[t.dataKey],onChange:this.updateFormState,disabled:e})
case t.color:return x.createElement(Rr,{label:t.label,name:t.dataKey,value:this.state.formState[t.dataKey]||"",onChange:this.updateFormState,key:this.state.formState.id})
case t.textarea:return x.createElement(yr.K,{label:t.label,name:t.dataKey,value:this.state.formState[t.dataKey],onChange:this.updateFormState,disabled:e})
case t.alert:return"elem-only"===this.state.formState.action&&x.createElement(dt.b,{name:t.dataKey,variant:t.variant},t.message)
default:return x.createElement(Le.o,{label:t.label,name:t.dataKey,value:this.state.formState[t.dataKey]||"",onChange:this.updateFormState,disabled:e})}}}ta.defaultProps={additionalRules:[],onFixError:Qo}
let ea=false
let na
const ra=[]
const oa=document.createElement("div")
oa.className="tinymce-a11y-checker-container"
document.body.appendChild(oa)
tinymce.create("tinymce.plugins.AccessibilityChecker",{init(t){t.addCommand("openAccessibilityChecker",(function(e,n){let{done:r,config:o,additionalRules:a,mountNode:i,onFixError:u}=n
if(!ea){C.render(x.createElement(ta,{getBody:t.getBody.bind(t),editor:t,additionalRules:a,mountNode:i,onClose:()=>ea=false,onFixError:u}),oa,(function(){na=this
o&&aa((t=>t.setConfig(o)))
ra.forEach((t=>t(na)))
na.check(r)}))
ea=true}}))
t.addCommand("checkAccessibility",(function(e,n){let{done:r,config:o,additionalRules:a}=n
Yo(t.getBody(),r,o,a)}))
t.ui.registry.addButton("check_a11y",{title:c()("Check Accessibility"),onAction:e=>t.execCommand("openAccessibilityChecker"),icon:"a11y"})}})
tinymce.PluginManager.add("a11y_checker",tinymce.plugins.AccessibilityChecker)
function aa(t){if(null!=na)return t(na)
ra.push(t)}const ia=a().ScriptLoader.add
a().ScriptLoader.add=function(t){"none"!==t&&ia.apply(a().ScriptLoader,arguments)}
r.X3(a())
const ua=a()},2293:function(t){e=function(){"use strict"
function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=/^\s+/
var n=/\s+$/
function r(t,e){t=t||""
e=e||{}
if(t instanceof r)return t
if(!(this instanceof r))return new r(t,e)
var n=o(t)
this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format
this._gradientType=e.gradientType
this._r<1&&(this._r=Math.round(this._r))
this._g<1&&(this._g=Math.round(this._g))
this._b<1&&(this._b=Math.round(this._b))
this._ok=n.ok}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb()
return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb()
var e,n,r,o,a,i
e=t.r/255
n=t.g/255
r=t.b/255
o=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)
a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)
i=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)
return.2126*o+.7152*a+.0722*i},setAlpha:function(t){this._a=E(t)
this._roundA=Math.round(100*this._a)/100
return this},toHsv:function(){var t=c(this._r,this._g,this._b)
return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b)
var e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.v)
return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=i(this._r,this._g,this._b)
return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=i(this._r,this._g,this._b)
var e=Math.round(360*t.h),n=Math.round(100*t.s),r=Math.round(100*t.l)
return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return f(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*M(this._r,255))+"%",g:Math.round(100*M(this._g,255))+"%",b:Math.round(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*M(this._r,255))+"%, "+Math.round(100*M(this._g,255))+"%, "+Math.round(100*M(this._b,255))+"%)":"rgba("+Math.round(100*M(this._r,255))+"%, "+Math.round(100*M(this._g,255))+"%, "+Math.round(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){if(0===this._a)return"transparent"
if(this._a<1)return false
return _[l(this._r,this._g,this._b,true)]||false},toFilter:function(t){var e="#"+v(this._r,this._g,this._b,this._a)
var n=e
var o=this._gradientType?"GradientType = 1, ":""
if(t){var a=r(t)
n="#"+v(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t
t=t||this._format
var n=false
var r=this._a<1&&this._a>=0
var o=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)
if(o){if("name"===t&&0===this._a)return this.toName()
return this.toRgbString()}"rgb"===t&&(n=this.toRgbString())
"prgb"===t&&(n=this.toPercentageRgbString())
"hex"!==t&&"hex6"!==t||(n=this.toHexString())
"hex3"===t&&(n=this.toHexString(true))
"hex4"===t&&(n=this.toHex8String(true))
"hex8"===t&&(n=this.toHex8String())
"name"===t&&(n=this.toName())
"hsl"===t&&(n=this.toHslString())
"hsv"===t&&(n=this.toHsvString())
return n||this.toHexString()},clone:function(){return r(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)))
this._r=n._r
this._g=n._g
this._b=n._b
this.setAlpha(n._a)
return this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(x,[3])},tetrad:function(){return this._applyCombination(x,[4])}}
r.fromRatio=function(e,n){if("object"==t(e)){var o={}
for(var a in e)e.hasOwnProperty(a)&&(o[a]="a"===a?e[a]:H(e[a]))
e=o}return r(e,n)}
function o(e){var n={r:0,g:0,b:0}
var r=1
var o=null
var i=null
var c=null
var l=false
var f=false
"string"==typeof e&&(e=q(e))
if("object"==t(e)){if(W(e.r)&&W(e.g)&&W(e.b)){n=a(e.r,e.g,e.b)
l=true
f="%"===String(e.r).substr(-1)?"prgb":"rgb"}else if(W(e.h)&&W(e.s)&&W(e.v)){o=H(e.s)
i=H(e.v)
n=s(e.h,o,i)
l=true
f="hsv"}else if(W(e.h)&&W(e.s)&&W(e.l)){o=H(e.s)
c=H(e.l)
n=u(e.h,o,c)
l=true
f="hsl"}e.hasOwnProperty("a")&&(r=e.a)}r=E(r)
return{ok:l,format:e.format||f,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function a(t,e,n){return{r:255*M(t,255),g:255*M(e,255),b:255*M(n,255)}}function i(t,e,n){t=M(t,255)
e=M(e,255)
n=M(n,255)
var r=Math.max(t,e,n),o=Math.min(t,e,n)
var a,i,u=(r+o)/2
if(r==o)a=i=0
else{var c=r-o
i=u>.5?c/(2-r-o):c/(r+o)
switch(r){case t:a=(e-n)/c+(e<n?6:0)
break
case e:a=(n-t)/c+2
break
case n:a=(t-e)/c+4}a/=6}return{h:a,s:i,l:u}}function u(t,e,n){var r,o,a
t=M(t,360)
e=M(e,100)
n=M(n,100)
function i(t,e,n){n<0&&(n+=1)
n>1&&(n-=1)
if(n<1/6)return t+6*(e-t)*n
if(n<.5)return e
if(n<2/3)return t+(e-t)*(2/3-n)*6
return t}if(0===e)r=o=a=n
else{var u=n<.5?n*(1+e):n+e-n*e
var c=2*n-u
r=i(c,u,t+1/3)
o=i(c,u,t)
a=i(c,u,t-1/3)}return{r:255*r,g:255*o,b:255*a}}function c(t,e,n){t=M(t,255)
e=M(e,255)
n=M(n,255)
var r=Math.max(t,e,n),o=Math.min(t,e,n)
var a,i,u=r
var c=r-o
i=0===r?0:c/r
if(r==o)a=0
else{switch(r){case t:a=(e-n)/c+(e<n?6:0)
break
case e:a=(n-t)/c+2
break
case n:a=(t-e)/c+4}a/=6}return{h:a,s:i,v:u}}function s(t,e,n){t=6*M(t,360)
e=M(e,100)
n=M(n,100)
var r=Math.floor(t),o=t-r,a=n*(1-e),i=n*(1-o*e),u=n*(1-(1-o)*e),c=r%6,s=[n,i,a,a,u,n][c],l=[u,n,n,i,a,a][c],f=[a,a,u,n,n,i][c]
return{r:255*s,g:255*l,b:255*f}}function l(t,e,n,r){var o=[I(Math.round(t).toString(16)),I(Math.round(e).toString(16)),I(Math.round(n).toString(16))]
if(r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)
return o.join("")}function f(t,e,n,r,o){var a=[I(Math.round(t).toString(16)),I(Math.round(e).toString(16)),I(Math.round(n).toString(16)),I(L(r))]
if(o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0)
return a.join("")}function v(t,e,n,r){var o=[I(L(r)),I(Math.round(t).toString(16)),I(Math.round(e).toString(16)),I(Math.round(n).toString(16))]
return o.join("")}r.equals=function(t,e){if(!t||!e)return false
return r(t).toRgbString()==r(e).toRgbString()}
r.random=function(){return r.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})}
function d(t,e){e=0===e?0:e||10
var n=r(t).toHsl()
n.s-=e/100
n.s=A(n.s)
return r(n)}function m(t,e){e=0===e?0:e||10
var n=r(t).toHsl()
n.s+=e/100
n.s=A(n.s)
return r(n)}function h(t){return r(t).desaturate(100)}function g(t,e){e=0===e?0:e||10
var n=r(t).toHsl()
n.l+=e/100
n.l=A(n.l)
return r(n)}function p(t,e){e=0===e?0:e||10
var n=r(t).toRgb()
n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255)))
n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255)))
n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255)))
return r(n)}function b(t,e){e=0===e?0:e||10
var n=r(t).toHsl()
n.l-=e/100
n.l=A(n.l)
return r(n)}function y(t,e){var n=r(t).toHsl()
var o=(n.h+e)%360
n.h=o<0?360+o:o
return r(n)}function w(t){var e=r(t).toHsl()
e.h=(e.h+180)%360
return r(e)}function x(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number")
var n=r(t).toHsl()
var o=[r(t)]
var a=360/e
for(var i=1;i<e;i++)o.push(r({h:(n.h+i*a)%360,s:n.s,l:n.l}))
return o}function C(t){var e=r(t).toHsl()
var n=e.h
return[r(t),r({h:(n+72)%360,s:e.s,l:e.l}),r({h:(n+216)%360,s:e.s,l:e.l})]}function S(t,e,n){e=e||6
n=n||30
var o=r(t).toHsl()
var a=360/n
var i=[r(t)]
for(o.h=(o.h-(a*e>>1)+720)%360;--e;){o.h=(o.h+a)%360
i.push(r(o))}return i}function k(t,e){e=e||6
var n=r(t).toHsv()
var o=n.h,a=n.s,i=n.v
var u=[]
var c=1/e
while(e--){u.push(r({h:o,s:a,v:i}))
i=(i+c)%1}return u}r.mix=function(t,e,n){n=0===n?0:n||50
var o=r(t).toRgb()
var a=r(e).toRgb()
var i=n/100
var u={r:(a.r-o.r)*i+o.r,g:(a.g-o.g)*i+o.g,b:(a.b-o.b)*i+o.b,a:(a.a-o.a)*i+o.a}
return r(u)}
r.readability=function(t,e){var n=r(t)
var o=r(e)
return(Math.max(n.getLuminance(),o.getLuminance())+.05)/(Math.min(n.getLuminance(),o.getLuminance())+.05)}
r.isReadable=function(t,e,n){var o=r.readability(t,e)
var a,i
i=false
a=G(n)
switch(a.level+a.size){case"AAsmall":case"AAAlarge":i=o>=4.5
break
case"AAlarge":i=o>=3
break
case"AAAsmall":i=o>=7}return i}
r.mostReadable=function(t,e,n){var o=null
var a=0
var i
var u,c,s
n=n||{}
u=n.includeFallbackColors
c=n.level
s=n.size
for(var l=0;l<e.length;l++){i=r.readability(t,e[l])
if(i>a){a=i
o=r(e[l])}}if(r.isReadable(t,o,{level:c,size:s})||!u)return o
n.includeFallbackColors=false
return r.mostReadable(t,["#fff","#000"],n)}
var T=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}
var _=r.hexNames=O(T)
function O(t){var e={}
for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n)
return e}function E(t){t=parseFloat(t);(isNaN(t)||t<0||t>1)&&(t=1)
return t}function M(t,e){D(t)&&(t="100%")
var n=R(t)
t=Math.min(e,Math.max(0,parseFloat(t)))
n&&(t=parseInt(t*e,10)/100)
if(Math.abs(t-e)<1e-6)return 1
return t%e/parseFloat(e)}function A(t){return Math.min(1,Math.max(0,t))}function z(t){return parseInt(t,16)}function D(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function R(t){return"string"===typeof t&&-1!=t.indexOf("%")}function I(t){return 1==t.length?"0"+t:""+t}function H(t){t<=1&&(t=100*t+"%")
return t}function L(t){return Math.round(255*parseFloat(t)).toString(16)}function B(t){return z(t)/255}var P=(N="[-\\+]?\\d+%?",F="[-\\+]?\\d*\\.\\d+%?",V="(?:"+F+")|(?:"+N+")",j="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",U="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+U),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/})
var N,F,V,j,U
function W(t){return!!P.CSS_UNIT.exec(t)}function q(t){t=t.replace(e,"").replace(n,"").toLowerCase()
var r=false
if(T[t]){t=T[t]
r=true}else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"}
var o
if(o=P.rgb.exec(t))return{r:o[1],g:o[2],b:o[3]}
if(o=P.rgba.exec(t))return{r:o[1],g:o[2],b:o[3],a:o[4]}
if(o=P.hsl.exec(t))return{h:o[1],s:o[2],l:o[3]}
if(o=P.hsla.exec(t))return{h:o[1],s:o[2],l:o[3],a:o[4]}
if(o=P.hsv.exec(t))return{h:o[1],s:o[2],v:o[3]}
if(o=P.hsva.exec(t))return{h:o[1],s:o[2],v:o[3],a:o[4]}
if(o=P.hex8.exec(t))return{r:z(o[1]),g:z(o[2]),b:z(o[3]),a:B(o[4]),format:r?"name":"hex8"}
if(o=P.hex6.exec(t))return{r:z(o[1]),g:z(o[2]),b:z(o[3]),format:r?"name":"hex"}
if(o=P.hex4.exec(t))return{r:z(o[1]+""+o[1]),g:z(o[2]+""+o[2]),b:z(o[3]+""+o[3]),a:B(o[4]+""+o[4]),format:r?"name":"hex8"}
if(o=P.hex3.exec(t))return{r:z(o[1]+""+o[1]),g:z(o[2]+""+o[2]),b:z(o[3]+""+o[3]),format:r?"name":"hex"}
return false}function G(t){var e,n
t=t||{level:"AA",size:"small"}
e=(t.level||"AA").toUpperCase()
n=(t.size||"small").toLowerCase()
"AA"!==e&&"AAA"!==e&&(e="AA")
"small"!==n&&"large"!==n&&(n="small")
return{level:e,size:n}}return r},t.exports=e()
var e}}])

//# sourceMappingURL=45982-c-a78422a198.js.map